import{_ as S,u as L,a as M,s as y,r as n,o as I,f as q,c as B,b as x,d,e as m,g as o,h as V,i as D,w as p,v as N,j as P,F as T,k as $,t as j,l as z,p as E,m as Q,n as U,q as A,x as G,y as H,z as J}from"./index-CPphw9ft.js";import{c as K}from"./chat-CRzAnyDg.js";const l=c=>(E("data-v-f8c7ab48"),c=c(),Q(),c),O={class:"friend-list container mt-5"},W={class:"friend-header"},X=l(()=>o("div",{class:"friend"},"친구",-1)),Y={class:"friend-buttons"},Z=l(()=>o("div",{class:"search"},[o("img",{src:U,alt:""})],-1)),ee=[Z],oe=l(()=>o("img",{src:A,alt:""},null,-1)),se=[oe],te={class:"friend-search mb-3"},ae={class:"list-group"},ne=["onClick"],le={class:"friend-item"},ce=l(()=>o("img",{src:G,alt:"프로필 이미지",class:"profile-image mr-2"},null,-1)),ie={class:"profile-nickname"},re={class:"buttons"},de=["onClick"],ue=l(()=>o("img",{src:H,alt:""},null,-1)),_e=[ue],me={__name:"FriendList",setup(c){const u=L(),v=M();y(v);const f=n(null),i=n(!1),r=n(""),h=n([]),_=n("");I(()=>{g()});const g=()=>{console.log("친구 목록 가져오기"),q(({data:e})=>{console.log("친구 목록 리스트"),console.log(e),h.value=e},e=>{console.log(e)})},C=e=>{const a={path:"/friend-profile",component:J,props:{friend:e}};u.push(a)},b=B(()=>h.value.filter(e=>e.name.toLowerCase().includes(r.value.toLowerCase()))),k=e=>{f.value=e,console.log(e);const a=n({title:e.nickname+"의 대화방",receiver:e.nickname});K(a.value,t=>{console.log(t.data);let s="채팅방 생성에 문제 발생했습니다";console.log(t.data),t.status==200?(s="채팅방 입장 완료되었습니다.",console.log(t.data),_.value=t.data.chatRoomId,console.log(_.value),alert(s),u.push({name:"chat-view",params:{roomid:_.value}})):alert(s)},t=>console.error(t))},w=()=>{u.push("/friendRequestList")},R=()=>{i.value=!i.value,i.value||(r.value="")};return(e,a)=>{const t=x("CreateRoomModal");return d(),m("div",O,[o("div",W,[X,o("div",Y,[o("button",{class:"create-chat-button btn",onClick:R},ee),o("button",{class:"create-chat-button btn",onClick:w},se),e.showModal?(d(),V(t,{key:0,onClose:e.closeCreateRoomModal,onCreate:e.createRoom},null,8,["onClose","onCreate"])):D("",!0)])]),p(o("div",te,[p(o("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>r.value=s),type:"text",class:"form-control",placeholder:"친구 검색"},null,512),[[P,r.value]])],512),[[N,i.value]]),o("ul",ae,[(d(!0),m(T,null,$(b.value,s=>(d(),m("li",{key:s.id,class:"list-group-item",onClick:F=>C(s)},[o("div",le,[ce,o("span",ie,j(s.nickname),1)]),o("div",re,[o("button",{class:"btn btn-sm",onClick:z(F=>k(s),["stop"])},_e,8,de)])],8,ne))),128))])])}}},ve=S(me,[["__scopeId","data-v-f8c7ab48"]]);export{ve as default};
