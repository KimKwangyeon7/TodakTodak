(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mu(t,e){const n=new Set(t.split(","));return e?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Xe={},Ar=[],nn=()=>{},Hb=()=>!1,Qa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ru=t=>t.startsWith("onUpdate:"),ft=Object.assign,Nu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jb=Object.prototype.hasOwnProperty,Me=(t,e)=>jb.call(t,e),ue=Array.isArray,xr=t=>wo(t)==="[object Map]",si=t=>wo(t)==="[object Set]",If=t=>wo(t)==="[object Date]",ye=t=>typeof t=="function",at=t=>typeof t=="string",$s=t=>typeof t=="symbol",We=t=>t!==null&&typeof t=="object",Qm=t=>(We(t)||ye(t))&&ye(t.then)&&ye(t.catch),Zm=Object.prototype.toString,wo=t=>Zm.call(t),Ub=t=>wo(t).slice(8,-1),Jm=t=>wo(t)==="[object Object]",Lu=t=>at(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Xo=Mu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Za=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Vb=/-(\w)/g,xn=Za(t=>t.replace(Vb,(e,n)=>n?n.toUpperCase():"")),zb=/\B([A-Z])/g,hr=Za(t=>t.replace(zb,"-$1").toLowerCase()),Ja=Za(t=>t.charAt(0).toUpperCase()+t.slice(1)),ea=Za(t=>t?`on${Ja(t)}`:""),Ps=(t,e)=>!Object.is(t,e),ta=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},fa=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Ki=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Kb=t=>{const e=at(t)?Number(t):NaN;return isNaN(e)?t:e};let Tf;const Xm=()=>Tf||(Tf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qt(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=at(s)?Zb(s):qt(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(at(t)||We(t))return t}const Gb=/;(?![^(]*\))/g,qb=/:([^]+)/,Qb=/\/\*[^]*?\*\//g;function Zb(t){const e={};return t.replace(Qb,"").split(Gb).forEach(n=>{if(n){const s=n.split(qb);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function qe(t){let e="";if(at(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const s=qe(t[n]);s&&(e+=s+" ")}else if(We(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Mi(t){if(!t)return null;let{class:e,style:n}=t;return e&&!at(e)&&(t.class=qe(e)),n&&(t.style=qt(n)),t}const Jb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xb=Mu(Jb);function ev(t){return!!t||t===""}function ew(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Yr(t[s],e[s]);return n}function Yr(t,e){if(t===e)return!0;let n=If(t),s=If(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=$s(t),s=$s(e),n||s)return t===e;if(n=ue(t),s=ue(e),n||s)return n&&s?ew(t,e):!1;if(n=We(t),s=We(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Yr(t[o],e[o]))return!1}}return String(t)===String(e)}function Fu(t,e){return t.findIndex(n=>Yr(n,e))}const ve=t=>at(t)?t:t==null?"":ue(t)||We(t)&&(t.toString===Zm||!ye(t.toString))?JSON.stringify(t,tv,2):String(t),tv=(t,e)=>e&&e.__v_isRef?tv(t,e.value):xr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[ec(s,i)+" =>"]=r,n),{})}:si(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ec(n))}:$s(e)?ec(e):We(e)&&!ue(e)&&!Jm(e)?String(e):e,ec=(t,e="")=>{var n;return $s(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kt;class nv{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Kt,!e&&Kt&&(this.index=(Kt.scopes||(Kt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Kt;try{return Kt=this,e()}finally{Kt=n}}}on(){Kt=this}off(){Kt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function sv(t){return new nv(t)}function tw(t,e=Kt){e&&e.active&&e.effects.push(t)}function rv(){return Kt}function nw(t){Kt&&Kt.cleanups.push(t)}let nr;class Yu{constructor(e,n,s,r){this.fn=e,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,tw(this,r)}get dirty(){if(this._dirtyLevel===1){pr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(sw(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),mr()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=bs,n=nr;try{return bs=!0,nr=this,this._runnings++,$f(this),this.fn()}finally{Pf(this),this._runnings--,nr=n,bs=e}}stop(){var e;this.active&&($f(this),Pf(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function sw(t){return t.value}function $f(t){t._trackId++,t._depsLength=0}function Pf(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)iv(t.deps[e],t);t.deps.length=t._depsLength}}function iv(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let bs=!0,Ac=0;const ov=[];function pr(){ov.push(bs),bs=!1}function mr(){const t=ov.pop();bs=t===void 0?!0:t}function Bu(){Ac++}function Wu(){for(Ac--;!Ac&&xc.length;)xc.shift()()}function av(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&iv(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}const xc=[];function lv(t,e,n){Bu();for(const s of t.keys())if(s._dirtyLevel<e&&t.get(s)===s._trackId){const r=s._dirtyLevel;s._dirtyLevel=e,r===0&&(s._shouldSchedule=!0,s.trigger())}cv(t),Wu()}function cv(t){for(const e of t.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&t.get(e)===e._trackId&&(e._shouldSchedule=!1,xc.push(e.scheduler))}const uv=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},ha=new WeakMap,sr=Symbol(""),Oc=Symbol("");function Ut(t,e,n){if(bs&&nr){let s=ha.get(t);s||ha.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=uv(()=>s.delete(n))),av(nr,r)}}function Un(t,e,n,s,r,i){const o=ha.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ue(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||!$s(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ue(t)?Lu(n)&&a.push(o.get("length")):(a.push(o.get(sr)),xr(t)&&a.push(o.get(Oc)));break;case"delete":ue(t)||(a.push(o.get(sr)),xr(t)&&a.push(o.get(Oc)));break;case"set":xr(t)&&a.push(o.get(sr));break}Bu();for(const l of a)l&&lv(l,2);Wu()}function rw(t,e){var n;return(n=ha.get(t))==null?void 0:n.get(e)}const iw=Mu("__proto__,__v_isRef,__isVue"),dv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($s)),kf=ow();function ow(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Oe(this);for(let i=0,o=this.length;i<o;i++)Ut(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(Oe)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pr(),Bu();const s=Oe(this)[e].apply(this,n);return Wu(),mr(),s}}),t}function aw(t){const e=Oe(this);return Ut(e,"has",t),e.hasOwnProperty(t)}class fv{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,s){const r=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?bw:vv:i?mv:pv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ue(e);if(!r){if(o&&Me(kf,n))return Reflect.get(kf,n,s);if(n==="hasOwnProperty")return aw}const a=Reflect.get(e,n,s);return($s(n)?dv.has(n):iw(n))||(r||Ut(e,"get",n),i)?a:et(a)?o&&Lu(n)?a:a.value:We(a)?r?_v(a):es(a):a}}class hv extends fv{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._shallow){const l=Br(i);if(!pa(s)&&!Br(s)&&(i=Oe(i),s=Oe(s)),!ue(e)&&et(i)&&!et(s))return l?!1:(i.value=s,!0)}const o=ue(e)&&Lu(n)?Number(n)<e.length:Me(e,n),a=Reflect.set(e,n,s,r);return e===Oe(r)&&(o?Ps(s,i)&&Un(e,"set",n,s):Un(e,"add",n,s)),a}deleteProperty(e,n){const s=Me(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Un(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!$s(n)||!dv.has(n))&&Ut(e,"has",n),s}ownKeys(e){return Ut(e,"iterate",ue(e)?"length":sr),Reflect.ownKeys(e)}}class lw extends fv{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const cw=new hv,uw=new lw,dw=new hv(!0),Hu=t=>t,Xa=t=>Reflect.getPrototypeOf(t);function Bo(t,e,n=!1,s=!1){t=t.__v_raw;const r=Oe(t),i=Oe(e);n||(Ps(e,i)&&Ut(r,"get",e),Ut(r,"get",i));const{has:o}=Xa(r),a=s?Hu:n?Vu:Gi;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Wo(t,e=!1){const n=this.__v_raw,s=Oe(n),r=Oe(t);return e||(Ps(t,r)&&Ut(s,"has",t),Ut(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Ho(t,e=!1){return t=t.__v_raw,!e&&Ut(Oe(t),"iterate",sr),Reflect.get(t,"size",t)}function Af(t){t=Oe(t);const e=Oe(this);return Xa(e).has.call(e,t)||(e.add(t),Un(e,"add",t,t)),this}function xf(t,e){e=Oe(e);const n=Oe(this),{has:s,get:r}=Xa(n);let i=s.call(n,t);i||(t=Oe(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Ps(e,o)&&Un(n,"set",t,e):Un(n,"add",t,e),this}function Of(t){const e=Oe(this),{has:n,get:s}=Xa(e);let r=n.call(e,t);r||(t=Oe(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Un(e,"delete",t,void 0),i}function Mf(){const t=Oe(this),e=t.size!==0,n=t.clear();return e&&Un(t,"clear",void 0,void 0),n}function jo(t,e){return function(s,r){const i=this,o=i.__v_raw,a=Oe(o),l=e?Hu:t?Vu:Gi;return!t&&Ut(a,"iterate",sr),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function Uo(t,e,n){return function(...s){const r=this.__v_raw,i=Oe(r),o=xr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Hu:e?Vu:Gi;return!e&&Ut(i,"iterate",l?Oc:sr),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function rs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function fw(){const t={get(i){return Bo(this,i)},get size(){return Ho(this)},has:Wo,add:Af,set:xf,delete:Of,clear:Mf,forEach:jo(!1,!1)},e={get(i){return Bo(this,i,!1,!0)},get size(){return Ho(this)},has:Wo,add:Af,set:xf,delete:Of,clear:Mf,forEach:jo(!1,!0)},n={get(i){return Bo(this,i,!0)},get size(){return Ho(this,!0)},has(i){return Wo.call(this,i,!0)},add:rs("add"),set:rs("set"),delete:rs("delete"),clear:rs("clear"),forEach:jo(!0,!1)},s={get(i){return Bo(this,i,!0,!0)},get size(){return Ho(this,!0)},has(i){return Wo.call(this,i,!0)},add:rs("add"),set:rs("set"),delete:rs("delete"),clear:rs("clear"),forEach:jo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Uo(i,!1,!1),n[i]=Uo(i,!0,!1),e[i]=Uo(i,!1,!0),s[i]=Uo(i,!0,!0)}),[t,n,e,s]}const[hw,pw,mw,vw]=fw();function ju(t,e){const n=e?t?vw:mw:t?pw:hw;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Me(n,r)&&r in s?n:s,r,i)}const gw={get:ju(!1,!1)},_w={get:ju(!1,!0)},yw={get:ju(!0,!1)},pv=new WeakMap,mv=new WeakMap,vv=new WeakMap,bw=new WeakMap;function ww(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cw(t){return t.__v_skip||!Object.isExtensible(t)?0:ww(Ub(t))}function es(t){return Br(t)?t:Uu(t,!1,cw,gw,pv)}function gv(t){return Uu(t,!1,dw,_w,mv)}function _v(t){return Uu(t,!0,uw,yw,vv)}function Uu(t,e,n,s,r){if(!We(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Cw(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function ws(t){return Br(t)?ws(t.__v_raw):!!(t&&t.__v_isReactive)}function Br(t){return!!(t&&t.__v_isReadonly)}function pa(t){return!!(t&&t.__v_isShallow)}function yv(t){return ws(t)||Br(t)}function Oe(t){const e=t&&t.__v_raw;return e?Oe(e):t}function el(t){return fa(t,"__v_skip",!0),t}const Gi=t=>We(t)?es(t):t,Vu=t=>We(t)?_v(t):t;class bv{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Yu(()=>e(this._value),()=>na(this,1),()=>this.dep&&cv(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=Oe(this);return(!e._cacheable||e.effect.dirty)&&Ps(e._value,e._value=e.effect.run())&&na(e,2),wv(e),e.effect._dirtyLevel>=1&&na(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Ew(t,e,n=!1){let s,r;const i=ye(t);return i?(s=t,r=nn):(s=t.get,r=t.set),new bv(s,r,i||!r,n)}function wv(t){bs&&nr&&(t=Oe(t),av(nr,t.dep||(t.dep=uv(()=>t.dep=void 0,t instanceof bv?t:void 0))))}function na(t,e=2,n){t=Oe(t);const s=t.dep;s&&lv(s,e)}function et(t){return!!(t&&t.__v_isRef===!0)}function Ce(t){return Cv(t,!1)}function Sw(t){return Cv(t,!0)}function Cv(t,e){return et(t)?t:new Dw(t,e)}class Dw{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Oe(e),this._value=n?e:Gi(e)}get value(){return wv(this),this._value}set value(e){const n=this.__v_isShallow||pa(e)||Br(e);e=n?e:Oe(e),Ps(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Gi(e),na(this,2))}}function N(t){return et(t)?t.value:t}const Iw={get:(t,e,n)=>N(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return et(r)&&!et(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Ev(t){return ws(t)?t:new Proxy(t,Iw)}function Sv(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=Dv(t,n);return e}class Tw{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return rw(Oe(this._object),this._key)}}class $w{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function sa(t,e,n){return et(t)?t:ye(t)?new $w(t):We(t)&&arguments.length>1?Dv(t,e,n):Ce(t)}function Dv(t,e,n){const s=t[e];return et(s)?s:new Tw(t,e,n)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Cs(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){tl(i,e,n)}return r}function an(t,e,n,s){if(ye(t)){const i=Cs(t,e,n,s);return i&&Qm(i)&&i.catch(o=>{tl(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(an(t[i],e,n,s));return r}function tl(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Cs(l,null,10,[t,o,a]);return}}Pw(t,n,r,s)}function Pw(t,e,n,s=!0){console.error(t)}let qi=!1,Mc=!1;const It=[];let Tn=0;const Or=[];let us=null,Zs=0;const Iv=Promise.resolve();let zu=null;function Wn(t){const e=zu||Iv;return t?e.then(this?t.bind(this):t):e}function kw(t){let e=Tn+1,n=It.length;for(;e<n;){const s=e+n>>>1,r=It[s],i=Qi(r);i<t||i===t&&r.pre?e=s+1:n=s}return e}function Ku(t){(!It.length||!It.includes(t,qi&&t.allowRecurse?Tn+1:Tn))&&(t.id==null?It.push(t):It.splice(kw(t.id),0,t),Tv())}function Tv(){!qi&&!Mc&&(Mc=!0,zu=Iv.then(Pv))}function Aw(t){const e=It.indexOf(t);e>Tn&&It.splice(e,1)}function xw(t){ue(t)?Or.push(...t):(!us||!us.includes(t,t.allowRecurse?Zs+1:Zs))&&Or.push(t),Tv()}function Rf(t,e,n=qi?Tn+1:0){for(;n<It.length;n++){const s=It[n];if(s&&s.pre){if(t&&s.id!==t.uid)continue;It.splice(n,1),n--,s()}}}function $v(t){if(Or.length){const e=[...new Set(Or)].sort((n,s)=>Qi(n)-Qi(s));if(Or.length=0,us){us.push(...e);return}for(us=e,Zs=0;Zs<us.length;Zs++)us[Zs]();us=null,Zs=0}}const Qi=t=>t.id==null?1/0:t.id,Ow=(t,e)=>{const n=Qi(t)-Qi(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Pv(t){Mc=!1,qi=!0,It.sort(Ow);try{for(Tn=0;Tn<It.length;Tn++){const e=It[Tn];e&&e.active!==!1&&Cs(e,null,14)}}finally{Tn=0,It.length=0,$v(),qi=!1,zu=null,(It.length||Or.length)&&Pv()}}function Mw(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Xe;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=s[u]||Xe;f&&(r=n.map(h=>at(h)?h.trim():h)),d&&(r=n.map(Ki))}let a,l=s[a=ea(e)]||s[a=ea(xn(e))];!l&&i&&(l=s[a=ea(hr(e))]),l&&an(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,an(c,t,6,r)}}function kv(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ye(t)){const l=c=>{const u=kv(c,e,!0);u&&(a=!0,ft(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(We(t)&&s.set(t,null),null):(ue(i)?i.forEach(l=>o[l]=null):ft(o,i),We(t)&&s.set(t,o),o)}function nl(t,e){return!t||!Qa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Me(t,e[0].toLowerCase()+e.slice(1))||Me(t,hr(e))||Me(t,e))}let ut=null,sl=null;function ma(t){const e=ut;return ut=t,sl=t&&t.type.__scopeId||null,e}function ht(t){sl=t}function pt(){sl=null}function Ie(t,e=ut,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Kf(-1);const i=ma(e);let o;try{o=t(...r)}finally{ma(i),s._d&&Kf(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function tc(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:v,inheritAttrs:y}=t;let w,b;const A=ma(t);try{if(n.shapeFlag&4){const P=r||s,x=P;w=In(u.call(x,P,d,i,h,f,v)),b=l}else{const P=e;w=In(P.length>1?P(i,{attrs:l,slots:a,emit:c}):P(i,null)),b=e.props?l:Rw(l)}}catch(P){Li.length=0,tl(P,t,1),w=ee(ln)}let L=w;if(b&&y!==!1){const P=Object.keys(b),{shapeFlag:x}=L;P.length&&x&7&&(o&&P.some(Ru)&&(b=Nw(b,o)),L=ks(L,b))}return n.dirs&&(L=ks(L),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&(L.transition=n.transition),w=L,ma(A),w}const Rw=t=>{let e;for(const n in t)(n==="class"||n==="style"||Qa(n))&&((e||(e={}))[n]=t[n]);return e},Nw=(t,e)=>{const n={};for(const s in t)(!Ru(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Lw(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Nf(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!nl(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Nf(s,o,c):!0:!!o;return!1}function Nf(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!nl(n,i))return!0}return!1}function Fw({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Gu="components",Yw="directives";function ct(t,e){return qu(Gu,t,!0,e)||t}const Av=Symbol.for("v-ndc");function rl(t){return at(t)?qu(Gu,t,!1)||t:t||Av}function Bw(t){return qu(Yw,t)}function qu(t,e,n=!0,s=!1){const r=ut||Ct;if(r){const i=r.type;if(t===Gu){const a=NC(i,!1);if(a&&(a===e||a===xn(e)||a===Ja(xn(e))))return i}const o=Lf(r[t]||i[t],e)||Lf(r.appContext[t],e);return!o&&s?i:o}}function Lf(t,e){return t&&(t[e]||t[xn(e)]||t[Ja(xn(e))])}const Ww=t=>t.__isSuspense;function Hw(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):xw(t)}const jw=Symbol.for("v-scx"),Uw=()=>Rt(jw);function xv(t,e){return Qu(t,null,e)}const Vo={};function lt(t,e,n){return Qu(t,e,n)}function Qu(t,e,{immediate:n,deep:s,flush:r,once:i,onTrack:o,onTrigger:a}=Xe){if(e&&i){const Y=e;e=(...V)=>{Y(...V),x()}}const l=Ct,c=Y=>s===!0?Y:Xs(Y,s===!1?1:void 0);let u,d=!1,f=!1;if(et(t)?(u=()=>t.value,d=pa(t)):ws(t)?(u=()=>c(t),d=!0):ue(t)?(f=!0,d=t.some(Y=>ws(Y)||pa(Y)),u=()=>t.map(Y=>{if(et(Y))return Y.value;if(ws(Y))return c(Y);if(ye(Y))return Cs(Y,l,2)})):ye(t)?e?u=()=>Cs(t,l,2):u=()=>(h&&h(),an(t,l,3,[v])):u=nn,e&&s){const Y=u;u=()=>Xs(Y())}let h,v=Y=>{h=L.onStop=()=>{Cs(Y,l,4),h=L.onStop=void 0}},y;if(cl)if(v=nn,e?n&&an(e,l,3,[u(),f?[]:void 0,v]):u(),r==="sync"){const Y=Uw();y=Y.__watcherHandles||(Y.__watcherHandles=[])}else return nn;let w=f?new Array(t.length).fill(Vo):Vo;const b=()=>{if(!(!L.active||!L.dirty))if(e){const Y=L.run();(s||d||(f?Y.some((V,k)=>Ps(V,w[k])):Ps(Y,w)))&&(h&&h(),an(e,l,3,[Y,w===Vo?void 0:f&&w[0]===Vo?[]:w,v]),w=Y)}else L.run()};b.allowRecurse=!!e;let A;r==="sync"?A=b:r==="post"?A=()=>Ft(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),A=()=>Ku(b));const L=new Yu(u,nn,A),P=rv(),x=()=>{L.stop(),P&&Nu(P.effects,L)};return e?n?b():w=L.run():r==="post"?Ft(L.run.bind(L),l&&l.suspense):L.run(),y&&y.push(x),x}function Vw(t,e,n){const s=this.proxy,r=at(t)?t.includes(".")?Ov(s,t):()=>s[t]:t.bind(s,s);let i;ye(e)?i=e:(i=e.handler,n=e);const o=So(this),a=Qu(r,i.bind(s),n);return o(),a}function Ov(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Xs(t,e,n=0,s){if(!We(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(s=s||new Set,s.has(t))return t;if(s.add(t),et(t))Xs(t.value,e,n,s);else if(ue(t))for(let r=0;r<t.length;r++)Xs(t[r],e,n,s);else if(si(t)||xr(t))t.forEach(r=>{Xs(r,e,n,s)});else if(Jm(t))for(const r in t)Xs(t[r],e,n,s);return t}function bt(t,e){if(ut===null)return t;const n=ul(ut)||ut.proxy,s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=Xe]=e[r];i&&(ye(i)&&(i={mounted:i,updated:i}),i.deep&&Xs(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Us(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(pr(),an(l,n,8,[t.el,a,t,e]),mr())}}const ds=Symbol("_leaveCb"),zo=Symbol("_enterCb");function zw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ri(()=>{t.isMounted=!0}),Fv(()=>{t.isUnmounting=!0}),t}const en=[Function,Array],Mv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:en,onEnter:en,onAfterEnter:en,onEnterCancelled:en,onBeforeLeave:en,onLeave:en,onAfterLeave:en,onLeaveCancelled:en,onBeforeAppear:en,onAppear:en,onAfterAppear:en,onAppearCancelled:en},Kw={name:"BaseTransition",props:Mv,setup(t,{slots:e}){const n=AC(),s=zw();let r;return()=>{const i=e.default&&Nv(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const y of i)if(y.type!==ln){o=y;break}}const a=Oe(t),{mode:l}=a;if(s.isLeaving)return nc(o);const c=Ff(o);if(!c)return nc(o);const u=Rc(c,a,s,n);Nc(c,u);const d=n.subTree,f=d&&Ff(d);let h=!1;const{getTransitionKey:v}=c.type;if(v){const y=v();r===void 0?r=y:y!==r&&(r=y,h=!0)}if(f&&f.type!==ln&&(!Js(c,f)||h)){const y=Rc(f,a,s,n);if(Nc(f,y),l==="out-in")return s.isLeaving=!0,y.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},nc(o);l==="in-out"&&c.type!==ln&&(y.delayLeave=(w,b,A)=>{const L=Rv(s,f);L[String(f.key)]=f,w[ds]=()=>{b(),w[ds]=void 0,delete u.delayedLeave},u.delayedLeave=A})}return o}}},Gw=Kw;function Rv(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Rc(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:v,onBeforeAppear:y,onAppear:w,onAfterAppear:b,onAppearCancelled:A}=e,L=String(t.key),P=Rv(n,t),x=(k,H)=>{k&&an(k,s,9,H)},Y=(k,H)=>{const Z=H[1];x(k,H),ue(k)?k.every(ie=>ie.length<=1)&&Z():k.length<=1&&Z()},V={mode:i,persisted:o,beforeEnter(k){let H=a;if(!n.isMounted)if(r)H=y||a;else return;k[ds]&&k[ds](!0);const Z=P[L];Z&&Js(t,Z)&&Z.el[ds]&&Z.el[ds](),x(H,[k])},enter(k){let H=l,Z=c,ie=u;if(!n.isMounted)if(r)H=w||l,Z=b||c,ie=A||u;else return;let T=!1;const Q=k[zo]=me=>{T||(T=!0,me?x(ie,[k]):x(Z,[k]),V.delayedLeave&&V.delayedLeave(),k[zo]=void 0)};H?Y(H,[k,Q]):Q()},leave(k,H){const Z=String(t.key);if(k[zo]&&k[zo](!0),n.isUnmounting)return H();x(d,[k]);let ie=!1;const T=k[ds]=Q=>{ie||(ie=!0,H(),Q?x(v,[k]):x(h,[k]),k[ds]=void 0,P[Z]===t&&delete P[Z])};P[Z]=t,f?Y(f,[k,T]):T()},clone(k){return Rc(k,e,n,s)}};return V}function nc(t){if(il(t))return t=ks(t),t.children=null,t}function Ff(t){return il(t)?t.children?t.children[0]:void 0:t}function Nc(t,e){t.shapeFlag&6&&t.component?Nc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Nv(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===De?(o.patchFlag&128&&r++,s=s.concat(Nv(o.children,e,a))):(e||o.type!==ln)&&s.push(a!=null?ks(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function mt(t,e){return ye(t)?ft({name:t.name},e,{setup:t}):t}const Ri=t=>!!t.type.__asyncLoader,il=t=>t.type.__isKeepAlive;function qw(t,e){Lv(t,"a",e)}function Qw(t,e){Lv(t,"da",e)}function Lv(t,e,n=Ct){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ol(e,s,n),n){let r=n.parent;for(;r&&r.parent;)il(r.parent.vnode)&&Zw(s,e,n,r),r=r.parent}}function Zw(t,e,n,s){const r=ol(e,t,s,!0);Co(()=>{Nu(s[e],r)},n)}function ol(t,e,n=Ct,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;pr();const a=So(n),l=an(e,n,t,o);return a(),mr(),l});return s?r.unshift(i):r.push(i),i}}const ts=t=>(e,n=Ct)=>(!cl||t==="sp")&&ol(t,(...s)=>e(...s),n),Jw=ts("bm"),ri=ts("m"),Xw=ts("bu"),eC=ts("u"),Fv=ts("bum"),Co=ts("um"),tC=ts("sp"),nC=ts("rtg"),sC=ts("rtc");function rC(t,e=Ct){ol("ec",t,e)}function it(t,e,n,s){let r;const i=n&&n[s];if(ue(t)||at(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(We(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function Eo(t,e,n={},s,r){if(ut.isCE||ut.parent&&Ri(ut.parent)&&ut.parent.isCE)return e!=="default"&&(n.name=e),ee("slot",n,s&&s());let i=t[e];i&&i._c&&(i._d=!1),S();const o=i&&Yv(i(n)),a=ot(De,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Yv(t){return t.some(e=>ga(e)?!(e.type===ln||e.type===De&&!Yv(e.children)):!0)?t:null}function iC(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:ea(s)]=t[s];return n}const Lc=t=>t?Zv(t)?ul(t)||t.proxy:Lc(t.parent):null,Ni=ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Lc(t.parent),$root:t=>Lc(t.root),$emit:t=>t.emit,$options:t=>Zu(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ku(t.update)}),$nextTick:t=>t.n||(t.n=Wn.bind(t.proxy)),$watch:t=>Vw.bind(t)}),sc=(t,e)=>t!==Xe&&!t.__isScriptSetup&&Me(t,e),oC={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(sc(s,e))return o[e]=1,s[e];if(r!==Xe&&Me(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Me(c,e))return o[e]=3,i[e];if(n!==Xe&&Me(n,e))return o[e]=4,n[e];Fc&&(o[e]=0)}}const u=Ni[e];let d,f;if(u)return e==="$attrs"&&Ut(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Xe&&Me(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Me(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return sc(r,e)?(r[e]=n,!0):s!==Xe&&Me(s,e)?(s[e]=n,!0):Me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Xe&&Me(t,o)||sc(e,o)||(a=i[0])&&Me(a,o)||Me(s,o)||Me(Ni,o)||Me(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Me(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Yf(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Fc=!0;function aC(t){const e=Zu(t),n=t.proxy,s=t.ctx;Fc=!1,e.beforeCreate&&Bf(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:v,activated:y,deactivated:w,beforeDestroy:b,beforeUnmount:A,destroyed:L,unmounted:P,render:x,renderTracked:Y,renderTriggered:V,errorCaptured:k,serverPrefetch:H,expose:Z,inheritAttrs:ie,components:T,directives:Q,filters:me}=e;if(c&&lC(c,s,null),o)for(const le in o){const fe=o[le];ye(fe)&&(s[le]=fe.bind(n))}if(r){const le=r.call(n,n);We(le)&&(t.data=es(le))}if(Fc=!0,i)for(const le in i){const fe=i[le],Ae=ye(fe)?fe.bind(n,n):ye(fe.get)?fe.get.bind(n,n):nn,W=!ye(fe)&&ye(fe.set)?fe.set.bind(n):nn,ge=D({get:Ae,set:W});Object.defineProperty(s,le,{enumerable:!0,configurable:!0,get:()=>ge.value,set:te=>ge.value=te})}if(a)for(const le in a)Bv(a[le],s,n,le);if(l){const le=ye(l)?l.call(n):l;Reflect.ownKeys(le).forEach(fe=>{Vn(fe,le[fe])})}u&&Bf(u,t,"c");function re(le,fe){ue(fe)?fe.forEach(Ae=>le(Ae.bind(n))):fe&&le(fe.bind(n))}if(re(Jw,d),re(ri,f),re(Xw,h),re(eC,v),re(qw,y),re(Qw,w),re(rC,k),re(sC,Y),re(nC,V),re(Fv,A),re(Co,P),re(tC,H),ue(Z))if(Z.length){const le=t.exposed||(t.exposed={});Z.forEach(fe=>{Object.defineProperty(le,fe,{get:()=>n[fe],set:Ae=>n[fe]=Ae})})}else t.exposed||(t.exposed={});x&&t.render===nn&&(t.render=x),ie!=null&&(t.inheritAttrs=ie),T&&(t.components=T),Q&&(t.directives=Q)}function lC(t,e,n=nn){ue(t)&&(t=Yc(t));for(const s in t){const r=t[s];let i;We(r)?"default"in r?i=Rt(r.from||s,r.default,!0):i=Rt(r.from||s):i=Rt(r),et(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Bf(t,e,n){an(ue(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Bv(t,e,n,s){const r=s.includes(".")?Ov(n,s):()=>n[s];if(at(t)){const i=e[t];ye(i)&&lt(r,i)}else if(ye(t))lt(r,t.bind(n));else if(We(t))if(ue(t))t.forEach(i=>Bv(i,e,n,s));else{const i=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(i)&&lt(r,i,t)}}function Zu(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>va(l,c,o,!0)),va(l,e,o)),We(e)&&i.set(e,l),l}function va(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&va(t,i,n,!0),r&&r.forEach(o=>va(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=cC[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const cC={data:Wf,props:Hf,emits:Hf,methods:Ai,computed:Ai,beforeCreate:At,created:At,beforeMount:At,mounted:At,beforeUpdate:At,updated:At,beforeDestroy:At,beforeUnmount:At,destroyed:At,unmounted:At,activated:At,deactivated:At,errorCaptured:At,serverPrefetch:At,components:Ai,directives:Ai,watch:dC,provide:Wf,inject:uC};function Wf(t,e){return e?t?function(){return ft(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function uC(t,e){return Ai(Yc(t),Yc(e))}function Yc(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function At(t,e){return t?[...new Set([].concat(t,e))]:e}function Ai(t,e){return t?ft(Object.create(null),t,e):e}function Hf(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:ft(Object.create(null),Yf(t),Yf(e??{})):e}function dC(t,e){if(!t)return e;if(!e)return t;const n=ft(Object.create(null),t);for(const s in e)n[s]=At(t[s],e[s]);return n}function Wv(){return{app:null,config:{isNativeTag:Hb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fC=0;function hC(t,e){return function(s,r=null){ye(s)||(s=ft({},s)),r!=null&&!We(r)&&(r=null);const i=Wv(),o=new WeakSet;let a=!1;const l=i.app={_uid:fC++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:FC,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&ye(c.install)?(o.add(c),c.install(l,...u)):ye(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,d){if(!a){const f=ee(s,r);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,ul(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){Zi=l;try{return c()}finally{Zi=null}}};return l}}let Zi=null;function Vn(t,e){if(Ct){let n=Ct.provides;const s=Ct.parent&&Ct.parent.provides;s===n&&(n=Ct.provides=Object.create(s)),n[t]=e}}function Rt(t,e,n=!1){const s=Ct||ut;if(s||Zi){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Zi._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ye(e)?e.call(s&&s.proxy):e}}function pC(){return!!(Ct||ut||Zi)}function mC(t,e,n,s=!1){const r={},i={};fa(i,ll,1),t.propsDefaults=Object.create(null),Hv(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:gv(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function vC(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Oe(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(nl(t.emitsOptions,f))continue;const h=e[f];if(l)if(Me(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const v=xn(f);r[v]=Bc(l,a,v,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{Hv(t,e,r,i)&&(c=!0);let u;for(const d in a)(!e||!Me(e,d)&&((u=hr(d))===d||!Me(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=Bc(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!Me(e,d))&&(delete i[d],c=!0)}c&&Un(t,"set","$attrs")}function Hv(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Xo(l))continue;const c=e[l];let u;r&&Me(r,u=xn(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:nl(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=Oe(n),c=a||Xe;for(let u=0;u<i.length;u++){const d=i[u];n[d]=Bc(r,l,d,c[d],t,!Me(c,d))}}return o}function Bc(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Me(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ye(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=So(r);s=c[n]=l.call(null,e),u()}}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===hr(n))&&(s=!0))}return s}function jv(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!ye(t)){const u=d=>{l=!0;const[f,h]=jv(d,e,!0);ft(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return We(t)&&s.set(t,Ar),Ar;if(ue(i))for(let u=0;u<i.length;u++){const d=xn(i[u]);jf(d)&&(o[d]=Xe)}else if(i)for(const u in i){const d=xn(u);if(jf(d)){const f=i[u],h=o[d]=ue(f)||ye(f)?{type:f}:ft({},f);if(h){const v=zf(Boolean,h.type),y=zf(String,h.type);h[0]=v>-1,h[1]=y<0||v<y,(v>-1||Me(h,"default"))&&a.push(d)}}}const c=[o,a];return We(t)&&s.set(t,c),c}function jf(t){return t[0]!=="$"}function Uf(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Vf(t,e){return Uf(t)===Uf(e)}function zf(t,e){return ue(e)?e.findIndex(n=>Vf(n,t)):ye(e)&&Vf(e,t)?0:-1}const Uv=t=>t[0]==="_"||t==="$stable",Ju=t=>ue(t)?t.map(In):[In(t)],gC=(t,e,n)=>{if(e._n)return e;const s=Ie((...r)=>Ju(e(...r)),n);return s._c=!1,s},Vv=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Uv(r))continue;const i=t[r];if(ye(i))e[r]=gC(r,i,s);else if(i!=null){const o=Ju(i);e[r]=()=>o}}},zv=(t,e)=>{const n=Ju(e);t.slots.default=()=>n},_C=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Oe(e),fa(e,"_",n)):Vv(e,t.slots={})}else t.slots={},e&&zv(t,e);fa(t.slots,ll,1)},yC=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Xe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(ft(r,e),!n&&a===1&&delete r._):(i=!e.$stable,Vv(e,r)),o=e}else e&&(zv(t,e),o={default:1});if(i)for(const a in r)!Uv(a)&&o[a]==null&&delete r[a]};function Wc(t,e,n,s,r=!1){if(ue(t)){t.forEach((f,h)=>Wc(f,e&&(ue(e)?e[h]:e),n,s,r));return}if(Ri(s)&&!r)return;const i=s.shapeFlag&4?ul(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Xe?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(at(c)?(u[c]=null,Me(d,c)&&(d[c]=null)):et(c)&&(c.value=null)),ye(l))Cs(l,a,12,[o,u]);else{const f=at(l),h=et(l),v=t.f;if(f||h){const y=()=>{if(v){const w=f?Me(d,l)?d[l]:u[l]:l.value;r?ue(w)&&Nu(w,i):ue(w)?w.includes(i)||w.push(i):f?(u[l]=[i],Me(d,l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,Me(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};r||v?y():(y.id=-1,Ft(y,n))}}}const Ft=Hw;function bC(t){return wC(t)}function wC(t,e){const n=Xm();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=nn,insertStaticContent:v}=t,y=(m,_,C,$=null,I=null,j=null,q=void 0,B=null,z=!!_.dynamicChildren)=>{if(m===_)return;m&&!Js(m,_)&&($=E(m),te(m,I,j,!0),m=null),_.patchFlag===-2&&(z=!1,_.dynamicChildren=null);const{type:F,ref:J,shapeFlag:ae}=_;switch(F){case al:w(m,_,C,$);break;case ln:b(m,_,C,$);break;case ra:m==null&&A(_,C,$,q);break;case De:T(m,_,C,$,I,j,q,B,z);break;default:ae&1?x(m,_,C,$,I,j,q,B,z):ae&6?Q(m,_,C,$,I,j,q,B,z):(ae&64||ae&128)&&F.process(m,_,C,$,I,j,q,B,z,se)}J!=null&&I&&Wc(J,m&&m.ref,j,_||m,!_)},w=(m,_,C,$)=>{if(m==null)s(_.el=a(_.children),C,$);else{const I=_.el=m.el;_.children!==m.children&&c(I,_.children)}},b=(m,_,C,$)=>{m==null?s(_.el=l(_.children||""),C,$):_.el=m.el},A=(m,_,C,$)=>{[m.el,m.anchor]=v(m.children,_,C,$,m.el,m.anchor)},L=({el:m,anchor:_},C,$)=>{let I;for(;m&&m!==_;)I=f(m),s(m,C,$),m=I;s(_,C,$)},P=({el:m,anchor:_})=>{let C;for(;m&&m!==_;)C=f(m),r(m),m=C;r(_)},x=(m,_,C,$,I,j,q,B,z)=>{_.type==="svg"?q="svg":_.type==="math"&&(q="mathml"),m==null?Y(_,C,$,I,j,q,B,z):H(m,_,I,j,q,B,z)},Y=(m,_,C,$,I,j,q,B)=>{let z,F;const{props:J,shapeFlag:ae,transition:oe,dirs:de}=m;if(z=m.el=o(m.type,j,J&&J.is,J),ae&8?u(z,m.children):ae&16&&k(m.children,z,null,$,I,rc(m,j),q,B),de&&Us(m,null,$,"created"),V(z,m,m.scopeId,q,$),J){for(const ke in J)ke!=="value"&&!Xo(ke)&&i(z,ke,null,J[ke],j,m.children,$,I,xe);"value"in J&&i(z,"value",null,J.value,j),(F=J.onVnodeBeforeMount)&&Dn(F,$,m)}de&&Us(m,null,$,"beforeMount");const _e=CC(I,oe);_e&&oe.beforeEnter(z),s(z,_,C),((F=J&&J.onVnodeMounted)||_e||de)&&Ft(()=>{F&&Dn(F,$,m),_e&&oe.enter(z),de&&Us(m,null,$,"mounted")},I)},V=(m,_,C,$,I)=>{if(C&&h(m,C),$)for(let j=0;j<$.length;j++)h(m,$[j]);if(I){let j=I.subTree;if(_===j){const q=I.vnode;V(m,q,q.scopeId,q.slotScopeIds,I.parent)}}},k=(m,_,C,$,I,j,q,B,z=0)=>{for(let F=z;F<m.length;F++){const J=m[F]=B?fs(m[F]):In(m[F]);y(null,J,_,C,$,I,j,q,B)}},H=(m,_,C,$,I,j,q)=>{const B=_.el=m.el;let{patchFlag:z,dynamicChildren:F,dirs:J}=_;z|=m.patchFlag&16;const ae=m.props||Xe,oe=_.props||Xe;let de;if(C&&Vs(C,!1),(de=oe.onVnodeBeforeUpdate)&&Dn(de,C,_,m),J&&Us(_,m,C,"beforeUpdate"),C&&Vs(C,!0),F?Z(m.dynamicChildren,F,B,C,$,rc(_,I),j):q||fe(m,_,B,null,C,$,rc(_,I),j,!1),z>0){if(z&16)ie(B,_,ae,oe,C,$,I);else if(z&2&&ae.class!==oe.class&&i(B,"class",null,oe.class,I),z&4&&i(B,"style",ae.style,oe.style,I),z&8){const _e=_.dynamicProps;for(let ke=0;ke<_e.length;ke++){const Fe=_e[ke],tt=ae[Fe],Pt=oe[Fe];(Pt!==tt||Fe==="value")&&i(B,Fe,tt,Pt,I,m.children,C,$,xe)}}z&1&&m.children!==_.children&&u(B,_.children)}else!q&&F==null&&ie(B,_,ae,oe,C,$,I);((de=oe.onVnodeUpdated)||J)&&Ft(()=>{de&&Dn(de,C,_,m),J&&Us(_,m,C,"updated")},$)},Z=(m,_,C,$,I,j,q)=>{for(let B=0;B<_.length;B++){const z=m[B],F=_[B],J=z.el&&(z.type===De||!Js(z,F)||z.shapeFlag&70)?d(z.el):C;y(z,F,J,null,$,I,j,q,!0)}},ie=(m,_,C,$,I,j,q)=>{if(C!==$){if(C!==Xe)for(const B in C)!Xo(B)&&!(B in $)&&i(m,B,C[B],null,q,_.children,I,j,xe);for(const B in $){if(Xo(B))continue;const z=$[B],F=C[B];z!==F&&B!=="value"&&i(m,B,F,z,q,_.children,I,j,xe)}"value"in $&&i(m,"value",C.value,$.value,q)}},T=(m,_,C,$,I,j,q,B,z)=>{const F=_.el=m?m.el:a(""),J=_.anchor=m?m.anchor:a("");let{patchFlag:ae,dynamicChildren:oe,slotScopeIds:de}=_;de&&(B=B?B.concat(de):de),m==null?(s(F,C,$),s(J,C,$),k(_.children||[],C,J,I,j,q,B,z)):ae>0&&ae&64&&oe&&m.dynamicChildren?(Z(m.dynamicChildren,oe,C,I,j,q,B),(_.key!=null||I&&_===I.subTree)&&Kv(m,_,!0)):fe(m,_,C,J,I,j,q,B,z)},Q=(m,_,C,$,I,j,q,B,z)=>{_.slotScopeIds=B,m==null?_.shapeFlag&512?I.ctx.activate(_,C,$,q,z):me(_,C,$,I,j,q,z):ne(m,_,z)},me=(m,_,C,$,I,j,q)=>{const B=m.component=kC(m,$,I);if(il(m)&&(B.ctx.renderer=se),xC(B),B.asyncDep){if(I&&I.registerDep(B,re),!m.el){const z=B.subTree=ee(ln);b(null,z,_,C)}}else re(B,m,_,C,I,j,q)},ne=(m,_,C)=>{const $=_.component=m.component;if(Lw(m,_,C))if($.asyncDep&&!$.asyncResolved){le($,_,C);return}else $.next=_,Aw($.update),$.effect.dirty=!0,$.update();else _.el=m.el,$.vnode=_},re=(m,_,C,$,I,j,q)=>{const B=()=>{if(m.isMounted){let{next:J,bu:ae,u:oe,parent:de,vnode:_e}=m;{const pn=Gv(m);if(pn){J&&(J.el=_e.el,le(m,J,q)),pn.asyncDep.then(()=>{m.isUnmounted||B()});return}}let ke=J,Fe;Vs(m,!1),J?(J.el=_e.el,le(m,J,q)):J=_e,ae&&ta(ae),(Fe=J.props&&J.props.onVnodeBeforeUpdate)&&Dn(Fe,de,J,_e),Vs(m,!0);const tt=tc(m),Pt=m.subTree;m.subTree=tt,y(Pt,tt,d(Pt.el),E(Pt),m,I,j),J.el=tt.el,ke===null&&Fw(m,tt.el),oe&&Ft(oe,I),(Fe=J.props&&J.props.onVnodeUpdated)&&Ft(()=>Dn(Fe,de,J,_e),I)}else{let J;const{el:ae,props:oe}=_,{bm:de,m:_e,parent:ke}=m,Fe=Ri(_);if(Vs(m,!1),de&&ta(de),!Fe&&(J=oe&&oe.onVnodeBeforeMount)&&Dn(J,ke,_),Vs(m,!0),ae&&Pe){const tt=()=>{m.subTree=tc(m),Pe(ae,m.subTree,m,I,null)};Fe?_.type.__asyncLoader().then(()=>!m.isUnmounted&&tt()):tt()}else{const tt=m.subTree=tc(m);y(null,tt,C,$,m,I,j),_.el=tt.el}if(_e&&Ft(_e,I),!Fe&&(J=oe&&oe.onVnodeMounted)){const tt=_;Ft(()=>Dn(J,ke,tt),I)}(_.shapeFlag&256||ke&&Ri(ke.vnode)&&ke.vnode.shapeFlag&256)&&m.a&&Ft(m.a,I),m.isMounted=!0,_=C=$=null}},z=m.effect=new Yu(B,nn,()=>Ku(F),m.scope),F=m.update=()=>{z.dirty&&z.run()};F.id=m.uid,Vs(m,!0),F()},le=(m,_,C)=>{_.component=m;const $=m.vnode.props;m.vnode=_,m.next=null,vC(m,_.props,$,C),yC(m,_.children,C),pr(),Rf(m),mr()},fe=(m,_,C,$,I,j,q,B,z=!1)=>{const F=m&&m.children,J=m?m.shapeFlag:0,ae=_.children,{patchFlag:oe,shapeFlag:de}=_;if(oe>0){if(oe&128){W(F,ae,C,$,I,j,q,B,z);return}else if(oe&256){Ae(F,ae,C,$,I,j,q,B,z);return}}de&8?(J&16&&xe(F,I,j),ae!==F&&u(C,ae)):J&16?de&16?W(F,ae,C,$,I,j,q,B,z):xe(F,I,j,!0):(J&8&&u(C,""),de&16&&k(ae,C,$,I,j,q,B,z))},Ae=(m,_,C,$,I,j,q,B,z)=>{m=m||Ar,_=_||Ar;const F=m.length,J=_.length,ae=Math.min(F,J);let oe;for(oe=0;oe<ae;oe++){const de=_[oe]=z?fs(_[oe]):In(_[oe]);y(m[oe],de,C,null,I,j,q,B,z)}F>J?xe(m,I,j,!0,!1,ae):k(_,C,$,I,j,q,B,z,ae)},W=(m,_,C,$,I,j,q,B,z)=>{let F=0;const J=_.length;let ae=m.length-1,oe=J-1;for(;F<=ae&&F<=oe;){const de=m[F],_e=_[F]=z?fs(_[F]):In(_[F]);if(Js(de,_e))y(de,_e,C,null,I,j,q,B,z);else break;F++}for(;F<=ae&&F<=oe;){const de=m[ae],_e=_[oe]=z?fs(_[oe]):In(_[oe]);if(Js(de,_e))y(de,_e,C,null,I,j,q,B,z);else break;ae--,oe--}if(F>ae){if(F<=oe){const de=oe+1,_e=de<J?_[de].el:$;for(;F<=oe;)y(null,_[F]=z?fs(_[F]):In(_[F]),C,_e,I,j,q,B,z),F++}}else if(F>oe)for(;F<=ae;)te(m[F],I,j,!0),F++;else{const de=F,_e=F,ke=new Map;for(F=_e;F<=oe;F++){const vt=_[F]=z?fs(_[F]):In(_[F]);vt.key!=null&&ke.set(vt.key,F)}let Fe,tt=0;const Pt=oe-_e+1;let pn=!1,Hs=0;const Yn=new Array(Pt);for(F=0;F<Pt;F++)Yn[F]=0;for(F=de;F<=ae;F++){const vt=m[F];if(tt>=Pt){te(vt,I,j,!0);continue}let M;if(vt.key!=null)M=ke.get(vt.key);else for(Fe=_e;Fe<=oe;Fe++)if(Yn[Fe-_e]===0&&Js(vt,_[Fe])){M=Fe;break}M===void 0?te(vt,I,j,!0):(Yn[M-_e]=F+1,M>=Hs?Hs=M:pn=!0,y(vt,_[M],C,null,I,j,q,B,z),tt++)}const js=pn?EC(Yn):Ar;for(Fe=js.length-1,F=Pt-1;F>=0;F--){const vt=_e+F,M=_[vt],g=vt+1<J?_[vt+1].el:$;Yn[F]===0?y(null,M,C,g,I,j,q,B,z):pn&&(Fe<0||F!==js[Fe]?ge(M,C,g,2):Fe--)}}},ge=(m,_,C,$,I=null)=>{const{el:j,type:q,transition:B,children:z,shapeFlag:F}=m;if(F&6){ge(m.component.subTree,_,C,$);return}if(F&128){m.suspense.move(_,C,$);return}if(F&64){q.move(m,_,C,se);return}if(q===De){s(j,_,C);for(let ae=0;ae<z.length;ae++)ge(z[ae],_,C,$);s(m.anchor,_,C);return}if(q===ra){L(m,_,C);return}if($!==2&&F&1&&B)if($===0)B.beforeEnter(j),s(j,_,C),Ft(()=>B.enter(j),I);else{const{leave:ae,delayLeave:oe,afterLeave:de}=B,_e=()=>s(j,_,C),ke=()=>{ae(j,()=>{_e(),de&&de()})};oe?oe(j,_e,ke):ke()}else s(j,_,C)},te=(m,_,C,$=!1,I=!1)=>{const{type:j,props:q,ref:B,children:z,dynamicChildren:F,shapeFlag:J,patchFlag:ae,dirs:oe}=m;if(B!=null&&Wc(B,null,C,m,!0),J&256){_.ctx.deactivate(m);return}const de=J&1&&oe,_e=!Ri(m);let ke;if(_e&&(ke=q&&q.onVnodeBeforeUnmount)&&Dn(ke,_,m),J&6)Ze(m.component,C,$);else{if(J&128){m.suspense.unmount(C,$);return}de&&Us(m,null,_,"beforeUnmount"),J&64?m.type.remove(m,_,C,I,se,$):F&&(j!==De||ae>0&&ae&64)?xe(F,_,C,!1,!0):(j===De&&ae&384||!I&&J&16)&&xe(z,_,C),$&&je(m)}(_e&&(ke=q&&q.onVnodeUnmounted)||de)&&Ft(()=>{ke&&Dn(ke,_,m),de&&Us(m,null,_,"unmounted")},C)},je=m=>{const{type:_,el:C,anchor:$,transition:I}=m;if(_===De){$e(C,$);return}if(_===ra){P(m);return}const j=()=>{r(C),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(m.shapeFlag&1&&I&&!I.persisted){const{leave:q,delayLeave:B}=I,z=()=>q(C,j);B?B(m.el,j,z):z()}else j()},$e=(m,_)=>{let C;for(;m!==_;)C=f(m),r(m),m=C;r(_)},Ze=(m,_,C)=>{const{bum:$,scope:I,update:j,subTree:q,um:B}=m;$&&ta($),I.stop(),j&&(j.active=!1,te(q,m,_,C)),B&&Ft(B,_),Ft(()=>{m.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},xe=(m,_,C,$=!1,I=!1,j=0)=>{for(let q=j;q<m.length;q++)te(m[q],_,C,$,I)},E=m=>m.shapeFlag&6?E(m.component.subTree):m.shapeFlag&128?m.suspense.next():f(m.anchor||m.el);let G=!1;const K=(m,_,C)=>{m==null?_._vnode&&te(_._vnode,null,null,!0):y(_._vnode||null,m,_,null,null,null,C),G||(G=!0,Rf(),$v(),G=!1),_._vnode=m},se={p:y,um:te,m:ge,r:je,mt:me,mc:k,pc:fe,pbc:Z,n:E,o:t};let be,Pe;return e&&([be,Pe]=e(se)),{render:K,hydrate:be,createApp:hC(K,be)}}function rc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Vs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function CC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Kv(t,e,n=!1){const s=t.children,r=e.children;if(ue(s)&&ue(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=fs(r[i]),a.el=o.el),n||Kv(o,a)),a.type===al&&(a.el=o.el)}}function EC(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Gv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Gv(e)}const SC=t=>t.__isTeleport,De=Symbol.for("v-fgt"),al=Symbol.for("v-txt"),ln=Symbol.for("v-cmt"),ra=Symbol.for("v-stc"),Li=[];let vn=null;function S(t=!1){Li.push(vn=t?null:[])}function DC(){Li.pop(),vn=Li[Li.length-1]||null}let Ji=1;function Kf(t){Ji+=t}function qv(t){return t.dynamicChildren=Ji>0?vn||Ar:null,DC(),Ji>0&&vn&&vn.push(t),t}function O(t,e,n,s,r,i){return qv(p(t,e,n,s,r,i,!0))}function ot(t,e,n,s,r){return qv(ee(t,e,n,s,r,!0))}function ga(t){return t?t.__v_isVNode===!0:!1}function Js(t,e){return t.type===e.type&&t.key===e.key}const ll="__vInternal",Qv=({key:t})=>t??null,ia=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?at(t)||et(t)||ye(t)?{i:ut,r:t,k:e,f:!!n}:t:null);function p(t,e=null,n=null,s=0,r=null,i=t===De?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Qv(e),ref:e&&ia(e),scopeId:sl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ut};return a?(Xu(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=at(n)?8:16),Ji>0&&!o&&vn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&vn.push(l),l}const ee=IC;function IC(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Av)&&(t=ln),ga(t)){const a=ks(t,e,!0);return n&&Xu(a,n),Ji>0&&!i&&vn&&(a.shapeFlag&6?vn[vn.indexOf(t)]=a:vn.push(a)),a.patchFlag|=-2,a}if(LC(t)&&(t=t.__vccOpts),e){e=_a(e);let{class:a,style:l}=e;a&&!at(a)&&(e.class=qe(a)),We(l)&&(yv(l)&&!ue(l)&&(l=ft({},l)),e.style=qt(l))}const o=at(t)?1:Ww(t)?128:SC(t)?64:We(t)?4:ye(t)?2:0;return p(t,e,n,s,r,o,i,!0)}function _a(t){return t?yv(t)||ll in t?ft({},t):t:null}function ks(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?vr(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Qv(a),ref:e&&e.ref?n&&r?ue(r)?r.concat(ia(e)):[r,ia(e)]:ia(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==De?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ks(t.ssContent),ssFallback:t.ssFallback&&ks(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ue(t=" ",e=0){return ee(al,null,t,e)}function TC(t,e){const n=ee(ra,null,t);return n.staticCount=e,n}function Be(t="",e=!1){return e?(S(),ot(ln,null,t)):ee(ln,null,t)}function In(t){return t==null||typeof t=="boolean"?ee(ln):ue(t)?ee(De,null,t.slice()):typeof t=="object"?fs(t):ee(al,null,String(t))}function fs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ks(t)}function Xu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Xu(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(ll in e)?e._ctx=ut:r===3&&ut&&(ut.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:ut},n=32):(e=String(e),s&64?(n=16,e=[Ue(e)]):n=8);t.children=e,t.shapeFlag|=n}function vr(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=qe([e.class,s.class]));else if(r==="style")e.style=qt([e.style,s.style]);else if(Qa(r)){const i=e[r],o=s[r];o&&i!==o&&!(ue(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Dn(t,e,n,s=null){an(t,e,7,[n,s])}const $C=Wv();let PC=0;function kC(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||$C,i={uid:PC++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new nv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jv(s,r),emitsOptions:kv(s,r),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:s.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Mw.bind(null,i),t.ce&&t.ce(i),i}let Ct=null;const AC=()=>Ct||ut;let ya,Hc;{const t=Xm(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};ya=e("__VUE_INSTANCE_SETTERS__",n=>Ct=n),Hc=e("__VUE_SSR_SETTERS__",n=>cl=n)}const So=t=>{const e=Ct;return ya(t),t.scope.on(),()=>{t.scope.off(),ya(e)}},Gf=()=>{Ct&&Ct.scope.off(),ya(null)};function Zv(t){return t.vnode.shapeFlag&4}let cl=!1;function xC(t,e=!1){e&&Hc(e);const{props:n,children:s}=t.vnode,r=Zv(t);mC(t,n,r,e),_C(t,s);const i=r?OC(t,e):void 0;return e&&Hc(!1),i}function OC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=el(new Proxy(t.ctx,oC));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?RC(t):null,i=So(t);pr();const o=Cs(s,t,0,[t.props,r]);if(mr(),i(),Qm(o)){if(o.then(Gf,Gf),e)return o.then(a=>{qf(t,a,e)}).catch(a=>{tl(a,t,0)});t.asyncDep=o}else qf(t,o,e)}else Jv(t,e)}function qf(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:We(e)&&(t.setupState=Ev(e)),Jv(t,n)}let Qf;function Jv(t,e,n){const s=t.type;if(!t.render){if(!e&&Qf&&!s.render){const r=s.template||Zu(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=ft(ft({isCustomElement:i,delimiters:a},o),l);s.render=Qf(r,c)}}t.render=s.render||nn}{const r=So(t);pr();try{aC(t)}finally{mr(),r()}}}function MC(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ut(t,"get","$attrs"),e[n]}}))}function RC(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return MC(t)},slots:t.slots,emit:t.emit,expose:e}}function ul(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ev(el(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ni)return Ni[n](t)},has(e,n){return n in e||n in Ni}}))}function NC(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function LC(t){return ye(t)&&"__vccOpts"in t}const D=(t,e)=>Ew(t,e,cl);function ed(t,e,n){const s=arguments.length;return s===2?We(e)&&!ue(e)?ga(e)?ee(t,null,[e]):ee(t,e):ee(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ga(n)&&(n=[n]),ee(t,e,n))}const FC="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const YC="http://www.w3.org/2000/svg",BC="http://www.w3.org/1998/Math/MathML",hs=typeof document<"u"?document:null,Zf=hs&&hs.createElement("template"),WC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?hs.createElementNS(YC,t):e==="mathml"?hs.createElementNS(BC,t):hs.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>hs.createTextNode(t),createComment:t=>hs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Zf.innerHTML=s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t;const a=Zf.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},is="transition",wi="animation",Xi=Symbol("_vtc"),dl=(t,{slots:e})=>ed(Gw,HC(t),e);dl.displayName="Transition";const Xv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};dl.props=ft({},Mv,Xv);const zs=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},Jf=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function HC(t){const e={};for(const T in t)T in Xv||(e[T]=t[T]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,v=jC(r),y=v&&v[0],w=v&&v[1],{onBeforeEnter:b,onEnter:A,onEnterCancelled:L,onLeave:P,onLeaveCancelled:x,onBeforeAppear:Y=b,onAppear:V=A,onAppearCancelled:k=L}=e,H=(T,Q,me)=>{Ks(T,Q?u:a),Ks(T,Q?c:o),me&&me()},Z=(T,Q)=>{T._isLeaving=!1,Ks(T,d),Ks(T,h),Ks(T,f),Q&&Q()},ie=T=>(Q,me)=>{const ne=T?V:A,re=()=>H(Q,T,me);zs(ne,[Q,re]),Xf(()=>{Ks(Q,T?l:i),os(Q,T?u:a),Jf(ne)||eh(Q,s,y,re)})};return ft(e,{onBeforeEnter(T){zs(b,[T]),os(T,i),os(T,o)},onBeforeAppear(T){zs(Y,[T]),os(T,l),os(T,c)},onEnter:ie(!1),onAppear:ie(!0),onLeave(T,Q){T._isLeaving=!0;const me=()=>Z(T,Q);os(T,d),zC(),os(T,f),Xf(()=>{T._isLeaving&&(Ks(T,d),os(T,h),Jf(P)||eh(T,s,w,me))}),zs(P,[T,me])},onEnterCancelled(T){H(T,!1),zs(L,[T])},onAppearCancelled(T){H(T,!0),zs(k,[T])},onLeaveCancelled(T){Z(T),zs(x,[T])}})}function jC(t){if(t==null)return null;if(We(t))return[ic(t.enter),ic(t.leave)];{const e=ic(t);return[e,e]}}function ic(t){return Kb(t)}function os(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Xi]||(t[Xi]=new Set)).add(e)}function Ks(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Xi];n&&(n.delete(e),n.size||(t[Xi]=void 0))}function Xf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let UC=0;function eh(t,e,n,s){const r=t._endId=++UC,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=VC(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),i()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function VC(t,e){const n=window.getComputedStyle(t),s=v=>(n[v]||"").split(", "),r=s(`${is}Delay`),i=s(`${is}Duration`),o=th(r,i),a=s(`${wi}Delay`),l=s(`${wi}Duration`),c=th(a,l);let u=null,d=0,f=0;e===is?o>0&&(u=is,d=o,f=i.length):e===wi?c>0&&(u=wi,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?is:wi:null,f=u?u===is?i.length:l.length:0);const h=u===is&&/\b(transform|all)(,|$)/.test(s(`${is}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function th(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>nh(n)+nh(t[s])))}function nh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function zC(){return document.body.offsetHeight}function KC(t,e,n){const s=t[Xi];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const GC=Symbol("_vod"),qC=Symbol("");function QC(t,e,n){const s=t.style,r=s.display,i=at(n);if(n&&!i){if(e&&!at(e))for(const o in e)n[o]==null&&jc(s,o,"");for(const o in n)jc(s,o,n[o])}else if(i){if(e!==n){const o=s[qC];o&&(n+=";"+o),s.cssText=n}}else e&&t.removeAttribute("style");GC in t&&(s.display=r)}const sh=/\s*!important$/;function jc(t,e,n){if(ue(n))n.forEach(s=>jc(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=ZC(t,e);sh.test(n)?t.setProperty(hr(s),n.replace(sh,""),"important"):t[s]=n}}const rh=["Webkit","Moz","ms"],oc={};function ZC(t,e){const n=oc[e];if(n)return n;let s=xn(e);if(s!=="filter"&&s in t)return oc[e]=s;s=Ja(s);for(let r=0;r<rh.length;r++){const i=rh[r]+s;if(i in t)return oc[e]=i}return e}const ih="http://www.w3.org/1999/xlink";function JC(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(ih,e.slice(6,e.length)):t.setAttributeNS(ih,e,n);else{const i=Xb(e);n==null||i&&!ev(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function XC(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=ev(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function ms(t,e,n,s){t.addEventListener(e,n,s)}function e1(t,e,n,s){t.removeEventListener(e,n,s)}const oh=Symbol("_vei");function t1(t,e,n,s,r=null){const i=t[oh]||(t[oh]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=n1(e);if(s){const c=i[e]=i1(s,r);ms(t,a,c,l)}else o&&(e1(t,a,o,l),i[e]=void 0)}}const ah=/(?:Once|Passive|Capture)$/;function n1(t){let e;if(ah.test(t)){e={};let s;for(;s=t.match(ah);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hr(t.slice(2)),e]}let ac=0;const s1=Promise.resolve(),r1=()=>ac||(s1.then(()=>ac=0),ac=Date.now());function i1(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;an(o1(s,n.value),e,5,[s])};return n.value=t,n.attached=r1(),n}function o1(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const lh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,a1=(t,e,n,s,r,i,o,a,l)=>{const c=r==="svg";e==="class"?KC(t,s,c):e==="style"?QC(t,n,s):Qa(e)?Ru(e)||t1(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):l1(t,e,s,c))?XC(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),JC(t,e,s,c))};function l1(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&lh(e)&&ye(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return lh(e)&&at(n)?!1:e in t}const Wr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>ta(e,n):e};function c1(t){t.target.composing=!0}function ch(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const zn=Symbol("_assign"),_n={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[zn]=Wr(r);const i=s||r.props&&r.props.type==="number";ms(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Ki(a)),t[zn](a)}),n&&ms(t,"change",()=>{t.value=t.value.trim()}),e||(ms(t,"compositionstart",c1),ms(t,"compositionend",ch),ms(t,"change",ch))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t[zn]=Wr(i),t.composing)return;const o=r||t.type==="number"?Ki(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===a)||(t.value=a))}},oa={deep:!0,created(t,e,n){t[zn]=Wr(n),ms(t,"change",()=>{const s=t._modelValue,r=eo(t),i=t.checked,o=t[zn];if(ue(s)){const a=Fu(s,r),l=a!==-1;if(i&&!l)o(s.concat(r));else if(!i&&l){const c=[...s];c.splice(a,1),o(c)}}else if(si(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(eg(t,i))})},mounted:uh,beforeUpdate(t,e,n){t[zn]=Wr(n),uh(t,e,n)}};function uh(t,{value:e,oldValue:n},s){t._modelValue=e,ue(e)?t.checked=Fu(e,s.props.value)>-1:si(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Yr(e,eg(t,!0)))}const u1={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=si(e);ms(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ki(eo(o)):eo(o));t[zn](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Wn(()=>{t._assigning=!1})}),t[zn]=Wr(s)},mounted(t,{value:e,oldValue:n,modifiers:{number:s}}){dh(t,e,n,s)},beforeUpdate(t,e,n){t[zn]=Wr(n)},updated(t,{value:e,oldValue:n,modifiers:{number:s}}){t._assigning||dh(t,e,n,s)}};function dh(t,e,n,s){const r=t.multiple,i=ue(e);if(!(r&&!i&&!si(e))&&!(i&&Yr(e,n))){for(let o=0,a=t.options.length;o<a;o++){const l=t.options[o],c=eo(l);if(r)if(i){const u=typeof c;u==="string"||u==="number"?l.selected=e.includes(s?Ki(c):c):l.selected=Fu(e,c)>-1}else l.selected=e.has(c);else if(Yr(eo(l),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function eo(t){return"_value"in t?t._value:t.value}function eg(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const d1=["ctrl","shift","alt","meta"],f1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>d1.some(n=>t[`${n}Key`]&&!e.includes(n))},to=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=f1[e[o]];if(a&&a(r,e))return}return t(r,...i)})},h1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fh=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const i=hr(r.key);if(e.some(o=>o===i||h1[o]===i))return t(r)})},p1=ft({patchProp:a1},WC);let hh;function m1(){return hh||(hh=bC(p1))}const v1=(...t)=>{const e=m1().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=_1(s);if(!r)return;const i=e._component;!ye(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,g1(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function g1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function _1(t){return at(t)?document.querySelector(t):t}var y1=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let tg;const fl=t=>tg=t,ng=Symbol();function Uc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Fi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Fi||(Fi={}));function b1(){const t=sv(!0),e=t.run(()=>Ce({}));let n=[],s=[];const r=el({install(i){fl(r),r._a=i,i.provide(ng,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!y1?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const sg=()=>{};function ph(t,e,n,s=sg){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&rv()&&nw(r),r}function Dr(t,...e){t.slice().forEach(n=>{n(...e)})}const w1=t=>t();function Vc(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Uc(r)&&Uc(s)&&t.hasOwnProperty(n)&&!et(s)&&!ws(s)?t[n]=Vc(r,s):t[n]=s}return t}const C1=Symbol();function E1(t){return!Uc(t)||!t.hasOwnProperty(C1)}const{assign:cs}=Object;function S1(t){return!!(et(t)&&t.effect)}function D1(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=Sv(n.state.value[t]);return cs(u,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=el(D(()=>{fl(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=rg(t,c,e,n,s,!0),l}function rg(t,e,n={},s,r,i){let o;const a=cs({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const v=s.state.value[t];!i&&!v&&(s.state.value[t]={}),Ce({});let y;function w(k){let H;c=u=!1,typeof k=="function"?(k(s.state.value[t]),H={type:Fi.patchFunction,storeId:t,events:h}):(Vc(s.state.value[t],k),H={type:Fi.patchObject,payload:k,storeId:t,events:h});const Z=y=Symbol();Wn().then(()=>{y===Z&&(c=!0)}),u=!0,Dr(d,H,s.state.value[t])}const b=i?function(){const{state:H}=n,Z=H?H():{};this.$patch(ie=>{cs(ie,Z)})}:sg;function A(){o.stop(),d=[],f=[],s._s.delete(t)}function L(k,H){return function(){fl(s);const Z=Array.from(arguments),ie=[],T=[];function Q(re){ie.push(re)}function me(re){T.push(re)}Dr(f,{args:Z,name:k,store:x,after:Q,onError:me});let ne;try{ne=H.apply(this&&this.$id===t?this:x,Z)}catch(re){throw Dr(T,re),re}return ne instanceof Promise?ne.then(re=>(Dr(ie,re),re)).catch(re=>(Dr(T,re),Promise.reject(re))):(Dr(ie,ne),ne)}}const P={_p:s,$id:t,$onAction:ph.bind(null,f),$patch:w,$reset:b,$subscribe(k,H={}){const Z=ph(d,k,H.detached,()=>ie()),ie=o.run(()=>lt(()=>s.state.value[t],T=>{(H.flush==="sync"?u:c)&&k({storeId:t,type:Fi.direct,events:h},T)},cs({},l,H)));return Z},$dispose:A},x=es(P);s._s.set(t,x);const V=(s._a&&s._a.runWithContext||w1)(()=>s._e.run(()=>(o=sv()).run(e)));for(const k in V){const H=V[k];if(et(H)&&!S1(H)||ws(H))i||(v&&E1(H)&&(et(H)?H.value=v[k]:Vc(H,v[k])),s.state.value[t][k]=H);else if(typeof H=="function"){const Z=L(k,H);V[k]=Z,a.actions[k]=H}}return cs(x,V),cs(Oe(x),V),Object.defineProperty(x,"$state",{get:()=>s.state.value[t],set:k=>{w(H=>{cs(H,k)})}}),s._p.forEach(k=>{cs(x,o.run(()=>k({store:x,app:s._a,pinia:s,options:a})))}),v&&i&&n.hydrate&&n.hydrate(x.$state,v),c=!0,u=!0,x}function hl(t,e,n){let s,r;const i=typeof e=="function";typeof t=="string"?(s=t,r=i?n:e):(r=t,s=t.id);function o(a,l){const c=pC();return a=a||(c?Rt(ng,null):null),a&&fl(a),a=tg,a._s.has(s)||(i?rg(s,e,r,a):D1(s,r,a)),a._s.get(s)}return o.$id=s,o}const mh=(t,e)=>{const n=t.storage||sessionStorage,s=t.key||e.$id;if(t.paths){const r=t.paths.reduce((i,o)=>(i[o]=e.$state[o],i),{});n.setItem(s,JSON.stringify(r))}else n.setItem(s,JSON.stringify(e.$state))};var I1=({options:t,store:e})=>{var n,s,r,i;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(r=(s=t.persist)==null?void 0:s.strategies)!=null&&r.length?(i=t.persist)==null?void 0:i.strategies:o;a.forEach(l=>{const c=l.storage||sessionStorage,u=l.key||e.$id,d=c.getItem(u);d&&(e.$patch(JSON.parse(d)),mh(l,e))}),e.$subscribe(()=>{a.forEach(l=>{mh(l,e)})})}},Wt="top",dn="bottom",fn="right",Ht="left",td="auto",Do=[Wt,dn,fn,Ht],Hr="start",no="end",T1="clippingParents",ig="viewport",Ci="popper",$1="reference",vh=Do.reduce(function(t,e){return t.concat([e+"-"+Hr,e+"-"+no])},[]),og=[].concat(Do,[td]).reduce(function(t,e){return t.concat([e,e+"-"+Hr,e+"-"+no])},[]),P1="beforeRead",k1="read",A1="afterRead",x1="beforeMain",O1="main",M1="afterMain",R1="beforeWrite",N1="write",L1="afterWrite",F1=[P1,k1,A1,x1,O1,M1,R1,N1,L1];function On(t){return t?(t.nodeName||"").toLowerCase():null}function Qt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function or(t){var e=Qt(t).Element;return t instanceof e||t instanceof Element}function cn(t){var e=Qt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function nd(t){if(typeof ShadowRoot>"u")return!1;var e=Qt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Y1(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},i=e.elements[n];!cn(i)||!On(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(o){var a=r[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function B1(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],i=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=o.reduce(function(l,c){return l[c]="",l},{});!cn(r)||!On(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(l){r.removeAttribute(l)}))})}}const W1={name:"applyStyles",enabled:!0,phase:"write",fn:Y1,effect:B1,requires:["computeStyles"]};function kn(t){return t.split("-")[0]}var rr=Math.max,ba=Math.min,jr=Math.round;function zc(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ag(){return!/^((?!chrome|android).)*safari/i.test(zc())}function Ur(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),r=1,i=1;e&&cn(t)&&(r=t.offsetWidth>0&&jr(s.width)/t.offsetWidth||1,i=t.offsetHeight>0&&jr(s.height)/t.offsetHeight||1);var o=or(t)?Qt(t):window,a=o.visualViewport,l=!ag()&&n,c=(s.left+(l&&a?a.offsetLeft:0))/r,u=(s.top+(l&&a?a.offsetTop:0))/i,d=s.width/r,f=s.height/i;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function sd(t){var e=Ur(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function lg(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&nd(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function qn(t){return Qt(t).getComputedStyle(t)}function H1(t){return["table","td","th"].indexOf(On(t))>=0}function Ys(t){return((or(t)?t.ownerDocument:t.document)||window.document).documentElement}function pl(t){return On(t)==="html"?t:t.assignedSlot||t.parentNode||(nd(t)?t.host:null)||Ys(t)}function gh(t){return!cn(t)||qn(t).position==="fixed"?null:t.offsetParent}function j1(t){var e=/firefox/i.test(zc()),n=/Trident/i.test(zc());if(n&&cn(t)){var s=qn(t);if(s.position==="fixed")return null}var r=pl(t);for(nd(r)&&(r=r.host);cn(r)&&["html","body"].indexOf(On(r))<0;){var i=qn(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Io(t){for(var e=Qt(t),n=gh(t);n&&H1(n)&&qn(n).position==="static";)n=gh(n);return n&&(On(n)==="html"||On(n)==="body"&&qn(n).position==="static")?e:n||j1(t)||e}function rd(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Yi(t,e,n){return rr(t,ba(e,n))}function U1(t,e,n){var s=Yi(t,e,n);return s>n?n:s}function cg(){return{top:0,right:0,bottom:0,left:0}}function ug(t){return Object.assign({},cg(),t)}function dg(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var V1=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,ug(typeof e!="number"?e:dg(e,Do))};function z1(t){var e,n=t.state,s=t.name,r=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=kn(n.placement),l=rd(a),c=[Ht,fn].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!o)){var d=V1(r.padding,n),f=sd(i),h=l==="y"?Wt:Ht,v=l==="y"?dn:fn,y=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],w=o[l]-n.rects.reference[l],b=Io(i),A=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,L=y/2-w/2,P=d[h],x=A-f[u]-d[v],Y=A/2-f[u]/2+L,V=Yi(P,Y,x),k=l;n.modifiersData[s]=(e={},e[k]=V,e.centerOffset=V-Y,e)}}function K1(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||lg(e.elements.popper,r)&&(e.elements.arrow=r))}const G1={name:"arrow",enabled:!0,phase:"main",fn:z1,effect:K1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vr(t){return t.split("-")[1]}var q1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q1(t,e){var n=t.x,s=t.y,r=e.devicePixelRatio||1;return{x:jr(n*r)/r||0,y:jr(s*r)/r||0}}function _h(t){var e,n=t.popper,s=t.popperRect,r=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,v=o.y,y=v===void 0?0:v,w=typeof u=="function"?u({x:h,y}):{x:h,y};h=w.x,y=w.y;var b=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),L=Ht,P=Wt,x=window;if(c){var Y=Io(n),V="clientHeight",k="clientWidth";if(Y===Qt(n)&&(Y=Ys(n),qn(Y).position!=="static"&&a==="absolute"&&(V="scrollHeight",k="scrollWidth")),Y=Y,r===Wt||(r===Ht||r===fn)&&i===no){P=dn;var H=d&&Y===x&&x.visualViewport?x.visualViewport.height:Y[V];y-=H-s.height,y*=l?1:-1}if(r===Ht||(r===Wt||r===dn)&&i===no){L=fn;var Z=d&&Y===x&&x.visualViewport?x.visualViewport.width:Y[k];h-=Z-s.width,h*=l?1:-1}}var ie=Object.assign({position:a},c&&q1),T=u===!0?Q1({x:h,y},Qt(n)):{x:h,y};if(h=T.x,y=T.y,l){var Q;return Object.assign({},ie,(Q={},Q[P]=A?"0":"",Q[L]=b?"0":"",Q.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",Q))}return Object.assign({},ie,(e={},e[P]=A?y+"px":"",e[L]=b?h+"px":"",e.transform="",e))}function Z1(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:kn(e.placement),variation:Vr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_h(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_h(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const J1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Z1,data:{}};var Ko={passive:!0};function X1(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,i=r===void 0?!0:r,o=s.resize,a=o===void 0?!0:o,l=Qt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,Ko)}),a&&l.addEventListener("resize",n.update,Ko),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Ko)}),a&&l.removeEventListener("resize",n.update,Ko)}}const e0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:X1,data:{}};var t0={left:"right",right:"left",bottom:"top",top:"bottom"};function aa(t){return t.replace(/left|right|bottom|top/g,function(e){return t0[e]})}var n0={start:"end",end:"start"};function yh(t){return t.replace(/start|end/g,function(e){return n0[e]})}function id(t){var e=Qt(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function od(t){return Ur(Ys(t)).left+id(t).scrollLeft}function s0(t,e){var n=Qt(t),s=Ys(t),r=n.visualViewport,i=s.clientWidth,o=s.clientHeight,a=0,l=0;if(r){i=r.width,o=r.height;var c=ag();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:a+od(t),y:l}}function r0(t){var e,n=Ys(t),s=id(t),r=(e=t.ownerDocument)==null?void 0:e.body,i=rr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=rr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+od(t),l=-s.scrollTop;return qn(r||n).direction==="rtl"&&(a+=rr(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function ad(t){var e=qn(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function fg(t){return["html","body","#document"].indexOf(On(t))>=0?t.ownerDocument.body:cn(t)&&ad(t)?t:fg(pl(t))}function Bi(t,e){var n;e===void 0&&(e=[]);var s=fg(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=Qt(s),o=r?[i].concat(i.visualViewport||[],ad(s)?s:[]):s,a=e.concat(o);return r?a:a.concat(Bi(pl(o)))}function Kc(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function i0(t,e){var n=Ur(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function bh(t,e,n){return e===ig?Kc(s0(t,n)):or(e)?i0(e,n):Kc(r0(Ys(t)))}function o0(t){var e=Bi(pl(t)),n=["absolute","fixed"].indexOf(qn(t).position)>=0,s=n&&cn(t)?Io(t):t;return or(s)?e.filter(function(r){return or(r)&&lg(r,s)&&On(r)!=="body"}):[]}function a0(t,e,n,s){var r=e==="clippingParents"?o0(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(l,c){var u=bh(t,c,s);return l.top=rr(u.top,l.top),l.right=ba(u.right,l.right),l.bottom=ba(u.bottom,l.bottom),l.left=rr(u.left,l.left),l},bh(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function hg(t){var e=t.reference,n=t.element,s=t.placement,r=s?kn(s):null,i=s?Vr(s):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Wt:l={x:o,y:e.y-n.height};break;case dn:l={x:o,y:e.y+e.height};break;case fn:l={x:e.x+e.width,y:a};break;case Ht:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?rd(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Hr:l[c]=l[c]-(e[u]/2-n[u]/2);break;case no:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function so(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?T1:a,c=n.rootBoundary,u=c===void 0?ig:c,d=n.elementContext,f=d===void 0?Ci:d,h=n.altBoundary,v=h===void 0?!1:h,y=n.padding,w=y===void 0?0:y,b=ug(typeof w!="number"?w:dg(w,Do)),A=f===Ci?$1:Ci,L=t.rects.popper,P=t.elements[v?A:f],x=a0(or(P)?P:P.contextElement||Ys(t.elements.popper),l,u,o),Y=Ur(t.elements.reference),V=hg({reference:Y,element:L,strategy:"absolute",placement:r}),k=Kc(Object.assign({},L,V)),H=f===Ci?k:Y,Z={top:x.top-H.top+b.top,bottom:H.bottom-x.bottom+b.bottom,left:x.left-H.left+b.left,right:H.right-x.right+b.right},ie=t.modifiersData.offset;if(f===Ci&&ie){var T=ie[r];Object.keys(Z).forEach(function(Q){var me=[fn,dn].indexOf(Q)>=0?1:-1,ne=[Wt,dn].indexOf(Q)>=0?"y":"x";Z[Q]+=T[ne]*me})}return Z}function l0(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?og:l,u=Vr(s),d=u?a?vh:vh.filter(function(v){return Vr(v)===u}):Do,f=d.filter(function(v){return c.indexOf(v)>=0});f.length===0&&(f=d);var h=f.reduce(function(v,y){return v[y]=so(t,{placement:y,boundary:r,rootBoundary:i,padding:o})[kn(y)],v},{});return Object.keys(h).sort(function(v,y){return h[v]-h[y]})}function c0(t){if(kn(t)===td)return[];var e=aa(t);return[yh(t),e,yh(e)]}function u0(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,v=h===void 0?!0:h,y=n.allowedAutoPlacements,w=e.options.placement,b=kn(w),A=b===w,L=l||(A||!v?[aa(w)]:c0(w)),P=[w].concat(L).reduce(function($e,Ze){return $e.concat(kn(Ze)===td?l0(e,{placement:Ze,boundary:u,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:y}):Ze)},[]),x=e.rects.reference,Y=e.rects.popper,V=new Map,k=!0,H=P[0],Z=0;Z<P.length;Z++){var ie=P[Z],T=kn(ie),Q=Vr(ie)===Hr,me=[Wt,dn].indexOf(T)>=0,ne=me?"width":"height",re=so(e,{placement:ie,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),le=me?Q?fn:Ht:Q?dn:Wt;x[ne]>Y[ne]&&(le=aa(le));var fe=aa(le),Ae=[];if(i&&Ae.push(re[T]<=0),a&&Ae.push(re[le]<=0,re[fe]<=0),Ae.every(function($e){return $e})){H=ie,k=!1;break}V.set(ie,Ae)}if(k)for(var W=v?3:1,ge=function(Ze){var xe=P.find(function(E){var G=V.get(E);if(G)return G.slice(0,Ze).every(function(K){return K})});if(xe)return H=xe,"break"},te=W;te>0;te--){var je=ge(te);if(je==="break")break}e.placement!==H&&(e.modifiersData[s]._skip=!0,e.placement=H,e.reset=!0)}}const d0={name:"flip",enabled:!0,phase:"main",fn:u0,requiresIfExists:["offset"],data:{_skip:!1}};function wh(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ch(t){return[Wt,fn,dn,Ht].some(function(e){return t[e]>=0})}function f0(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,o=so(e,{elementContext:"reference"}),a=so(e,{altBoundary:!0}),l=wh(o,s),c=wh(a,r,i),u=Ch(l),d=Ch(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const h0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:f0};function p0(t,e,n){var s=kn(t),r=[Ht,Wt].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*r,[Ht,fn].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function m0(t){var e=t.state,n=t.options,s=t.name,r=n.offset,i=r===void 0?[0,0]:r,o=og.reduce(function(u,d){return u[d]=p0(d,e.rects,i),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[s]=o}const v0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:m0};function g0(t){var e=t.state,n=t.name;e.modifiersData[n]=hg({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const _0={name:"popperOffsets",enabled:!0,phase:"read",fn:g0,data:{}};function y0(t){return t==="x"?"y":"x"}function b0(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,v=n.tetherOffset,y=v===void 0?0:v,w=so(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=kn(e.placement),A=Vr(e.placement),L=!A,P=rd(b),x=y0(P),Y=e.modifiersData.popperOffsets,V=e.rects.reference,k=e.rects.popper,H=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,Z=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,T={x:0,y:0};if(Y){if(i){var Q,me=P==="y"?Wt:Ht,ne=P==="y"?dn:fn,re=P==="y"?"height":"width",le=Y[P],fe=le+w[me],Ae=le-w[ne],W=h?-k[re]/2:0,ge=A===Hr?V[re]:k[re],te=A===Hr?-k[re]:-V[re],je=e.elements.arrow,$e=h&&je?sd(je):{width:0,height:0},Ze=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:cg(),xe=Ze[me],E=Ze[ne],G=Yi(0,V[re],$e[re]),K=L?V[re]/2-W-G-xe-Z.mainAxis:ge-G-xe-Z.mainAxis,se=L?-V[re]/2+W+G+E+Z.mainAxis:te+G+E+Z.mainAxis,be=e.elements.arrow&&Io(e.elements.arrow),Pe=be?P==="y"?be.clientTop||0:be.clientLeft||0:0,m=(Q=ie==null?void 0:ie[P])!=null?Q:0,_=le+K-m-Pe,C=le+se-m,$=Yi(h?ba(fe,_):fe,le,h?rr(Ae,C):Ae);Y[P]=$,T[P]=$-le}if(a){var I,j=P==="x"?Wt:Ht,q=P==="x"?dn:fn,B=Y[x],z=x==="y"?"height":"width",F=B+w[j],J=B-w[q],ae=[Wt,Ht].indexOf(b)!==-1,oe=(I=ie==null?void 0:ie[x])!=null?I:0,de=ae?F:B-V[z]-k[z]-oe+Z.altAxis,_e=ae?B+V[z]+k[z]-oe-Z.altAxis:J,ke=h&&ae?U1(de,B,_e):Yi(h?de:F,B,h?_e:J);Y[x]=ke,T[x]=ke-B}e.modifiersData[s]=T}}const w0={name:"preventOverflow",enabled:!0,phase:"main",fn:b0,requiresIfExists:["offset"]};function C0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function E0(t){return t===Qt(t)||!cn(t)?id(t):C0(t)}function S0(t){var e=t.getBoundingClientRect(),n=jr(e.width)/t.offsetWidth||1,s=jr(e.height)/t.offsetHeight||1;return n!==1||s!==1}function D0(t,e,n){n===void 0&&(n=!1);var s=cn(e),r=cn(e)&&S0(e),i=Ys(e),o=Ur(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((On(e)!=="body"||ad(i))&&(a=E0(e)),cn(e)?(l=Ur(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=od(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function I0(t){var e=new Map,n=new Set,s=[];t.forEach(function(i){e.set(i.name,i)});function r(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),s.push(i)}return t.forEach(function(i){n.has(i.name)||r(i)}),s}function T0(t){var e=I0(t);return F1.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function $0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function P0(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var Eh={placement:"bottom",modifiers:[],strategy:"absolute"};function Sh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function k0(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,i=r===void 0?Eh:r;return function(a,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Eh,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(b){var A=typeof b=="function"?b(u.options):b;y(),u.options=Object.assign({},i,u.options,A),u.scrollParents={reference:or(a)?Bi(a):a.contextElement?Bi(a.contextElement):[],popper:Bi(l)};var L=T0(P0([].concat(s,u.options.modifiers)));return u.orderedModifiers=L.filter(function(P){return P.enabled}),v(),h.update()},forceUpdate:function(){if(!f){var b=u.elements,A=b.reference,L=b.popper;if(Sh(A,L)){u.rects={reference:D0(A,Io(L),u.options.strategy==="fixed"),popper:sd(L)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Z){return u.modifiersData[Z.name]=Object.assign({},Z.data)});for(var P=0;P<u.orderedModifiers.length;P++){if(u.reset===!0){u.reset=!1,P=-1;continue}var x=u.orderedModifiers[P],Y=x.fn,V=x.options,k=V===void 0?{}:V,H=x.name;typeof Y=="function"&&(u=Y({state:u,options:k,name:H,instance:h})||u)}}}},update:$0(function(){return new Promise(function(w){h.forceUpdate(),w(u)})}),destroy:function(){y(),f=!0}};if(!Sh(a,l))return h;h.setOptions(c).then(function(w){!f&&c.onFirstUpdate&&c.onFirstUpdate(w)});function v(){u.orderedModifiers.forEach(function(w){var b=w.name,A=w.options,L=A===void 0?{}:A,P=w.effect;if(typeof P=="function"){var x=P({state:u,name:b,instance:h,options:L}),Y=function(){};d.push(x||Y)}})}function y(){d.forEach(function(w){return w()}),d=[]}return h}}var A0=[e0,_0,J1,W1,v0,d0,w0,G1,h0],x0=k0({defaultModifiers:A0}),O0=Object.defineProperty,M0=(t,e,n)=>e in t?O0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ce=(t,e,n)=>(M0(t,typeof e!="symbol"?e+"":e,n),n),Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R0=Object.prototype,N0=R0.hasOwnProperty;function L0(t,e){return t!=null&&N0.call(t,e)}var F0=L0,Y0=Array.isArray,Cn=Y0,B0=typeof Go=="object"&&Go&&Go.Object===Object&&Go,mg=B0,W0=mg,H0=typeof self=="object"&&self&&self.Object===Object&&self,j0=W0||H0||Function("return this")(),Nn=j0,U0=Nn,V0=U0.Symbol,ml=V0,Dh=ml,vg=Object.prototype,z0=vg.hasOwnProperty,K0=vg.toString,Ei=Dh?Dh.toStringTag:void 0;function G0(t){var e=z0.call(t,Ei),n=t[Ei];try{t[Ei]=void 0;var s=!0}catch{}var r=K0.call(t);return s&&(e?t[Ei]=n:delete t[Ei]),r}var q0=G0,Q0=Object.prototype,Z0=Q0.toString;function J0(t){return Z0.call(t)}var X0=J0,Ih=ml,eE=q0,tE=X0,nE="[object Null]",sE="[object Undefined]",Th=Ih?Ih.toStringTag:void 0;function rE(t){return t==null?t===void 0?sE:nE:Th&&Th in Object(t)?eE(t):tE(t)}var Ln=rE;function iE(t){return t!=null&&typeof t=="object"}var En=iE,oE=Ln,aE=En,lE="[object Symbol]";function cE(t){return typeof t=="symbol"||aE(t)&&oE(t)==lE}var ld=cE,uE=Cn,dE=ld,fE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hE=/^\w*$/;function pE(t,e){if(uE(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||dE(t)?!0:hE.test(t)||!fE.test(t)||e!=null&&t in Object(e)}var cd=pE;function mE(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ns=mE,vE=Ln,gE=ns,_E="[object AsyncFunction]",yE="[object Function]",bE="[object GeneratorFunction]",wE="[object Proxy]";function CE(t){if(!gE(t))return!1;var e=vE(t);return e==yE||e==bE||e==_E||e==wE}var gr=CE,EE=Nn,SE=EE["__core-js_shared__"],DE=SE,lc=DE,$h=function(){var t=/[^.]+$/.exec(lc&&lc.keys&&lc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function IE(t){return!!$h&&$h in t}var TE=IE,$E=Function.prototype,PE=$E.toString;function kE(t){if(t!=null){try{return PE.call(t)}catch{}try{return t+""}catch{}}return""}var gg=kE,AE=gr,xE=TE,OE=ns,ME=gg,RE=/[\\^$.*+?()[\]{}|]/g,NE=/^\[object .+?Constructor\]$/,LE=Function.prototype,FE=Object.prototype,YE=LE.toString,BE=FE.hasOwnProperty,WE=RegExp("^"+YE.call(BE).replace(RE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HE(t){if(!OE(t)||xE(t))return!1;var e=AE(t)?WE:NE;return e.test(ME(t))}var jE=HE;function UE(t,e){return t==null?void 0:t[e]}var VE=UE,zE=jE,KE=VE;function GE(t,e){var n=KE(t,e);return zE(n)?n:void 0}var _r=GE,qE=_r,QE=qE(Object,"create"),vl=QE,Ph=vl;function ZE(){this.__data__=Ph?Ph(null):{},this.size=0}var JE=ZE;function XE(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var eS=XE,tS=vl,nS="__lodash_hash_undefined__",sS=Object.prototype,rS=sS.hasOwnProperty;function iS(t){var e=this.__data__;if(tS){var n=e[t];return n===nS?void 0:n}return rS.call(e,t)?e[t]:void 0}var oS=iS,aS=vl,lS=Object.prototype,cS=lS.hasOwnProperty;function uS(t){var e=this.__data__;return aS?e[t]!==void 0:cS.call(e,t)}var dS=uS,fS=vl,hS="__lodash_hash_undefined__";function pS(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fS&&e===void 0?hS:e,this}var mS=pS,vS=JE,gS=eS,_S=oS,yS=dS,bS=mS;function ii(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}ii.prototype.clear=vS;ii.prototype.delete=gS;ii.prototype.get=_S;ii.prototype.has=yS;ii.prototype.set=bS;var wS=ii;function CS(){this.__data__=[],this.size=0}var ES=CS;function SS(t,e){return t===e||t!==t&&e!==e}var oi=SS,DS=oi;function IS(t,e){for(var n=t.length;n--;)if(DS(t[n][0],e))return n;return-1}var gl=IS,TS=gl,$S=Array.prototype,PS=$S.splice;function kS(t){var e=this.__data__,n=TS(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():PS.call(e,n,1),--this.size,!0}var AS=kS,xS=gl;function OS(t){var e=this.__data__,n=xS(e,t);return n<0?void 0:e[n][1]}var MS=OS,RS=gl;function NS(t){return RS(this.__data__,t)>-1}var LS=NS,FS=gl;function YS(t,e){var n=this.__data__,s=FS(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}var BS=YS,WS=ES,HS=AS,jS=MS,US=LS,VS=BS;function ai(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}ai.prototype.clear=WS;ai.prototype.delete=HS;ai.prototype.get=jS;ai.prototype.has=US;ai.prototype.set=VS;var _l=ai,zS=_r,KS=Nn,GS=zS(KS,"Map"),ud=GS,kh=wS,qS=_l,QS=ud;function ZS(){this.size=0,this.__data__={hash:new kh,map:new(QS||qS),string:new kh}}var JS=ZS;function XS(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var eD=XS,tD=eD;function nD(t,e){var n=t.__data__;return tD(e)?n[typeof e=="string"?"string":"hash"]:n.map}var yl=nD,sD=yl;function rD(t){var e=sD(this,t).delete(t);return this.size-=e?1:0,e}var iD=rD,oD=yl;function aD(t){return oD(this,t).get(t)}var lD=aD,cD=yl;function uD(t){return cD(this,t).has(t)}var dD=uD,fD=yl;function hD(t,e){var n=fD(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}var pD=hD,mD=JS,vD=iD,gD=lD,_D=dD,yD=pD;function li(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}li.prototype.clear=mD;li.prototype.delete=vD;li.prototype.get=gD;li.prototype.has=_D;li.prototype.set=yD;var dd=li,_g=dd,bD="Expected a function";function fd(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bD);var n=function(){var s=arguments,r=e?e.apply(this,s):s[0],i=n.cache;if(i.has(r))return i.get(r);var o=t.apply(this,s);return n.cache=i.set(r,o)||i,o};return n.cache=new(fd.Cache||_g),n}fd.Cache=_g;var wD=fd,CD=wD,ED=500;function SD(t){var e=CD(t,function(s){return n.size===ED&&n.clear(),s}),n=e.cache;return e}var DD=SD,ID=DD,TD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$D=/\\(\\)?/g,PD=ID(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(TD,function(n,s,r,i){e.push(r?i.replace($D,"$1"):s||n)}),e}),kD=PD;function AD(t,e){for(var n=-1,s=t==null?0:t.length,r=Array(s);++n<s;)r[n]=e(t[n],n,t);return r}var xD=AD,Ah=ml,OD=xD,MD=Cn,RD=ld,ND=1/0,xh=Ah?Ah.prototype:void 0,Oh=xh?xh.toString:void 0;function yg(t){if(typeof t=="string")return t;if(MD(t))return OD(t,yg)+"";if(RD(t))return Oh?Oh.call(t):"";var e=t+"";return e=="0"&&1/t==-ND?"-0":e}var LD=yg,FD=LD;function YD(t){return t==null?"":FD(t)}var BD=YD,WD=Cn,HD=cd,jD=kD,UD=BD;function VD(t,e){return WD(t)?t:HD(t,e)?[t]:jD(UD(t))}var bg=VD,zD=Ln,KD=En,GD="[object Arguments]";function qD(t){return KD(t)&&zD(t)==GD}var QD=qD,Mh=QD,ZD=En,wg=Object.prototype,JD=wg.hasOwnProperty,XD=wg.propertyIsEnumerable,eI=Mh(function(){return arguments}())?Mh:function(t){return ZD(t)&&JD.call(t,"callee")&&!XD.call(t,"callee")},hd=eI,tI=9007199254740991,nI=/^(?:0|[1-9]\d*)$/;function sI(t,e){var n=typeof t;return e=e??tI,!!e&&(n=="number"||n!="symbol"&&nI.test(t))&&t>-1&&t%1==0&&t<e}var pd=sI,rI=9007199254740991;function iI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rI}var md=iI,oI=ld,aI=1/0;function lI(t){if(typeof t=="string"||oI(t))return t;var e=t+"";return e=="0"&&1/t==-aI?"-0":e}var bl=lI,cI=bg,uI=hd,dI=Cn,fI=pd,hI=md,pI=bl;function mI(t,e,n){e=cI(e,t);for(var s=-1,r=e.length,i=!1;++s<r;){var o=pI(e[s]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++s!=r?i:(r=t==null?0:t.length,!!r&&hI(r)&&fI(o,r)&&(dI(t)||uI(t)))}var Cg=mI,vI=F0,gI=Cg;function _I(t,e){return t!=null&&gI(t,e,vI)}var Eg=_I,yI=Ln,bI=En,wI="[object Date]";function CI(t){return bI(t)&&yI(t)==wI}var EI=CI;function SI(t){return function(e){return t(e)}}var Sg=SI,ro={},DI={get exports(){return ro},set exports(t){ro=t}};(function(t,e){var n=mg,s=e&&!e.nodeType&&e,r=s&&!0&&t&&!t.nodeType&&t,i=r&&r.exports===s,o=i&&n.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(DI,ro);var II=EI,TI=Sg,Rh=ro,Nh=Rh&&Rh.isDate,$I=Nh?TI(Nh):II,PI=$I,kI=Ln,AI=Cn,xI=En,OI="[object String]";function MI(t){return typeof t=="string"||!AI(t)&&xI(t)&&kI(t)==OI}var $n=MI;function RI(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}var Dg=RI,NI=_l;function LI(){this.__data__=new NI,this.size=0}var FI=LI;function YI(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var BI=YI;function WI(t){return this.__data__.get(t)}var HI=WI;function jI(t){return this.__data__.has(t)}var UI=jI,VI=_l,zI=ud,KI=dd,GI=200;function qI(t,e){var n=this.__data__;if(n instanceof VI){var s=n.__data__;if(!zI||s.length<GI-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new KI(s)}return n.set(t,e),this.size=n.size,this}var QI=qI,ZI=_l,JI=FI,XI=BI,eT=HI,tT=UI,nT=QI;function ci(t){var e=this.__data__=new ZI(t);this.size=e.size}ci.prototype.clear=JI;ci.prototype.delete=XI;ci.prototype.get=eT;ci.prototype.has=tT;ci.prototype.set=nT;var vd=ci,sT="__lodash_hash_undefined__";function rT(t){return this.__data__.set(t,sT),this}var iT=rT;function oT(t){return this.__data__.has(t)}var aT=oT,lT=dd,cT=iT,uT=aT;function wa(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new lT;++e<n;)this.add(t[e])}wa.prototype.add=wa.prototype.push=cT;wa.prototype.has=uT;var dT=wa;function fT(t,e){return t.has(e)}var hT=fT,pT=dT,mT=Dg,vT=hT,gT=1,_T=2;function yT(t,e,n,s,r,i){var o=n&gT,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&_T?new pT:void 0;for(i.set(t,e),i.set(e,t);++d<a;){var v=t[d],y=e[d];if(s)var w=o?s(y,v,d,e,t,i):s(v,y,d,t,e,i);if(w!==void 0){if(w)continue;f=!1;break}if(h){if(!mT(e,function(b,A){if(!vT(h,A)&&(v===b||r(v,b,n,s,i)))return h.push(A)})){f=!1;break}}else if(!(v===y||r(v,y,n,s,i))){f=!1;break}}return i.delete(t),i.delete(e),f}var Ig=yT,bT=Nn,wT=bT.Uint8Array,Tg=wT;function CT(t){var e=-1,n=Array(t.size);return t.forEach(function(s,r){n[++e]=[r,s]}),n}var ET=CT;function ST(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var DT=ST,Lh=ml,Fh=Tg,IT=oi,TT=Ig,$T=ET,PT=DT,kT=1,AT=2,xT="[object Boolean]",OT="[object Date]",MT="[object Error]",RT="[object Map]",NT="[object Number]",LT="[object RegExp]",FT="[object Set]",YT="[object String]",BT="[object Symbol]",WT="[object ArrayBuffer]",HT="[object DataView]",Yh=Lh?Lh.prototype:void 0,cc=Yh?Yh.valueOf:void 0;function jT(t,e,n,s,r,i,o){switch(n){case HT:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case WT:return!(t.byteLength!=e.byteLength||!i(new Fh(t),new Fh(e)));case xT:case OT:case NT:return IT(+t,+e);case MT:return t.name==e.name&&t.message==e.message;case LT:case YT:return t==e+"";case RT:var a=$T;case FT:var l=s&kT;if(a||(a=PT),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;s|=AT,o.set(t,e);var u=TT(a(t),a(e),s,r,i,o);return o.delete(t),u;case BT:if(cc)return cc.call(t)==cc.call(e)}return!1}var UT=jT;function VT(t,e){for(var n=-1,s=e.length,r=t.length;++n<s;)t[r+n]=e[n];return t}var zT=VT,KT=zT,GT=Cn;function qT(t,e,n){var s=e(t);return GT(t)?s:KT(s,n(t))}var QT=qT;function ZT(t,e){for(var n=-1,s=t==null?0:t.length,r=0,i=[];++n<s;){var o=t[n];e(o,n,t)&&(i[r++]=o)}return i}var JT=ZT;function XT(){return[]}var e$=XT,t$=JT,n$=e$,s$=Object.prototype,r$=s$.propertyIsEnumerable,Bh=Object.getOwnPropertySymbols,i$=Bh?function(t){return t==null?[]:(t=Object(t),t$(Bh(t),function(e){return r$.call(t,e)}))}:n$,o$=i$;function a$(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var l$=a$,zr={},c$={get exports(){return zr},set exports(t){zr=t}};function u$(){return!1}var d$=u$;(function(t,e){var n=Nn,s=d$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||s;t.exports=c})(c$,zr);var f$=Ln,h$=md,p$=En,m$="[object Arguments]",v$="[object Array]",g$="[object Boolean]",_$="[object Date]",y$="[object Error]",b$="[object Function]",w$="[object Map]",C$="[object Number]",E$="[object Object]",S$="[object RegExp]",D$="[object Set]",I$="[object String]",T$="[object WeakMap]",$$="[object ArrayBuffer]",P$="[object DataView]",k$="[object Float32Array]",A$="[object Float64Array]",x$="[object Int8Array]",O$="[object Int16Array]",M$="[object Int32Array]",R$="[object Uint8Array]",N$="[object Uint8ClampedArray]",L$="[object Uint16Array]",F$="[object Uint32Array]",Je={};Je[k$]=Je[A$]=Je[x$]=Je[O$]=Je[M$]=Je[R$]=Je[N$]=Je[L$]=Je[F$]=!0;Je[m$]=Je[v$]=Je[$$]=Je[g$]=Je[P$]=Je[_$]=Je[y$]=Je[b$]=Je[w$]=Je[C$]=Je[E$]=Je[S$]=Je[D$]=Je[I$]=Je[T$]=!1;function Y$(t){return p$(t)&&h$(t.length)&&!!Je[f$(t)]}var B$=Y$,W$=B$,H$=Sg,Wh=ro,Hh=Wh&&Wh.isTypedArray,j$=Hh?H$(Hh):W$,gd=j$,U$=l$,V$=hd,z$=Cn,K$=zr,G$=pd,q$=gd,Q$=Object.prototype,Z$=Q$.hasOwnProperty;function J$(t,e){var n=z$(t),s=!n&&V$(t),r=!n&&!s&&K$(t),i=!n&&!s&&!r&&q$(t),o=n||s||r||i,a=o?U$(t.length,String):[],l=a.length;for(var c in t)(e||Z$.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||G$(c,l)))&&a.push(c);return a}var $g=J$,X$=Object.prototype;function eP(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||X$;return t===n}var _d=eP;function tP(t,e){return function(n){return t(e(n))}}var Pg=tP,nP=Pg,sP=nP(Object.keys,Object),rP=sP,iP=_d,oP=rP,aP=Object.prototype,lP=aP.hasOwnProperty;function cP(t){if(!iP(t))return oP(t);var e=[];for(var n in Object(t))lP.call(t,n)&&n!="constructor"&&e.push(n);return e}var uP=cP,dP=gr,fP=md;function hP(t){return t!=null&&fP(t.length)&&!dP(t)}var To=hP,pP=$g,mP=uP,vP=To;function gP(t){return vP(t)?pP(t):mP(t)}var yd=gP,_P=QT,yP=o$,bP=yd;function wP(t){return _P(t,bP,yP)}var CP=wP,jh=CP,EP=1,SP=Object.prototype,DP=SP.hasOwnProperty;function IP(t,e,n,s,r,i){var o=n&EP,a=jh(t),l=a.length,c=jh(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:DP.call(e,f)))return!1}var h=i.get(t),v=i.get(e);if(h&&v)return h==e&&v==t;var y=!0;i.set(t,e),i.set(e,t);for(var w=o;++d<l;){f=a[d];var b=t[f],A=e[f];if(s)var L=o?s(A,b,f,e,t,i):s(b,A,f,t,e,i);if(!(L===void 0?b===A||r(b,A,n,s,i):L)){y=!1;break}w||(w=f=="constructor")}if(y&&!w){var P=t.constructor,x=e.constructor;P!=x&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof x=="function"&&x instanceof x)&&(y=!1)}return i.delete(t),i.delete(e),y}var TP=IP,$P=_r,PP=Nn,kP=$P(PP,"DataView"),AP=kP,xP=_r,OP=Nn,MP=xP(OP,"Promise"),RP=MP,NP=_r,LP=Nn,FP=NP(LP,"Set"),YP=FP,BP=_r,WP=Nn,HP=BP(WP,"WeakMap"),jP=HP,Gc=AP,qc=ud,Qc=RP,Zc=YP,Jc=jP,kg=Ln,ui=gg,Uh="[object Map]",UP="[object Object]",Vh="[object Promise]",zh="[object Set]",Kh="[object WeakMap]",Gh="[object DataView]",VP=ui(Gc),zP=ui(qc),KP=ui(Qc),GP=ui(Zc),qP=ui(Jc),Gs=kg;(Gc&&Gs(new Gc(new ArrayBuffer(1)))!=Gh||qc&&Gs(new qc)!=Uh||Qc&&Gs(Qc.resolve())!=Vh||Zc&&Gs(new Zc)!=zh||Jc&&Gs(new Jc)!=Kh)&&(Gs=function(t){var e=kg(t),n=e==UP?t.constructor:void 0,s=n?ui(n):"";if(s)switch(s){case VP:return Gh;case zP:return Uh;case KP:return Vh;case GP:return zh;case qP:return Kh}return e});var QP=Gs,uc=vd,ZP=Ig,JP=UT,XP=TP,qh=QP,Qh=Cn,Zh=zr,ek=gd,tk=1,Jh="[object Arguments]",Xh="[object Array]",qo="[object Object]",nk=Object.prototype,ep=nk.hasOwnProperty;function sk(t,e,n,s,r,i){var o=Qh(t),a=Qh(e),l=o?Xh:qh(t),c=a?Xh:qh(e);l=l==Jh?qo:l,c=c==Jh?qo:c;var u=l==qo,d=c==qo,f=l==c;if(f&&Zh(t)){if(!Zh(e))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new uc),o||ek(t)?ZP(t,e,n,s,r,i):JP(t,e,l,n,s,r,i);if(!(n&tk)){var h=u&&ep.call(t,"__wrapped__"),v=d&&ep.call(e,"__wrapped__");if(h||v){var y=h?t.value():t,w=v?e.value():e;return i||(i=new uc),r(y,w,n,s,i)}}return f?(i||(i=new uc),XP(t,e,n,s,r,i)):!1}var rk=sk,ik=rk,tp=En;function Ag(t,e,n,s,r){return t===e?!0:t==null||e==null||!tp(t)&&!tp(e)?t!==t&&e!==e:ik(t,e,n,s,Ag,r)}var xg=Ag,ok=vd,ak=xg,lk=1,ck=2;function uk(t,e,n,s){var r=n.length,i=r,o=!s;if(t==null)return!i;for(t=Object(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=n[r];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new ok;if(s)var f=s(c,u,l,t,e,d);if(!(f===void 0?ak(u,c,lk|ck,s,d):f))return!1}}return!0}var dk=uk,fk=ns;function hk(t){return t===t&&!fk(t)}var Og=hk,pk=Og,mk=yd;function vk(t){for(var e=mk(t),n=e.length;n--;){var s=e[n],r=t[s];e[n]=[s,r,pk(r)]}return e}var gk=vk;function _k(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Mg=_k,yk=dk,bk=gk,wk=Mg;function Ck(t){var e=bk(t);return e.length==1&&e[0][2]?wk(e[0][0],e[0][1]):function(n){return n===t||yk(n,t,e)}}var Ek=Ck,Sk=bg,Dk=bl;function Ik(t,e){e=Sk(e,t);for(var n=0,s=e.length;t!=null&&n<s;)t=t[Dk(e[n++])];return n&&n==s?t:void 0}var Rg=Ik,Tk=Rg;function $k(t,e,n){var s=t==null?void 0:Tk(t,e);return s===void 0?n:s}var er=$k;function Pk(t,e){return t!=null&&e in Object(t)}var kk=Pk,Ak=kk,xk=Cg;function Ok(t,e){return t!=null&&xk(t,e,Ak)}var Mk=Ok,Rk=xg,Nk=er,Lk=Mk,Fk=cd,Yk=Og,Bk=Mg,Wk=bl,Hk=1,jk=2;function Uk(t,e){return Fk(t)&&Yk(e)?Bk(Wk(t),e):function(n){var s=Nk(n,t);return s===void 0&&s===e?Lk(n,t):Rk(e,s,Hk|jk)}}var Vk=Uk;function zk(t){return t}var bd=zk;function Kk(t){return function(e){return e==null?void 0:e[t]}}var Gk=Kk,qk=Rg;function Qk(t){return function(e){return qk(e,t)}}var Zk=Qk,Jk=Gk,Xk=Zk,eA=cd,tA=bl;function nA(t){return eA(t)?Jk(tA(t)):Xk(t)}var sA=nA,rA=Ek,iA=Vk,oA=bd,aA=Cn,lA=sA;function cA(t){return typeof t=="function"?t:t==null?oA:typeof t=="object"?aA(t)?iA(t[0],t[1]):rA(t):lA(t)}var Ng=cA;function uA(t){return function(e,n,s){for(var r=-1,i=Object(e),o=s(e),a=o.length;a--;){var l=o[t?a:++r];if(n(i[l],l,i)===!1)break}return e}}var dA=uA,fA=dA,hA=fA(),Lg=hA,pA=Lg,mA=yd;function vA(t,e){return t&&pA(t,e,mA)}var Fg=vA,gA=To;function _A(t,e){return function(n,s){if(n==null)return n;if(!gA(n))return t(n,s);for(var r=n.length,i=e?r:-1,o=Object(n);(e?i--:++i<r)&&s(o[i],i,o)!==!1;);return n}}var yA=_A,bA=Fg,wA=yA,CA=wA(bA),EA=CA,SA=EA;function DA(t,e){var n;return SA(t,function(s,r,i){return n=e(s,r,i),!n}),!!n}var IA=DA,TA=oi,$A=To,PA=pd,kA=ns;function AA(t,e,n){if(!kA(n))return!1;var s=typeof e;return(s=="number"?$A(n)&&PA(e,n.length):s=="string"&&e in n)?TA(n[e],t):!1}var wd=AA,xA=Dg,OA=Ng,MA=IA,RA=Cn,NA=wd;function LA(t,e,n){var s=RA(t)?xA:MA;return n&&NA(t,e,n)&&(e=void 0),s(t,OA(e))}var FA=LA,YA=Ln,BA=En,WA="[object Boolean]";function HA(t){return t===!0||t===!1||BA(t)&&YA(t)==WA}var jA=HA,UA=Ln,VA=En,zA="[object Number]";function KA(t){return typeof t=="number"||VA(t)&&UA(t)==zA}var bn=KA,GA=_r,qA=function(){try{var t=GA(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Yg=qA,np=Yg;function QA(t,e,n){e=="__proto__"&&np?np(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var wl=QA,ZA=wl,JA=oi,XA=Object.prototype,ex=XA.hasOwnProperty;function tx(t,e,n){var s=t[e];(!(ex.call(t,e)&&JA(s,n))||n===void 0&&!(e in t))&&ZA(t,e,n)}var nx=tx,sx=wl,rx=Fg,ix=Ng;function ox(t,e){var n={};return e=ix(e),rx(t,function(s,r,i){sx(n,r,e(s,r,i))}),n}var ax=ox;function lx(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Bg=lx,cx=Bg,sp=Math.max;function ux(t,e,n){return e=sp(e===void 0?t.length-1:e,0),function(){for(var s=arguments,r=-1,i=sp(s.length-e,0),o=Array(i);++r<i;)o[r]=s[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=s[r];return a[e]=n(o),cx(t,this,a)}}var dx=ux;function fx(t){return function(){return t}}var hx=fx,px=hx,rp=Yg,mx=bd,vx=rp?function(t,e){return rp(t,"toString",{configurable:!0,enumerable:!1,value:px(e),writable:!0})}:mx,gx=vx,_x=800,yx=16,bx=Date.now;function wx(t){var e=0,n=0;return function(){var s=bx(),r=yx-(s-n);if(n=s,r>0){if(++e>=_x)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Cx=wx,Ex=gx,Sx=Cx,Dx=Sx(Ex),Ix=Dx,Tx=bd,$x=dx,Px=Ix;function kx(t,e){return Px($x(t,e,Tx),t+"")}var Cd=kx;function Ax(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var xx=Ax,Ox=ns,Mx=_d,Rx=xx,Nx=Object.prototype,Lx=Nx.hasOwnProperty;function Fx(t){if(!Ox(t))return Rx(t);var e=Mx(t),n=[];for(var s in t)s=="constructor"&&(e||!Lx.call(t,s))||n.push(s);return n}var Yx=Fx,Bx=$g,Wx=Yx,Hx=To;function jx(t){return Hx(t)?Bx(t,!0):Wx(t)}var Ed=jx,Ux=Cd,Vx=oi,zx=wd,Kx=Ed,Wg=Object.prototype,Gx=Wg.hasOwnProperty,qx=Ux(function(t,e){t=Object(t);var n=-1,s=e.length,r=s>2?e[2]:void 0;for(r&&zx(e[0],e[1],r)&&(s=1);++n<s;)for(var i=e[n],o=Kx(i),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||Vx(u,Wg[c])&&!Gx.call(t,c))&&(t[c]=i[c])}return t}),ip=qx,Qx=wl,Zx=oi;function Jx(t,e,n){(n!==void 0&&!Zx(t[e],n)||n===void 0&&!(e in t))&&Qx(t,e,n)}var Hg=Jx,Ca={},Xx={get exports(){return Ca},set exports(t){Ca=t}};(function(t,e){var n=Nn,s=e&&!e.nodeType&&e,r=s&&!0&&t&&!t.nodeType&&t,i=r&&r.exports===s,o=i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}t.exports=l})(Xx,Ca);var op=Tg;function eO(t){var e=new t.constructor(t.byteLength);return new op(e).set(new op(t)),e}var tO=eO,nO=tO;function sO(t,e){var n=e?nO(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var rO=sO;function iO(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var oO=iO,aO=ns,ap=Object.create,lO=function(){function t(){}return function(e){if(!aO(e))return{};if(ap)return ap(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),cO=lO,uO=Pg,dO=uO(Object.getPrototypeOf,Object),jg=dO,fO=cO,hO=jg,pO=_d;function mO(t){return typeof t.constructor=="function"&&!pO(t)?fO(hO(t)):{}}var vO=mO,gO=To,_O=En;function yO(t){return _O(t)&&gO(t)}var bO=yO,wO=Ln,CO=jg,EO=En,SO="[object Object]",DO=Function.prototype,IO=Object.prototype,Ug=DO.toString,TO=IO.hasOwnProperty,$O=Ug.call(Object);function PO(t){if(!EO(t)||wO(t)!=SO)return!1;var e=CO(t);if(e===null)return!0;var n=TO.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ug.call(n)==$O}var kO=PO;function AO(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Vg=AO,xO=nx,OO=wl;function MO(t,e,n,s){var r=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=s?s(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),r?OO(n,a,l):xO(n,a,l)}return n}var RO=MO,NO=RO,LO=Ed;function FO(t){return NO(t,LO(t))}var YO=FO,lp=Hg,BO=Ca,WO=rO,HO=oO,jO=vO,cp=hd,up=Cn,UO=bO,VO=zr,zO=gr,KO=ns,GO=kO,qO=gd,dp=Vg,QO=YO;function ZO(t,e,n,s,r,i,o){var a=dp(t,n),l=dp(e,n),c=o.get(l);if(c){lp(t,n,c);return}var u=i?i(a,l,n+"",t,e,o):void 0,d=u===void 0;if(d){var f=up(l),h=!f&&VO(l),v=!f&&!h&&qO(l);u=l,f||h||v?up(a)?u=a:UO(a)?u=HO(a):h?(d=!1,u=BO(l,!0)):v?(d=!1,u=WO(l,!0)):u=[]:GO(l)||cp(l)?(u=a,cp(a)?u=QO(a):(!KO(a)||zO(a))&&(u=jO(l))):d=!1}d&&(o.set(l,u),r(u,l,s,i,o),o.delete(l)),lp(t,n,u)}var JO=ZO,XO=vd,eM=Hg,tM=Lg,nM=JO,sM=ns,rM=Ed,iM=Vg;function zg(t,e,n,s,r){t!==e&&tM(e,function(i,o){if(r||(r=new XO),sM(i))nM(t,e,o,n,zg,s,r);else{var a=s?s(iM(t,o),i,o+"",t,e,r):void 0;a===void 0&&(a=i),eM(t,o,a)}},rM)}var Kg=zg,oM=Kg,fp=ns;function Gg(t,e,n,s,r,i){return fp(t)&&fp(e)&&(i.set(e,t),oM(t,e,void 0,Gg,i),i.delete(e)),t}var aM=Gg,lM=Cd,cM=wd;function uM(t){return lM(function(e,n){var s=-1,r=n.length,i=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(r--,i):void 0,o&&cM(n[0],n[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++s<r;){var a=n[s];a&&t(e,a,s,i)}return e})}var dM=uM,fM=Kg,hM=dM,pM=hM(function(t,e,n,s){fM(t,e,n,s)}),mM=pM,vM=Bg,gM=Cd,_M=aM,yM=mM,bM=gM(function(t){return t.push(void 0,_M),vM(yM,void 0,t)}),Kr=bM;function wM(t){return t&&t.length?t[0]:void 0}var qg=wM;function CM(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Pr=CM;const EM=t=>Object.prototype.toString.call(t).slice(8,-1),Mr=t=>PI(t)&&!isNaN(t.getTime()),Qn=t=>EM(t)==="Object",Qg=Eg,hp=(t,e)=>FA(e,n=>Eg(t,n)),Ye=(t,e,n="0")=>{for(t=t!=null?String(t):"",e=e||2;t.length<e;)t=`${n}${t}`;return t},un=t=>Array.isArray(t),Hn=t=>un(t)&&t.length>0,Ea=t=>t==null?null:document&&$n(t)?document.querySelector(t):t.$el??t,vs=(t,e,n,s=void 0)=>{t.removeEventListener(e,n,s)},gs=(t,e,n,s=void 0)=>(t.addEventListener(e,n,s),()=>vs(t,e,n,s)),la=(t,e)=>!!t&&!!e&&(t===e||t.contains(e)),Qo=(t,e)=>{(t.key===" "||t.key==="Enter")&&(e(t),t.preventDefault())},Zg=(t,...e)=>{const n={};let s;for(s in t)e.includes(s)||(n[s]=t[s]);return n},Jg=(t,e)=>{const n={};return e.forEach(s=>{s in t&&(n[s]=t[s])}),n};function SM(t,e,n){return Math.min(Math.max(t,e),n)}var Sa={},DM={get exports(){return Sa},set exports(t){Sa=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(s){if(s===null||s===!0||s===!1)return NaN;var r=Number(s);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}t.exports=e.default})(DM,Sa);const IM=pg(Sa);var Da={},TM={get exports(){return Da},set exports(t){Da=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(s){var r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),s.getTime()-r.getTime()}t.exports=e.default})(TM,Da);const pp=pg(Da);function $M(t,e){var n=xM(e);return n.formatToParts?kM(n,t):AM(n,t)}var PM={year:0,month:1,day:2,hour:3,minute:4,second:5};function kM(t,e){try{for(var n=t.formatToParts(e),s=[],r=0;r<n.length;r++){var i=PM[n[r].type];i>=0&&(s[i]=parseInt(n[r].value,10))}return s}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function AM(t,e){var n=t.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[s[3],s[1],s[2],s[4],s[5],s[6]]}var dc={};function xM(t){if(!dc[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";dc[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return dc[t]}function Xg(t,e,n,s,r,i,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(s,r,i,o),a}var mp=36e5,OM=6e4,fc={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function MM(t,e,n){var s,r;if(!t||(s=fc.timezoneZ.exec(t),s))return 0;var i;if(s=fc.timezoneHH.exec(t),s)return i=parseInt(s[1],10),vp(i)?-(i*mp):NaN;if(s=fc.timezoneHHMM.exec(t),s){i=parseInt(s[1],10);var o=parseInt(s[2],10);return vp(i,o)?(r=Math.abs(i)*mp+o*OM,i>0?-r:r):NaN}if(LM(t)){e=new Date(e||Date.now());var a=n?e:RM(e),l=Xc(a,t),c=n?l:NM(e,l,t);return-c}return NaN}function RM(t){return Xg(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Xc(t,e){var n=$M(t,e),s=Xg(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=t.getTime(),i=r%1e3;return r-=i>=0?i:1e3+i,s-r}function NM(t,e,n){var s=t.getTime(),r=s-e,i=Xc(new Date(r),n);if(e===i)return e;r-=i-e;var o=Xc(new Date(r),n);return i===o?i:Math.max(i,o)}function vp(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var gp={};function LM(t){if(gp[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),gp[t]=!0,!0}catch{return!1}}var FM=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const YM=FM;var hc=36e5,_p=6e4,BM=2,Ot={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:YM};function WM(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},s=n.additionalDigits==null?BM:IM(n.additionalDigits);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var r=HM(t),i=jM(r.date,s),o=i.year,a=i.restDateString,l=UM(a,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),u=0,d;if(r.time&&(u=VM(r.time),isNaN(u)))return new Date(NaN);if(r.timeZone||n.timeZone){if(d=MM(r.timeZone||n.timeZone,new Date(c+u)),isNaN(d))return new Date(NaN)}else d=pp(new Date(c+u)),d=pp(new Date(c+u+d));return new Date(c+u+d)}else return new Date(NaN)}function HM(t){var e={},n=Ot.dateTimePattern.exec(t),s;if(n?(e.date=n[1],s=n[3]):(n=Ot.datePattern.exec(t),n?(e.date=n[1],s=n[2]):(e.date=null,s=t)),s){var r=Ot.timeZone.exec(s);r?(e.time=s.replace(r[1],""),e.timeZone=r[1].trim()):e.time=s}return e}function jM(t,e){var n=Ot.YYY[e],s=Ot.YYYYY[e],r;if(r=Ot.YYYY.exec(t)||s.exec(t),r){var i=r[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(r=Ot.YY.exec(t)||n.exec(t),r){var o=r[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function UM(t,e){if(e===null)return null;var n,s,r,i;if(t.length===0)return s=new Date(0),s.setUTCFullYear(e),s;if(n=Ot.MM.exec(t),n)return s=new Date(0),r=parseInt(n[1],10)-1,bp(e,r)?(s.setUTCFullYear(e,r),s):new Date(NaN);if(n=Ot.DDD.exec(t),n){s=new Date(0);var o=parseInt(n[1],10);return GM(e,o)?(s.setUTCFullYear(e,0,o),s):new Date(NaN)}if(n=Ot.MMDD.exec(t),n){s=new Date(0),r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return bp(e,r,a)?(s.setUTCFullYear(e,r,a),s):new Date(NaN)}if(n=Ot.Www.exec(t),n)return i=parseInt(n[1],10)-1,wp(e,i)?yp(e,i):new Date(NaN);if(n=Ot.WwwD.exec(t),n){i=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return wp(e,i,l)?yp(e,i,l):new Date(NaN)}return null}function VM(t){var e,n,s;if(e=Ot.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),pc(n)?n%24*hc:NaN;if(e=Ot.HHMM.exec(t),e)return n=parseInt(e[1],10),s=parseFloat(e[2].replace(",",".")),pc(n,s)?n%24*hc+s*_p:NaN;if(e=Ot.HHMMSS.exec(t),e){n=parseInt(e[1],10),s=parseInt(e[2],10);var r=parseFloat(e[3].replace(",","."));return pc(n,s,r)?n%24*hc+s*_p+r*1e3:NaN}return null}function yp(t,e,n){e=e||0,n=n||0;var s=new Date(0);s.setUTCFullYear(t,0,4);var r=s.getUTCDay()||7,i=e*7+n+1-r;return s.setUTCDate(s.getUTCDate()+i),s}var zM=[31,28,31,30,31,30,31,31,30,31,30,31],KM=[31,29,31,30,31,30,31,31,30,31,30,31];function e_(t){return t%400===0||t%4===0&&t%100!==0}function bp(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var s=e_(t);if(s&&n>KM[e]||!s&&n>zM[e])return!1}return!0}function GM(t,e){if(e<1)return!1;var n=e_(t);return!(n&&e>366||!n&&e>365)}function wp(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function pc(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function $t(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function ca(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ca=function(n){return typeof n}:ca=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ca(t)}function ss(t){$t(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ca(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function di(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}var qM={};function Sd(){return qM}function ar(t,e){var n,s,r,i,o,a,l,c;$t(1,arguments);var u=Sd(),d=di((n=(s=(r=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ss(t),h=f.getDay(),v=(h<d?7:0)+h-d;return f.setDate(f.getDate()-v),f.setHours(0,0,0,0),f}function Cp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var QM=6048e5;function ZM(t,e,n){$t(2,arguments);var s=ar(t,n),r=ar(e,n),i=s.getTime()-Cp(s),o=r.getTime()-Cp(r);return Math.round((i-o)/QM)}function JM(t){$t(1,arguments);var e=ss(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function XM(t){$t(1,arguments);var e=ss(t);return e.setDate(1),e.setHours(0,0,0,0),e}function eR(t,e){return $t(1,arguments),ZM(JM(t),XM(t),e)+1}function tR(t,e){var n,s,r,i,o,a,l,c;$t(1,arguments);var u=ss(t),d=u.getFullYear(),f=Sd(),h=di((n=(s=(r=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:f.firstWeekContainsDate)!==null&&s!==void 0?s:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(d+1,0,h),v.setHours(0,0,0,0);var y=ar(v,e),w=new Date(0);w.setFullYear(d,0,h),w.setHours(0,0,0,0);var b=ar(w,e);return u.getTime()>=y.getTime()?d+1:u.getTime()>=b.getTime()?d:d-1}function nR(t,e){var n,s,r,i,o,a,l,c;$t(1,arguments);var u=Sd(),d=di((n=(s=(r=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=tR(t,e),h=new Date(0);h.setFullYear(f,0,d),h.setHours(0,0,0,0);var v=ar(h,e);return v}var sR=6048e5;function rR(t,e){$t(1,arguments);var n=ss(t),s=ar(n,e).getTime()-nR(n,e).getTime();return Math.round(s/sR)+1}function Ia(t){return $t(1,arguments),ar(t,{weekStartsOn:1})}function iR(t){$t(1,arguments);var e=ss(t),n=e.getFullYear(),s=new Date(0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);var r=Ia(s),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var o=Ia(i);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function oR(t){$t(1,arguments);var e=iR(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var s=Ia(n);return s}var aR=6048e5;function lR(t){$t(1,arguments);var e=ss(t),n=Ia(e).getTime()-oR(e).getTime();return Math.round(n/aR)+1}function xt(t,e){$t(2,arguments);var n=ss(t),s=di(e);return isNaN(s)?new Date(NaN):(s&&n.setDate(n.getDate()+s),n)}function Ta(t,e){$t(2,arguments);var n=ss(t),s=di(e);if(isNaN(s))return new Date(NaN);if(!s)return n;var r=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+s+1,0);var o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function Ep(t,e){$t(2,arguments);var n=di(e);return Ta(t,n*12)}const cR={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function uR({monthComps:t,prevMonthComps:e,nextMonthComps:n},s){const r=[],{firstDayOfWeek:i,firstWeekday:o,isoWeeknumbers:a,weeknumbers:l,numDays:c,numWeeks:u}=t,d=o+(o<i?Dt:0)-i;let f=!0,h=!1,v=!1,y=0;const w=new Intl.DateTimeFormat(s.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let b=e.numDays-d+1,A=e.numDays-b+1,L=Math.floor((b-1)/Dt+1),P=1,x=e.numWeeks,Y=1,V=e.month,k=e.year;const H=new Date,Z=H.getDate(),ie=H.getMonth()+1,T=H.getFullYear();for(let Q=1;Q<=sN;Q++){for(let me=1,ne=i;me<=Dt;me++,ne+=ne===Dt?1-Dt:1){f&&ne===o&&(b=1,A=t.numDays,L=Math.floor((b-1)/Dt+1),P=Math.floor((c-b)/Dt+1),x=1,Y=u,V=t.month,k=t.year,f=!1,h=!0);const re=s.getDateFromParams(k,V,b,0,0,0,0),le=s.getDateFromParams(k,V,b,12,0,0,0),fe=s.getDateFromParams(k,V,b,23,59,59,999),Ae=re,W=`${Ye(k,4)}-${Ye(V,2)}-${Ye(b,2)}`,ge=me,te=Dt-me,je=l[Q-1],$e=a[Q-1],Ze=b===Z&&V===ie&&k===T,xe=h&&b===1,E=h&&b===c,G=Q===1,K=Q===u,se=me===1,be=me===Dt,Pe=f_(k,V,b);r.push({locale:s,id:W,position:++y,label:b.toString(),ariaLabel:w.format(new Date(k,V-1,b)),day:b,dayFromEnd:A,weekday:ne,weekdayPosition:ge,weekdayPositionFromEnd:te,weekdayOrdinal:L,weekdayOrdinalFromEnd:P,week:x,weekFromEnd:Y,weekPosition:Q,weeknumber:je,isoWeeknumber:$e,month:V,year:k,date:Ae,startDate:re,endDate:fe,noonDate:le,dayIndex:Pe,isToday:Ze,isFirstDay:xe,isLastDay:E,isDisabled:!h,isFocusable:!h,isFocused:!1,inMonth:h,inPrevMonth:f,inNextMonth:v,onTop:G,onBottom:K,onLeft:se,onRight:be,classes:[`id-${W}`,`day-${b}`,`day-from-end-${A}`,`weekday-${ne}`,`weekday-position-${ge}`,`weekday-ordinal-${L}`,`weekday-ordinal-from-end-${P}`,`week-${x}`,`week-from-end-${Y}`,{"is-today":Ze,"is-first-day":xe,"is-last-day":E,"in-month":h,"in-prev-month":f,"in-next-month":v,"on-top":G,"on-bottom":K,"on-left":se,"on-right":be}]}),h&&E?(h=!1,v=!0,b=1,A=c,L=1,P=Math.floor((c-b)/Dt+1),x=1,Y=n.numWeeks,V=n.month,k=n.year):(b++,A--,L=Math.floor((b-1)/Dt+1),P=Math.floor((c-b)/Dt+1))}x++,Y--}return r}function dR(t,e,n,s){const r=t.reduce((i,o,a)=>{const l=Math.floor(a/7);let c=i[l];return c||(c={id:`week-${l+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:e?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},i[l]=c),c.days.push(o),i},Array(t.length/Dt));return r.forEach(i=>{const o=i.days[0],a=i.days[i.days.length-1];o.month===a.month?i.title=`${s.formatDate(o.date,"MMMM YYYY")}`:o.year===a.year?i.title=`${s.formatDate(o.date,"MMM")} - ${s.formatDate(a.date,"MMM YYYY")}`:i.title=`${s.formatDate(o.date,"MMM YYYY")} - ${s.formatDate(a.date,"MMM YYYY")}`}),r}function fR(t,e){return t.days.map(n=>({label:e.formatDate(n.date,e.masks.weekdays),weekday:n.weekday}))}function hR(t,e){return`${e}.${Ye(t,2)}`}function t_(t,e,n){return Jg(n.getDateParts(n.toDate(t)),cR[e])}function n_({day:t,week:e,month:n,year:s},r,i,o){if(i==="daily"&&t){const a=new Date(s,n-1,t),l=xt(a,r);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(i==="weekly"&&e){const l=o.getMonthParts(n,s).firstDayOfMonth,c=xt(l,(e-1+r)*7),u=o.getDateParts(c);return{week:u.week,month:u.month,year:u.year}}else{const a=new Date(s,n-1,1),l=Ta(a,r);return{month:l.getMonth()+1,year:l.getFullYear()}}}function Pn(t){return t!=null&&t.month!=null&&t.year!=null}function eu(t,e){return!Pn(t)||!Pn(e)?!1:(t=t,e=e,t.year!==e.year?t.year<e.year:t.month&&e.month&&t.month!==e.month?t.month<e.month:t.week&&e.week&&t.week!==e.week?t.week<e.week:t.day&&e.day&&t.day!==e.day?t.day<e.day:!1)}function $a(t,e){return!Pn(t)||!Pn(e)?!1:(t=t,e=e,t.year!==e.year?t.year>e.year:t.month&&e.month&&t.month!==e.month?t.month>e.month:t.week&&e.week&&t.week!==e.week?t.week>e.week:t.day&&e.day&&t.day!==e.day?t.day>e.day:!1)}function pR(t,e,n){return(t||!1)&&!eu(t,e)&&!$a(t,n)}function mR(t,e){return!t&&e||t&&!e?!1:!t&&!e?!0:(t=t,e=e,t.year===e.year&&t.month===e.month&&t.week===e.week&&t.day===e.day)}function vR(t,e,n,s){if(!Pn(t)||!Pn(e))return[];const r=[];for(;!$a(t,e);)r.push(t),t=n_(t,1,n,s);return r}function s_(t){const{day:e,week:n,month:s,year:r}=t;let i=`${r}-${Ye(s,2)}`;return n&&(i=`${i}-w${n}`),e&&(i=`${i}-${Ye(e,2)}`),i}function gR(t,e){const{month:n,year:s,showWeeknumbers:r,showIsoWeeknumbers:i}=t,o=new Date(s,n-1,15),a=e.getMonthParts(n,s),l=e.getPrevMonthParts(n,s),c=e.getNextMonthParts(n,s),u=uR({monthComps:a,prevMonthComps:l,nextMonthComps:c},e),d=dR(u,r,i,e),f=fR(d[0],e);return{id:s_(t),month:n,year:s,monthTitle:e.formatDate(o,e.masks.title),shortMonthLabel:e.formatDate(o,"MMM"),monthLabel:e.formatDate(o,"MMMM"),shortYearLabel:s.toString().substring(2),yearLabel:s.toString(),monthComps:a,prevMonthComps:l,nextMonthComps:c,days:u,weeks:d,weekdays:f}}function _R(t,e){const{day:n,week:s,view:r,trimWeeks:i}=t,o={...e,...t,title:"",viewDays:[],viewWeeks:[]};switch(r){case"daily":{let a=o.days.find(c=>c.inMonth);n?a=o.days.find(c=>c.day===n&&c.inMonth)||a:s&&(a=o.days.find(c=>c.week===s&&c.inMonth));const l=o.weeks[a.week-1];o.viewWeeks=[l],o.viewDays=[a],o.week=a.week,o.weekTitle=l.title,o.day=a.day,o.dayTitle=a.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=s||1;const a=o.weeks[o.week-1];o.viewWeeks=[a],o.viewDays=a.days,o.weekTitle=a.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,i?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class Sp{constructor(e,n,s){ce(this,"keys",[]),ce(this,"store",{}),this.size=e,this.createKey=n,this.createItem=s}get(...e){const n=this.createKey(...e);return this.store[n]}getOrSet(...e){const n=this.createKey(...e);if(this.store[n])return this.store[n];const s=this.createItem(...e);if(this.keys.length>=this.size){const r=this.keys.shift();r!=null&&delete this.store[r]}return this.keys.push(n),this.store[n]=s,s}}class Rr{constructor(e,n=new Pa){ce(this,"order"),ce(this,"locale"),ce(this,"start",null),ce(this,"end",null),ce(this,"repeat",null);var s;this.locale=n;const{start:r,end:i,span:o,order:a,repeat:l}=e;Mr(r)&&(this.start=n.getDateParts(r)),Mr(i)?this.end=n.getDateParts(i):this.start!=null&&o&&(this.end=n.getDateParts(xt(this.start.date,o-1))),this.order=a??0,l&&(this.repeat=new ka({from:(s=this.start)==null?void 0:s.date,...l},{locale:this.locale}))}static fromMany(e,n){return(un(e)?e:[e]).filter(s=>s).map(s=>Rr.from(s,n))}static from(e,n){if(e instanceof Rr)return e;const s={start:null,end:null};return e!=null&&(un(e)?(s.start=e[0]??null,s.end=e[1]??null):Qn(e)?Object.assign(s,e):(s.start=e,s.end=e)),s.start!=null&&(s.start=new Date(s.start)),s.end!=null&&(s.end=new Date(s.end)),new Rr(s,n)}get opts(){const{order:e,locale:n}=this;return{order:e,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:n}=this;return e&&n&&e.year===n.year&&e.month===n.month&&e.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var n,s;return((n=this.start)==null?void 0:n.dayIndex)===e.dayIndex||!!((s=this.repeat)!=null&&s.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var n,s;return this.intersectsDayRange(((n=e.start)==null?void 0:n.dayIndex)??-1/0,((s=e.end)==null?void 0:s.dayIndex)??1/0)}intersectsDayRange(e,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<e)}}class yR{constructor(){ce(this,"records",{})}render(e,n,s){var r,i,o,a;let l=null;const c=s[0].dayIndex,u=s[s.length-1].dayIndex;return n.hasRepeat?s.forEach(d=>{var f,h;if(n.startsOnDay(d)){const v=n.daySpan<1/0?n.daySpan:1;l={startDay:d.dayIndex,startTime:((f=n.start)==null?void 0:f.time)??0,endDay:d.dayIndex+v-1,endTime:((h=n.end)==null?void 0:h.time)??ua},this.getRangeRecords(e).push(l)}}):n.intersectsDayRange(c,u)&&(l={startDay:((r=n.start)==null?void 0:r.dayIndex)??-1/0,startTime:((i=n.start)==null?void 0:i.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((a=n.end)==null?void 0:a.time)??1/0},this.getRangeRecords(e).push(l)),l}getRangeRecords(e){let n=this.records[e.key];return n||(n={ranges:[],data:e},this.records[e.key]=n),n.ranges}getCell(e,n){return this.getCells(n).find(i=>i.data.key===e)}cellExists(e,n){const s=this.records[e];return s==null?!1:s.ranges.some(r=>r.startDay<=n&&r.endDay>=n)}getCells(e){const n=Object.values(this.records),s=[],{dayIndex:r}=e;return n.forEach(({data:i,ranges:o})=>{o.filter(a=>a.startDay<=r&&a.endDay>=r).forEach(a=>{const l=r===a.startDay,c=r===a.endDay,u=l?a.startTime:0,d=new Date(e.startDate.getTime()+u),f=c?a.endTime:ua,h=new Date(e.endDate.getTime()+f),v=u===0&&f===ua,y=i.order||0;s.push({...a,data:i,onStart:l,onEnd:c,startTime:u,startDate:d,endTime:f,endDate:h,allDay:v,order:y})})}),s.sort((i,o)=>i.order-o.order),s}}const Zn={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Zn.en=Zn["en-US"];Zn.es=Zn["es-ES"];Zn.no=Zn.nb;Zn.zh=Zn["zh-CN"];const bR=Object.entries(Zn).reduce((t,[e,{dow:n,L:s}])=>(t[e]={id:e,firstDayOfWeek:n,masks:{L:s}},t),{}),wR="MMMM YYYY",CR="W",ER="MMM",SR="h A",DR=["L","YYYY-MM-DD","YYYY/MM/DD"],IR=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],TR=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],$R=["h:mm A"],PR=["HH:mm"],kR="WWW, MMM D, YYYY",AR=["L","YYYY-MM-DD","YYYY/MM/DD"],xR="iso",OR="YYYY-MM-DDTHH:mm:ss.SSSZ",MR={title:wR,weekdays:CR,navMonths:ER,hours:SR,input:DR,inputDateTime:IR,inputDateTime24hr:TR,inputTime:$R,inputTime24hr:PR,dayPopover:kR,data:AR,model:xR,iso:OR},RR=300,NR=60,LR=80,FR={maxSwipeTime:RR,minHorizontalSwipeDistance:NR,maxVerticalSwipeDistance:LR},YR={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:FR,masks:MR,locales:bR,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},Nr=es(YR),BR=D(()=>ax(Nr.locales,t=>(t.masks=Kr(t.masks,Nr.masks),t))),As=t=>typeof window<"u"&&Qg(window.__vcalendar__,t)?er(window.__vcalendar__,t):er(Nr,t),WR=(t,e)=>(t.config.globalProperties.$VCalendar=Nr,Object.assign(Nr,Kr(e,Nr))),HR=12,jR=5;function UR(t,e){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let s;$n(t)?s=t:Qg(t,"id")&&(s=t.id),s=(s||n).toLowerCase();const r=Object.keys(e),i=l=>r.find(c=>c.toLowerCase()===l);s=i(s)||i(s.substring(0,2))||n;const o={...e["en-IE"],...e[s],id:s,monthCacheSize:HR,pageCacheSize:jR};return Qn(t)?Kr(t,o):o}class Pa{constructor(e=void 0,n){ce(this,"id"),ce(this,"daysInWeek"),ce(this,"firstDayOfWeek"),ce(this,"masks"),ce(this,"timezone"),ce(this,"hourLabels"),ce(this,"dayNames"),ce(this,"dayNamesShort"),ce(this,"dayNamesShorter"),ce(this,"dayNamesNarrow"),ce(this,"monthNames"),ce(this,"monthNamesShort"),ce(this,"relativeTimeNames"),ce(this,"amPm",["am","pm"]),ce(this,"monthCache"),ce(this,"pageCache");const{id:s,firstDayOfWeek:r,masks:i,monthCacheSize:o,pageCacheSize:a}=UR(e,BR.value);this.monthCache=new Sp(o,fN,hN),this.pageCache=new Sp(a,s_,gR),this.id=s,this.daysInWeek=Dt,this.firstDayOfWeek=SM(r,1,Dt),this.masks=i,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=mc("long",this.id),this.dayNamesShort=mc("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=mc("narrow",this.id),this.monthNames=kp("long",this.id),this.monthNamesShort=kp("short",this.id),this.relativeTimeNames=vN(this.id)}formatDate(e,n){return wN(e,n,this)}parseDate(e,n){return Ap(e,n,this)}toDate(e,n={}){const s=new Date(NaN);let r=s;const{fillDate:i,mask:o,patch:a,rules:l}=n;if(bn(e)?(n.type="number",r=new Date(+e)):$n(e)?(n.type="string",r=e?Ap(e,o||"iso",this):s):Mr(e)?(n.type="date",r=new Date(e.getTime())):Dd(e)&&(n.type="object",r=this.getDateFromParts(e)),r&&(a||l)){let c=this.getDateParts(r);if(a&&i!=null){const u=this.getDateParts(this.toDate(i));c=this.getDateParts(this.toDate({...u,...Jg(c,nN[a])}))}l&&(c=bN(c,l)),r=this.getDateFromParts(c)}return r||s}toDateOrNull(e,n={}){const s=this.toDate(e,n);return isNaN(s.getTime())?null:s}fromDate(e,{type:n,mask:s}={}){switch(n){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,s||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return Rr.from(e,this)}ranges(e){return Rr.fromMany(e,this)}getDateParts(e){return dN(e,this)}getDateFromParts(e){return p_(e,this.timezone)}getDateFromParams(e,n,s,r,i,o,a){return this.getDateFromParts({year:e,month:n,day:s,hours:r,minutes:i,seconds:o,milliseconds:a})}getPage(e){const n=this.pageCache.getOrSet(e,this);return _R(e,n)}getMonthParts(e,n){const{firstDayOfWeek:s}=this;return this.monthCache.getOrSet(e,n,s)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,n){return e===1?this.getMonthParts(12,n-1):this.getMonthParts(e-1,n)}getNextMonthParts(e,n){return e===12?this.getMonthParts(1,n+1):this.getMonthParts(e+1,n)}getHourLabels(){return mN().map(e=>this.formatDate(e,this.masks.hours))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}var Tr=(t=>(t.Any="any",t.All="all",t))(Tr||{}),r_=(t=>(t.Days="days",t.Weeks="weeks",t.Months="months",t.Years="years",t))(r_||{}),i_=(t=>(t.Days="days",t.Weekdays="weekdays",t.Weeks="weeks",t.Months="months",t.Years="years",t))(i_||{}),o_=(t=>(t.OrdinalWeekdays="ordinalWeekdays",t))(o_||{});class VR{constructor(e,n,s){ce(this,"validated",!0),this.type=e,this.interval=n,this.from=s,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:n}=e;switch(this.type){case"days":return Id(this.from.date,n)%this.interval===0;case"weeks":return cN(this.from.date,n)%this.interval===0;case"months":return uN(this.from.date,n)%this.interval===0;case"years":return h_(this.from.date,n)%this.interval===0;default:return!1}}}class fi{constructor(e,n,s,r){ce(this,"components",[]),this.type=e,this.validator=s,this.getter=r,this.components=this.normalizeComponents(n)}static create(e,n){switch(e){case"days":return new zR(n);case"weekdays":return new KR(n);case"weeks":return new GR(n);case"months":return new qR(n);case"years":return new QR(n)}}normalizeComponents(e){if(this.validator(e))return[e];if(!un(e))return[];const n=[];return e.forEach(s=>{if(!this.validator(s)){console.error(`Component value ${s} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(s)}),n}passes(e){return this.getter(e).some(r=>this.components.includes(r))}}class zR extends fi{constructor(e){super("days",e,XR,({day:n,dayFromEnd:s})=>[n,-s])}}class KR extends fi{constructor(e){super("weekdays",e,tu,({weekday:n})=>[n])}}class GR extends fi{constructor(e){super("weeks",e,eN,({week:n,weekFromEnd:s})=>[n,-s])}}class qR extends fi{constructor(e){super("months",e,tN,({month:n})=>[n])}}class QR extends fi{constructor(e){super("years",e,bn,({year:n})=>[n])}}class ZR{constructor(e,n){ce(this,"components"),this.type=e,this.components=this.normalizeComponents(n)}normalizeArrayConfig(e){const n=[];return e.forEach((s,r)=>{if(bn(s)){if(r===0)return;if(!Dp(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!tu(s)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],s])}else un(s)&&n.push(...this.normalizeArrayConfig(s))}),n}normalizeComponents(e){const n=[];return e.forEach((s,r)=>{if(bn(s)){if(r===0)return;if(!Dp(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!tu(s)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],s])}else un(s)&&n.push(...this.normalizeArrayConfig(s))}),n}passes(e){const{weekday:n,weekdayOrdinal:s,weekdayOrdinalFromEnd:r}=e;return this.components.some(([i,o])=>(i===s||i===-r)&&n===o)}}class JR{constructor(e){ce(this,"type","function"),ce(this,"validated",!0),this.fn=e,gr(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return this.validated?this.fn(e):!0}}class ka{constructor(e,n={},s){ce(this,"validated",!0),ce(this,"config"),ce(this,"type",Tr.Any),ce(this,"from"),ce(this,"until"),ce(this,"rules",[]),ce(this,"locale",new Pa),this.parent=s,n.locale&&(this.locale=n.locale),this.config=e,gr(e)?(this.type=Tr.All,this.rules=[new JR(e)]):un(e)?(this.type=Tr.Any,this.rules=e.map(r=>new ka(r,n,this))):Qn(e)?(this.type=Tr.All,this.from=e.from?this.locale.getDateParts(e.from):s==null?void 0:s.from,this.until=e.until?this.locale.getDateParts(e.until):s==null?void 0:s.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const n=[];if(e.every&&($n(e.every)&&(e.every=[1,`${e.every}s`]),un(e.every))){const[s=1,r=r_.Days]=e.every;n.push(new VR(r,s,this.from))}return Object.values(i_).forEach(s=>{s in e&&n.push(fi.create(s,e[s]))}),Object.values(o_).forEach(s=>{s in e&&n.push(new ZR(s,e[s]))}),e.on!=null&&(un(e.on)||(e.on=[e.on]),n.push(new ka(e.on,{locale:this.locale},this.parent))),n}passes(e){return this.validated?this.from&&e.dayIndex<=this.from.dayIndex||this.until&&e.dayIndex>=this.until.dayIndex?!1:this.type===Tr.Any?this.rules.some(n=>n.passes(e)):this.rules.every(n=>n.passes(e)):!0}}function XR(t){return bn(t)?t>=1&&t<=31:!1}function tu(t){return bn(t)?t>=1&&t<=7:!1}function eN(t){return bn(t)?t>=-6&&t<=-1||t>=1&&t<=6:!1}function tN(t){return bn(t)?t>=1&&t<=12:!1}function Dp(t){return!(!bn(t)||t<-5||t>5||t===0)}const nN={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},Dt=7,sN=6,a_=1e3,l_=a_*60,c_=l_*60,ua=c_*24,rN=[31,28,31,30,31,30,31,31,30,31,30,31],iN=["L","iso"],xi={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},u_=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,oN=/\[([^]*?)\]/gm,Ip={D(t){return t.day},DD(t){return Ye(t.day,2)},d(t){return t.weekday-1},dd(t){return Ye(t.weekday-1,2)},W(t,e){return e.dayNamesNarrow[t.weekday-1]},WW(t,e){return e.dayNamesShorter[t.weekday-1]},WWW(t,e){return e.dayNamesShort[t.weekday-1]},WWWW(t,e){return e.dayNames[t.weekday-1]},M(t){return t.month},MM(t){return Ye(t.month,2)},MMM(t,e){return e.monthNamesShort[t.month-1]},MMMM(t,e){return e.monthNames[t.month-1]},YY(t){return String(t.year).substr(2)},YYYY(t){return Ye(t.year,4)},h(t){return t.hours%12||12},hh(t){return Ye(t.hours%12||12,2)},H(t){return t.hours},HH(t){return Ye(t.hours,2)},m(t){return t.minutes},mm(t){return Ye(t.minutes,2)},s(t){return t.seconds},ss(t){return Ye(t.seconds,2)},S(t){return Math.round(t.milliseconds/100)},SS(t){return Ye(Math.round(t.milliseconds/10),2)},SSS(t){return Ye(t.milliseconds,3)},a(t,e){return t.hours<12?e.amPm[0]:e.amPm[1]},A(t,e){return t.hours<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Ye(Math.floor(Math.abs(e)/60),2)}`},ZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Ye(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)}`},ZZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Ye(Math.floor(Math.abs(e)/60),2)}:${Ye(Math.abs(e)%60,2)}`}},as=/\d\d?/,aN=/\d{3}/,lN=/\d{4}/,Si=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Tp=()=>{},$p=t=>(e,n,s)=>{const r=s[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(e.month=r)},Ke={D:[as,(t,e)=>{t.day=e}],Do:[new RegExp(as.source+Si.source),(t,e)=>{t.day=parseInt(e,10)}],d:[as,Tp],W:[Si,Tp],M:[as,(t,e)=>{t.month=e-1}],MMM:[Si,$p("monthNamesShort")],MMMM:[Si,$p("monthNames")],YY:[as,(t,e)=>{const s=+new Date().getFullYear().toString().substr(0,2);t.year=+`${e>68?s-1:s}${e}`}],YYYY:[lN,(t,e)=>{t.year=e}],S:[/\d/,(t,e)=>{t.milliseconds=e*100}],SS:[/\d{2}/,(t,e)=>{t.milliseconds=e*10}],SSS:[aN,(t,e)=>{t.milliseconds=e}],h:[as,(t,e)=>{t.hours=e}],m:[as,(t,e)=>{t.minutes=e}],s:[as,(t,e)=>{t.seconds=e}],a:[Si,(t,e,n)=>{const s=e.toLowerCase();s===n.amPm[0]?t.isPm=!1:s===n.amPm[1]&&(t.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(t,e)=>{e==="Z"&&(e="+00:00");const n=`${e}`.match(/([+-]|\d\d)/gi);if(n){const s=+n[1]*60+parseInt(n[2],10);t.timezoneOffset=n[0]==="+"?s:-s}}]};Ke.DD=Ke.D;Ke.dd=Ke.d;Ke.WWWW=Ke.WWW=Ke.WW=Ke.W;Ke.MM=Ke.M;Ke.mm=Ke.m;Ke.hh=Ke.H=Ke.HH=Ke.h;Ke.ss=Ke.s;Ke.A=Ke.a;Ke.ZZZZ=Ke.ZZZ=Ke.ZZ=Ke.Z;function d_(t,e){return(Hn(t)&&t||[$n(t)&&t||"YYYY-MM-DD"]).map(n=>iN.reduce((s,r)=>s.replace(r,e.masks[r]||""),n))}function Dd(t){return Qn(t)&&"year"in t&&"month"in t&&"day"in t}function Pp(t,e=1){const n=t.getDay()+1,s=n>=e?e-n:-(7-(e-n));return xt(t,s)}function f_(t,e,n){const s=Date.UTC(t,e-1,n);return Id(new Date(0),new Date(s))}function Id(t,e){return Math.round((e.getTime()-t.getTime())/ua)}function cN(t,e){return Math.ceil(Id(Pp(t),Pp(e))/7)}function h_(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}function uN(t,e){return h_(t,e)*12+(e.getMonth()-t.getMonth())}function p_(t,e=""){const n=new Date,{year:s=n.getFullYear(),month:r=n.getMonth()+1,day:i=n.getDate(),hours:o=0,minutes:a=0,seconds:l=0,milliseconds:c=0}=t;if(e){const u=`${Ye(s,4)}-${Ye(r,2)}-${Ye(i,2)}T${Ye(o,2)}:${Ye(a,2)}:${Ye(l,2)}.${Ye(c,3)}`;return WM(u,{timeZone:e})}return new Date(s,r-1,i,o,a,l,c)}function dN(t,e){let n=new Date(t.getTime());e.timezone&&(n=new Date(t.toLocaleString("en-US",{timeZone:e.timezone})),n.setMilliseconds(t.getMilliseconds()));const s=n.getMilliseconds(),r=n.getSeconds(),i=n.getMinutes(),o=n.getHours(),a=s+r*a_+i*l_+o*c_,l=n.getMonth()+1,c=n.getFullYear(),u=e.getMonthParts(l,c),d=n.getDate(),f=u.numDays-d+1,h=n.getDay()+1,v=Math.floor((d-1)/7+1),y=Math.floor((u.numDays-d)/7+1),w=Math.ceil((d+Math.abs(u.firstWeekday-u.firstDayOfWeek))/7),b=u.numWeeks-w+1,A=u.weeknumbers[w],L=f_(c,l,d);return{milliseconds:s,seconds:r,minutes:i,hours:o,time:a,day:d,dayFromEnd:f,weekday:h,weekdayOrdinal:v,weekdayOrdinalFromEnd:y,week:w,weekFromEnd:b,weeknumber:A,month:l,year:c,date:n,dateTime:n.getTime(),dayIndex:L,timezoneOffset:0,isValid:!0}}function fN(t,e,n){return`${e}-${t}-${n}`}function hN(t,e,n){const s=e%4===0&&e%100!==0||e%400===0,r=new Date(e,t-1,1),i=r.getDay()+1,o=t===2&&s?29:rN[t-1],a=n-1,l=eR(r,{weekStartsOn:a}),c=[],u=[];for(let d=0;d<l;d++){const f=xt(r,d*7);c.push(rR(f,{weekStartsOn:a})),u.push(lR(f))}return{firstDayOfWeek:n,firstDayOfMonth:r,inLeapYear:s,firstWeekday:i,numDays:o,numWeeks:l,month:t,year:e,weeknumbers:c,isoWeeknumbers:u}}function pN(){const t=[];for(let r=0;r<Dt;r++)t.push(p_({year:2020,month:1,day:5+r,hours:12}));return t}function mc(t,e=void 0){const n=new Intl.DateTimeFormat(e,{weekday:t});return pN().map(s=>n.format(s))}function mN(){const t=[];for(let e=0;e<=24;e++)t.push(new Date(2e3,0,1,e));return t}function vN(t=void 0){const e=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(t);return e.reduce((s,r)=>{const i=n.formatToParts(100,r);return s[r]=i[1].unit,s},{})}function m_(){const t=[];for(let e=0;e<12;e++)t.push(new Date(2e3,e,15));return t}function kp(t,e=void 0){const n=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return m_().map(s=>n.format(s))}function gN(t,e,n){return bn(e)?e===t:un(e)?e.includes(t):gr(e)?e(t,n):!(e.min!=null&&e.min>t||e.max!=null&&e.max<t||e.interval!=null&&t%e.interval!==0)}function Oi(t,e,n){const s=[],[r,i,o]=e;for(let a=r;a<=i;a++)(n==null||gN(a,n,t))&&s.push({value:a,label:Ye(a,o)});return s}function _N(t,e){return{milliseconds:Oi(t,xi.milliseconds,e.milliseconds),seconds:Oi(t,xi.seconds,e.seconds),minutes:Oi(t,xi.minutes,e.minutes),hours:Oi(t,xi.hours,e.hours)}}function yN(t,e,n,s){const i=Oi(t,e,s).reduce((o,a)=>{if(a.disabled)return o;if(isNaN(o))return a.value;const l=Math.abs(o-n);return Math.abs(a.value-n)<l?a.value:o},NaN);return isNaN(i)?n:i}function bN(t,e){const n={...t};return Object.entries(e).forEach(([s,r])=>{const i=xi[s],o=t[s];n[s]=yN(t,i,o,r)}),n}function Ap(t,e,n){return d_(e,n).map(r=>{if(typeof r!="string")throw new Error("Invalid mask");let i=t;if(i.length>1e3)return!1;let o=!0;const a={};if(r.replace(u_,u=>{if(Ke[u]){const d=Ke[u],f=i.search(d[0]);~f?i.replace(d[0],h=>(d[1](a,h,n),i=i.substr(f+h.length),h)):o=!1}return Ke[u]?"":u.slice(1,u.length-1)}),!o)return!1;const l=new Date;a.hours!=null&&(a.isPm===!0&&+a.hours!=12?a.hours=+a.hours+12:a.isPm===!1&&+a.hours==12&&(a.hours=0));let c;return a.timezoneOffset!=null?(a.minutes=+(a.minutes||0)-+a.timezoneOffset,c=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hours||0,a.minutes||0,a.seconds||0,a.milliseconds||0))):c=n.getDateFromParts({year:a.year||l.getFullYear(),month:(a.month||0)+1,day:a.day||1,hours:a.hours||0,minutes:a.minutes||0,seconds:a.seconds||0,milliseconds:a.milliseconds||0}),c}).find(r=>r)||new Date(t)}function wN(t,e,n){if(t==null)return"";let s=d_(e,n)[0];/Z$/.test(s)&&(n.timezone="utc");const r=[];s=s.replace(oN,(o,a)=>(r.push(a),"??"));const i=n.getDateParts(t);return s=s.replace(u_,o=>o in Ip?Ip[o](i,n):o.slice(1,o.length-1)),s.replace(/\?\?/g,()=>r.shift())}let CN=0;class v_{constructor(e,n,s){ce(this,"key",""),ce(this,"hashcode",""),ce(this,"highlight",null),ce(this,"content",null),ce(this,"dot",null),ce(this,"bar",null),ce(this,"event",null),ce(this,"popover",null),ce(this,"customData",null),ce(this,"ranges"),ce(this,"hasRanges",!1),ce(this,"order",0),ce(this,"pinPage",!1),ce(this,"maxRepeatSpan",0),ce(this,"locale");const{dates:r}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=++CN),this.locale=s,n.normalizeGlyphs(this),this.ranges=s.ranges(r??[]),this.hasRanges=!!Hn(this.ranges),this.maxRepeatSpan=this.ranges.filter(i=>i.hasRepeat).map(i=>i.daySpan).reduce((i,o)=>Math.max(i,o),0)}intersectsRange({start:e,end:n}){if(e==null||n==null)return!1;const s=this.ranges.filter(o=>!o.hasRepeat);for(const o of s)if(o.intersectsDayRange(e.dayIndex,n.dayIndex))return!0;const r=this.ranges.filter(o=>o.hasRepeat);if(!r.length)return!1;let i=e;for(this.maxRepeatSpan>1&&(i=this.locale.getDateParts(xt(i.date,-this.maxRepeatSpan)));i.dayIndex<=n.dayIndex;){for(const o of r)if(o.startsOnDay(i))return!0;i=this.locale.getDateParts(xt(i.date,1))}return!1}}function nu(t){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:t}))}function io(t){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:t}))}function g_(t){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:t}))}function __(t){const{visibility:e}=t,n=e==="click",s=e==="hover",r=e==="hover-focus",i=e==="focus";t.autoHide=!n;let o=!1,a=!1;const l=v=>{n&&(g_({...t,target:t.target||v.currentTarget}),v.stopPropagation())},c=v=>{o||(o=!0,(s||r)&&nu({...t,target:t.target||v.currentTarget}))},u=()=>{o&&(o=!1,(s||r&&!a)&&io(t))},d=v=>{a||(a=!0,(i||r)&&nu({...t,target:t.target||v.currentTarget}))},f=v=>{a&&!la(v.currentTarget,v.relatedTarget)&&(a=!1,(i||r&&!o)&&io(t))},h={};switch(t.visibility){case"click":h.click=l;break;case"hover":h.mousemove=c,h.mouseleave=u;break;case"focus":h.focusin=d,h.focusout=f;break;case"hover-focus":h.mousemove=c,h.mouseleave=u,h.focusin=d,h.focusout=f;break}return h}const xp=t=>{const e=Ea(t);if(e==null)return;const n=e.popoverHandlers;!n||!n.length||(n.forEach(s=>s()),delete e.popoverHandlers)},Op=(t,e)=>{const n=Ea(t);if(n==null)return;const s=[],r=__(e);Object.entries(r).forEach(([i,o])=>{s.push(gs(n,i,o))}),n.popoverHandlers=s},y_={mounted(t,e){const{value:n}=e;n&&Op(t,n)},updated(t,e){const{oldValue:n,value:s}=e,r=n==null?void 0:n.visibility,i=s==null?void 0:s.visibility;r!==i&&(r&&(xp(t),i||io(n)),i&&Op(t,s))},unmounted(t){xp(t)}},EN=(t,e,{maxSwipeTime:n,minHorizontalSwipeDistance:s,maxVerticalSwipeDistance:r})=>{if(!t||!t.addEventListener||!gr(e))return null;let i=0,o=0,a=null,l=!1;function c(d){const f=d.changedTouches[0];i=f.screenX,o=f.screenY,a=new Date().getTime(),l=!0}function u(d){if(!l||!a)return;l=!1;const f=d.changedTouches[0],h=f.screenX-i,v=f.screenY-o;if(new Date().getTime()-a<n&&Math.abs(h)>=s&&Math.abs(v)<=r){const w={toLeft:!1,toRight:!1};h<0?w.toLeft=!0:w.toRight=!0,e(w)}}return gs(t,"touchstart",c,{passive:!0}),gs(t,"touchend",u,{passive:!0}),()=>{vs(t,"touchstart",c),vs(t,"touchend",u)}},da={},SN=(t,e=10)=>{da[t]=Date.now()+e},DN=(t,e)=>{if(t in da){const n=da[t];if(Date.now()<n)return;delete da[t]}e()};function b_(){return typeof window<"u"}function IN(t){return b_()&&t in window}function TN(t){const e=Ce(!1),n=D(()=>e.value?"dark":"light");let s,r;function i(h){e.value=h.matches}function o(){IN("matchMedia")&&(s=window.matchMedia("(prefers-color-scheme: dark)"),s.addEventListener("change",i),e.value=s.matches)}function a(){const{selector:h=":root",darkClass:v="dark"}=t.value,y=document.querySelector(h);e.value=y.classList.contains(v)}function l(h){const{selector:v=":root",darkClass:y="dark"}=h;if(b_()&&v&&y){const w=document.querySelector(v);w&&(r=new MutationObserver(a),r.observe(w,{attributes:!0,attributeFilter:["class"]}),e.value=w.classList.contains(y))}}function c(){d();const h=typeof t.value;h==="string"&&t.value.toLowerCase()==="system"?o():h==="object"?l(t.value):e.value=!!t.value}const u=lt(()=>t.value,()=>c(),{immediate:!0});function d(){s&&(s.removeEventListener("change",i),s=void 0),r&&(r.disconnect(),r=void 0)}function f(){d(),u()}return Co(()=>f()),{isDark:e,displayMode:n,cleanup:f}}const $N=["base","start","end","startEnd"],PN=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],kN={base:{},start:{},end:{}};function Td(t,e,n=kN){let s=t,r={};e===!0||$n(e)?(s=$n(e)?e:s,r={...n}):Qn(e)&&(hp(e,$N)?r={...e}:r={base:{...e},start:{...e},end:{...e}});const i=Kr(r,{start:r.startEnd,end:r.startEnd},n);return Object.entries(i).forEach(([o,a])=>{let l=s;a===!0||$n(a)?(l=$n(a)?a:l,i[o]={color:l}):Qn(a)&&(hp(a,PN)?i[o]={...a}:i[o]={}),Kr(i[o],{color:l})}),i}class AN{constructor(){ce(this,"type","highlight")}normalizeConfig(e,n){return Td(e,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:n,onEnd:s},r){const{key:i,highlight:o}=e;if(!o)return;const{highlights:a}=r,{base:l,start:c,end:u}=o;n&&s?a.push({...c,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]}):n?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...c,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):s?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):a.push({...l,key:`${i}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class $d{constructor(e,n){ce(this,"type",""),ce(this,"collectionType",""),this.type=e,this.collectionType=n}normalizeConfig(e,n){return Td(e,n)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:n,onEnd:s},r){const{key:i}=e,o=e[this.type];if(!i||!o)return;const a=r[this.collectionType],{base:l,start:c,end:u}=o;n?a.push({...c,key:i,class:[`vc-${this.type} vc-${this.type}-start vc-${c.color} vc-attr`,c.class]}):s?a.push({...u,key:i,class:[`vc-${this.type} vc-${this.type}-end vc-${u.color} vc-attr`,u.class]}):a.push({...l,key:i,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class xN extends $d{constructor(){super("content","content")}normalizeConfig(e,n){return Td("base",n)}}class ON extends $d{constructor(){super("dot","dots")}}class MN extends $d{constructor(){super("bar","bars")}}class RN{constructor(e){ce(this,"color"),ce(this,"renderers",[new xN,new AN,new ON,new MN]),this.color=e}normalizeGlyphs(e){this.renderers.forEach(n=>{const s=n.type;e[s]!=null&&(e[s]=n.normalizeConfig(this.color,e[s]))})}prepareRender(e={}){return this.renderers.forEach(n=>{n.prepareRender(e)}),e}render(e,n){this.renderers.forEach(s=>{s.render(e,n)})}}const w_=Symbol("__vc_base_context__"),C_={color:{type:String,default:()=>As("color")},isDark:{type:[Boolean,String,Object],default:()=>As("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function E_(t){const e=D(()=>t.color??""),n=D(()=>t.isDark??!1),{displayMode:s}=TN(n),r=D(()=>new RN(e.value)),i=D(()=>{if(t.locale instanceof Pa)return t.locale;const f=Qn(t.locale)?t.locale:{id:t.locale,firstDayOfWeek:t.firstDayOfWeek,masks:t.masks};return new Pa(f,t.timezone)}),o=D(()=>i.value.masks),a=D(()=>t.minDate),l=D(()=>t.maxDate),c=D(()=>{const f=t.disabledDates?[...t.disabledDates]:[];return a.value!=null&&f.push({start:null,end:xt(i.value.toDate(a.value),-1)}),l.value!=null&&f.push({start:xt(i.value.toDate(l.value),1),end:null}),i.value.ranges(f)}),u=D(()=>new v_({key:"disabled",dates:c.value,order:100},r.value,i.value)),d={color:e,isDark:n,displayMode:s,theme:r,locale:i,masks:o,minDate:a,maxDate:l,disabledDates:c,disabledAttribute:u};return Vn(w_,d),d}function NN(t){return Rt(w_,()=>E_(t),!0)}function S_(t){return`__vc_slot_${t}__`}function D_(t,e={}){Object.keys(t).forEach(n=>{Vn(S_(e[n]??n),t[n])})}function I_(t){return Rt(S_(t),null)}const LN={...C_,view:{type:String,default:"monthly",validator(t){return["daily","weekly","monthly"].includes(t)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>As("titlePosition")},navVisibility:{type:String,default:()=>As("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},FN=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],T_=Symbol("__vc_calendar_context__");function YN(t,{slots:e,emit:n}){const s=Ce(null),r=Ce(null),i=Ce(new Date().getDate()),o=Ce(!1),a=Ce(Symbol()),l=Ce(Symbol()),c=Ce(t.view),u=Ce([]),d=Ce("");let f=null,h=null;D_(e);const{theme:v,color:y,displayMode:w,locale:b,masks:A,minDate:L,maxDate:P,disabledAttribute:x,disabledDates:Y}=NN(t),V=D(()=>t.rows*t.columns),k=D(()=>t.step||V.value),H=D(()=>qg(u.value)??null),Z=D(()=>Pr(u.value)??null),ie=D(()=>t.minPage||(L.value?te(L.value):null)),T=D(()=>t.maxPage||(P.value?te(P.value):null)),Q=D(()=>t.navVisibility),me=D(()=>!!t.showWeeknumbers),ne=D(()=>!!t.showIsoWeeknumbers),re=D(()=>c.value==="monthly"),le=D(()=>c.value==="weekly"),fe=D(()=>c.value==="daily"),Ae=()=>{o.value=!0,n("transition-start")},W=()=>{o.value=!1,n("transition-end"),f&&(f.resolve(!0),f=null)},ge=(M,g,R=c.value)=>n_(M,g,R,b.value),te=M=>t_(M,c.value,b.value),je=M=>{!x.value||!K.value||(M.isDisabled=K.value.cellExists(x.value.key,M.dayIndex))},$e=M=>{M.isFocusable=M.inMonth&&M.day===i.value},Ze=(M,g)=>{for(const R of M)for(const X of R.days)if(g(X)===!1)return},xe=D(()=>u.value.reduce((M,g)=>(M.push(...g.viewDays),M),[])),E=D(()=>{const M=[];return(t.attributes||[]).forEach((g,R)=>{!g||!g.dates||M.push(new v_({...g,order:g.order||0},v.value,b.value))}),x.value&&M.push(x.value),M}),G=D(()=>Hn(E.value)),K=D(()=>{const M=new yR;return E.value.forEach(g=>{g.ranges.forEach(R=>{M.render(g,R,xe.value)})}),M}),se=D(()=>xe.value.reduce((M,g)=>(M[g.dayIndex]={day:g,cells:[]},M[g.dayIndex].cells.push(...K.value.getCells(g)),M),{})),be=(M,g)=>{const R=t.showWeeknumbers||t.showIsoWeeknumbers;return R==null?"":jA(R)?R?"left":"":R.startsWith("right")?g>1?"right":R:M>1?"left":R},Pe=()=>{var M,g;if(!G.value)return null;const R=E.value.find(st=>st.pinPage)||E.value[0];if(!R||!R.hasRanges)return null;const[X]=R.ranges,we=((M=X.start)==null?void 0:M.date)||((g=X.end)==null?void 0:g.date);return we?te(we):null},m=()=>{if(Pn(H.value))return H.value;const M=Pe();return Pn(M)?M:te(new Date)},_=(M,g={})=>{const{view:R=c.value,position:X=1,force:we}=g,st=X>0?1-X:-(V.value+X);let kt=ge(M,st,R),zt=ge(kt,V.value-1,R);return we||(eu(kt,ie.value)?kt=ie.value:$a(zt,T.value)&&(kt=ge(T.value,1-V.value)),zt=ge(kt,V.value-1)),{fromPage:kt,toPage:zt}},C=(M,g,R="")=>{if(R==="none"||R==="fade")return R;if((M==null?void 0:M.view)!==(g==null?void 0:g.view))return"fade";const X=$a(g,M),we=eu(g,M);return!X&&!we?"fade":R==="slide-v"?we?"slide-down":"slide-up":we?"slide-right":"slide-left"},$=(M={})=>new Promise((g,R)=>{const{position:X=1,force:we=!1,transition:st}=M,kt=Pn(M.page)?M.page:m(),{fromPage:zt}=_(kt,{position:X,force:we}),Er=[];for(let Sr=0;Sr<V.value;Sr++){const Jl=ge(zt,Sr),Lt=Sr+1,Xl=Math.ceil(Lt/t.columns),Yo=t.rows-Xl+1,yi=Lt%t.columns||t.columns,bi=t.columns-yi+1,Wb=be(yi,bi);Er.push(b.value.getPage({...Jl,view:c.value,titlePosition:t.titlePosition,trimWeeks:t.trimWeeks,position:Lt,row:Xl,rowFromEnd:Yo,column:yi,columnFromEnd:bi,showWeeknumbers:me.value,showIsoWeeknumbers:ne.value,weeknumberPosition:Wb}))}d.value=C(u.value[0],Er[0],st),u.value=Er,d.value&&d.value!=="none"?f={resolve:g,reject:R}:g(!0)}),I=M=>{const g=H.value??te(new Date);return ge(g,M)},j=(M,g={})=>{const R=Pn(M)?M:te(M);return Object.assign(g,_(R,{...g,force:!0})),vR(g.fromPage,g.toPage,c.value,b.value).map(we=>pR(we,ie.value,T.value)).some(we=>we)},q=(M,g={})=>j(I(M),g),B=D(()=>q(-k.value)),z=D(()=>q(k.value)),F=async(M,g={})=>!g.force&&!j(M,g)?!1:(g.fromPage&&!mR(g.fromPage,H.value)&&(io({id:a.value,hideDelay:0}),g.view&&(SN("view",10),c.value=g.view),await $({...g,page:g.fromPage,position:1,force:!0}),n("did-move",u.value)),!0),J=(M,g={})=>F(I(M),g),ae=()=>J(-k.value),oe=()=>J(k.value),de=M=>{const g=re.value?".in-month":"",R=`.id-${b.value.getDayId(M)}${g}`,X=`${R}.vc-focusable, ${R} .vc-focusable`,we=s.value;if(we){const st=we.querySelector(X);if(st)return st.focus(),!0}return!1},_e=async(M,g={})=>de(M)?!0:(await F(M,g),de(M)),ke=(M,g)=>{i.value=M.day,n("dayclick",M,g)},Fe=(M,g)=>{n("daymouseenter",M,g)},tt=(M,g)=>{n("daymouseleave",M,g)},Pt=(M,g)=>{i.value=M.day,r.value=M,M.isFocused=!0,n("dayfocusin",M,g)},pn=(M,g)=>{r.value=null,M.isFocused=!1,n("dayfocusout",M,g)},Hs=(M,g)=>{n("daykeydown",M,g);const R=M.noonDate;let X=null;switch(g.key){case"ArrowLeft":{X=xt(R,-1);break}case"ArrowRight":{X=xt(R,1);break}case"ArrowUp":{X=xt(R,-7);break}case"ArrowDown":{X=xt(R,7);break}case"Home":{X=xt(R,-M.weekdayPosition+1);break}case"End":{X=xt(R,M.weekdayPositionFromEnd);break}case"PageUp":{g.altKey?X=Ep(R,-1):X=Ta(R,-1);break}case"PageDown":{g.altKey?X=Ep(R,1):X=Ta(R,1);break}}X&&(g.preventDefault(),_e(X).catch())},Yn=M=>{const g=r.value;g!=null&&Hs(g,M)},js=(M,g)=>{n("weeknumberclick",M,g)};$({page:t.initialPage,position:t.initialPagePosition}),ri(()=>{!t.disablePageSwipe&&s.value&&(h=EN(s.value,({toLeft:M=!1,toRight:g=!1})=>{M?oe():g&&ae()},As("touch")))}),Co(()=>{u.value=[],h&&h()}),lt(()=>b.value,()=>{$()}),lt(()=>V.value,()=>$()),lt(()=>t.view,()=>c.value=t.view),lt(()=>c.value,()=>{DN("view",()=>{$()}),n("update:view",c.value)}),lt(()=>i.value,()=>{Ze(u.value,M=>$e(M))}),xv(()=>{n("update:pages",u.value),Ze(u.value,M=>{je(M),$e(M)})});const vt={emit:n,containerRef:s,focusedDay:r,inTransition:o,navPopoverId:a,dayPopoverId:l,view:c,pages:u,transitionName:d,theme:v,color:y,displayMode:w,locale:b,masks:A,attributes:E,disabledAttribute:x,disabledDates:Y,attributeContext:K,days:xe,dayCells:se,count:V,step:k,firstPage:H,lastPage:Z,canMovePrev:B,canMoveNext:z,minPage:ie,maxPage:T,isMonthly:re,isWeekly:le,isDaily:fe,navVisibility:Q,showWeeknumbers:me,showIsoWeeknumbers:ne,getDateAddress:te,canMove:j,canMoveBy:q,move:F,moveBy:J,movePrev:ae,moveNext:oe,onTransitionBeforeEnter:Ae,onTransitionAfterEnter:W,tryFocusDate:de,focusDate:_e,onKeydown:Yn,onDayKeydown:Hs,onDayClick:ke,onDayMouseenter:Fe,onDayMouseleave:tt,onDayFocusin:Pt,onDayFocusout:pn,onWeeknumberClick:js};return Vn(T_,vt),vt}function yr(){const t=Rt(T_);if(t)return t;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const BN=mt({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(t,{emit:e}){let n;const s=Ce();let r=null,i=null;const o=es({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function a(W){W&&(o.direction=W.split("-")[0])}function l({placement:W,options:ge}){a(W||(ge==null?void 0:ge.placement))}const c=D(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l})),u=D(()=>{const W=o.direction==="left"||o.direction==="right";let ge="";if(o.placement){const te=o.placement.split("-");te.length>1&&(ge=te[1])}return["start","top","left"].includes(ge)?W?"top":"left":["end","bottom","right"].includes(ge)?W?"bottom":"right":W?"middle":"center"});function d(){i&&(i.destroy(),i=null)}function f(){Wn(()=>{const W=Ea(o.target);!W||!s.value||(i&&i.state.elements.reference!==W&&d(),i?i.update():i=x0(W,s.value,c.value))})}function h(W){Object.assign(o,Zg(W,"force"))}function v(W,ge){clearTimeout(n),W>0?n=setTimeout(ge,W):ge()}function y(W){return!W||!i?!1:Ea(W)===i.state.elements.reference}async function w(W={}){o.force||(W.force&&(o.force=!0),v(W.showDelay??t.showDelay,()=>{o.isVisible&&(o.force=!1),h({...W,isVisible:!0}),f()}))}function b(W={}){i&&(W.target&&!y(W.target)||o.force||(W.force&&(o.force=!0),v(W.hideDelay??t.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function A(W={}){W.target!=null&&(o.isVisible&&y(W.target)?b(W):w(W))}function L(W){if(!i)return;const ge=i.state.elements.reference;if(!s.value||!ge)return;const te=W.target;la(s.value,te)||la(ge,te)||b({force:!0})}function P(W){(W.key==="Esc"||W.key==="Escape")&&b()}function x({detail:W}){!W.id||W.id!==t.id||w(W)}function Y({detail:W}){!W.id||W.id!==t.id||b(W)}function V({detail:W}){!W.id||W.id!==t.id||A(W)}function k(){gs(document,"keydown",P),gs(document,"click",L),gs(document,"show-popover",x),gs(document,"hide-popover",Y),gs(document,"toggle-popover",V)}function H(){vs(document,"keydown",P),vs(document,"click",L),vs(document,"show-popover",x),vs(document,"hide-popover",Y),vs(document,"toggle-popover",V)}function Z(W){e("before-show",W)}function ie(W){o.force=!1,e("after-show",W)}function T(W){e("before-hide",W)}function Q(W){o.force=!1,d(),e("after-hide",W)}function me(W){W.stopPropagation()}function ne(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&w()}function re(){if(o.isHovered=!1,!i)return;const W=i.state.elements.reference;o.autoHide&&!o.isFocused&&(!W||W!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&b()}function le(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&w()}function fe(W){["focus","hover-focus"].includes(o.visibility)&&(!W.relatedTarget||!la(s.value,W.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&b())}function Ae(){r!=null&&(r.disconnect(),r=null)}return lt(()=>s.value,W=>{Ae(),W&&(r=new ResizeObserver(()=>{i&&i.update()}),r.observe(W))}),lt(()=>o.placement,a,{immediate:!0}),ri(()=>{k()}),Co(()=>{d(),Ae(),H()}),{...Sv(o),popoverRef:s,alignment:u,hide:b,setupPopper:f,beforeEnter:Z,afterEnter:ie,beforeLeave:T,afterLeave:Q,onClick:me,onMouseOver:ne,onMouseLeave:re,onFocusIn:le,onFocusOut:fe}}}),Bs=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n};function WN(t,e,n,s,r,i){return S(),O("div",{class:qe(["vc-popover-content-wrapper",{"is-interactive":t.isInteractive}]),ref:"popoverRef",onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o)),onMouseover:e[1]||(e[1]=(...o)=>t.onMouseOver&&t.onMouseOver(...o)),onMouseleave:e[2]||(e[2]=(...o)=>t.onMouseLeave&&t.onMouseLeave(...o)),onFocusin:e[3]||(e[3]=(...o)=>t.onFocusIn&&t.onFocusIn(...o)),onFocusout:e[4]||(e[4]=(...o)=>t.onFocusOut&&t.onFocusOut(...o))},[ee(dl,{name:`vc-${t.transition}`,appear:"",onBeforeEnter:t.beforeEnter,onAfterEnter:t.afterEnter,onBeforeLeave:t.beforeLeave,onAfterLeave:t.afterLeave},{default:Ie(()=>[t.isVisible?(S(),O("div",vr({key:0,tabindex:"-1",class:`vc-popover-content direction-${t.direction}`},t.$attrs),[Eo(t.$slots,"default",{direction:t.direction,alignment:t.alignment,data:t.data,hide:t.hide},()=>[Ue(ve(t.data),1)]),p("span",{class:qe(["vc-popover-caret",`direction-${t.direction}`,`align-${t.alignment}`])},null,2)],16)):Be("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const Pd=Bs(BN,[["render",WN]]),HN={class:"vc-day-popover-row"},jN={key:0,class:"vc-day-popover-row-indicator"},UN={class:"vc-day-popover-row-label"},VN=mt({__name:"PopoverRow",props:{attribute:null},setup(t){const e=t,n=D(()=>{const{content:s,highlight:r,dot:i,bar:o,popover:a}=e.attribute;return a&&a.hideIndicator?null:s?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${s.base.color}`}:r?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${r.base.color}`}:i?{class:`vc-dot vc-attr vc-${i.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(s,r)=>(S(),O("div",HN,[N(n)?(S(),O("div",jN,[p("span",{class:qe(N(n).class)},null,2)])):Be("",!0),p("div",UN,[Eo(s.$slots,"default",{},()=>[Ue(ve(t.attribute.popover?t.attribute.popover.label:"No content provided"),1)])])]))}}),zN={inheritAttrs:!1},sn=mt({...zN,__name:"CalendarSlot",props:{name:null},setup(t){const n=I_(t.name);return(s,r)=>N(n)?(S(),ot(rl(N(n)),Mi(vr({key:0},s.$attrs)),null,16)):Eo(s.$slots,"default",{key:1})}}),KN={class:"vc-day-popover-container"},GN={key:0,class:"vc-day-popover-header"},qN=mt({__name:"CalendarDayPopover",setup(t){const{dayPopoverId:e,displayMode:n,color:s,masks:r,locale:i}=yr();function o(l,c){return i.value.formatDate(l,c)}function a(l){return i.value.formatDate(l.date,r.value.dayPopover)}return(l,c)=>(S(),ot(Pd,{id:N(e),class:qe([`vc-${N(s)}`,`vc-${N(n)}`])},{default:Ie(({data:{day:u,attributes:d},hide:f})=>[ee(sn,{name:"day-popover",day:u,"day-title":a(u),attributes:d,format:o,masks:N(r),hide:f},{default:Ie(()=>[p("div",KN,[N(r).dayPopover?(S(),O("div",GN,ve(a(u)),1)):Be("",!0),(S(!0),O(De,null,it(d,h=>(S(),ot(VN,{key:h.key,attribute:h},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),QN={},ZN={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},JN=p("polyline",{points:"9 18 15 12 9 6"},null,-1),XN=[JN];function eL(t,e){return S(),O("svg",ZN,XN)}const tL=Bs(QN,[["render",eL]]),nL={},sL={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},rL=p("polyline",{points:"15 18 9 12 15 6"},null,-1),iL=[rL];function oL(t,e){return S(),O("svg",sL,iL)}const aL=Bs(nL,[["render",oL]]),lL={},cL={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},uL=p("polyline",{points:"6 9 12 15 18 9"},null,-1),dL=[uL];function fL(t,e){return S(),O("svg",cL,dL)}const hL=Bs(lL,[["render",fL]]),pL={},mL={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},vL=p("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),gL=[vL];function _L(t,e){return S(),O("svg",mL,gL)}const yL=Bs(pL,[["render",_L]]),bL=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:hL,IconChevronLeft:aL,IconChevronRight:tL,IconClock:yL},Symbol.toStringTag,{value:"Module"})),Gr=mt({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(t){const e=t,n=D(()=>e.width||e.size),s=D(()=>e.height||e.size),r=D(()=>bL[`Icon${e.name}`]);return(i,o)=>(S(),ot(rl(N(r)),{width:N(n),height:N(s),class:"vc-base-icon"},null,8,["width","height"]))}}),wL=["disabled"],CL={key:1,class:"vc-title-wrapper"},EL={type:"button",class:"vc-title"},SL=["disabled"],$_=mt({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(t){const e=t,{navPopoverId:n,navVisibility:s,canMovePrev:r,movePrev:i,canMoveNext:o,moveNext:a}=yr(),l=D(()=>{switch(e.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),c=D(()=>{const{page:y}=e;return{id:n.value,visibility:s.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:y},isInteractive:!0}}),u=D(()=>e.page.titlePosition.includes("left")),d=D(()=>e.page.titlePosition.includes("right")),f=D(()=>e.layout?e.layout:u.value?"tu-pn":d.value?"pn-tu":"p-tu-n;"),h=D(()=>({prev:f.value.includes("p")&&!e.hideArrows,title:f.value.includes("t")&&!e.hideTitle,next:f.value.includes("n")&&!e.hideArrows})),v=D(()=>({gridTemplateColumns:f.value.split("").map(w=>{switch(w){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(y,w)=>(S(),O("div",{class:qe(["vc-header",{"is-lg":t.isLg,"is-xl":t.isXl,"is-2xl":t.is2xl}]),style:qt(N(v))},[N(h).prev?(S(),O("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!N(r),onClick:w[0]||(w[0]=(...b)=>N(i)&&N(i)(...b)),onKeydown:w[1]||(w[1]=fh((...b)=>N(i)&&N(i)(...b),["space","enter"]))},[ee(sn,{name:"header-prev-button",disabled:!N(r)},{default:Ie(()=>[ee(Gr,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,wL)):Be("",!0),N(h).title?(S(),O("div",CL,[ee(sn,{name:"header-title-wrapper"},{default:Ie(()=>[bt((S(),O("button",EL,[ee(sn,{name:"header-title",title:t.page.title},{default:Ie(()=>[p("span",null,ve(t.page.title),1)]),_:1},8,["title"])])),[[N(y_),N(c)]])]),_:1})])):Be("",!0),N(h).next?(S(),O("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!N(o),onClick:w[2]||(w[2]=(...b)=>N(a)&&N(a)(...b)),onKeydown:w[3]||(w[3]=fh((...b)=>N(a)&&N(a)(...b),["space","enter"]))},[ee(sn,{name:"header-next-button",disabled:!N(o)},{default:Ie(()=>[ee(Gr,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,SL)):Be("",!0)],6))}}),P_=Symbol("__vc_page_context__");function DL(t){const{locale:e,getDateAddress:n,canMove:s}=yr();function r(a,l){const{month:c,year:u}=n(new Date);return m_().map((d,f)=>{const h=f+1;return{month:h,year:a,id:hR(h,a),label:e.value.formatDate(d,l),ariaLabel:e.value.formatDate(d,"MMMM"),isActive:h===t.value.month&&a===t.value.year,isCurrent:h===c&&a===u,isDisabled:!s({month:h,year:a},{position:t.value.position})}})}function i(a,l){const{year:c}=n(new Date),{position:u}=t.value,d=[];for(let f=a;f<=l;f+=1){const h=[...Array(12).keys()].some(v=>s({month:v+1,year:f},{position:u}));d.push({year:f,id:f.toString(),label:f.toString(),ariaLabel:f.toString(),isActive:f===t.value.year,isCurrent:f===c,isDisabled:!h})}return d}const o={page:t,getMonthItems:r,getYearItems:i};return Vn(P_,o),o}function k_(){const t=Rt(P_);if(t)return t;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const IL={class:"vc-nav-header"},TL=["disabled"],$L=["disabled"],PL={class:"vc-nav-items"},kL=["data-id","aria-label","disabled","onClick","onKeydown"],AL=mt({__name:"CalendarNav",setup(t){const{masks:e,move:n}=yr(),{page:s,getMonthItems:r,getYearItems:i}=k_(),o=Ce(!0),a=12,l=Ce(s.value.year),c=Ce(f(s.value.year)),u=Ce(null);function d(){setTimeout(()=>{if(u.value==null)return;const te=u.value.querySelector(".vc-nav-item:not(:disabled)");te&&te.focus()},10)}function f(te){return Math.floor(te/a)}function h(){o.value=!o.value}function v(te){return te*a}function y(te){return a*(te+1)-1}function w(){le.value&&(o.value&&A(),P())}function b(){fe.value&&(o.value&&L(),x())}function A(){l.value--}function L(){l.value++}function P(){c.value--}function x(){c.value++}const Y=D(()=>r(l.value,e.value.navMonths).map(te=>({...te,click:()=>n({month:te.month,year:te.year},{position:s.value.position})}))),V=D(()=>r(l.value-1,e.value.navMonths)),k=D(()=>V.value.some(te=>!te.isDisabled)),H=D(()=>r(l.value+1,e.value.navMonths)),Z=D(()=>H.value.some(te=>!te.isDisabled)),ie=D(()=>i(v(c.value),y(c.value)).map(te=>({...te,click:()=>{l.value=te.year,o.value=!0,d()}}))),T=D(()=>i(v(c.value-1),y(c.value-1))),Q=D(()=>T.value.some(te=>!te.isDisabled)),me=D(()=>i(v(c.value+1),y(c.value+1))),ne=D(()=>me.value.some(te=>!te.isDisabled)),re=D(()=>o.value?Y.value:ie.value),le=D(()=>o.value?k.value:Q.value),fe=D(()=>o.value?Z.value:ne.value),Ae=D(()=>qg(ie.value.map(te=>te.year))),W=D(()=>Pr(ie.value.map(te=>te.year))),ge=D(()=>o.value?l.value:`${Ae.value} - ${W.value}`);return xv(()=>{l.value=s.value.year,d()}),lt(()=>l.value,te=>c.value=f(te)),ri(()=>d()),(te,je)=>(S(),O("div",{class:"vc-nav-container",ref_key:"navContainer",ref:u},[p("div",IL,[p("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!N(le),onClick:w,onKeydown:je[0]||(je[0]=$e=>N(Qo)($e,w))},[ee(sn,{name:"nav-prev-button",move:w,disabled:!N(le)},{default:Ie(()=>[ee(Gr,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,TL),p("button",{type:"button",class:"vc-nav-title vc-focus",onClick:h,onKeydown:je[1]||(je[1]=$e=>N(Qo)($e,h))},ve(N(ge)),33),p("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!N(fe),onClick:b,onKeydown:je[2]||(je[2]=$e=>N(Qo)($e,b))},[ee(sn,{name:"nav-next-button",move:b,disabled:!N(fe)},{default:Ie(()=>[ee(Gr,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,$L)]),p("div",PL,[(S(!0),O(De,null,it(N(re),$e=>(S(),O("button",{key:$e.label,type:"button","data-id":$e.id,"aria-label":$e.ariaLabel,class:qe(["vc-nav-item vc-focus",[$e.isActive?"is-active":$e.isCurrent?"is-current":""]]),disabled:$e.isDisabled,onClick:$e.click,onKeydown:Ze=>N(Qo)(Ze,$e.click)},ve($e.label),43,kL))),128))])],512))}}),A_=mt({__name:"CalendarPageProvider",props:{page:null},setup(t){return DL(sa(t,"page")),(n,s)=>Eo(n.$slots,"default")}}),xL=mt({__name:"CalendarNavPopover",setup(t){const{navPopoverId:e,color:n,displayMode:s}=yr();return(r,i)=>(S(),ot(Pd,{id:N(e),class:qe(["vc-nav-popover-container",`vc-${N(n)}`,`vc-${N(s)}`])},{default:Ie(({data:o})=>[ee(A_,{page:o.page},{default:Ie(()=>[ee(sn,{name:"nav"},{default:Ie(()=>[ee(AL)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),OL=mt({directives:{popover:y_},components:{CalendarSlot:sn},props:{day:{type:Object,required:!0}},setup(t){const{locale:e,theme:n,attributeContext:s,dayPopoverId:r,onDayClick:i,onDayMouseenter:o,onDayMouseleave:a,onDayFocusin:l,onDayFocusout:c,onDayKeydown:u}=yr(),d=D(()=>t.day),f=D(()=>s.value.getCells(d.value)),h=D(()=>f.value.map(ne=>ne.data)),v=D(()=>({...d.value,attributes:h.value,attributeCells:f.value}));function y({data:ne},{popovers:re}){const{key:le,customData:fe,popover:Ae}=ne;if(!Ae)return;const W=ip({key:le,customData:fe,attribute:ne},{...Ae},{visibility:Ae.label?"hover":"click",placement:"bottom",isInteractive:!Ae.label});re.splice(0,0,W)}const w=D(()=>{const ne={...n.value.prepareRender({}),popovers:[]};return f.value.forEach(re=>{n.value.render(re,ne),y(re,ne)}),ne}),b=D(()=>w.value.highlights),A=D(()=>!!Hn(b.value)),L=D(()=>w.value.content),P=D(()=>w.value.dots),x=D(()=>!!Hn(P.value)),Y=D(()=>w.value.bars),V=D(()=>!!Hn(Y.value)),k=D(()=>w.value.popovers),H=D(()=>k.value.map(ne=>ne.attribute)),Z=I_("day-content"),ie=D(()=>["vc-day",...d.value.classes,{"vc-day-box-center-center":!Z},{"is-not-in-month":!t.day.inMonth}]),T=D(()=>{let ne;d.value.isFocusable?ne="0":ne="-1";const re=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":d.value.isDisabled},er(Pr(b.value),"contentClass"),er(Pr(L.value),"class")||""],le={...er(Pr(b.value),"contentStyle"),...er(Pr(L.value),"style")};return{class:re,style:le,tabindex:ne,"aria-label":d.value.ariaLabel,"aria-disabled":!!d.value.isDisabled,role:"button"}}),Q=D(()=>({click(ne){i(v.value,ne)},mouseenter(ne){o(v.value,ne)},mouseleave(ne){a(v.value,ne)},focusin(ne){l(v.value,ne)},focusout(ne){c(v.value,ne)},keydown(ne){u(v.value,ne)}})),me=D(()=>Hn(k.value)?ip({id:r.value,data:{day:d,attributes:H.value}},...k.value):null);return{attributes:h,attributeCells:f,bars:Y,dayClasses:ie,dayContentProps:T,dayContentEvents:Q,dayPopover:me,glyphs:w,dots:P,hasDots:x,hasBars:V,highlights:b,hasHighlights:A,locale:e,popovers:k}}}),ML={key:0,class:"vc-highlights vc-day-layer"},RL={key:1,class:"vc-day-layer vc-day-box-center-bottom"},NL={class:"vc-dots"},LL={key:2,class:"vc-day-layer vc-day-box-center-bottom"},FL={class:"vc-bars"};function YL(t,e,n,s,r,i){const o=ct("CalendarSlot"),a=Bw("popover");return S(),O("div",{class:qe(t.dayClasses)},[t.hasHighlights?(S(),O("div",ML,[(S(!0),O(De,null,it(t.highlights,({key:l,wrapperClass:c,class:u,style:d})=>(S(),O("div",{key:l,class:qe(c)},[p("div",{class:qe(u),style:qt(d)},null,6)],2))),128))])):Be("",!0),ee(o,{name:"day-content",day:t.day,attributes:t.attributes,"attribute-cells":t.attributeCells,dayProps:t.dayContentProps,dayEvents:t.dayContentEvents,locale:t.locale},{default:Ie(()=>[bt((S(),O("div",vr(t.dayContentProps,iC(t.dayContentEvents,!0)),[Ue(ve(t.day.label),1)],16)),[[a,t.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),t.hasDots?(S(),O("div",RL,[p("div",NL,[(S(!0),O(De,null,it(t.dots,({key:l,class:c,style:u})=>(S(),O("span",{key:l,class:qe(c),style:qt(u)},null,6))),128))])])):Be("",!0),t.hasBars?(S(),O("div",LL,[p("div",FL,[(S(!0),O(De,null,it(t.bars,({key:l,class:c,style:u})=>(S(),O("span",{key:l,class:qe(c),style:qt(u)},null,6))),128))])])):Be("",!0)],2)}const BL=Bs(OL,[["render",YL]]),WL={class:"vc-weekdays"},HL=["onClick"],jL={inheritAttrs:!1},UL=mt({...jL,__name:"CalendarPage",setup(t){const{page:e}=k_(),{onWeeknumberClick:n}=yr();return(s,r)=>(S(),O("div",{class:qe(["vc-pane",`row-${N(e).row}`,`row-from-end-${N(e).rowFromEnd}`,`column-${N(e).column}`,`column-from-end-${N(e).columnFromEnd}`]),ref:"pane"},[ee($_,{page:N(e),"is-lg":"","hide-arrows":""},null,8,["page"]),p("div",{class:qe(["vc-weeks",{[`vc-show-weeknumbers-${N(e).weeknumberPosition}`]:N(e).weeknumberPosition}])},[p("div",WL,[(S(!0),O(De,null,it(N(e).weekdays,({weekday:i,label:o},a)=>(S(),O("div",{key:a,class:qe(`vc-weekday vc-weekday-${i}`)},ve(o),3))),128))]),(S(!0),O(De,null,it(N(e).viewWeeks,i=>(S(),O("div",{key:`weeknumber-${i.weeknumber}`,class:"vc-week"},[N(e).weeknumberPosition?(S(),O("div",{key:0,class:qe(["vc-weeknumber",`is-${N(e).weeknumberPosition}`])},[p("span",{class:qe(["vc-weeknumber-content"]),onClick:o=>N(n)(i,o)},ve(i.weeknumberDisplay),9,HL)],2)):Be("",!0),(S(!0),O(De,null,it(i.days,o=>(S(),ot(BL,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),VL=mt({components:{CalendarHeader:$_,CalendarPage:UL,CalendarNavPopover:xL,CalendarDayPopover:qN,CalendarPageProvider:A_,CalendarSlot:sn},props:LN,emit:FN,setup(t,{emit:e,slots:n}){return YN(t,{emit:e,slots:n})}}),zL={class:"vc-pane-header-wrapper"};function KL(t,e,n,s,r,i){const o=ct("CalendarHeader"),a=ct("CalendarPage"),l=ct("CalendarSlot"),c=ct("CalendarPageProvider"),u=ct("CalendarDayPopover"),d=ct("CalendarNavPopover");return S(),O(De,null,[p("div",vr({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},t.$attrs,{class:["vc-container",`vc-${t.view}`,`vc-${t.color}`,`vc-${t.displayMode}`,{"vc-expanded":t.expanded,"vc-bordered":!t.borderless,"vc-transparent":t.transparent}],onMouseup:e[0]||(e[0]=to(()=>{},["prevent"])),ref:"containerRef"}),[p("div",{class:qe(["vc-pane-container",{"in-transition":t.inTransition}])},[p("div",zL,[t.firstPage?(S(),ot(o,{key:0,page:t.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):Be("",!0)]),ee(dl,{name:`vc-${t.transitionName}`,onBeforeEnter:t.onTransitionBeforeEnter,onAfterEnter:t.onTransitionAfterEnter},{default:Ie(()=>[(S(),O("div",{key:t.pages[0].id,class:"vc-pane-layout",style:qt({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(S(!0),O(De,null,it(t.pages,f=>(S(),ot(c,{key:f.id,page:f},{default:Ie(()=>[ee(l,{name:"page",page:f},{default:Ie(()=>[ee(a)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),ee(l,{name:"footer"})],2)],16),ee(u),ee(d)],64)}const x_=Bs(VL,[["render",KL]]),O_=Symbol("__vc_date_picker_context__"),GL={...C_,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>As("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>As("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},qL=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function QL(t,{emit:e,slots:n}){D_(n,{footer:"dp-footer"});const s=E_(t),{locale:r,masks:i,disabledAttribute:o}=s,a=Ce(!1),l=Ce(Symbol()),c=Ce(null),u=Ce(null),d=Ce(["",""]),f=Ce(null),h=Ce(null);let v,y,w=!0;const b=D(()=>t.isRange||t.modelModifiers.range===!0),A=D(()=>b.value&&c.value!=null?c.value.start:null),L=D(()=>b.value&&c.value!=null?c.value.end:null),P=D(()=>t.mode.toLowerCase()==="date"),x=D(()=>t.mode.toLowerCase()==="datetime"),Y=D(()=>t.mode.toLowerCase()==="time"),V=D(()=>!!u.value),k=D(()=>{let g="date";t.modelModifiers.number&&(g="number"),t.modelModifiers.string&&(g="string");const R=i.value.modelValue||"iso";return je({type:g,mask:R})}),H=D(()=>q(u.value??c.value)),Z=D(()=>Y.value?t.is24hr?i.value.inputTime24hr:i.value.inputTime:x.value?t.is24hr?i.value.inputDateTime24hr:i.value.inputDateTime:i.value.input),ie=D(()=>/[Hh]/g.test(Z.value)),T=D(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(Z.value)),Q=D(()=>{if(ie.value&&T.value)return"dateTime";if(T.value)return"date";if(ie.value)return"time"}),me=D(()=>{var g;const R=((g=f.value)==null?void 0:g.$el.previousElementSibling)??void 0;return Kr({},t.popover,As("datePicker.popover"),{target:R})}),ne=D(()=>__({...me.value,id:l.value})),re=D(()=>b.value?{start:d.value[0],end:d.value[1]}:d.value[0]),le=D(()=>{const g=["start","end"].map(R=>({input:$(R),change:I(R),keyup:j,...t.popover&&ne.value}));return b.value?{start:g[0],end:g[1]}:g[0]}),fe=D(()=>{if(!E(c.value))return null;const g={key:"select-drag",...t.selectAttribute,dates:c.value,pinPage:!0},{dot:R,bar:X,highlight:we,content:st}=g;return!R&&!X&&!we&&!st&&(g.highlight=!0),g}),Ae=D(()=>{if(!b.value||!E(u.value))return null;const g={key:"select-drag",...t.dragAttribute,dates:u.value},{dot:R,bar:X,highlight:we,content:st}=g;return!R&&!X&&!we&&!st&&(g.highlight={startEnd:{fillMode:"outline"}}),g}),W=D(()=>{const g=un(t.attributes)?[...t.attributes]:[];return Ae.value?g.unshift(Ae.value):fe.value&&g.unshift(fe.value),g}),ge=D(()=>je(t.rules==="auto"?te():t.rules??{}));function te(){const g={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},R=P.value?0:t.timeAccuracy;return[0,1].map(X=>{switch(R){case 0:return{hours:g.hr[X],minutes:g.min[X],seconds:g.sec[X],milliseconds:g.ms[X]};case 1:return{minutes:g.min[X],seconds:g.sec[X],milliseconds:g.ms[X]};case 3:return{milliseconds:g.ms[X]};case 4:return{};default:return{seconds:g.sec[X],milliseconds:g.ms[X]}}})}function je(g){return un(g)?g.length===1?[g[0],g[0]]:g:[g,g]}function $e(g){return je(g).map((R,X)=>({...R,rules:ge.value[X]}))}function Ze(g){return g==null?!1:bn(g)?!isNaN(g):Mr(g)?!isNaN(g.getTime()):$n(g)?g!=="":Dd(g)}function xe(g){return Qn(g)&&"start"in g&&"end"in g&&Ze(g.start??null)&&Ze(g.end??null)}function E(g){return xe(g)||Ze(g)}function G(g,R){if(g==null&&R==null)return!0;if(g==null||R==null)return!1;const X=Mr(g),we=Mr(R);return X&&we?g.getTime()===R.getTime():X||we?!1:G(g.start,R.start)&&G(g.end,R.end)}function K(g){return!E(g)||!o.value?!1:o.value.intersectsRange(r.value.range(g))}function se(g,R,X,we){if(!E(g))return null;if(xe(g)){const st=r.value.toDate(g.start,{...R[0],fillDate:A.value??void 0,patch:X}),kt=r.value.toDate(g.end,{...R[1],fillDate:L.value??void 0,patch:X});return pn({start:st,end:kt},we)}return r.value.toDateOrNull(g,{...R[0],fillDate:c.value,patch:X})}function be(g,R){return xe(g)?{start:r.value.fromDate(g.start,R[0]),end:r.value.fromDate(g.end,R[1])}:b.value?null:r.value.fromDate(g,R[0])}function Pe(g,R={}){return clearTimeout(v),new Promise(X=>{const{debounce:we=0,...st}=R;we>0?v=window.setTimeout(()=>{X(m(g,st))},we):X(m(g,st))})}function m(g,{config:R=k.value,patch:X="dateTime",clearIfEqual:we=!1,formatInput:st=!0,hidePopover:kt=!1,dragging:zt=V.value,targetPriority:Er,moveToValue:Sr=!1}={}){const Jl=$e(R);let Lt=se(g,Jl,X,Er);if(K(Lt)){if(zt)return null;Lt=c.value,kt=!1}else Lt==null&&t.isRequired?Lt=c.value:Lt!=null&&G(c.value,Lt)&&we&&(Lt=null);const Yo=zt?u:c,yi=!G(Yo.value,Lt);Yo.value=Lt,zt||(u.value=null);const bi=be(Lt,k.value);return yi&&(w=!1,e(zt?"drag":"update:modelValue",bi),Wn(()=>w=!0)),kt&&!zt&&tt(),st&&_(),Sr&&Wn(()=>js(Er??"start")),bi}function _(){Wn(()=>{const g=$e({type:"string",mask:Z.value}),R=be(u.value??c.value,g);b.value?d.value=[R&&R.start,R&&R.end]:d.value=[R,""]})}function C(g,R,X){d.value.splice(R==="start"?0:1,1,g);const we=b.value?{start:d.value[0],end:d.value[1]||d.value[0]}:g,st={type:"string",mask:Z.value};Pe(we,{...X,config:st,patch:Q.value,targetPriority:R,moveToValue:!0})}function $(g){return R=>{t.updateOnInput&&C(R.currentTarget.value,g,{formatInput:!1,hidePopover:!1,debounce:t.inputDebounce})}}function I(g){return R=>{C(R.currentTarget.value,g,{formatInput:!0,hidePopover:!1})}}function j(g){g.key==="Escape"&&Pe(c.value,{formatInput:!0,hidePopover:!0})}function q(g){return b.value?[g&&g.start?r.value.getDateParts(g.start):null,g&&g.end?r.value.getDateParts(g.end):null]:[g?r.value.getDateParts(g):null]}function B(){u.value=null,_()}function z(g){e("popover-will-show",g)}function F(g){e("popover-did-show",g)}function J(g){B(),e("popover-will-hide",g)}function ae(g){e("popover-did-hide",g)}function oe(g){const R={patch:"date",formatInput:!0,hidePopover:!0};if(b.value){const X=!V.value;X?y={start:g.startDate,end:g.endDate}:y!=null&&(y.end=g.date),Pe(y,{...R,dragging:X})}else Pe(g.date,{...R,clearIfEqual:!t.isRequired})}function de(g,R){oe(g),e("dayclick",g,R)}function _e(g,R){switch(R.key){case" ":case"Enter":{oe(g),R.preventDefault();break}case"Escape":tt()}e("daykeydown",g,R)}function ke(g,R){!V.value||y==null||(y.end=g.date,Pe(pn(y),{patch:"date",formatInput:!0}))}function Fe(g={}){nu({...me.value,...g,isInteractive:!0,id:l.value})}function tt(g={}){io({hideDelay:10,force:!0,...me.value,...g,id:l.value})}function Pt(g){g_({...me.value,...g,isInteractive:!0,id:l.value})}function pn(g,R){const{start:X,end:we}=g;if(X>we)switch(R){case"start":return{start:X,end:X};case"end":return{start:we,end:we};default:return{start:we,end:X}}return{start:X,end:we}}async function Hs(g,R={}){return h.value==null?!1:h.value.move(g,R)}async function Yn(g,R={}){return h.value==null?!1:h.value.moveBy(g,R)}async function js(g,R={}){const X=c.value;if(h.value==null||!E(X))return!1;const we=g!=="end",st=we?1:-1,kt=xe(X)?we?X.start:X.end:X,zt=t_(kt,"monthly",r.value);return h.value.move(zt,{position:st,...R})}lt(()=>t.isRange,g=>{g&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),lt(()=>b.value,()=>{m(null,{formatInput:!0})}),lt(()=>Z.value,()=>_()),lt(()=>t.modelValue,g=>{w&&m(g,{formatInput:!0,hidePopover:!1})}),lt(()=>ge.value,()=>{Qn(t.rules)&&m(t.modelValue,{formatInput:!0,hidePopover:!1})}),lt(()=>t.timezone,()=>{m(c.value,{formatInput:!0})});const vt=je(k.value);c.value=se(t.modelValue??null,vt,"dateTime"),ri(()=>{m(t.modelValue,{formatInput:!0,hidePopover:!1})}),Wn(()=>a.value=!0);const M={...s,showCalendar:a,datePickerPopoverId:l,popoverRef:f,popoverEvents:ne,calendarRef:h,isRange:b,isTimeMode:Y,isDateTimeMode:x,is24hr:sa(t,"is24hr"),hideTimeHeader:sa(t,"hideTimeHeader"),timeAccuracy:sa(t,"timeAccuracy"),isDragging:V,inputValue:re,inputEvents:le,dateParts:H,attributes:W,rules:ge,move:Hs,moveBy:Yn,moveToValue:js,updateValue:Pe,showPopover:Fe,hidePopover:tt,togglePopover:Pt,onDayClick:de,onDayKeydown:_e,onDayMouseEnter:ke,onPopoverBeforeShow:z,onPopoverAfterShow:F,onPopoverBeforeHide:J,onPopoverAfterHide:ae};return Vn(O_,M),M}function kd(){const t=Rt(O_);if(t)return t;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const ZL=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],JL=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function XL(t){const e=kd(),{locale:n,isRange:s,isTimeMode:r,dateParts:i,rules:o,is24hr:a,hideTimeHeader:l,timeAccuracy:c,updateValue:u}=e;function d(T){T=Object.assign(h.value,T);let Q=null;if(s.value){const me=f.value?T:i.value[0],ne=f.value?i.value[1]:T;Q={start:me,end:ne}}else Q=T;u(Q,{patch:"time",targetPriority:f.value?"start":"end",moveToValue:!0})}const f=D(()=>t.position===0),h=D(()=>i.value[t.position]||{isValid:!1}),v=D(()=>Dd(h.value)),y=D(()=>!!h.value.isValid),w=D(()=>!l.value&&y.value),b=D(()=>{if(!v.value)return null;let T=n.value.toDate(h.value);return h.value.hours===24&&(T=new Date(T.getTime()-1)),T}),A=D({get(){return h.value.hours},set(T){d({hours:T})}}),L=D({get(){return h.value.minutes},set(T){d({minutes:T})}}),P=D({get(){return h.value.seconds},set(T){d({seconds:T})}}),x=D({get(){return h.value.milliseconds},set(T){d({milliseconds:T})}}),Y=D({get(){return h.value.hours<12},set(T){T=String(T).toLowerCase()=="true";let Q=A.value;T&&Q>=12?Q-=12:!T&&Q<12&&(Q+=12),d({hours:Q})}}),V=D(()=>_N(h.value,o.value[t.position])),k=D(()=>ZL.filter(T=>V.value.hours.some(Q=>Q.value===T.value))),H=D(()=>JL.filter(T=>V.value.hours.some(Q=>Q.value===T.value))),Z=D(()=>a.value?V.value.hours:Y.value?k.value:H.value),ie=D(()=>{const T=[];return Hn(k.value)&&T.push({value:!0,label:"AM"}),Hn(H.value)&&T.push({value:!1,label:"PM"}),T});return{...e,showHeader:w,timeAccuracy:c,parts:h,isValid:y,date:b,hours:A,minutes:L,seconds:P,milliseconds:x,options:V,hourOptions:Z,isAM:Y,isAMOptions:ie,is24hr:a}}const eF=["value"],tF=["value","disabled"],nF={key:1,class:"vc-base-sizer","aria-hidden":"true"},sF={inheritAttrs:!1},Di=mt({...sF,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(t){const e=t,n=D(()=>{const s=e.options.find(r=>r.value===e.modelValue);return s==null?void 0:s.label});return(s,r)=>(S(),O("div",{class:qe(["vc-base-select",{"vc-fit-content":t.fitContent,"vc-has-icon":t.showIcon}])},[p("select",vr(s.$attrs,{value:t.modelValue,class:["vc-focus",{"vc-align-right":t.alignRight,"vc-align-left":t.alignLeft}],onChange:r[0]||(r[0]=i=>s.$emit("update:modelValue",i.target.value))}),[(S(!0),O(De,null,it(t.options,i=>(S(),O("option",{key:i.value,value:i.value,disabled:i.disabled},ve(i.label),9,tF))),128))],16,eF),t.showIcon?(S(),ot(Gr,{key:0,name:"ChevronDown",size:"18"})):Be("",!0),t.fitContent?(S(),O("div",nF,ve(N(n)),1)):Be("",!0)],2))}}),rF={key:0,class:"vc-time-header"},iF={class:"vc-time-weekday"},oF={class:"vc-time-month"},aF={class:"vc-time-day"},lF={class:"vc-time-year"},cF={class:"vc-time-select-group"},uF=p("span",{class:"vc-time-colon"},":",-1),dF=p("span",{class:"vc-time-colon"},":",-1),fF=p("span",{class:"vc-time-decimal"},".",-1),Mp=mt({__name:"TimePicker",props:{position:null},setup(t,{expose:e}){const s=XL(t);e(s);const{locale:r,isValid:i,date:o,hours:a,minutes:l,seconds:c,milliseconds:u,options:d,hourOptions:f,isTimeMode:h,isAM:v,isAMOptions:y,is24hr:w,showHeader:b,timeAccuracy:A}=s;return(L,P)=>(S(),O("div",{class:qe(["vc-time-picker",[{"vc-invalid":!N(i),"vc-attached":!N(h)}]])},[ee(sn,{name:"time-header"},{default:Ie(()=>[N(b)&&N(o)?(S(),O("div",rF,[p("span",iF,ve(N(r).formatDate(N(o),"WWW")),1),p("span",oF,ve(N(r).formatDate(N(o),"MMM")),1),p("span",aF,ve(N(r).formatDate(N(o),"D")),1),p("span",lF,ve(N(r).formatDate(N(o),"YYYY")),1)])):Be("",!0)]),_:1}),p("div",cF,[ee(Gr,{name:"Clock",size:"17"}),ee(Di,{modelValue:N(a),"onUpdate:modelValue":P[0]||(P[0]=x=>et(a)?a.value=x:null),modelModifiers:{number:!0},options:N(f),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),N(A)>1?(S(),O(De,{key:0},[uF,ee(Di,{modelValue:N(l),"onUpdate:modelValue":P[1]||(P[1]=x=>et(l)?l.value=x:null),modelModifiers:{number:!0},options:N(d).minutes,class:"vc-time-select-minutes","align-left":N(A)===2},null,8,["modelValue","options","align-left"])],64)):Be("",!0),N(A)>2?(S(),O(De,{key:1},[dF,ee(Di,{modelValue:N(c),"onUpdate:modelValue":P[2]||(P[2]=x=>et(c)?c.value=x:null),modelModifiers:{number:!0},options:N(d).seconds,class:"vc-time-select-seconds","align-left":N(A)===3},null,8,["modelValue","options","align-left"])],64)):Be("",!0),N(A)>3?(S(),O(De,{key:2},[fF,ee(Di,{modelValue:N(u),"onUpdate:modelValue":P[3]||(P[3]=x=>et(u)?u.value=x:null),modelModifiers:{number:!0},options:N(d).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):Be("",!0),N(w)?Be("",!0):(S(),ot(Di,{key:3,modelValue:N(v),"onUpdate:modelValue":P[4]||(P[4]=x=>et(v)?v.value=x:null),options:N(y)},null,8,["modelValue","options"]))])],2))}}),M_=mt({__name:"DatePickerBase",setup(t){const{attributes:e,calendarRef:n,color:s,displayMode:r,isDateTimeMode:i,isTimeMode:o,isRange:a,onDayClick:l,onDayMouseEnter:c,onDayKeydown:u}=kd(),d=a.value?[0,1]:[0];return(f,h)=>N(o)?(S(),O("div",{key:0,class:qe(`vc-container vc-bordered vc-${N(s)} vc-${N(r)}`)},[(S(!0),O(De,null,it(N(d),v=>(S(),ot(Mp,{key:v,position:v},null,8,["position"]))),128))],2)):(S(),ot(x_,{key:1,attributes:N(e),ref_key:"calendarRef",ref:n,onDayclick:N(l),onDaymouseenter:N(c),onDaykeydown:N(u)},{footer:Ie(()=>[N(i)?(S(!0),O(De,{key:0},it(N(d),v=>(S(),ot(Mp,{key:v,position:v},null,8,["position"]))),128)):Be("",!0),ee(sn,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),hF={inheritAttrs:!1},pF=mt({...hF,__name:"DatePickerPopover",setup(t){const{datePickerPopoverId:e,color:n,displayMode:s,popoverRef:r,onPopoverBeforeShow:i,onPopoverAfterShow:o,onPopoverBeforeHide:a,onPopoverAfterHide:l}=kd();return(c,u)=>(S(),ot(Pd,{id:N(e),placement:"bottom-start",class:qe(`vc-date-picker-content vc-${N(n)} vc-${N(s)}`),ref_key:"popoverRef",ref:r,onBeforeShow:N(i),onAfterShow:N(o),onBeforeHide:N(a),onAfterHide:N(l)},{default:Ie(()=>[ee(M_,Mi(_a(c.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),mF=mt({inheritAttrs:!1,emits:qL,props:GL,components:{DatePickerBase:M_,DatePickerPopover:pF},setup(t,e){const n=QL(t,e),s=es(Zg(n,"calendarRef","popoverRef"));return{...n,slotCtx:s}}});function vF(t,e,n,s,r,i){const o=ct("DatePickerPopover"),a=ct("DatePickerBase");return t.$slots.default?(S(),O(De,{key:0},[Eo(t.$slots,"default",Mi(_a(t.slotCtx))),ee(o,Mi(_a(t.$attrs)),null,16)],64)):(S(),ot(a,Mi(vr({key:1},t.$attrs)),null,16))}const R_=Bs(mF,[["render",vF]]),gF="modulepreload",_F=function(t){return"/"+t},Rp={},yF=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");r=Promise.all(n.map(o=>{if(o=_F(o),o in Rp)return;Rp[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":gF,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function bF(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:r,onRegisteredSW:i,onRegisterError:o}=t;let a,l,c;const u=async(f=!0)=>{await l,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await yF(()=>import("./workbox-window.prod.es5-prqDwDSL.js"),__vite__mapDeps([])).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let f=!1;const h=()=>{f=!0,a==null||a.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",v=>{typeof v.isUpdate>"u"?typeof v.isExternal<"u"?v.isExternal?h():!f&&(s==null||s()):v.isExternal?window.location.reload():!f&&(s==null||s()):v.isUpdate||s==null||s()}),a.addEventListener("waiting",h),a.addEventListener("externalwaiting",h)}a.register({immediate:e}).then(f=>{i?i("/sw.js",f):r==null||r(f)}).catch(f=>{o==null||o(f)})}}return l=d(),u}const He=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},Cl=t=>(ht("data-v-998d6d13"),t=t(),pt(),t),wF={class:"friend-list container mt-5"},CF={class:"mb-3"},EF={class:"list-group"},SF=["onClick"],DF=["onClick"],IF=["src"],TF={class:"buttons"},$F=["onClick"],PF={class:"modal-background"},kF={class:"modal-dialog modal-dialog-centered",role:"document"},AF={class:"modal-content"},xF=Cl(()=>p("h5",{class:"modal-title"},"친구 프로필",-1)),OF=Cl(()=>p("span",null,"×",-1)),MF=[OF],RF={class:"modal-body"},NF=Cl(()=>p("strong",null,"이름:",-1)),LF=Cl(()=>p("strong",null,"나이:",-1)),FF={__name:"Friend",setup(t){const e=Ce(""),n=Ce([{id:1,name:"김철수",age:25},{id:2,name:"김영희",age:30},{id:3,name:"김싸피",age:28},{id:4,name:"손흥민",age:25},{id:5,name:"봉준호",age:30},{id:6,name:"김준호",age:28},{id:7,name:"카리나",age:25},{id:8,name:"공유",age:30},{id:9,name:"황정민",age:28}]),s=Ce(null),r=D(()=>n.value.filter(l=>l.name.toLowerCase().includes(e.value.toLowerCase()))),i=l=>{s.value=l},o=()=>{s.value=null},a=l=>{console.log("채팅 시작:",l.name)};return(l,c)=>(S(),O("div",wF,[p("div",CF,[bt(p("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>e.value=u),type:"text",class:"form-control",placeholder:"친구 검색"},null,512),[[_n,e.value]])]),p("ul",EF,[(S(!0),O(De,null,it(r.value,u=>(S(),O("li",{key:u.id,class:"list-group-item",onClick:d=>i(u)},[p("div",{class:"friend-item",onClick:d=>i(u)},[p("img",{src:u.profilePicture,alt:"프로필 이미지",class:"profile-image mr-2"},null,8,IF),p("span",null,ve(u.name),1)],8,DF),p("div",TF,[p("button",{class:"btn btn-primary btn-sm",onClick:to(d=>a(u),["stop"])},"채팅",8,$F)])],8,SF))),128))]),s.value?(S(),O("div",{key:0,class:"modal fade show",tabindex:"-1",role:"dialog",onClick:o},[p("div",PF,[p("div",kF,[p("div",AF,[p("div",{class:"modal-header"},[xF,p("button",{type:"button",class:"close","data-dismiss":"modal",onClick:o},MF)]),p("div",RF,[p("p",null,[NF,Ue(" "+ve(s.value.name),1)]),p("p",null,[LF,Ue(" "+ve(s.value.age),1)])])])])])])):Be("",!0)]))}},YF=He(FF,[["__scopeId","data-v-998d6d13"]]),BF={data(){return{notifications:[{id:1,message:"새로운 알림 1"},{id:2,message:"새로운 알림 2"}]}}},WF=t=>(ht("data-v-dd0c139d"),t=t(),pt(),t),HF={class:"notifications"},jF=WF(()=>p("div",{class:"notifications-title"},"알림",-1));function UF(t,e,n,s,r,i){return S(),O("div",HF,[jF,p("ul",null,[(S(!0),O(De,null,it(r.notifications,o=>(S(),O("li",{key:o.id},ve(o.message),1))),128))])])}const VF=He(BF,[["render",UF],["__scopeId","data-v-dd0c139d"]]),Nt=t=>(ht("data-v-0711383d"),t=t(),pt(),t),zF={class:"navbar bg-body-tertiary fixed-top"},KF={class:"container-fluid d-flex justify-content-between align-items-center"},GF=Nt(()=>p("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"},[p("span",{class:"navbar-toggler-icon"})],-1)),qF=Nt(()=>p("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNotifications","aria-controls":"offcanvasNotifications"}," 알림 ",-1)),QF={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel","data-bs-toggle":"offcanvas"},ZF=Nt(()=>p("div",{class:"offcanvas-header"},[p("h5",{class:"offcanvas-title",id:"offcanvasNavbarLabel"},"메뉴 전체보기"),p("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),JF={class:"offcanvas-body"},XF=Nt(()=>p("span",{class:"emoji"},"🎯",-1)),e2=Nt(()=>p("span",{class:"emoji"},"📅",-1)),t2=Nt(()=>p("span",{class:"emoji"},"🤝",-1)),n2=Nt(()=>p("span",{class:"emoji"},"📋",-1)),s2=Nt(()=>p("span",{class:"emoji"},"👫",-1)),r2=Nt(()=>p("span",{class:"emoji"},"🔄",-1)),i2=Nt(()=>p("span",{class:"emoji"},"🔊",-1)),o2=Nt(()=>p("span",{class:"emoji"},"👤",-1)),a2=Nt(()=>p("p",{style:{color:"red"}},"잠깐 아래 부분 푸시 알림 테스트 용도로 쓸게요!!",-1)),l2=Nt(()=>p("span",{class:"emoji"},null,-1)),c2=Nt(()=>p("span",{class:"emoji"},null,-1)),u2={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasNotifications","aria-labelledby":"offcanvasNotificationsLabel","data-bs-toggle":"offcanvas"},d2=Nt(()=>p("div",{class:"offcanvas-header"},[p("h5",{class:"offcanvas-title",id:"offcanvasNotificationsLabel"},"알림"),p("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),f2={class:"offcanvas-body"},h2={__name:"Sidebar",setup(t){return(e,n)=>{const s=ct("router-link");return S(),O("div",null,[p("nav",zF,[p("div",KF,[GF,ee(s,{to:"/",class:"navbar-brand mx-auto"},{default:Ie(()=>[Ue("Todak Todak")]),_:1}),qF,p("div",QF,[ZF,p("div",JF,[ee(s,{to:"/goal",class:"nav-link"},{default:Ie(()=>[XF,Ue(" 목표 만들기")]),_:1}),ee(s,{to:"/calendar",class:"nav-link"},{default:Ie(()=>[e2,Ue(" 캘린더")]),_:1}),ee(s,{to:"/meeting",class:"nav-link"},{default:Ie(()=>[t2,Ue(" 모임")]),_:1}),ee(s,{to:"/board",class:"nav-link"},{default:Ie(()=>[n2,Ue(" 게시판")]),_:1}),ee(s,{to:"/Friend",class:"nav-link"},{default:Ie(()=>[s2,Ue(" 친구")]),_:1}),ee(s,{to:"/habit",class:"nav-link"},{default:Ie(()=>[r2,Ue(" 습관")]),_:1}),ee(s,{to:"/voice",class:"nav-link"},{default:Ie(()=>[i2,Ue(" 음성")]),_:1}),ee(s,{to:"/mypage",class:"nav-link"},{default:Ie(()=>[o2,Ue(" 마이페이지")]),_:1}),a2,ee(s,{to:"/subscribe",class:"nav-link",style:{color:"red"}},{default:Ie(()=>[l2,Ue(" subscribe")]),_:1}),ee(s,{to:"/pushnotify",class:"nav-link",style:{color:"red"}},{default:Ie(()=>[c2,Ue(" pushnotify")]),_:1})])])])]),p("div",u2,[d2,p("div",f2,[ee(VF)])])])}}},p2=He(h2,[["__scopeId","data-v-0711383d"]]),m2={setup(){return{}}};function v2(t,e,n,s,r,i){return S(),O("div")}const N_=He(m2,[["render",v2]]),kr=hl({id:"goals",state:()=>({goals:[],nextId:1}),actions:{addGoal(t){const e={id:this.nextId++,...t};this.goals.push(e)},logGoals(){this.goals.forEach(t=>{console.log(`id: ${t.id}, goalContent: ${t.goalContent}, color: ${t.color}`)})},resetGoals(){this.goals=[],this.nextId=1}},persist:{enabled:!0,strategies:[{key:"my_goals",storage:localStorage}]}}),Aa=hl({id:"todos",state:()=>({todos:[],nextId:1}),actions:{addTodo(t){const e={id:this.nextId++,...t};this.todos.push(e),console.log("todoWithId",e.id)},logTodos(){this.todos.forEach(t=>{console.log(`id: ${t.id}, todoTitle: ${t.todoTitle}, todoContent: ${t.todoContent}, todoDate: ${t.eightDigitDate}, isImportant: ${t.isImportant}`)})},findId(t){let e=null;const n=this.todos;for(let s=0;s<=n.length;s++)if(n[s]&&n[s].todoTitle===t){e=s;break}return n[e].id},resetTodos(){this.todos=[],this.nextId=1}},persist:{enabled:!0,strategies:[{key:"my_todos",storage:localStorage}]}}),xa=hl({id:"habits",state:()=>({habits:[],nextId:1}),actions:{addHabit(t){const e={id:this.nextId++,...t};this.habits.push(e),console.log("habitWithId",e.id)},logHabits(){this.habits.forEach(t=>{console.log(`id: ${t.id}, habitContent: ${t.habitContent}, createdDate: ${t.createdDate}`)})},resetHabits(){this.habits=[],this.nextId=1}},persist:{enabled:!0,strategies:[{key:"my_habits",storage:localStorage}]}}),Ad=hl({id:"alarms",state:()=>({alarms:[],nextAlarmId:1}),actions:{addAlarm(t){const e={id:this.nextAlarmId++,...t};this.alarms.push(e),console.log(this.alarms)},resetAlarms(){this.alarms=[],this.nextAlarmId=1},sendPushForTodo(t){const e=Aa();console.log("todosStore",e);const n=e.todos;console.log("arr",n);const s=t.todoId;console.log("tempId",s);let r=null;for(let o=0;o<=n.length;o++)if(console.log(n[o]),n[o].id===s){r=o;break}const i=JSON.stringify({pTitle:n[r].todoTitle,pMsg:n[r].todoContent});fetch("https://us-central1-c210-67728.cloudfunctions.net/storePushData",{method:"POST",headers:{"Content-type":"application/json"},body:i}).then(o=>{if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return o.json()}).then(o=>{console.log(o.message)}).catch(o=>console.log("오류!"+o.message))},sendPushForHabit(t){const e=xa();console.log("habitsStore",e);const n=e.habits;console.log("arr",n);const s=t.habitId;console.log("tempId",s);let r=null;for(let o=0;o<=n.length;o++)if(console.log(n[o]),n[o].id===s){r=o;break}const i=JSON.stringify({pTitle:n[r].habitContent,pMsg:"습관은 title이 없고 content만 있습니다."});fetch("https://us-central1-c210-67728.cloudfunctions.net/storePushData",{method:"POST",headers:{"Content-type":"application/json"},body:i}).then(o=>{if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return o.json()}).then(o=>{console.log(o.message)}).catch(o=>console.log("오류!"+o.message))}},persist:{enabled:!0,strategies:[{key:"my_alarms",storage:localStorage}]}}),g2={components:{Calendar:x_,DatePicker:R_},data(){return{date:new Date}},methods:{handleDateClick(t){console.log("Selected date:",t),this.$router.push({name:"CalendarDetail",params:{date:t}})}}};function _2(t,e,n,s,r,i){const o=ct("DatePicker");return S(),ot(o,{expanded:"",modelValue:r.date,"onUpdate:modelValue":e[0]||(e[0]=a=>r.date=a),"onClick:date":i.handleDateClick},null,8,["modelValue","onClick:date"])}const L_=He(g2,[["render",_2],["__scopeId","data-v-6f6e2f48"]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const $r=typeof window<"u";function y2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Le=Object.assign;function vc(t,e){const n={};for(const s in e){const r=e[s];n[s]=wn(r)?r.map(t):t(r)}return n}const Wi=()=>{},wn=Array.isArray,b2=/\/$/,w2=t=>t.replace(b2,"");function gc(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=D2(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function C2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Np(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function E2(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&qr(e.matched[s],n.matched[r])&&F_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function qr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function F_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!S2(t[n],e[n]))return!1;return!0}function S2(t,e){return wn(t)?Lp(t,e):wn(e)?Lp(e,t):t===e}function Lp(t,e){return wn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function D2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var oo;(function(t){t.pop="pop",t.push="push"})(oo||(oo={}));var Hi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Hi||(Hi={}));function I2(t){if(!t)if($r){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),w2(t)}const T2=/^[^#]+#/;function $2(t,e){return t.replace(T2,"#")+e}function P2(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const El=()=>({left:window.pageXOffset,top:window.pageYOffset});function k2(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=P2(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Fp(t,e){return(history.state?history.state.position-e:-1)+t}const su=new Map;function A2(t,e){su.set(t,e)}function x2(t){const e=su.get(t);return su.delete(t),e}let O2=()=>location.protocol+"//"+location.host;function Y_(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Np(l,"")}return Np(n,t)+s+r}function M2(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const h=Y_(t,location),v=n.value,y=e.value;let w=0;if(f){if(n.value=h,e.value=f,o&&o===v){o=null;return}w=y?f.position-y.position:0}else s(h);r.forEach(b=>{b(n.value,v,{delta:w,type:oo.pop,direction:w?w>0?Hi.forward:Hi.back:Hi.unknown})})};function l(){o=n.value}function c(f){r.push(f);const h=()=>{const v=r.indexOf(f);v>-1&&r.splice(v,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Le({},f.state,{scroll:El()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Yp(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?El():null}}function R2(t){const{history:e,location:n}=window,s={value:Y_(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:O2()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Le({},e.state,Yp(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=Le({},r.value,e.state,{forward:l,scroll:El()});i(u.current,u,!0);const d=Le({},Yp(s.value,l,null),{position:u.position+1},c);i(l,d,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function N2(t){t=I2(t);const e=R2(t),n=M2(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Le({location:"",base:t,go:s,createHref:$2.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function L2(t){return typeof t=="string"||t&&typeof t=="object"}function B_(t){return typeof t=="string"||typeof t=="symbol"}const ls={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},W_=Symbol("");var Bp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Bp||(Bp={}));function Qr(t,e){return Le(new Error,{type:t,[W_]:!0},e)}function Bn(t,e){return t instanceof Error&&W_ in t&&(e==null||!!(t.type&e))}const Wp="[^/]+?",F2={sensitive:!1,strict:!1,start:!0,end:!0},Y2=/[.+*?^${}()[\]/\\]/g;function B2(t,e){const n=Le({},F2,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(Y2,"\\$&"),h+=40;else if(f.type===1){const{value:v,repeatable:y,optional:w,regexp:b}=f;i.push({name:v,repeatable:y,optional:w});const A=b||Wp;if(A!==Wp){h+=10;try{new RegExp(`(${A})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${v}" (${A}): `+P.message)}}let L=y?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(L=w&&c.length<2?`(?:/${L})`:"/"+L),w&&(L+="?"),r+=L,h+=20,w&&(h+=-8),y&&(h+=-20),A===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",v=i[f-1];d[v.name]=h&&v.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:v,repeatable:y,optional:w}=h,b=v in c?c[v]:"";if(wn(b)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const A=wn(b)?b.join("/"):b;if(!A)if(w)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${v}"`);u+=A}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function W2(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function H2(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=W2(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Hp(s))return 1;if(Hp(r))return-1}return r.length-s.length}function Hp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const j2={type:0,value:""},U2=/[a-zA-Z0-9_]/;function V2(t){if(!t)return[[]];if(t==="/")return[[j2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:U2.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function z2(t,e,n){const s=B2(V2(t.path),n),r=Le(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function K2(t,e){const n=[],s=new Map;e=Vp({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,d,f){const h=!f,v=G2(u);v.aliasOf=f&&f.record;const y=Vp(e,u),w=[v];if("alias"in u){const L=typeof u.alias=="string"?[u.alias]:u.alias;for(const P of L)w.push(Le({},v,{components:f?f.record.components:v.components,path:P,aliasOf:f?f.record:v}))}let b,A;for(const L of w){const{path:P}=L;if(d&&P[0]!=="/"){const x=d.record.path,Y=x[x.length-1]==="/"?"":"/";L.path=d.record.path+(P&&Y+P)}if(b=z2(L,d,y),f?f.alias.push(b):(A=A||b,A!==b&&A.alias.push(b),h&&u.name&&!Up(b)&&o(u.name)),v.children){const x=v.children;for(let Y=0;Y<x.length;Y++)i(x[Y],b,f&&f.children[Y])}f=f||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return A?()=>{o(A)}:Wi}function o(u){if(B_(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&H2(u,n[d])>=0&&(u.record.path!==n[d].record.path||!H_(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!Up(u)&&s.set(u.record.name,u)}function c(u,d){let f,h={},v,y;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Qr(1,{location:u});y=f.record.name,h=Le(jp(d.params,f.keys.filter(A=>!A.optional).map(A=>A.name)),u.params&&jp(u.params,f.keys.map(A=>A.name))),v=f.stringify(h)}else if("path"in u)v=u.path,f=n.find(A=>A.re.test(v)),f&&(h=f.parse(v),y=f.record.name);else{if(f=d.name?s.get(d.name):n.find(A=>A.re.test(d.path)),!f)throw Qr(1,{location:u,currentLocation:d});y=f.record.name,h=Le({},d.params,u.params),v=f.stringify(h)}const w=[];let b=f;for(;b;)w.unshift(b.record),b=b.parent;return{name:y,path:v,params:h,matched:w,meta:Q2(w)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function jp(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function G2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:q2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function q2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Up(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Q2(t){return t.reduce((e,n)=>Le(e,n.meta),{})}function Vp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function H_(t,e){return e.children.some(n=>n===t||H_(t,n))}const j_=/#/g,Z2=/&/g,J2=/\//g,X2=/=/g,eY=/\?/g,U_=/\+/g,tY=/%5B/g,nY=/%5D/g,V_=/%5E/g,sY=/%60/g,z_=/%7B/g,rY=/%7C/g,K_=/%7D/g,iY=/%20/g;function xd(t){return encodeURI(""+t).replace(rY,"|").replace(tY,"[").replace(nY,"]")}function oY(t){return xd(t).replace(z_,"{").replace(K_,"}").replace(V_,"^")}function ru(t){return xd(t).replace(U_,"%2B").replace(iY,"+").replace(j_,"%23").replace(Z2,"%26").replace(sY,"`").replace(z_,"{").replace(K_,"}").replace(V_,"^")}function aY(t){return ru(t).replace(X2,"%3D")}function lY(t){return xd(t).replace(j_,"%23").replace(eY,"%3F")}function cY(t){return t==null?"":lY(t).replace(J2,"%2F")}function Oa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function uY(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(U_," "),o=i.indexOf("="),a=Oa(o<0?i:i.slice(0,o)),l=o<0?null:Oa(i.slice(o+1));if(a in e){let c=e[a];wn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function zp(t){let e="";for(let n in t){const s=t[n];if(n=aY(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(wn(s)?s.map(i=>i&&ru(i)):[s&&ru(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function dY(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=wn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const fY=Symbol(""),Kp=Symbol(""),Od=Symbol(""),G_=Symbol(""),iu=Symbol("");function Ii(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ps(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Qr(4,{from:n,to:e})):d instanceof Error?a(d):L2(d)?a(Qr(2,{from:e,to:d})):(i&&s.enterCallbacks[r]===i&&typeof d=="function"&&i.push(d),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function _c(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(hY(a)){const c=(a.__vccOpts||a)[e];c&&r.push(ps(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=y2(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&ps(f,n,s,i,o)()}))}}return r}function hY(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Gp(t){const e=Rt(Od),n=Rt(G_),s=D(()=>e.resolve(N(t.to))),r=D(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(qr.bind(null,u));if(f>-1)return f;const h=qp(l[c-2]);return c>1&&qp(u)===h&&d[d.length-1].path!==h?d.findIndex(qr.bind(null,l[c-2])):f}),i=D(()=>r.value>-1&&vY(n.params,s.value.params)),o=D(()=>r.value>-1&&r.value===n.matched.length-1&&F_(n.params,s.value.params));function a(l={}){return mY(l)?e[N(t.replace)?"replace":"push"](N(t.to)).catch(Wi):Promise.resolve()}return{route:s,href:D(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const pY=mt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gp,setup(t,{slots:e}){const n=es(Gp(t)),{options:s}=Rt(Od),r=D(()=>({[Qp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Qp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:ed("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Md=pY;function mY(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function vY(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!wn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function qp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Qp=(t,e,n)=>t??e??n,gY=mt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Rt(iu),r=D(()=>t.route||s.value),i=Rt(Kp,0),o=D(()=>{let c=N(i);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=D(()=>r.value.matched[o.value]);Vn(Kp,D(()=>o.value+1)),Vn(fY,a),Vn(iu,r);const l=Ce();return lt(()=>[l.value,a.value,t.name],([c,u,d],[f,h,v])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!qr(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return Zp(n.default,{Component:f,route:c});const h=d.props[u],v=h?h===!0?c.params:typeof h=="function"?h(c):h:null,w=ed(f,Le({},v,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Zp(n.default,{Component:w,route:c})||w}}});function Zp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Rd=gY;function _Y(t){const e=K2(t.routes,t),n=t.parseQuery||uY,s=t.stringifyQuery||zp,r=t.history,i=Ii(),o=Ii(),a=Ii(),l=Sw(ls);let c=ls;$r&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=vc.bind(null,E=>""+E),d=vc.bind(null,cY),f=vc.bind(null,Oa);function h(E,G){let K,se;return B_(E)?(K=e.getRecordMatcher(E),se=G):se=E,e.addRoute(se,K)}function v(E){const G=e.getRecordMatcher(E);G&&e.removeRoute(G)}function y(){return e.getRoutes().map(E=>E.record)}function w(E){return!!e.getRecordMatcher(E)}function b(E,G){if(G=Le({},G||l.value),typeof E=="string"){const _=gc(n,E,G.path),C=e.resolve({path:_.path},G),$=r.createHref(_.fullPath);return Le(_,C,{params:f(C.params),hash:Oa(_.hash),redirectedFrom:void 0,href:$})}let K;if("path"in E)K=Le({},E,{path:gc(n,E.path,G.path).path});else{const _=Le({},E.params);for(const C in _)_[C]==null&&delete _[C];K=Le({},E,{params:d(_)}),G.params=d(G.params)}const se=e.resolve(K,G),be=E.hash||"";se.params=u(f(se.params));const Pe=C2(s,Le({},E,{hash:oY(be),path:se.path})),m=r.createHref(Pe);return Le({fullPath:Pe,hash:be,query:s===zp?dY(E.query):E.query||{}},se,{redirectedFrom:void 0,href:m})}function A(E){return typeof E=="string"?gc(n,E,l.value.path):Le({},E)}function L(E,G){if(c!==E)return Qr(8,{from:G,to:E})}function P(E){return V(E)}function x(E){return P(Le(A(E),{replace:!0}))}function Y(E){const G=E.matched[E.matched.length-1];if(G&&G.redirect){const{redirect:K}=G;let se=typeof K=="function"?K(E):K;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=A(se):{path:se},se.params={}),Le({query:E.query,hash:E.hash,params:"path"in se?{}:E.params},se)}}function V(E,G){const K=c=b(E),se=l.value,be=E.state,Pe=E.force,m=E.replace===!0,_=Y(K);if(_)return V(Le(A(_),{state:typeof _=="object"?Le({},be,_.state):be,force:Pe,replace:m}),G||K);const C=K;C.redirectedFrom=G;let $;return!Pe&&E2(s,se,K)&&($=Qr(16,{to:C,from:se}),ge(se,se,!0,!1)),($?Promise.resolve($):Z(C,se)).catch(I=>Bn(I)?Bn(I,2)?I:W(I):fe(I,C,se)).then(I=>{if(I){if(Bn(I,2))return V(Le({replace:m},A(I.to),{state:typeof I.to=="object"?Le({},be,I.to.state):be,force:Pe}),G||C)}else I=T(C,se,!0,m,be);return ie(C,se,I),I})}function k(E,G){const K=L(E,G);return K?Promise.reject(K):Promise.resolve()}function H(E){const G=$e.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(E):E()}function Z(E,G){let K;const[se,be,Pe]=yY(E,G);K=_c(se.reverse(),"beforeRouteLeave",E,G);for(const _ of se)_.leaveGuards.forEach(C=>{K.push(ps(C,E,G))});const m=k.bind(null,E,G);return K.push(m),xe(K).then(()=>{K=[];for(const _ of i.list())K.push(ps(_,E,G));return K.push(m),xe(K)}).then(()=>{K=_c(be,"beforeRouteUpdate",E,G);for(const _ of be)_.updateGuards.forEach(C=>{K.push(ps(C,E,G))});return K.push(m),xe(K)}).then(()=>{K=[];for(const _ of Pe)if(_.beforeEnter)if(wn(_.beforeEnter))for(const C of _.beforeEnter)K.push(ps(C,E,G));else K.push(ps(_.beforeEnter,E,G));return K.push(m),xe(K)}).then(()=>(E.matched.forEach(_=>_.enterCallbacks={}),K=_c(Pe,"beforeRouteEnter",E,G),K.push(m),xe(K))).then(()=>{K=[];for(const _ of o.list())K.push(ps(_,E,G));return K.push(m),xe(K)}).catch(_=>Bn(_,8)?_:Promise.reject(_))}function ie(E,G,K){a.list().forEach(se=>H(()=>se(E,G,K)))}function T(E,G,K,se,be){const Pe=L(E,G);if(Pe)return Pe;const m=G===ls,_=$r?history.state:{};K&&(se||m?r.replace(E.fullPath,Le({scroll:m&&_&&_.scroll},be)):r.push(E.fullPath,be)),l.value=E,ge(E,G,K,m),W()}let Q;function me(){Q||(Q=r.listen((E,G,K)=>{if(!Ze.listening)return;const se=b(E),be=Y(se);if(be){V(Le(be,{replace:!0}),se).catch(Wi);return}c=se;const Pe=l.value;$r&&A2(Fp(Pe.fullPath,K.delta),El()),Z(se,Pe).catch(m=>Bn(m,12)?m:Bn(m,2)?(V(m.to,se).then(_=>{Bn(_,20)&&!K.delta&&K.type===oo.pop&&r.go(-1,!1)}).catch(Wi),Promise.reject()):(K.delta&&r.go(-K.delta,!1),fe(m,se,Pe))).then(m=>{m=m||T(se,Pe,!1),m&&(K.delta&&!Bn(m,8)?r.go(-K.delta,!1):K.type===oo.pop&&Bn(m,20)&&r.go(-1,!1)),ie(se,Pe,m)}).catch(Wi)}))}let ne=Ii(),re=Ii(),le;function fe(E,G,K){W(E);const se=re.list();return se.length?se.forEach(be=>be(E,G,K)):console.error(E),Promise.reject(E)}function Ae(){return le&&l.value!==ls?Promise.resolve():new Promise((E,G)=>{ne.add([E,G])})}function W(E){return le||(le=!E,me(),ne.list().forEach(([G,K])=>E?K(E):G()),ne.reset()),E}function ge(E,G,K,se){const{scrollBehavior:be}=t;if(!$r||!be)return Promise.resolve();const Pe=!K&&x2(Fp(E.fullPath,0))||(se||!K)&&history.state&&history.state.scroll||null;return Wn().then(()=>be(E,G,Pe)).then(m=>m&&k2(m)).catch(m=>fe(m,E,G))}const te=E=>r.go(E);let je;const $e=new Set,Ze={currentRoute:l,listening:!0,addRoute:h,removeRoute:v,hasRoute:w,getRoutes:y,resolve:b,options:t,push:P,replace:x,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:re.add,isReady:Ae,install(E){const G=this;E.component("RouterLink",Md),E.component("RouterView",Rd),E.config.globalProperties.$router=G,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>N(l)}),$r&&!je&&l.value===ls&&(je=!0,P(r.location).catch(be=>{}));const K={};for(const be in ls)Object.defineProperty(K,be,{get:()=>l.value[be],enumerable:!0});E.provide(Od,G),E.provide(G_,gv(K)),E.provide(iu,l);const se=E.unmount;$e.add(E),E.unmount=function(){$e.delete(E),$e.size<1&&(c=ls,Q&&Q(),Q=null,l.value=ls,je=!1,le=!1),se()}}};function xe(E){return E.reduce((G,K)=>G.then(()=>H(K)),Promise.resolve())}return Ze}function yY(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>qr(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>qr(c,l))||r.push(l))}return[n,s,r]}const bY={name:"Sidebar",components:{Calendar:L_,RouterView:Rd,RouterLink:Md},methods:{closeSidebar(){console.log("closeSidebar method called"),this.$root.$emit("bv::toggle::offcanvas","offcanvasNavbar")}}},Sl=t=>(ht("data-v-a03a9931"),t=t(),pt(),t),wY={class:"navbar bg-body-tertiary fixed-top"},CY={class:"container-fluid d-flex justify-content-between align-items-center"},EY=Sl(()=>p("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"},[p("span",{class:"navbar-toggler-icon"})],-1)),SY=Sl(()=>p("a",{class:"navbar-brand mx-auto",href:"#"},"토닥토닥",-1)),DY=Sl(()=>p("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNotifications","aria-controls":"offcanvasNotifications"}," 알림 ",-1)),IY={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel"},TY=Sl(()=>p("div",{class:"offcanvas-header"},[p("h5",{class:"offcanvas-title",id:"offcanvasNavbarLabel"},"Todak"),p("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),$Y={class:"offcanvas-body"},PY={class:"navbar-nav justify-content-end flex-grow-1 pe-3"},kY={class:"nav-item"},AY=TC('<li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>캘린더</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>모임</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>게시판</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>친구</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>습관</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>마이페이지</a></li>',6);function xY(t,e,n,s,r,i){const o=ct("RouterLink");return S(),O("div",null,[p("nav",wY,[p("div",CY,[EY,SY,DY,p("div",IY,[TY,p("div",$Y,[p("ul",PY,[p("li",kY,[ee(o,{onClick:i.closeSidebar,to:"/calendar"},{default:Ie(()=>[Ue("캘린더")]),_:1},8,["onClick"])]),AY])])])])])])}const OY=He(bY,[["render",xY],["__scopeId","data-v-a03a9931"]]),MY={props:{item:{type:Object,required:!0}},methods:{closeModal(){this.$emit("close-modal")}}},q_=t=>(ht("data-v-e83fff5e"),t=t(),pt(),t),RY={class:"modal-content"},NY=q_(()=>p("h4",null,"TodoDetail 모달",-1)),LY=q_(()=>p("p",null,"TodoDetail 모달",-1));function FY(t,e,n,s,r,i){return S(),O("div",RY,[p("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))}),NY,LY,p("p",null," 제목: "+ve(n.item.todoTitle),1),p("p",null," 내용: "+ve(n.item.todoContent),1),p("p",null," 외출 여부: "+ve(n.item.isOutside),1),p("p",null," 알람 시간: "+ve(n.item.time),1)])}const YY=He(MY,[["render",FY],["__scopeId","data-v-e83fff5e"]]),BY={data(){return{selectedGoal:"",todoId:"",todoTitle:"",todoContent:"",todoDate:"",isImportant:!1,isAlarmed:!1,day:"",time:"",isOutside:!1,isChecked:!1,isCompleted:!1}},computed:{goals(){return kr().goals}},methods:{closeModal(){this.$emit("close-modal")},eightDigitDate(t){const e=new Date,n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${n}${s}${r}`},fourDigitTime(t){const[e,n]=t.split(":");return e+n},submitTodo(){const t=Aa(),e=Ad(),n=new Date,s=this.time;if(t.addTodo({goalId:this.selectedGoal.id,todoTitle:this.todoTitle,todoContent:this.todoContent,todoDate:this.eightDigitDate(n),isImportant:this.isImportant}),this.todoId=t.findId(this.todoTitle),this.day=(n.getDay()+6)%7,this.closeModal(),this.isAlarmed===!0){const r=this.fourDigitTime(s);this.time=r,e.addAlarm({todoId:this.todoId,day:this.day,time:this.time,isOutside:this.isOutside,isAlarmed:this.isAlarmed,isChecked:this.isChecked,isCompleted:this.isCompleted}),e.sendPushForTodo({todoId:this.todoId,day:this.day,time:this.time,isOutside:this.isOutside,isAlarmed:this.isAlarmed,isChecked:this.isChecked,isCompleted:this.isCompleted})}}}},Fn=t=>(ht("data-v-e3e2c012"),t=t(),pt(),t),WY={class:"modal-content",style:{"border-radius":"10px"}},HY={class:"modal-title"},jY={class:"form-group"},UY=Fn(()=>p("label",{for:"selectedGoal"},"목표:",-1)),VY=["value"],zY={class:"form-group"},KY=Fn(()=>p("label",{for:"todoTitle"},"제목:",-1)),GY={class:"form-group"},qY=Fn(()=>p("label",{for:"todoContent"},"내용:",-1)),QY={class:"form-group"},ZY=Fn(()=>p("label",null,"중요여부:",-1)),JY={class:"form-check form-switch"},XY=Fn(()=>p("label",{class:"form-check-label",for:"importantSwitch"},null,-1)),eB={class:"form-group"},tB=Fn(()=>p("label",null,"외출 여부:",-1)),nB={class:"form-check form-switch"},sB=Fn(()=>p("label",{class:"form-check-label",for:"outsideSwitch"},null,-1)),rB={class:"form-group"},iB=Fn(()=>p("label",null,"알람 여부:",-1)),oB={class:"custom-control custom-switch"},aB={class:"form-check form-switch"},lB=Fn(()=>p("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1)),cB={key:0,class:"form-group"},uB=Fn(()=>p("label",{for:"time"},"알람 시간:",-1));function dB(t,e,n,s,r,i){return S(),O("div",WY,[p("div",HY,[p("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))})]),p("form",null,[p("div",jY,[UY,bt(p("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.selectedGoal=o),id:"selectedGoal",class:"form-control"},[(S(!0),O(De,null,it(i.goals,o=>(S(),O("option",{key:o.id,value:o},ve(o.goalContent),9,VY))),128))],512),[[u1,r.selectedGoal]])]),p("div",zY,[KY,bt(p("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.todoTitle=o),type:"text",id:"todoTitle",class:"form-control",required:""},null,512),[[_n,r.todoTitle]])]),p("div",GY,[qY,bt(p("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.todoContent=o),id:"todoContent",class:"form-control",rows:"3"},null,512),[[_n,r.todoContent]])]),p("div",QY,[ZY,p("div",JY,[bt(p("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>r.isImportant=o),class:"form-check-input",type:"checkbox",role:"switch",id:"importantSwitch"},null,512),[[oa,r.isImportant]]),XY])]),p("div",eB,[tB,p("div",nB,[bt(p("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>r.isOutside=o),class:"form-check-input",type:"checkbox",role:"switch",id:"outsideSwitch"},null,512),[[oa,r.isOutside]]),sB])]),p("div",rB,[iB,p("div",oB,[p("div",aB,[bt(p("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r.isAlarmed=o),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,512),[[oa,r.isAlarmed]]),lB])])]),r.isAlarmed?(S(),O("div",cB,[uB,bt(p("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>r.time=o),type:"time",id:"time",class:"form-control"},null,512),[[_n,r.time]])])):Be("",!0),p("button",{type:"submit",class:"btn btn-primary",onClick:e[8]||(e[8]=(...o)=>i.submitTodo&&i.submitTodo(...o))},"저장")])])}const fB=He(BY,[["render",dB],["__scopeId","data-v-e3e2c012"]]),hB={setup(){return{}}};function pB(t,e,n,s,r,i){return S(),O("div")}const mB=He(hB,[["render",pB]]),vB={props:{item:{type:Object,required:!0}},methods:{closeModal(){this.$emit("close-modal")}}},gB=t=>(ht("data-v-4a71277d"),t=t(),pt(),t),_B={class:"modal-content"},yB=gB(()=>p("p",null,"관련 투두리스트:",-1));function bB(t,e,n,s,r,i){return S(),O("div",_B,[p("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))}),p("p",null,"목표: "+ve(n.item.goalContent),1),yB])}const wB=He(vB,[["render",bB],["__scopeId","data-v-4a71277d"]]),CB={props:{item:{type:Object,required:!0}},methods:{closeModal(){this.$emit("close-modal")}}},Q_=t=>(ht("data-v-5f21f6be"),t=t(),pt(),t),EB={class:"modal-content"},SB=Q_(()=>p("h4",null,"HabitDetail 모달",-1)),DB=Q_(()=>p("p",null,"HabitDetail 모달",-1));function IB(t,e,n,s,r,i){return S(),O("div",EB,[p("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))}),SB,DB])}const TB=He(CB,[["render",IB],["__scopeId","data-v-5f21f6be"]]),$B={data(){return{habitContent:"",isAlarmed:!1,day:"",time:"",isOutside:!1,isChecked:!1,isCompleted:!1}},computed:{habits(){return xa().habits}},methods:{closeModal(){this.$emit("close-modal")},eightDigitDate(t){const e=new Date,n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${n}${s}${r}`},fourDigitTime(t){const[e,n]=t.split(":");return e+n},submitHabit(){const t=xa(),e=Ad(),n=new Date,s=this.time;if(t.addHabit({habitContent:this.habitContent}),this.day=(n.getDay()+6)%7,this.closeModal(),this.isAlarmed){const r=this.fourDigitTime(s);this.time=r,e.addAlarm({habitId:t.habits[t.habits.length-1].id,day:this.day,time:this.time,isOutside:this.isOutside,isAlarmed:this.isAlarmed,isChecked:this.isChecked,isCompleted:this.isCompleted}),e.sendPushForHabit({habitId:t.habits[t.habits.length-1].id,day:this.day,time:this.time,isOutside:this.isOutside,isAlarmed:this.isAlarmed,isChecked:this.isChecked,isCompleted:this.isCompleted})}}}},$o=t=>(ht("data-v-890c9d74"),t=t(),pt(),t),PB={class:"modal-content",style:{"border-radius":"10px"}},kB={class:"modal-title"},AB={class:"form-group"},xB=$o(()=>p("label",{for:"habitContent"},"내용:",-1)),OB={class:"form-group"},MB=$o(()=>p("label",null,"알람 여부:",-1)),RB=$o(()=>p("p",null,"시간 넣어야 하는 거 맞죠?(김요한)",-1)),NB={class:"custom-control custom-switch"},LB={class:"form-check form-switch"},FB=$o(()=>p("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1)),YB={key:0,class:"form-group"},BB=$o(()=>p("label",{for:"time"},"알람 시간:",-1));function WB(t,e,n,s,r,i){return S(),O("div",PB,[p("div",kB,[p("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))})]),p("form",null,[p("div",AB,[xB,bt(p("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.habitContent=o),id:"habitContent",class:"form-control",rows:"3"},null,512),[[_n,r.habitContent]])]),p("div",OB,[MB,RB,p("div",NB,[p("div",LB,[bt(p("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.isAlarmed=o),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,512),[[oa,r.isAlarmed]]),FB])])]),r.isAlarmed?(S(),O("div",YB,[BB,bt(p("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.time=o),type:"time",id:"time",class:"form-control"},null,512),[[_n,r.time]])])):Be("",!0),p("button",{type:"submit",class:"btn btn-primary",onClick:e[4]||(e[4]=(...o)=>i.submitHabit&&i.submitHabit(...o))},"저장")])])}const HB=He($B,[["render",WB],["__scopeId","data-v-890c9d74"]]),jB={name:"App",computed:{habits(){const t=xa();return console.log(t.habits),t.habits}},data(){return{is_modal_valid:!1,activeModal:null,today:"",currentItem:null}},components:{AddHabit:HB,HabitDetail:TB},methods:{openModal(t,e=null){this.is_modal_valid=!0,this.activeModal=t,this.currentItem=e},closeModal(){this.is_modal_valid=!1,this.activeModal=null}}},UB=t=>(ht("data-v-1cfd953a"),t=t(),pt(),t),VB={key:0,class:"black-bg"},zB={class:"todo-section"},KB={class:"todo-date"},GB={class:"todo-items"},qB=["onClick"],QB=UB(()=>p("input",{type:"checkbox"},null,-1));function ZB(t,e,n,s,r,i){return S(),O("div",null,[r.is_modal_valid?(S(),O("div",VB,[(S(),ot(rl(r.activeModal),{item:r.currentItem,onCloseModal:i.closeModal},null,40,["item","onCloseModal"]))])):Be("",!0),p("div",zB,[p("div",KB,[p("span",null,ve(r.today),1),p("button",{class:"add-button",onClick:e[0]||(e[0]=o=>i.openModal("AddHabit"))},"+")]),p("div",GB,[(S(!0),O(De,null,it(i.habits,o=>(S(),O("div",{class:"todo-item",key:o.id},[p("span",{onClick:a=>i.openModal("HabitDetail",o),class:"goal-content"},ve(o.habitContent),9,qB),QB]))),128))])])])}const Z_=He(jB,[["render",ZB],["__scopeId","data-v-1cfd953a"]]),JB={name:"App",computed:{goals(){return kr().goals},todos(){return Aa().todos}},data(){return{is_modal_valid:!1,activeModal:null,today:"",currentItem:null}},components:{Sidebar:OY,GoalList:mB,GoalDetail:wB,TodoList:N_,TodoDetail:YY,AddTodo:fB,HabitList:Z_},methods:{openModal(t,e=null){if(t==="AddTodo"&&kr().goals.length===0){alert("최소 한 가지 목표를 먼저 설정하세요 :)");return}this.is_modal_valid=!0,this.activeModal=t,this.currentItem=e},closeModal(){this.is_modal_valid=!1,this.activeModal=null},updateToday(){const t=new Date,e={month:"2-digit",day:"2-digit",weekday:"long"};this.today=t.toLocaleDateString("ko-KR",e)},getGoalColor(t){const n=kr().goals.find(s=>s.id===t.goalId);return n?n.color:"defaultColor"},clearGoals(){const t=kr(),e=Aa(),n=Ad();t.resetGoals(),e.resetTodos(),n.resetAlarms(),localStorage.removeItem("my_goals"),localStorage.removeItem("my_todos"),localStorage.removeItem("my_alarms")}},mounted(){this.updateToday()}},Dl=t=>(ht("data-v-60d5de1d"),t=t(),pt(),t),XB={key:0,class:"black-bg"},eW=Dl(()=>p("div",{class:"top-bar"},[p("div",{class:"quote"},'"행복은 우연이 아니라 선택이다"'),p("div",null,"짐 론")],-1)),tW={class:"todo-section"},nW={class:"todo-date"},sW={class:"todo-items"},rW=["onClick"],iW=Dl(()=>p("input",{type:"checkbox"},null,-1)),oW={class:"todo-section"},aW=Dl(()=>p("div",{class:"todo-date"},[p("div",{style:{"margin-bottom":"5px","margin-top":"5px"}},"목표")],-1)),lW=["onClick"],cW=Dl(()=>p("input",{type:"checkbox"},null,-1));function uW(t,e,n,s,r,i){return S(),O("div",null,[r.is_modal_valid?(S(),O("div",XB,[(S(),ot(rl(r.activeModal),{item:r.currentItem,onCloseModal:i.closeModal},null,40,["item","onCloseModal"]))])):Be("",!0),eW,p("div",tW,[p("div",nW,[p("span",null,ve(r.today),1),p("button",{class:"add-button",onClick:e[0]||(e[0]=o=>i.openModal("AddTodo"))},"+")]),p("div",sW,[(S(!0),O(De,null,it(i.todos,o=>(S(),O("div",{class:"todo-item",key:o.id},[p("div",{class:"color-bar",style:qt({backgroundColor:i.getGoalColor(o)})},null,4),p("span",{onClick:a=>i.openModal("TodoDetail",o),class:"goal-content"},ve(o.todoTitle),9,rW),iW]))),128))])]),p("div",oW,[aW,(S(!0),O(De,null,it(i.goals,o=>(S(),O("div",{class:"todo-item",key:o.id},[p("div",{class:"color-circle",style:qt({backgroundColor:o.color})},null,4),p("span",{onClick:a=>i.openModal("GoalDetail",o),class:"goal-content"},ve(o.goalContent),9,lW),cW]))),128)),p("button",{onClick:e[1]||(e[1]=(...o)=>i.clearGoals&&i.clearGoals(...o))},"테스트 차원에서 잠깐 목표 리셋 버튼 만듦")])])}const ou=He(JB,[["render",uW],["__scopeId","data-v-60d5de1d"]]),dW={key:0,class:"user-data"},fW={class:"user-photo"},hW=["src"],pW={class:"user-profile"},mW={__name:"UserInfo",setup(t){const e=Ce({name:"김철수",memo:"오늘도 힘내요",profilePicture:"/src/assets/damgom.png"});return(n,s)=>(S(),O("div",null,[e.value?(S(),O("div",dW,[p("div",fW,[p("img",{src:e.value.profilePicture,alt:"프로필 이미지",class:"profile-image mr-2"},null,8,hW)]),p("div",pW,[p("h3",null,[p("strong",null,ve(e.value.name),1)]),p("p",null,[p("strong",null,ve(e.value.memo),1)])])])):Be("",!0)]))}},vW=He(mW,[["__scopeId","data-v-f43aac50"]]),J_=t=>(ht("data-v-f33e9107"),t=t(),pt(),t),gW={class:"success-rate"},_W=J_(()=>p("p",{class:"success-rate-title"},"Success Rate",-1)),yW={class:"progress-circle-container"},bW=J_(()=>p("div",{class:"rate-container"},[p("div",{class:"unsuccessful-rate"},"Unsuccessful"),p("div",{class:"successful-rate"},"Successful")],-1)),wW={__name:"SuccessRate",setup(t){const e={completionRate:Number},n=()=>e.completionRate/100*360,s=()=>`hsl(${e.completionRate*1.2}, 70%, 50%)`;return(r,i)=>(S(),O("div",gW,[_W,p("div",yW,[p("div",{class:"progress-circle",style:qt({background:s()})},[p("div",{class:"progress-fill",style:qt({transform:`rotate(${n()}deg)`})},null,4)],4)]),bW]))}},CW=He(wW,[["__scopeId","data-v-f33e9107"]]),EW=t=>(ht("data-v-08c51cfb"),t=t(),pt(),t),SW={class:"goal-success-rate"},DW=EW(()=>p("p",{class:"goal-success-rate-title"},"목표별 성취율",-1)),IW={class:"goal-name"},TW={class:"success-rate"},$W={__name:"GoalSuccessRate",setup(t){const e=Ce([{name:"목표 1",successRate:80},{name:"목표 2",successRate:60}]);return(n,s)=>(S(),O("div",SW,[DW,(S(!0),O(De,null,it(e.value,(r,i)=>(S(),O("div",{key:i,class:"goal-item"},[p("p",IW,ve(r.name),1),p("p",TW,ve(r.successRate)+"%",1)]))),128))]))}},PW=He($W,[["__scopeId","data-v-08c51cfb"]]),kW={components:{UserInfo:vW,SuccessRate:CW,GoalSuccessRate:PW},data(){return{userData:null,successRate:null,goalRate:null}},mounted(){this.fetchUserData()},methods:{async fetchUserData(){}}},AW={class:"mt-5"};function xW(t,e,n,s,r,i){const o=ct("UserInfo"),a=ct("SuccessRate"),l=ct("GoalSuccessRate");return S(),O("div",AW,[ee(o,{userData:r.userData},null,8,["userData"]),ee(a,{successRate:r.successRate},null,8,["successRate"]),ee(l,{goalRate:r.goalRate},null,8,["goalRate"])])}const X_=He(kW,[["render",xW]]);let OW=new Date;console.log(OW);const MW={name:"App",data(){return{is_modal_valid:!1}},components:{Sidebar:p2,TodoList:N_,Main:ou,MyPage:X_,RouterView:Rd,RouterLink:Md},methods:{closeModal(){this.is_modal_valid=!1}}},RW={id:"app"},NW={class:"bottom-nav"};function LW(t,e,n,s,r,i){const o=ct("Sidebar"),a=ct("RouterLink"),l=ct("RouterView");return S(),O("div",RW,[ee(o),p("div",NW,[ee(a,{to:"/Main"},{default:Ie(()=>[Ue("Home")]),_:1}),ee(a,{to:"/Calendar"},{default:Ie(()=>[Ue("Calendar")]),_:1}),ee(a,{to:"/Friend"},{default:Ie(()=>[Ue("Friends")]),_:1}),ee(a,{to:"/Meeting"},{default:Ie(()=>[Ue("Meeting")]),_:1}),ee(a,{to:"/mypage"},{default:Ie(()=>[Ue("MyPage")]),_:1})]),ee(l)])}const FW=He(MW,[["render",LW]]),YW={data(){return{goalContent:"",color:""}},methods:{submitGoal(){kr().addGoal({goalContent:this.goalContent,color:this.color}),this.$router.push("/Main")}}},Nd=t=>(ht("data-v-95d1c88e"),t=t(),pt(),t),BW={class:"modal-content",style:{"border-radius":"10px"}},WW={class:"form-group"},HW=Nd(()=>p("label",{for:"goalContent"},"목표 내용:",-1)),jW={class:"form-group"},UW=Nd(()=>p("label",{for:"color"},"목표 색상:",-1)),VW=Nd(()=>p("button",{type:"submit",class:"btn btn-primary"},"저장",-1));function zW(t,e,n,s,r,i){return S(),O("div",BW,[p("form",{onSubmit:e[2]||(e[2]=to((...o)=>i.submitGoal&&i.submitGoal(...o),["prevent"]))},[p("div",WW,[HW,bt(p("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.goalContent=o),type:"text",id:"goalContent",class:"form-control",required:""},null,512),[[_n,r.goalContent]])]),p("div",jW,[UW,bt(p("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.color=o),type:"text",id:"color",class:"form-control",required:""},null,512),[[_n,r.color]])]),VW],32)])}const KW=He(YW,[["render",zW],["__scopeId","data-v-95d1c88e"]]),GW={};function qW(t,e){return S(),O("div")}const QW=He(GW,[["render",qW]]),ey=t=>(ht("data-v-8e2fbff8"),t=t(),pt(),t),ZW={class:"room-card"},JW=ey(()=>p("hr",null,null,-1)),XW=ey(()=>p("hr",null,null,-1)),eH={__name:"RoomCard",props:["room"],setup(t){const e=t,n=D(()=>{const s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return new Date(e.room.creationTime).toLocaleDateString("ko-KR",s)});return(s,r)=>(S(),O("div",ZW,[p("h4",null,ve(t.room.title),1),JW,p("p",null,"현재 참여 멤버 수: "+ve(t.room.currentMembers),1),XW,p("p",null,"방 생성 시간: "+ve(n.value),1)]))}},tH=He(eH,[["__scopeId","data-v-8e2fbff8"]]),nH={data(){return{newRoom:{title:""}}},methods:{createRoom(){this.$emit("create",this.newRoom)}}},Il=t=>(ht("data-v-7f7dfe79"),t=t(),pt(),t),sH={class:"modal-dialog"},rH={class:"modal-content"},iH={class:"modal-header"},oH=Il(()=>p("h5",{class:"modal-title"},"모임 방 추가",-1)),aH=Il(()=>p("span",{"aria-hidden":"true"},"×",-1)),lH=[aH],cH={class:"modal-body"},uH={class:"form-group"},dH=Il(()=>p("label",{for:"roomTitle"},"방 제목:",-1)),fH=Il(()=>p("button",{type:"submit",class:"btn btn-primary"},"추가",-1));function hH(t,e,n,s,r,i){return S(),O("div",{class:"modal",onClick:e[3]||(e[3]=to(o=>t.$emit("close"),["self"]))},[p("div",sH,[p("div",rH,[p("div",iH,[oH,p("button",{type:"button",class:"close",onClick:e[0]||(e[0]=o=>t.$emit("close"))},lH)]),p("div",cH,[p("form",{onSubmit:e[2]||(e[2]=to((...o)=>i.createRoom&&i.createRoom(...o),["prevent"]))},[p("div",uH,[dH,bt(p("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.newRoom.title=o),type:"text",class:"form-control",id:"roomTitle",required:""},null,512),[[_n,r.newRoom.title]])]),fH],32)])])])])}const pH=He(nH,[["render",hH],["__scopeId","data-v-7f7dfe79"]]),mH={class:"container mt-5"},vH={class:"form-group"},gH={key:0},_H={key:1},yH=p("p",null,"검색 결과가 없습니다.",-1),bH=[yH],wH={__name:"Meeting",setup(t){const e=Ce([{id:1,title:"코딩 스터디",currentMembers:5,creationTime:new Date},{id:2,title:"싸피 스터디",currentMembers:3,creationTime:new Date},{id:3,title:"study with me",currentMembers:4,creationTime:new Date}]),n=es({title:""}),s=Ce(!1),r=Ce(""),i=Ce([]),o=()=>{s.value=!0},a=()=>{s.value=!1},l=()=>{e.value.push({id:e.value.length+1,title:n.title,currentMembers:0,creationTime:new Date}),n.title="",a()},c=()=>{const u=r.value.toLowerCase();i.value=e.value.filter(d=>d.title.toLowerCase().includes(u))};return c(),lt(r,()=>{c()}),(u,d)=>(S(),O("div",mH,[p("div",vH,[bt(p("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),type:"text",class:"form-control",placeholder:"모임 방 검색"},null,512),[[_n,r.value]])]),i.value.length>0?(S(),O("div",gH,[(S(!0),O(De,null,it(i.value,f=>(S(),ot(tH,{key:f.id,room:f},null,8,["room"]))),128))])):(S(),O("div",_H,bH)),p("button",{class:"btn btn-primary mt-3",onClick:o},"모임 방 추가"),s.value?(S(),ot(pH,{key:2,onClose:a,onCreate:l})):Be("",!0)]))}},Ld=t=>(ht("data-v-1eeb0a48"),t=t(),pt(),t),CH={class:"app mt-5"},EH={class:"word-voice-edit"},SH=Ld(()=>p("p",{class:"voice-title"},"음성 선택",-1)),DH={class:"voice-box"},IH={class:"material-switch"},TH=["id"],$H=["for"],PH=Ld(()=>p("br",null,null,-1)),kH=Ld(()=>p("p",{class:"voice-title"},"학습 중인 음성",-1)),AH={class:"voice-box"},xH={class:"material-switch"},OH=["id"],MH=["for"],RH={__name:"Voice",setup(t){const e=Ce([]),n=Ce([]);for(let s=1;s<=15;s++)e.value.push({id:`usable-${s}`,name:"학습된 음성 "+s}),n.value.push({id:`training-${s}`,name:"훈련 중 "+s});return(s,r)=>{const i=ct("router-link");return S(),O("div",CH,[p("p",EH,[Ue("편집 "),ee(i,{to:{name:"VoiceTrainer"},style:{"font-size":"40px"}},{default:Ie(()=>[Ue("+")]),_:1})]),SH,p("div",DH,[p("dl",null,[(S(!0),O(De,null,it(e.value,o=>(S(),O("div",{key:o.id,class:"voice"},[p("dt",null,ve(o.name),1),p("dd",null,[p("div",IH,[p("input",{id:`switch-${o.id}`,name:"s`switch-${voice.id}`",type:"checkbox"},null,8,TH),p("label",{for:`switch-${o.id}`,class:"default-color"},null,8,$H)])])]))),128))])]),PH,kH,p("div",AH,[p("dl",null,[(S(!0),O(De,null,it(n.value,o=>(S(),O("div",{key:o.id,class:"voice"},[p("dt",null,ve(o.name),1),p("dd",null,[p("div",xH,[p("input",{id:`switch-${o.id}`,name:"s`switch-${voice.id}`",type:"checkbox"},null,8,OH),p("label",{for:`switch-${o.id}`,class:"default-color"},null,8,MH)])])]))),128))])])])}}},NH=He(RH,[["__scopeId","data-v-1eeb0a48"]]);let LH=Ce([{id:1,name:"안녕하세요. 좋은 아침입니다."},{id:2,name:"안녕하세요. 좋은 점심입니다."},{id:3,name:"안녕하세요. 좋은 저녁입니다."}]),FH=Ce(1);const YH={name:"App",data(){return{sentences:LH,currentSentenceId:FH,recordingStatus:"Record Sound",recording:!1,title:"",recorder:null,blob:null,stream:null,audioPlayer:null,isPlaying:!1,audioContext:new(window.AudioContext||window.webkitAudioContext)}},computed:{currentSentence(){return this.sentences[this.currentSentenceId]},cantSave(){return this.title===""||!this.blob}},methods:{prevSentence(){this.currentSentenceId>0&&this.currentSentenceId--},nextSentence(){this.currentSentenceId<this.sentences.length-1&&this.currentSentenceId++},async record(){if(this.recording){this.stopRecording();return}try{this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.stream=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});const t=this.audioContext.createMediaStreamSource(this.stream);let e={workerDir:"/web-audio-recorder/"},n=new WebAudioRecorder(t,e);this.setupRecorder(n),n.startRecording(),this.recordingStatus="Stop Recording",this.recording=!0,this.blob=null}catch(t){console.error("Error during recording setup:",t)}},setupRecorder(t){t.setOptions({timeLimit:30,encodeAfterRecord:!0,ogg:{quality:.5},mp3:{bitRate:160}}),t.onComplete=(e,n)=>{this.recordingStatus="Record Sound",this.blob=n,this.setupAudioPlayer(n)},this.recorder=t},setupAudioPlayer(t){this.audioPlayer&&window.URL.revokeObjectURL(this.audioPlayer.src),this.audioPlayer=new window.Audio,this.audioPlayer.src=window.URL.createObjectURL(t),this.audioPlayer.addEventListener("ended",()=>{this.isPlaying=!1})},stopRecording(){this.stream.getAudioTracks().forEach(t=>t.stop()),this.recorder.finishRecording(),this.recordingStatus="Record Sound",this.recording=!1},togglePlayPause(){this.blob&&(this.audioPlayer||this.setupAudioPlayer(this.blob),this.isPlaying?this.pauseAudio():this.playAudio())},playAudio(){this.audioPlayer&&!this.isPlaying&&this.audioPlayer.play().then(()=>{this.isPlaying=!0}).catch(t=>{console.error("Playback error:",t),this.isPlaying=!1})},pauseAudio(){this.audioPlayer&&this.isPlaying&&(this.audioPlayer.pause(),this.isPlaying=!1)},restartPlayback(){this.audioPlayer&&(this.audioPlayer.currentTime=0,this.playAudio())},save(){if(!this.blob){console.error("No recording available to save");return}const t=window.URL.createObjectURL(this.blob),e=document.createElement("a");document.body.appendChild(e),e.style="display: none",e.href=t,e.download=this.title+".wav",e.click(),window.URL.revokeObjectURL(t),document.body.removeChild(e)}}},Tl=t=>(ht("data-v-d67dad7c"),t=t(),pt(),t),BH={class:"app mt-5"},WH={class:"voice-title"},HH={class:"sentence-box"},jH=Tl(()=>p("p",null,"다음 문장을 소리내어 읽으세요.",-1)),UH={p:""},VH={class:"buttons"},zH=["disabled"],KH=["disabled"],GH={id:"app"},qH=["disabled"],QH=["disabled"],ZH=Tl(()=>p("br",null,null,-1)),JH=Tl(()=>p("p",{class:"voice-title"},"학습 중인 음성",-1)),XH=Tl(()=>p("div",{class:"voice-box"},null,-1));function e3(t,e,n,s,r,i){return S(),O("div",BH,[p("p",WH,[Ue("음성 학습 "),p("button",{onClick:e[0]||(e[0]=o=>t.$router.back())},"back")]),p("div",HH,[jH,p("p",null,ve(i.currentSentence.name),1),p("p",UH,ve(i.currentSentence.id)+" / "+ve(r.sentences.length),1),p("div",VH,[p("button",{onClick:e[1]||(e[1]=(...o)=>i.prevSentence&&i.prevSentence(...o)),disabled:t.currentSentenceIndex===0},"<",8,zH),p("button",{onClick:e[2]||(e[2]=(...o)=>i.nextSentence&&i.nextSentence(...o)),disabled:t.currentSentenceIndex===r.sentences.length-1},">",8,KH)])]),p("div",GH,[p("div",null,[bt(p("input",{type:"text",label:"Sound Name",required:"","onUpdate:modelValue":e[3]||(e[3]=o=>r.title=o)},null,512),[[_n,r.title]]),p("button",{class:"mr-4",onClick:e[4]||(e[4]=(...o)=>i.record&&i.record(...o))},ve(r.recordingStatus),1),p("button",{class:"mr-4",onClick:e[5]||(e[5]=(...o)=>i.togglePlayPause&&i.togglePlayPause(...o))},ve(r.isPlaying?"Pause":"Play Sound"),1),p("button",{class:"mr-4",onClick:e[6]||(e[6]=(...o)=>i.restartPlayback&&i.restartPlayback(...o)),disabled:!r.blob||!r.audioPlayer}," Restart ",8,qH),p("button",{color:"primary",onClick:e[7]||(e[7]=(...o)=>i.save&&i.save(...o)),disabled:i.cantSave},"Save",8,QH)])]),ZH,JH,XH])}const t3=He(YH,[["render",e3],["__scopeId","data-v-d67dad7c"]]);var Jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw hi(e)},hi=function(t){return new Error("Firebase Database ("+ty.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},n3=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Fd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ny(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||d==null)throw new s3;const f=i<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const v=c<<6&192|d;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sy=function(t){const e=ny(t);return Fd.encodeByteArray(e,!0)},Ma=function(t){return sy(t).replace(/\./g,"")},au=function(t){try{return Fd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){return ao(void 0,t)}function ao(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!i3(n)||(t[n]=ao(t[n],e[n]));return t}function i3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=()=>o3().__FIREBASE_DEFAULTS__,l3=()=>{if(typeof process>"u"||typeof Jp>"u")return;const t=Jp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&au(t[1]);return e&&JSON.parse(e)},u3=()=>{try{return a3()||l3()||c3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ry=()=>{var t;return(t=u3())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ma(JSON.stringify(n)),Ma(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f3())}function h3(){return typeof self=="object"&&self.self===self}function p3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oy(){return ty.NODE_ADMIN===!0}function m3(){try{return typeof indexedDB=="object"}catch{return!1}}function v3(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="FirebaseError";class pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=g3,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?_3(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new pi(r,a,s)}}function _3(t,e){return t.replace(y3,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const y3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){return JSON.parse(t)}function dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=function(t){let e={},n={},s={},r="";try{const i=t.split(".");e=lo(au(i[0])||""),n=lo(au(i[1])||""),r=i[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:r}},b3=function(t){const e=ay(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},w3=function(t){const e=ay(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lu(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ra(t,e,n){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=e.call(n,t[r],r,t));return s}function cu(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Xp(i)&&Xp(o)){if(!cu(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(r<<5|r>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=s;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<n;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let r=0;r<5;r++)for(let i=24;i>=0;i-=8)e[s]=this.chain_[r]>>i&255,++s;return e}}function S3(t,e){const n=new D3(t,e);return n.subscribe.bind(n)}class D3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");I3(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=yc),r.error===void 0&&(r.error=yc),r.complete===void 0&&(r.complete=yc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yc(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe=function(t,e,n,s){let r;if(s<e?r="at least "+e:s>n&&(r=n===0?"none":"no more than "+n),r){const i=t+" failed: Was called with "+s+(s===1?" argument.":" arguments.")+" Expects "+r+".";throw new Error(i)}};function jt(t,e){return`${t} failed: ${e} argument `}function _t(t,e,n,s){if(!(s&&!n)&&typeof n!="function")throw new Error(jt(t,e)+"must be a valid function.")}function em(t,e,n,s){if(!(s&&!n)&&(typeof n!="object"||n===null))throw new Error(jt(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);if(r>=55296&&r<=56319){const i=r-55296;s++,U(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;r=65536+(i<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Pl=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class Jn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Yt;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P3(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$3(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $3(t){return t===qs?void 0:t}function P3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=[];var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const cy={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},k3=Ve.INFO,A3={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},x3=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=A3[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kl{constructor(e){this.name=e,this._logLevel=k3,this._logHandler=x3,this._userLogHandler=null,Yd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}function O3(t){Yd.forEach(e=>{e.setLogLevel(t)})}function M3(t,e){for(const n of Yd){let s=null;e&&e.level&&(s=cy[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,i,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");i>=(s??r.logLevel)&&t({level:Ve[i].toLowerCase(),message:a,args:o,type:r.name})}}}const R3=(t,e)=>e.some(n=>t instanceof n);let tm,nm;function N3(){return tm||(tm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L3(){return nm||(nm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uy=new WeakMap,du=new WeakMap,dy=new WeakMap,bc=new WeakMap,Bd=new WeakMap;function F3(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Es(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uy.set(n,t)}).catch(()=>{}),Bd.set(e,t),e}function Y3(t){if(du.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});du.set(t,e)}let fu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return du.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B3(t){fu=t(fu)}function W3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(wc(this),e,...n);return dy.set(s,e.sort?e.sort():[e]),Es(s)}:L3().includes(t)?function(...e){return t.apply(wc(this),e),Es(uy.get(this))}:function(...e){return Es(t.apply(wc(this),e))}}function H3(t){return typeof t=="function"?W3(t):(t instanceof IDBTransaction&&Y3(t),R3(t,N3())?new Proxy(t,fu):t)}function Es(t){if(t instanceof IDBRequest)return F3(t);if(bc.has(t))return bc.get(t);const e=H3(t);return e!==t&&(bc.set(t,e),Bd.set(e,t)),e}const wc=t=>Bd.get(t);function j3(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Es(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Es(o.result),l.oldVersion,l.newVersion,Es(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const U3=["get","getKey","getAll","getAllKeys","count"],V3=["put","add","delete","clear"],Cc=new Map;function sm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cc.get(e))return Cc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=V3.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||U3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Cc.set(e,i),i}B3(t=>({...t,get:(e,n,s)=>sm(e,n)||t.get(e,n,s),has:(e,n)=>!!sm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K3(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function K3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hu="@firebase/app",rm="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new kl("@firebase/app"),G3="@firebase/app-compat",q3="@firebase/analytics-compat",Q3="@firebase/analytics",Z3="@firebase/app-check-compat",J3="@firebase/app-check",X3="@firebase/auth",ej="@firebase/auth-compat",tj="@firebase/database",nj="@firebase/database-compat",sj="@firebase/functions",rj="@firebase/functions-compat",ij="@firebase/installations",oj="@firebase/installations-compat",aj="@firebase/messaging",lj="@firebase/messaging-compat",cj="@firebase/performance",uj="@firebase/performance-compat",dj="@firebase/remote-config",fj="@firebase/remote-config-compat",hj="@firebase/storage",pj="@firebase/storage-compat",mj="@firebase/firestore",vj="@firebase/firestore-compat",gj="firebase",_j="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]",yj={[hu]:"fire-core",[G3]:"fire-core-compat",[Q3]:"fire-analytics",[q3]:"fire-analytics-compat",[J3]:"fire-app-check",[Z3]:"fire-app-check-compat",[X3]:"fire-auth",[ej]:"fire-auth-compat",[tj]:"fire-rtdb",[nj]:"fire-rtdb-compat",[sj]:"fire-fn",[rj]:"fire-fn-compat",[ij]:"fire-iid",[oj]:"fire-iid-compat",[aj]:"fire-fcm",[lj]:"fire-fcm-compat",[cj]:"fire-perf",[uj]:"fire-perf-compat",[dj]:"fire-rc",[fj]:"fire-rc-compat",[hj]:"fire-gcs",[pj]:"fire-gcs-compat",[mj]:"fire-fst",[vj]:"fire-fst-compat","fire-js":"fire-js",[gj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Map,co=new Map;function Na(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fy(t,e){t.container.addOrOverwriteComponent(e)}function Zr(t){const e=t.name;if(co.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;co.set(e,t);for(const n of Os.values())Na(n,t);return!0}function hy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bj(t,e,n=xs){hy(t,e).clearInstance(n)}function wj(){co.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Kn=new $l("app","Firebase",Cj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ej=class{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=_j;function Hd(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xs,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Kn.create("bad-app-name",{appName:String(r)});if(n||(n=ry()),!n)throw Kn.create("no-options");const i=Os.get(r);if(i){if(cu(n,i.options)&&cu(s,i.config))return i;throw Kn.create("duplicate-app",{appName:r})}const o=new ly(r);for(const l of co.values())o.addComponent(l);const a=new Ej(n,s,o);return Os.set(r,a),a}function Sj(t=xs){const e=Os.get(t);if(!e&&t===xs&&ry())return Hd();if(!e)throw Kn.create("no-app",{appName:t});return e}function Dj(){return Array.from(Os.values())}async function py(t){const e=t.name;Os.has(e)&&(Os.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Ss(t,e,n){var s;let r=(s=yj[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(a.join(" "));return}Zr(new Jn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function my(t,e){if(t!==null&&typeof t!="function")throw Kn.create("invalid-log-argument");M3(t,e)}function vy(t){O3(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="firebase-heartbeat-database",Tj=1,uo="firebase-heartbeat-store";let Ec=null;function gy(){return Ec||(Ec=j3(Ij,Tj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kn.create("idb-open",{originalErrorMessage:t.message})})),Ec}async function $j(t){try{const n=(await gy()).transaction(uo),s=await n.objectStore(uo).get(_y(t));return await n.done,s}catch(e){if(e instanceof pi)cr.warn(e.message);else{const n=Kn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function im(t,e){try{const s=(await gy()).transaction(uo,"readwrite");await s.objectStore(uo).put(e,_y(t)),await s.done}catch(n){if(n instanceof pi)cr.warn(n.message);else{const s=Kn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(s.message)}}}function _y(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=1024,kj=30*24*60*60*1e3;class Aj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Oj(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=om();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=kj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=om(),{heartbeatsToSend:s,unsentEntries:r}=xj(this._heartbeatsCache.heartbeats),i=Ma(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function om(){return new Date().toISOString().substring(0,10)}function xj(t,e=Pj){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),am(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),am(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Oj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m3()?v3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $j(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return im(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return im(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function am(t){return Ma(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){Zr(new Jn("platform-logger",e=>new z3(e),"PRIVATE")),Zr(new Jn("heartbeat",e=>new Aj(e),"PRIVATE")),Ss(hu,rm,t),Ss(hu,rm,"esm2017"),Ss("fire-js","")}Mj("");const Rj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:pi,SDK_VERSION:Wd,_DEFAULT_ENTRY_NAME:xs,_addComponent:Na,_addOrOverwriteComponent:fy,_apps:Os,_clearComponents:wj,_components:co,_getProvider:hy,_registerComponent:Zr,_removeServiceInstance:bj,deleteApp:py,getApp:Sj,getApps:Dj,initializeApp:Hd,onLog:my,registerVersion:Ss,setLogLevel:vy},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this._delegate=e,this.firebase=n,Na(e,new Jn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),py(this._delegate)))}_getService(e,n=xs){var s;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((s=r.getComponent())===null||s===void 0?void 0:s.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=xs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Na(this._delegate,e)}_addOrOverwriteComponent(e){fy(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},lm=new $l("app-compat","Firebase",Lj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){const e={},n={__esModule:!0,initializeApp:i,app:r,registerVersion:Ss,setLogLevel:vy,onLog:my,apps:null,SDK_VERSION:Wd,INTERNAL:{registerComponent:a,removeApp:s,useAsService:l,modularAPIs:Rj}};n.default=n,Object.defineProperty(n,"apps",{get:o});function s(c){delete e[c]}function r(c){if(c=c||xs,!Zt(e,c))throw lm.create("no-app",{appName:c});return e[c]}r.App=t;function i(c,u={}){const d=Hd(c,u);if(Zt(e,d.name))return e[d.name];const f=new t(d,n);return e[d.name]=f,f}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(Zr(c)&&c.type==="PUBLIC"){const f=(h=r())=>{if(typeof h[d]!="function")throw lm.create("invalid-app-argument",{appName:u});return h[d]()};c.serviceProps!==void 0&&ao(f,c.serviceProps),n[d]=f,t.prototype[d]=function(...h){return this._getService.bind(this,u).apply(this,c.multipleInstances?h:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(){const t=Fj(Nj);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:yy,extendNamespace:e,createSubscribe:S3,ErrorFactory:$l,deepExtend:ao});function e(n){ao(t,n)}return t}const Yj=yy();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new kl("@firebase/app-compat"),Bj="@firebase/app-compat",Wj="0.2.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){Ss(Bj,Wj,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(h3()&&self.firebase!==void 0){cm.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&cm.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const jd=Yj;Hj();var jj="firebase",Uj="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jd.registerVersion(jj,Uj,"app-compat");var um={};const dm="@firebase/database",fm="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by="";function wy(t){by=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:lo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Vj(e)}}catch{}return new zj},tr=Cy("localStorage"),pu=Cy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new kl("@firebase/database"),Ey=function(){let t=1;return function(){return t++}}(),Sy=function(t){const e=T3(t),n=new E3;n.update(e);const s=n.digest();return Fd.encodeByteArray(s)},Po=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Po.apply(null,s):typeof s=="object"?e+=dt(s):e+=s,e+=" "}return e};let ir=null,hm=!0;const Dy=function(t,e){U(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Lr.logLevel=Ve.VERBOSE,ir=Lr.log.bind(Lr),e&&pu.set("logging_enabled",!0)):typeof t=="function"?ir=t:(ir=null,pu.remove("logging_enabled"))},wt=function(...t){if(hm===!0&&(hm=!1,ir===null&&pu.get("logging_enabled")===!0&&Dy(!0)),ir){const e=Po.apply(null,t);ir(e)}},ko=function(t){return function(...e){wt(t,...e)}},mu=function(...t){const e="FIREBASE INTERNAL ERROR: "+Po(...t);Lr.error(e)},Mn=function(...t){const e=`FIREBASE FATAL ERROR: ${Po(...t)}`;throw Lr.error(e),new Error(e)},Tt=function(...t){const e="FIREBASE WARNING: "+Po(...t);Lr.warn(e)},Kj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Al=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Gj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ms="[MIN_NAME]",Xn="[MAX_NAME]",br=function(t,e){if(t===e)return 0;if(t===Ms||e===Xn)return-1;if(e===Ms||t===Xn)return 1;{const n=pm(t),s=pm(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},qj=function(t,e){return t===e?0:t<e?-1:1},Ti=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dt(e))},Ud=function(t){if(typeof t!="object"||t===null)return dt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=dt(e[s]),n+=":",n+=Ud(t[e[s]]);return n+="}",n},Iy=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let r=0;r<n;r+=e)r+e>n?s.push(t.substring(r,n)):s.push(t.substring(r,r+e));return s};function Et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Ty=function(t){U(!Al(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let r,i,o,a,l;t===0?(i=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),i=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Qj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Zj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Jj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const Xj=new RegExp("^-?(0*)\\d{1,10}$"),eU=-2147483648,tU=2147483647,pm=function(t){if(Xj.test(t)){const e=Number(t);if(e>=eU&&e<=tU)return e}return null},mi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Tt("Exception was thrown by user callback.",n),e},Math.floor(0))}},nU=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ji=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(wt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}class Fr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="5",$y="v",Py="s",ky="r",Ay="f",xy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Oy="ls",My="p",vu="ac",Ry="websocket",Ny="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,s,r,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&tr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function iU(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Fy(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let s;if(e===Ry)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Ny)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);iU(t)&&(n.ns=t.namespace);const r=[];return Et(n,(i,o)=>{r.push(i+"="+o)}),s+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(){this.counters_={}}incrementCounter(e,n=1){Zt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return r3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc={},Dc={};function zd(t){const e=t.toString();return Sc[e]||(Sc[e]=new oU),Sc[e]}function aU(t,e){const n=t.toString();return Dc[n]||(Dc[n]=e()),Dc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&mi(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="start",cU="close",uU="pLPCommand",dU="pRTLPCB",Yy="id",By="pw",Wy="ser",fU="cb",hU="seg",pU="ts",mU="d",vU="dframe",Hy=1870,jy=30,gU=Hy-jy,_U=25e3,yU=3e4;class _s{constructor(e,n,s,r,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ko(e),this.stats_=zd(n),this.urlFn=l=>(this.appCheckToken&&(l[vu]=this.appCheckToken),Fy(n,Ny,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lU(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yU)),Gj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kd((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===mm)this.id=a,this.password=l;else if(o===cU)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[mm]="t",s[Wy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[fU]=this.scriptTagHolder.uniqueCallbackIdentifier),s[$y]=Vd,this.transportSessionId&&(s[Py]=this.transportSessionId),this.lastSessionId&&(s[Oy]=this.lastSessionId),this.applicationId&&(s[My]=this.applicationId),this.appCheckToken&&(s[vu]=this.appCheckToken),typeof location<"u"&&location.hostname&&xy.test(location.hostname)&&(s[ky]=Ay);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_s.forceAllow_=!0}static forceDisallow(){_s.forceDisallow_=!0}static isAvailable(){return _s.forceAllow_?!0:!_s.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Qj()&&!Zj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=sy(n),r=Iy(s,gU);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[vU]="t",s[Yy]=e,s[By]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Kd{constructor(e,n,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ey(),window[uU+this.uniqueCallbackIdentifier]=e,window[dU+this.uniqueCallbackIdentifier]=n,this.myIFrame=Kd.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){wt("frame writing exception"),a.stack&&wt(a.stack),wt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||wt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Yy]=this.myID,e[By]=this.myPW,e[Wy]=this.currentSerial;let n=this.urlFn(e),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jy+s.length<=Hy;){const o=this.pendingSegs.shift();s=s+"&"+hU+r+"="+o.seg+"&"+pU+r+"="+o.ts+"&"+mU+r+"="+o.d,r++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(s,Math.floor(_U)),i=()=>{clearTimeout(r),s()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{wt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=16384,wU=45e3;let La=null;typeof MozWebSocket<"u"?La=MozWebSocket:typeof WebSocket<"u"&&(La=WebSocket);class tn{constructor(e,n,s,r,i,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ko(this.connId),this.stats_=zd(n),this.connURL=tn.connectionURL_(n,o,a,r,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,r,i){const o={};return o[$y]=Vd,typeof location<"u"&&location.hostname&&xy.test(location.hostname)&&(o[ky]=Ay),n&&(o[Py]=n),s&&(o[Oy]=s),r&&(o[vu]=r),i&&(o[My]=i),Fy(e,Ry,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tr.set("previous_websocket_failure",!0);try{let s;oy(),this.mySock=new La(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&La!==null&&!tn.forceDisallow_}static previouslyFailed(){return tr.isInMemoryStorage||tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){tr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=lo(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Iy(n,bU);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wU))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[_s,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=tn&&tn.isAvailable();let s=n&&!tn.previouslyFailed();if(e.webSocketOnly&&(n||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[tn];else{const r=this.transports_=[];for(const i of Jr.ALL_TRANSPORTS)i&&i.isAvailable()&&r.push(i);Jr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=6e4,EU=5e3,SU=10*1024,DU=100*1024,Ic="t",vm="d",IU="s",gm="r",TU="e",_m="o",ym="a",bm="n",wm="p",$U="h";class PU{constructor(e,n,s,r,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ko("c:"+this.id+":"),this.transportManager_=new Jr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ji(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>DU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ic in e){const n=e[Ic];n===ym?this.upgradeIfSecondaryHealthy_():n===gm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===_m&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ti("t",e),s=Ti("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ym,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ti("t",e),s=Ti("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ti(Ic,e);if(vm in e){const s=e[vm];if(n===$U){const r=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===bm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===IU?this.onConnectionShutdown_(s):n===gm?this.onReset_(s):n===TU?mu("Server Error: "+s):n===_m?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vd!==s&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),ji(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(CU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ji(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(EU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{put(e,n,s,r){}merge(e,n,s,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const r=this.getInitialEvent(e);r&&n.apply(s,r)}off(e,n,s){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===n&&(!s||s===r[i].context)){r.splice(i,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Vy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!iy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fa}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=32,Em=768;class Ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Re(){return new Ne("")}function Ee(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rs(t){return t.pieces_.length-t.pieceNum_}function ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ne(t.pieces_,e)}function Gd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function fo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function zy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ne(e,0)}function nt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ne)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&n.push(s[r])}return new Ne(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function Mt(t,e){const n=Ee(t),s=Ee(e);if(n===null)return e;if(n===s)return Mt(ze(t),ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function AU(t,e){const n=fo(t,0),s=fo(e,0);for(let r=0;r<n.length&&r<s.length;r++){const i=br(n[r],s[r]);if(i!==0)return i}return n.length===s.length?0:n.length<s.length?-1:1}function qd(t,e){if(Rs(t)!==Rs(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function rn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Rs(t)>Rs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class xU{constructor(e,n){this.errorPrefix_=n,this.parts_=fo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Pl(this.parts_[s]);Ky(this)}}function OU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Pl(e),Ky(t)}function MU(t){const e=t.parts_.pop();t.byteLength_-=Pl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ky(t){if(t.byteLength_>Em)throw new Error(t.errorPrefix_+"has a key path longer than "+Em+" bytes ("+t.byteLength_+").");if(t.parts_.length>Cm)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Cm+") or object contains a cycle "+Qs(t))}function Qs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Vy{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Qd}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=1e3,RU=60*5*1e3,Sm=30*1e3,NU=1.3,LU=3e4,FU="server_kill",Dm=3;class Gn extends Uy{constructor(e,n,s,r,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Gn.nextPersistentConnectionId_++,this.log_=ko("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$i,this.maxReconnectDelay_=RU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!oy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Fa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const r=++this.requestNumber_,i={r,a:e,b:n};this.log_(dt(i)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),s&&(this.requestCBHash_[r]=s)}get(e){this.initConnection_();const n=new Yt,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,s,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:s};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+s+" for "+r);const i={p:s},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Gn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Zt(e,"w")){const s=lr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||w3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Sm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=b3(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,r=>{const i=r.s,o=r.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,e._queryObject,n)}sendUnlisten_(e,n,s,r){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";r&&(i.q=s,i.t=r),this.sendRequest(o,i)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,r){const i={p:n,d:s};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,s,r){this.putInternal("p",e,n,s,r)}merge(e,n,s,r){this.putInternal("m",e,n,s,r)}putInternal(e,n,s,r,i){this.initConnection_();const o={p:n,d:s};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const i=s.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):mu("Unrecognized action received from server: "+dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>LU&&(this.reconnectDelay_=$i),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Gn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?wt("getToken() completed but was canceled"):(wt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new PU(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{Tt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(FU)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Tt(d),l())}}}interrupt(e){wt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){wt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lu(this.interruptReasons_)&&(this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(i=>Ud(i)).join("$"):s="default";const r=this.removeListen_(e,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const s=new Ne(e).toString();let r;if(this.listens.has(s)){const i=this.listens.get(s);r=i.get(n),i.delete(n),i.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(e,n){wt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Dm&&(this.reconnectDelay_=Sm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){wt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Dm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+by.replace(/\./g,"-")]=1,iy()?e["framework.cordova"]=1:p3()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fa.getInstance().currentlyOnline();return lu(this.interruptReasons_)&&e}}Gn.nextPersistentConnectionId_=0;Gn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Te(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Te(Ms,e),r=new Te(Ms,n);return this.compare(s,r)!==0}minPost(){return Te.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo;class Gy extends xl{static get __EMPTY_NODE(){return Zo}static set __EMPTY_NODE(e){Zo=e}compare(e,n){return br(e.name,n.name)}isDefinedOn(e){throw hi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Te.MIN}maxPost(){return new Te(Xn,Zo)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new Te(e,Zo)}toString(){return".key"}}const An=new Gy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,s,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class yt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??yt.RED,this.left=r??Bt.EMPTY_NODE,this.right=i??Bt.EMPTY_NODE}copy(e,n,s,r,i){return new yt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return i<0?r=r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,r;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}yt.RED=!0;yt.BLACK=!1;class YU{copy(e,n,s,r,i){return this}insert(e,n,s){return new yt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bt{constructor(e,n=Bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,yt.BLACK,null,null))}remove(e){return new Bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,r=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Jo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Jo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Jo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Jo(this.root_,null,this.comparator_,!0,e)}}Bt.EMPTY_NODE=new YU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t,e){return br(t.name,e.name)}function Zd(t,e){return br(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu;function WU(t){gu=t}const qy=function(t){return typeof t=="number"?"number:"+Ty(t):"string:"+t},Qy=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zt(e,".sv"),"Priority must be a string or number.")}else U(t===gu||t.isEmpty(),"priority of unexpected type.");U(t===gu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im;class gt{constructor(e,n=gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Qy(this.priorityNode_)}static set __childrenNodeConstructor(e){Im=e}static get __childrenNodeConstructor(){return Im}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new gt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:Ee(e)===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Ee(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(U(s!==".priority"||Rs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Ty(this.value_):e+=this.value_,this.lazyHash_=Sy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===gt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof gt.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,r=gt.VALUE_TYPE_ORDER.indexOf(n),i=gt.VALUE_TYPE_ORDER.indexOf(s);return U(r>=0,"Unknown leaf type: "+n),U(i>=0,"Unknown leaf type: "+s),r===i?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy,Jy;function HU(t){Zy=t}function jU(t){Jy=t}class UU extends xl{compare(e,n){const s=e.node.getPriority(),r=n.node.getPriority(),i=s.compareTo(r);return i===0?br(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Te.MIN}maxPost(){return new Te(Xn,new gt("[PRIORITY-POST]",Jy))}makePost(e,n){const s=Zy(e);return new Te(n,new gt("[PRIORITY-POST]",s))}toString(){return".priority"}}const Qe=new UU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=Math.log(2);class zU{constructor(e){const n=i=>parseInt(Math.log(i)/VU,10),s=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=s(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ya=function(t,e,n,s){t.sort(e);const r=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new yt(f,d.node,yt.BLACK,null,null);{const h=parseInt(u/2,10)+l,v=r(l,h),y=r(h+1,c);return d=t[h],f=n?n(d):d,new yt(f,d.node,yt.BLACK,v,y)}},i=function(l){let c=null,u=null,d=t.length;const f=function(v,y){const w=d-v,b=d;d-=v;const A=r(w+1,b),L=t[w],P=n?n(L):L;h(new yt(P,L.node,y,null,A))},h=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const y=l.nextBitIsOne(),w=Math.pow(2,l.count-(v+1));y?f(w,yt.BLACK):(f(w,yt.BLACK),f(w,yt.RED))}return u},o=new zU(t.length),a=i(o);return new Bt(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;const Ir={};class jn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(Ir&&Qe,"ChildrenNode.ts has not been loaded"),Tc=Tc||new jn({".priority":Ir},{".priority":Qe}),Tc}get(e){const n=lr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bt?n:null}hasIndex(e){return Zt(this.indexSet_,e.toString())}addIndex(e,n){U(e!==An,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const i=n.getIterator(Te.Wrap);let o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),s.push(o),o=i.getNext();let a;r?a=Ya(s,e.getCompare()):a=Ir;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new jn(u,c)}addToIndexes(e,n){const s=Ra(this.indexes_,(r,i)=>{const o=lr(this.indexSet_,i);if(U(o,"Missing index implementation for "+i),r===Ir)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Te.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ya(a,o.getCompare())}else return Ir;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new Te(e.name,a))),l.insert(e,e.node)}});return new jn(s,this.indexSet_)}removeFromIndexes(e,n){const s=Ra(this.indexes_,r=>{if(r===Ir)return r;{const i=n.get(e.name);return i?r.remove(new Te(e.name,i)):r}});return new jn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi;class he{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Qy(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Pi||(Pi=new he(new Bt(Zd),null,jn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pi}updatePriority(e){return this.children_.isEmpty()?this:new he(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Pi:n}}getChild(e){const n=Ee(e);return n===null?this:this.getImmediateChild(n).getChild(ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Te(e,n);let r,i;n.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(s,this.children_));const o=r.isEmpty()?Pi:this.priorityNode_;return new he(r,o,i)}}updateChild(e,n){const s=Ee(e);if(s===null)return n;{U(Ee(e)!==".priority"||Rs(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(ze(e),n);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,r=0,i=!0;if(this.forEachChild(Qe,(o,a)=>{n[o]=a.val(e),s++,i&&he.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+qy(this.getPriority().val())+":"),this.forEachChild(Qe,(n,s)=>{const r=s.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":Sy(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const r=this.resolveIndex_(s);if(r){const i=r.getPredecessorKey(new Te(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Te(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Te(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Te.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)<0;)r.getNext(),i=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Te.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)>0;)r.getNext(),i=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ao?-1:0}withIndex(e){if(e===An||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new he(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===An||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Qe),r=n.getIterator(Qe);let i=s.getNext(),o=r.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=s.getNext(),o=r.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===An?null:this.indexMap_.get(e.toString())}}he.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class KU extends he{constructor(){super(new Bt(Zd),he.EMPTY_NODE,jn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return he.EMPTY_NODE}isEmpty(){return!1}}const Ao=new KU;Object.defineProperties(Te,{MIN:{value:new Te(Ms,he.EMPTY_NODE)},MAX:{value:new Te(Xn,Ao)}});Gy.__EMPTY_NODE=he.EMPTY_NODE;gt.__childrenNodeConstructor=he;WU(Ao);jU(Ao);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=!0;function rt(t,e=null){if(t===null)return he.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new gt(n,rt(e))}if(!(t instanceof Array)&&GU){const n=[];let s=!1;if(Et(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=rt(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new Te(o,l)))}}),n.length===0)return he.EMPTY_NODE;const i=Ya(n,BU,o=>o.name,Zd);if(s){const o=Ya(n,Qe.getCompare());return new he(i,rt(e),new jn({".priority":o},{".priority":Qe}))}else return new he(i,rt(e),jn.Default)}else{let n=he.EMPTY_NODE;return Et(t,(s,r)=>{if(Zt(t,s)&&s.substring(0,1)!=="."){const i=rt(r);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(s,i))}}),n.updatePriority(rt(e))}}HU(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends xl{constructor(e){super(),this.indexPath_=e,U(!Se(e)&&Ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),r=this.extractChild(n.node),i=s.compareTo(r);return i===0?br(e.name,n.name):i}makePost(e,n){const s=rt(e),r=he.EMPTY_NODE.updateChild(this.indexPath_,s);return new Te(n,r)}maxPost(){const e=he.EMPTY_NODE.updateChild(this.indexPath_,Ao);return new Te(Xn,e)}toString(){return fo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU extends xl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?br(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Te.MIN}maxPost(){return Te.MAX}makePost(e,n){const s=rt(e);return new Te(n,s)}toString(){return".value"}}const Xd=new qU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){return{type:"value",snapshotNode:t}}function Xr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ho(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function po(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function QU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.index_=e}updateChild(e,n,s,r,i,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(s.getChild(r))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(ho(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Xr(n,s)):o.trackChildChange(po(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Qe,(r,i)=>{n.hasChild(r)||s.trackChildChange(ho(r,i))}),n.isLeafNode()||n.forEachChild(Qe,(r,i)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(i)||s.trackChildChange(po(r,i,o))}else s.trackChildChange(Xr(r,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?he.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.indexedFilter_=new ef(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mo.getStartPost_(e),this.endPost_=mo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,r,i,o){return this.matches(new Te(n,s))||(s=he.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,r,i,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=he.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(he.EMPTY_NODE);const i=this;return n.forEachChild(Qe,(o,a)=>{i.matches(new Te(o,a))||(r=r.updateImmediateChild(o,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new mo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,r,i,o){return this.rangedFilter_.matches(new Te(n,s))||(s=he.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,r,i,o):this.fullLimitUpdateChild_(e,n,s,i,o)}updateFullNode(e,n,s){let r;if(n.isLeafNode()||n.isEmpty())r=he.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=he.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(he.EMPTY_NODE);let i;this.reverse_?i=r.getReverseIterator(this.index_):i=r.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,r,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new Te(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=r.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return i!=null&&i.trackChildChange(po(n,s,d)),a.updateImmediateChild(n,s);{i!=null&&i.trackChildChange(ho(n,d));const y=a.updateImmediateChild(n,he.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Xr(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return s.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(ho(c.name,c.node)),i.trackChildChange(Xr(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,he.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ms}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qe}copy(){const e=new Ol;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JU(t){return t.loadsAllData()?new ef(t.getIndex()):t.hasLimit()?new ZU(t):new mo(t)}function XU(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function eV(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function _u(t,e,n){const s=t.copy();return s.startSet_=!0,e===void 0&&(e=null),s.indexStartValue_=e,n!=null?(s.startNameSet_=!0,s.indexStartName_=n):(s.startNameSet_=!1,s.indexStartName_=""),s}function tV(t,e,n){let s;return t.index_===An||n?s=_u(t,e,n):s=_u(t,e,Xn),s.startAfterSet_=!0,s}function yu(t,e,n){const s=t.copy();return s.endSet_=!0,e===void 0&&(e=null),s.indexEndValue_=e,n!==void 0?(s.endNameSet_=!0,s.indexEndName_=n):(s.endNameSet_=!1,s.indexEndName_=""),s}function nV(t,e,n){let s;return t.index_===An||n?s=yu(t,e,n):s=yu(t,e,Ms),s.endBeforeSet_=!0,s}function Ml(t,e){const n=t.copy();return n.index_=e,n}function Tm(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Qe?n="$priority":t.index_===Xd?n="$value":t.index_===An?n="$key":(U(t.index_ instanceof Jd,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=dt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+dt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=dt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function $m(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Uy{constructor(e,n,s,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=ko("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Ba.getListenId_(e,s),a={};this.listens_[o]=a;const l=Tm(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,s),lr(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",r(f,null)}})}unlisten(e,n){const s=Ba.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Tm(e._queryParams),s=e._path.toString(),r=new Yt;return this.restRequest_(s+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(s,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(n.auth=r.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+C3(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=lo(a.responseText)}catch{Tt("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&Tt("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.rootNode_=he.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(){return{value:null,children:new Map}}function vi(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Ee(e);t.children.has(s)||t.children.set(s,Wa());const r=t.children.get(s);e=ze(e),vi(r,e,n)}}function bu(t,e){if(Se(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Qe,(s,r)=>{vi(t,new Ne(s),r)}),bu(t,e)}}else if(t.children.size>0){const n=Ee(e);return e=ze(e),t.children.has(n)&&bu(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function wu(t,e,n){t.value!==null?n(e,t.value):rV(t,(s,r)=>{const i=new Ne(e.toString()+"/"+s);wu(r,i,n)})}function rV(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Et(this.last_,(s,r)=>{n[s]=n[s]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=10*1e3,oV=30*1e3,aV=5*60*1e3;class lV{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new iV(e);const s=Pm+(oV-Pm)*Math.random();ji(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Et(e,(r,i)=>{i>0&&Zt(this.statsToReport_,r)&&(n[r]=i,s=!0)}),s&&this.server_.reportStats(n),ji(this.reportStats_.bind(this),Math.floor(Math.random()*2*aV))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gn||(gn={}));function tf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=gn.ACK_USER_WRITE,this.source=tf()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ne(e));return new Ha(Re(),n,this.revert)}}else return U(Ee(this.path)===e,"operationForChild called for unrelated child."),new Ha(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.source=e,this.path=n,this.type=gn.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new vo(this.source,Re()):new vo(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=gn.OVERWRITE}operationForChild(e){return Se(this.path)?new ur(this.source,Re(),this.snap.getImmediateChild(e)):new ur(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=gn.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new Ne(e));return n.isEmpty()?null:n.value?new ur(this.source,Re(),n.value):new ei(this.source,Re(),n)}else return U(Ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ei(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ee(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function uV(t,e,n,s){const r=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(QU(o.childName,o.snapshotNode))}),ki(t,r,"child_removed",e,s,n),ki(t,r,"child_added",e,s,n),ki(t,r,"child_moved",i,s,n),ki(t,r,"child_changed",e,s,n),ki(t,r,"value",e,s,n),r}function ki(t,e,n,s,r,i){const o=s.filter(a=>a.type===n);o.sort((a,l)=>fV(t,a,l)),o.forEach(a=>{const l=dV(t,a,i);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function dV(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fV(t,e,n){if(e.childName==null||n.childName==null)throw hi("Should only compare child_ events.");const s=new Te(e.childName,e.snapshotNode),r=new Te(n.childName,n.snapshotNode);return t.index_.compare(s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t,e){return{eventCache:t,serverCache:e}}function Ui(t,e,n,s){return Rl(new Ns(e,n,s),t.serverCache)}function eb(t,e,n,s){return Rl(t.eventCache,new Ns(e,n,s))}function ja(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function dr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c;const hV=()=>($c||($c=new Bt(qj)),$c);class Ge{constructor(e,n=hV()){this.value=e,this.children=n}static fromObject(e){let n=new Ge(null);return Et(e,(s,r)=>{n=n.set(new Ne(s),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Re(),value:this.value};if(Se(e))return null;{const s=Ee(e),r=this.children.get(s);if(r!==null){const i=r.findRootMostMatchingPathAndValue(ze(e),n);return i!=null?{path:nt(new Ne(s),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=Ee(e),s=this.children.get(n);return s!==null?s.subtree(ze(e)):new Ge(null)}}set(e,n){if(Se(e))return new Ge(n,this.children);{const s=Ee(e),i=(this.children.get(s)||new Ge(null)).set(ze(e),n),o=this.children.insert(s,i);return new Ge(this.value,o)}}remove(e){if(Se(e))return this.children.isEmpty()?new Ge(null):new Ge(null,this.children);{const n=Ee(e),s=this.children.get(n);if(s){const r=s.remove(ze(e));let i;return r.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,r),this.value===null&&i.isEmpty()?new Ge(null):new Ge(this.value,i)}else return this}}get(e){if(Se(e))return this.value;{const n=Ee(e),s=this.children.get(n);return s?s.get(ze(e)):null}}setTree(e,n){if(Se(e))return n;{const s=Ee(e),i=(this.children.get(s)||new Ge(null)).setTree(ze(e),n);let o;return i.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,i),new Ge(this.value,o)}}fold(e){return this.fold_(Re(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((r,i)=>{s[r]=i.fold_(nt(e,r),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Re(),n)}findOnPath_(e,n,s){const r=this.value?s(n,this.value):!1;if(r)return r;if(Se(e))return null;{const i=Ee(e),o=this.children.get(i);return o?o.findOnPath_(ze(e),nt(n,i),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Re(),n)}foreachOnPath_(e,n,s){if(Se(e))return this;{this.value&&s(n,this.value);const r=Ee(e),i=this.children.get(r);return i?i.foreachOnPath_(ze(e),nt(n,r),s):new Ge(null)}}foreach(e){this.foreach_(Re(),e)}foreach_(e,n){this.children.inorderTraversal((s,r)=>{r.foreach_(nt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.writeTree_=e}static empty(){return new yn(new Ge(null))}}function Vi(t,e,n){if(Se(e))return new yn(new Ge(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const r=s.path;let i=s.value;const o=Mt(r,e);return i=i.updateChild(o,n),new yn(t.writeTree_.set(r,i))}else{const r=new Ge(n),i=t.writeTree_.setTree(e,r);return new yn(i)}}}function Cu(t,e,n){let s=t;return Et(n,(r,i)=>{s=Vi(s,nt(e,r),i)}),s}function km(t,e){if(Se(e))return yn.empty();{const n=t.writeTree_.setTree(e,new Ge(null));return new yn(n)}}function Eu(t,e){return wr(t,e)!=null}function wr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Mt(n.path,e)):null}function Am(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qe,(s,r)=>{e.push(new Te(s,r))}):t.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&e.push(new Te(s,r.value))}),e}function Ds(t,e){if(Se(e))return t;{const n=wr(t,e);return n!=null?new yn(new Ge(n)):new yn(t.writeTree_.subtree(e))}}function Su(t){return t.writeTree_.isEmpty()}function ti(t,e){return tb(Re(),t.writeTree_,e)}function tb(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((r,i)=>{r===".priority"?(U(i.value!==null,"Priority writes must always be leaf nodes"),s=i.value):n=tb(nt(t,r),i,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(nt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t,e){return ib(e,t)}function pV(t,e,n,s,r){U(s>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:r}),r&&(t.visibleWrites=Vi(t.visibleWrites,e,n)),t.lastWriteId=s}function mV(t,e,n,s){U(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=Cu(t.visibleWrites,e,n),t.lastWriteId=s}function vV(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function gV(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let r=s.visible,i=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&_V(a,s.path)?r=!1:rn(s.path,a.path)&&(i=!0)),o--}if(r){if(i)return yV(t),!0;if(s.snap)t.visibleWrites=km(t.visibleWrites,s.path);else{const a=s.children;Et(a,l=>{t.visibleWrites=km(t.visibleWrites,nt(s.path,l))})}return!0}else return!1}function _V(t,e){if(t.snap)return rn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&rn(nt(t.path,n),e))return!0;return!1}function yV(t){t.visibleWrites=nb(t.allWrites,bV,Re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function bV(t){return t.visible}function nb(t,e,n){let s=yn.empty();for(let r=0;r<t.length;++r){const i=t[r];if(e(i)){const o=i.path;let a;if(i.snap)rn(n,o)?(a=Mt(n,o),s=Vi(s,a,i.snap)):rn(o,n)&&(a=Mt(o,n),s=Vi(s,Re(),i.snap.getChild(a)));else if(i.children){if(rn(n,o))a=Mt(n,o),s=Cu(s,a,i.children);else if(rn(o,n))if(a=Mt(o,n),Se(a))s=Cu(s,Re(),i.children);else{const l=lr(i.children,Ee(a));if(l){const c=l.getChild(ze(a));s=Vi(s,Re(),c)}}}else throw hi("WriteRecord should have .snap or .children")}}return s}function sb(t,e,n,s,r){if(!s&&!r){const i=wr(t.visibleWrites,e);if(i!=null)return i;{const o=Ds(t.visibleWrites,e);if(Su(o))return n;if(n==null&&!Eu(o,Re()))return null;{const a=n||he.EMPTY_NODE;return ti(o,a)}}}else{const i=Ds(t.visibleWrites,e);if(!r&&Su(i))return n;if(!r&&n==null&&!Eu(i,Re()))return null;{const o=function(c){return(c.visible||r)&&(!s||!~s.indexOf(c.writeId))&&(rn(c.path,e)||rn(e,c.path))},a=nb(t.allWrites,o,e),l=n||he.EMPTY_NODE;return ti(a,l)}}}function wV(t,e,n){let s=he.EMPTY_NODE;const r=wr(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Qe,(i,o)=>{s=s.updateImmediateChild(i,o)}),s;if(n){const i=Ds(t.visibleWrites,e);return n.forEachChild(Qe,(o,a)=>{const l=ti(Ds(i,new Ne(o)),a);s=s.updateImmediateChild(o,l)}),Am(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const i=Ds(t.visibleWrites,e);return Am(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function CV(t,e,n,s,r){U(s||r,"Either existingEventSnap or existingServerSnap must exist");const i=nt(e,n);if(Eu(t.visibleWrites,i))return null;{const o=Ds(t.visibleWrites,i);return Su(o)?r.getChild(n):ti(o,r.getChild(n))}}function EV(t,e,n,s){const r=nt(e,n),i=wr(t.visibleWrites,r);if(i!=null)return i;if(s.isCompleteForChild(n)){const o=Ds(t.visibleWrites,r);return ti(o,s.getNode().getImmediateChild(n))}else return null}function SV(t,e){return wr(t.visibleWrites,e)}function DV(t,e,n,s,r,i,o){let a;const l=Ds(t.visibleWrites,e),c=wr(l,Re());if(c!=null)a=c;else if(n!=null)a=ti(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=i?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<r;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function IV(){return{visibleWrites:yn.empty(),allWrites:[],lastWriteId:-1}}function Ua(t,e,n,s){return sb(t.writeTree,t.treePath,e,n,s)}function rf(t,e){return wV(t.writeTree,t.treePath,e)}function xm(t,e,n,s){return CV(t.writeTree,t.treePath,e,n,s)}function Va(t,e){return SV(t.writeTree,nt(t.treePath,e))}function TV(t,e,n,s,r,i){return DV(t.writeTree,t.treePath,e,n,s,r,i)}function of(t,e,n){return EV(t.writeTree,t.treePath,e,n)}function rb(t,e){return ib(nt(t.treePath,e),t.writeTree)}function ib(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const i=r.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(s,po(s,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(s,ho(s,r.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(s,Xr(s,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(s,po(s,e.snapshotNode,r.oldSnap));else throw hi("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const ob=new PV;class af{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ns(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return of(this.writes_,e,s)}}getChildAfterChild(e,n,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:dr(this.viewCache_),i=TV(this.writes_,r,n,1,s,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){return{filter:t}}function AV(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function xV(t,e,n,s,r){const i=new $V;let o,a;if(n.type===gn.OVERWRITE){const c=n;c.source.fromUser?o=Du(t,e,c.path,c.snap,s,r,i):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Se(c.path),o=za(t,e,c.path,c.snap,s,r,a,i))}else if(n.type===gn.MERGE){const c=n;c.source.fromUser?o=MV(t,e,c.path,c.children,s,r,i):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Iu(t,e,c.path,c.children,s,r,a,i))}else if(n.type===gn.ACK_USER_WRITE){const c=n;c.revert?o=LV(t,e,c.path,s,r,i):o=RV(t,e,c.path,c.affectedTree,s,r,i)}else if(n.type===gn.LISTEN_COMPLETE)o=NV(t,e,n.path,s,i);else throw hi("Unknown operation type: "+n.type);const l=i.getChanges();return OV(e,o,l),{viewCache:o,changes:l}}function OV(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),i=ja(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!s.getNode().equals(i)||!s.getNode().getPriority().equals(i.getPriority()))&&n.push(Xy(ja(e)))}}function ab(t,e,n,s,r,i){const o=e.eventCache;if(Va(s,n)!=null)return e;{let a,l;if(Se(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=dr(e),u=c instanceof he?c:he.EMPTY_NODE,d=rf(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Ua(s,dr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Ee(n);if(c===".priority"){U(Rs(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=xm(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=ze(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=xm(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=of(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,i):a=o.getNode()}}return Ui(e,a,o.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function za(t,e,n,s,r,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Se(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=Ee(n);if(!l.isCompleteForPath(n)&&Rs(n)>1)return e;const v=ze(n),w=l.getNode().getImmediateChild(h).updateChild(v,s);h===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),h,w,v,ob,null)}const d=eb(e,c,l.isFullyInitialized()||Se(n),u.filtersNodes()),f=new af(r,d,i);return ab(t,d,n,r,f,a)}function Du(t,e,n,s,r,i,o){const a=e.eventCache;let l,c;const u=new af(r,e,i);if(Se(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Ui(e,c,!0,t.filter.filtersNodes());else{const d=Ee(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Ui(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=ze(n),h=a.getNode().getImmediateChild(d);let v;if(Se(f))v=s;else{const y=u.getCompleteChild(d);y!=null?Gd(f)===".priority"&&y.getChild(zy(f)).isEmpty()?v=y:v=y.updateChild(f,s):v=he.EMPTY_NODE}if(h.equals(v))l=e;else{const y=t.filter.updateChild(a.getNode(),d,v,f,u,o);l=Ui(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Om(t,e){return t.eventCache.isCompleteForChild(e)}function MV(t,e,n,s,r,i,o){let a=e;return s.foreach((l,c)=>{const u=nt(n,l);Om(e,Ee(u))&&(a=Du(t,a,u,c,r,i,o))}),s.foreach((l,c)=>{const u=nt(n,l);Om(e,Ee(u))||(a=Du(t,a,u,c,r,i,o))}),a}function Mm(t,e,n){return n.foreach((s,r)=>{e=e.updateChild(s,r)}),e}function Iu(t,e,n,s,r,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Se(n)?c=s:c=new Ge(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),v=Mm(t,h,f);l=za(t,l,new Ne(d),v,r,i,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const v=e.serverCache.getNode().getImmediateChild(d),y=Mm(t,v,f);l=za(t,l,new Ne(d),y,r,i,o,a)}}),l}function RV(t,e,n,s,r,i,o){if(Va(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return za(t,e,n,l.getNode().getChild(n),r,i,a,o);if(Se(n)){let c=new Ge(null);return l.getNode().forEachChild(An,(u,d)=>{c=c.set(new Ne(u),d)}),Iu(t,e,n,c,r,i,a,o)}else return e}else{let c=new Ge(null);return s.foreach((u,d)=>{const f=nt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Iu(t,e,n,c,r,i,a,o)}}function NV(t,e,n,s,r){const i=e.serverCache,o=eb(e,i.getNode(),i.isFullyInitialized()||Se(n),i.isFiltered());return ab(t,o,n,s,ob,r)}function LV(t,e,n,s,r,i){let o;if(Va(s,n)!=null)return e;{const a=new af(s,e,r),l=e.eventCache.getNode();let c;if(Se(n)||Ee(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ua(s,dr(e));else{const d=e.serverCache.getNode();U(d instanceof he,"serverChildren would be complete if leaf node"),u=rf(s,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=Ee(n);let d=of(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ze(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,he.EMPTY_NODE,ze(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ua(s,dr(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Va(s,Re())!=null,Ui(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,r=new ef(s.getIndex()),i=JU(s);this.processor_=kV(i);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(he.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(he.EMPTY_NODE,a.getNode(),null),u=new Ns(l,o.isFullyInitialized(),r.filtersNodes()),d=new Ns(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Rl(d,u),this.eventGenerator_=new cV(this.query_)}get query(){return this.query_}}function YV(t){return t.viewCache_.serverCache.getNode()}function BV(t){return ja(t.viewCache_)}function WV(t,e){const n=dr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(Ee(e)).isEmpty())?n.getChild(e):null}function Rm(t){return t.eventRegistrations_.length===0}function HV(t,e){t.eventRegistrations_.push(e)}function Nm(t,e,n){const s=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,r);o&&s.push(o)})}if(e){let r=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return s}function Lm(t,e,n,s){e.type===gn.MERGE&&e.source.queryId!==null&&(U(dr(t.viewCache_),"We should always have a full cache before handling merges"),U(ja(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,i=xV(t.processor_,r,e,n,s);return AV(t.processor_,i.viewCache),U(i.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,lb(t,i.changes,i.viewCache.eventCache.getNode(),null)}function jV(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Qe,(i,o)=>{s.push(Xr(i,o))}),n.isFullyInitialized()&&s.push(Xy(n.getNode())),lb(t,s,n.getNode(),e)}function lb(t,e,n,s){const r=s?[s]:t.eventRegistrations_;return uV(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka;class cb{constructor(){this.views=new Map}}function UV(t){U(!Ka,"__referenceConstructor has already been defined"),Ka=t}function VV(){return U(Ka,"Reference.ts has not been loaded"),Ka}function zV(t){return t.views.size===0}function lf(t,e,n,s){const r=e.source.queryId;if(r!==null){const i=t.views.get(r);return U(i!=null,"SyncTree gave us an op for an invalid query."),Lm(i,e,n,s)}else{let i=[];for(const o of t.views.values())i=i.concat(Lm(o,e,n,s));return i}}function ub(t,e,n,s,r){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Ua(n,r?s:null),l=!1;a?l=!0:s instanceof he?(a=rf(n,s),l=!1):(a=he.EMPTY_NODE,l=!1);const c=Rl(new Ns(a,l,!1),new Ns(s,r,!1));return new FV(e,c)}return o}function KV(t,e,n,s,r,i){const o=ub(t,e,s,r,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),HV(o,n),jV(o,n)}function GV(t,e,n,s){const r=e._queryIdentifier,i=[];let o=[];const a=Ls(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(Nm(c,n,s)),Rm(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(Nm(l,n,s)),Rm(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Ls(t)&&i.push(new(VV())(e._repo,e._path)),{removed:i,events:o}}function db(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Is(t,e){let n=null;for(const s of t.views.values())n=n||WV(s,e);return n}function fb(t,e){if(e._queryParams.loadsAllData())return Ll(t);{const s=e._queryIdentifier;return t.views.get(s)}}function hb(t,e){return fb(t,e)!=null}function Ls(t){return Ll(t)!=null}function Ll(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;function qV(t){U(!Ga,"__referenceConstructor has already been defined"),Ga=t}function QV(){return U(Ga,"Reference.ts has not been loaded"),Ga}let ZV=1;class Fm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ge(null),this.pendingWriteTree_=IV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cf(t,e,n,s,r){return pV(t.pendingWriteTree_,e,n,s,r),r?gi(t,new ur(tf(),e,n)):[]}function JV(t,e,n,s){mV(t.pendingWriteTree_,e,n,s);const r=Ge.fromObject(n);return gi(t,new ei(tf(),e,r))}function ys(t,e,n=!1){const s=vV(t.pendingWriteTree_,e);if(gV(t.pendingWriteTree_,e)){let i=new Ge(null);return s.snap!=null?i=i.set(Re(),!0):Et(s.children,o=>{i=i.set(new Ne(o),!0)}),gi(t,new Ha(s.path,i,n))}else return[]}function xo(t,e,n){return gi(t,new ur(nf(),e,n))}function XV(t,e,n){const s=Ge.fromObject(n);return gi(t,new ei(nf(),e,s))}function e4(t,e){return gi(t,new vo(nf(),e))}function t4(t,e,n){const s=uf(t,n);if(s){const r=df(s),i=r.path,o=r.queryId,a=Mt(i,e),l=new vo(sf(o),a);return ff(t,i,l)}else return[]}function qa(t,e,n,s,r=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||hb(o,e))){const l=GV(o,e,n,s);zV(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,h)=>Ls(h));if(u&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const h=r4(f);for(let v=0;v<h.length;++v){const y=h[v],w=y.query,b=gb(t,y);t.listenProvider_.startListening(zi(w),go(t,w),b.hashFn,b.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(zi(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Yl(f));t.listenProvider_.stopListening(zi(f),h)}))}i4(t,c)}return a}function pb(t,e,n,s){const r=uf(t,s);if(r!=null){const i=df(r),o=i.path,a=i.queryId,l=Mt(o,e),c=new ur(sf(a),l,n);return ff(t,o,c)}else return[]}function n4(t,e,n,s){const r=uf(t,s);if(r){const i=df(r),o=i.path,a=i.queryId,l=Mt(o,e),c=Ge.fromObject(n),u=new ei(sf(a),l,c);return ff(t,o,u)}else return[]}function Tu(t,e,n,s=!1){const r=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(f,h)=>{const v=Mt(f,r);i=i||Is(h,v),o=o||Ls(h)});let a=t.syncPointTree_.get(r);a?(o=o||Ls(a),i=i||Is(a,Re())):(a=new cb,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;i!=null?l=!0:(l=!1,i=he.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((h,v)=>{const y=Is(v,Re());y&&(i=i.updateImmediateChild(h,y))}));const c=hb(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Yl(e);U(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=o4();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=Nl(t.pendingWriteTree_,r);let d=KV(a,e,n,u,i,l);if(!c&&!o&&!s){const f=fb(a,e);d=d.concat(a4(t,e,f))}return d}function Fl(t,e,n){const r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Mt(o,e),c=Is(a,l);if(c)return c});return sb(r,e,i,n,!0)}function s4(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Mt(c,n);s=s||Is(u,d)});let r=t.syncPointTree_.get(n);r?s=s||Is(r,Re()):(r=new cb,t.syncPointTree_=t.syncPointTree_.set(n,r));const i=s!=null,o=i?new Ns(s,!0,!1):null,a=Nl(t.pendingWriteTree_,e._path),l=ub(r,e,a,i?o.getNode():he.EMPTY_NODE,i);return BV(l)}function gi(t,e){return mb(e,t.syncPointTree_,null,Nl(t.pendingWriteTree_,Re()))}function mb(t,e,n,s){if(Se(t.path))return vb(t,e,n,s);{const r=e.get(Re());n==null&&r!=null&&(n=Is(r,Re()));let i=[];const o=Ee(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=rb(s,o);i=i.concat(mb(a,l,c,u))}return r&&(i=i.concat(lf(r,t,s,n))),i}}function vb(t,e,n,s){const r=e.get(Re());n==null&&r!=null&&(n=Is(r,Re()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=rb(s,o),u=t.operationForChild(o);u&&(i=i.concat(vb(u,a,l,c)))}),r&&(i=i.concat(lf(r,t,s,n))),i}function gb(t,e){const n=e.query,s=go(t,n);return{hashFn:()=>(YV(e)||he.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return s?t4(t,n._path,s):e4(t,n._path);{const i=Jj(r,n);return qa(t,n,null,i)}}}}function go(t,e){const n=Yl(e);return t.queryToTagMap.get(n)}function Yl(t){return t._path.toString()+"$"+t._queryIdentifier}function uf(t,e){return t.tagToQueryMap.get(e)}function df(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ne(t.substr(0,e))}}function ff(t,e,n){const s=t.syncPointTree_.get(e);U(s,"Missing sync point for query tag that we're tracking");const r=Nl(t.pendingWriteTree_,e);return lf(s,n,r,null)}function r4(t){return t.fold((e,n,s)=>{if(n&&Ls(n))return[Ll(n)];{let r=[];return n&&(r=db(n)),Et(s,(i,o)=>{r=r.concat(o)}),r}})}function zi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(QV())(t._repo,t._path):t}function i4(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const r=Yl(s),i=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(i)}}}function o4(){return ZV++}function a4(t,e,n){const s=e._path,r=go(t,e),i=gb(t,n),o=t.listenProvider_.startListening(zi(e),r,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(s);if(r)U(!Ls(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Se(c)&&u&&Ls(u))return[Ll(u).query];{let f=[];return u&&(f=f.concat(db(u).map(h=>h.query))),Et(d,(h,v)=>{f=f.concat(v)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(zi(u),go(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new hf(n)}node(){return this.node_}}class pf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new pf(this.syncTree_,n)}node(){return Fl(this.syncTree_,this.path_)}}const l4=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ym=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return c4(t[".sv"],e,n);if(typeof t[".sv"]=="object")return u4(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},c4=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},u4=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&U(!1,"Unexpected increment value: "+s);const r=e.node();if(U(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const o=r.getValue();return typeof o!="number"?s:o+s},_b=function(t,e,n,s){return vf(e,new pf(n,t),s)},mf=function(t,e,n){return vf(t,new hf(e),n)};function vf(t,e,n){const s=t.getPriority().val(),r=Ym(s,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=Ym(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new gt(a,rt(r)):t}else{const o=t;return i=o,r!==o.getPriority().val()&&(i=i.updatePriority(new gt(r))),o.forEachChild(Qe,(a,l)=>{const c=vf(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Bl(t,e){let n=e instanceof Ne?e:new Ne(e),s=t,r=Ee(n);for(;r!==null;){const i=lr(s.node.children,r)||{children:{},childCount:0};s=new gf(r,s,i),n=ze(n),r=Ee(n)}return s}function Cr(t){return t.node.value}function _f(t,e){t.node.value=e,$u(t)}function yb(t){return t.node.childCount>0}function d4(t){return Cr(t)===void 0&&!yb(t)}function Wl(t,e){Et(t.node.children,(n,s)=>{e(new gf(n,t,s))})}function bb(t,e,n,s){n&&!s&&e(t),Wl(t,r=>{bb(r,e,!0,s)}),n&&s&&e(t)}function f4(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Oo(t){return new Ne(t.parent===null?t.name:Oo(t.parent)+"/"+t.name)}function $u(t){t.parent!==null&&h4(t.parent,t.name,t)}function h4(t,e,n){const s=d4(n),r=Zt(t.node.children,e);s&&r?(delete t.node.children[e],t.node.childCount--,$u(t)):!s&&!r&&(t.node.children[e]=n.node,t.node.childCount++,$u(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=/[\[\].#$\/\u0000-\u001F\u007F]/,m4=/[\[\].#$\u0000-\u001F\u007F]/,Pc=10*1024*1024,Hl=function(t){return typeof t=="string"&&t.length!==0&&!p4.test(t)},wb=function(t){return typeof t=="string"&&t.length!==0&&!m4.test(t)},v4=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wb(t)},_o=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Al(t)||t&&typeof t=="object"&&Zt(t,".sv")},Rn=function(t,e,n,s){s&&e===void 0||Mo(jt(t,"value"),e,n)},Mo=function(t,e,n){const s=n instanceof Ne?new xU(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Qs(s));if(typeof e=="function")throw new Error(t+"contains a function "+Qs(s)+" with contents = "+e.toString());if(Al(e))throw new Error(t+"contains "+e.toString()+" "+Qs(s));if(typeof e=="string"&&e.length>Pc/3&&Pl(e)>Pc)throw new Error(t+"contains a string greater than "+Pc+" utf8 bytes "+Qs(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,i=!1;if(Et(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Hl(o)))throw new Error(t+" contains an invalid key ("+o+") "+Qs(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OU(s,o),Mo(t,a,s),MU(s)}),r&&i)throw new Error(t+' contains ".value" child '+Qs(s)+" in addition to actual children.")}},g4=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const i=fo(s);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Hl(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(AU);let r=null;for(n=0;n<e.length;n++){if(s=e[n],r!==null&&rn(r,s))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+s.toString());r=s}},Cb=function(t,e,n,s){if(s&&e===void 0)return;const r=jt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const i=[];Et(e,(o,a)=>{const l=new Ne(o);if(Mo(r,a,nt(n,l)),Gd(l)===".priority"&&!_o(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),g4(r,i)},yf=function(t,e,n){if(!(n&&e===void 0)){if(Al(e))throw new Error(jt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_o(e))throw new Error(jt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ro=function(t,e,n,s){if(!(s&&n===void 0)&&!Hl(n))throw new Error(jt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},yo=function(t,e,n,s){if(!(s&&n===void 0)&&!wb(n))throw new Error(jt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_4=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yo(t,e,n,s)},on=function(t,e){if(Ee(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Eb=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Hl(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!v4(n))throw new Error(jt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jl(t,e){let n=null;for(let s=0;s<e.length;s++){const r=e[s],i=r.getPath();n!==null&&!qd(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(r)}n&&t.eventLists_.push(n)}function Sb(t,e,n){jl(t,n),Db(t,s=>qd(s,e))}function Jt(t,e,n){jl(t,n),Db(t,s=>rn(s,e)||rn(e,s))}function Db(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const r=t.eventLists_[s];if(r){const i=r.path;e(i)?(b4(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function b4(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();ir&&wt("event: "+n.toString()),mi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="repo_interrupt",w4=25;class C4{constructor(e,n,s,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new y4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wa(),this.transactionQueueTree_=new gf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function E4(t,e,n){if(t.stats_=zd(t.repoInfo_),t.forceRestClient_||nU())t.server_=new Ba(t.repoInfo_,(s,r,i,o)=>{Bm(t,s,r,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Wm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Gn(t.repoInfo_,e,(s,r,i,o)=>{Bm(t,s,r,i,o)},s=>{Wm(t,s)},s=>{S4(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=aU(t.repoInfo_,()=>new lV(t.stats_,t.server_)),t.infoData_=new sV,t.infoSyncTree_=new Fm({startListening:(s,r,i,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=xo(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),bf(t,"connected",!1),t.serverSyncTree_=new Fm({startListening:(s,r,i,o)=>(t.server_.listen(s,i,r,(a,l)=>{const c=o(a,l);Jt(t.eventQueue_,s._path,c)}),[]),stopListening:(s,r)=>{t.server_.unlisten(s,r)}})}function Tb(t){const n=t.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function No(t){return l4({timestamp:Tb(t)})}function Bm(t,e,n,s,r){t.dataUpdateCount++;const i=new Ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(s){const l=Ra(n,c=>rt(c));o=n4(t.serverSyncTree_,i,l,r)}else{const l=rt(n);o=pb(t.serverSyncTree_,i,l,r)}else if(s){const l=Ra(n,c=>rt(c));o=XV(t.serverSyncTree_,i,l)}else{const l=rt(n);o=xo(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=ni(t,i)),Jt(t.eventQueue_,a,o)}function Wm(t,e){bf(t,"connected",e),e===!1&&T4(t)}function S4(t,e){Et(e,(n,s)=>{bf(t,n,s)})}function bf(t,e,n){const s=new Ne("/.info/"+e),r=rt(n);t.infoData_.updateSnapshot(s,r);const i=xo(t.infoSyncTree_,s,r);Jt(t.eventQueue_,s,i)}function Ul(t){return t.nextWriteId_++}function D4(t,e,n){const s=s4(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(r=>{const i=rt(r).withIndex(e._queryParams.getIndex());Tu(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=xo(t.serverSyncTree_,e._path,i);else{const a=go(t.serverSyncTree_,e);o=pb(t.serverSyncTree_,e._path,i,a)}return Jt(t.eventQueue_,e._path,o),qa(t.serverSyncTree_,e,n,null,!0),i},r=>(_i(t,"get for query "+dt(e)+" failed: "+r),Promise.reject(new Error(r))))}function wf(t,e,n,s,r){_i(t,"set",{path:e.toString(),value:n,priority:s});const i=No(t),o=rt(n,s),a=Fl(t.serverSyncTree_,e),l=mf(o,a,i),c=Ul(t),u=cf(t.serverSyncTree_,e,l,c,!0);jl(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const v=f==="ok";v||Tt("set at "+e+" failed: "+f);const y=ys(t.serverSyncTree_,c,!v);Jt(t.eventQueue_,e,y),Fs(t,r,f,h)});const d=Ef(t,e);ni(t,d),Jt(t.eventQueue_,d,[])}function I4(t,e,n,s){_i(t,"update",{path:e.toString(),value:n});let r=!0;const i=No(t),o={};if(Et(n,(a,l)=>{r=!1,o[a]=_b(nt(e,a),rt(l),t.serverSyncTree_,i)}),r)wt("update() called with empty data.  Don't do anything."),Fs(t,s,"ok",void 0);else{const a=Ul(t),l=JV(t.serverSyncTree_,e,o,a);jl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||Tt("update at "+e+" failed: "+c);const f=ys(t.serverSyncTree_,a,!d),h=f.length>0?ni(t,e):e;Jt(t.eventQueue_,h,f),Fs(t,s,c,u)}),Et(n,c=>{const u=Ef(t,nt(e,c));ni(t,u)}),Jt(t.eventQueue_,e,[])}}function T4(t){_i(t,"onDisconnectEvents");const e=No(t),n=Wa();wu(t.onDisconnect_,Re(),(r,i)=>{const o=_b(r,i,t.serverSyncTree_,e);vi(n,r,o)});let s=[];wu(n,Re(),(r,i)=>{s=s.concat(xo(t.serverSyncTree_,r,i));const o=Ef(t,r);ni(t,o)}),t.onDisconnect_=Wa(),Jt(t.eventQueue_,Re(),s)}function $4(t,e,n){t.server_.onDisconnectCancel(e.toString(),(s,r)=>{s==="ok"&&bu(t.onDisconnect_,e),Fs(t,n,s,r)})}function Hm(t,e,n,s){const r=rt(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(i,o)=>{i==="ok"&&vi(t.onDisconnect_,e,r),Fs(t,s,i,o)})}function P4(t,e,n,s,r){const i=rt(n,s);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,a)=>{o==="ok"&&vi(t.onDisconnect_,e,i),Fs(t,r,o,a)})}function k4(t,e,n,s){if(lu(n)){wt("onDisconnect().update() called with empty data.  Don't do anything."),Fs(t,s,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(r,i)=>{r==="ok"&&Et(n,(o,a)=>{const l=rt(a);vi(t.onDisconnect_,nt(e,o),l)}),Fs(t,s,r,i)})}function A4(t,e,n){let s;Ee(e._path)===".info"?s=Tu(t.infoSyncTree_,e,n):s=Tu(t.serverSyncTree_,e,n),Sb(t.eventQueue_,e._path,s)}function Pu(t,e,n){let s;Ee(e._path)===".info"?s=qa(t.infoSyncTree_,e,n):s=qa(t.serverSyncTree_,e,n),Sb(t.eventQueue_,e._path,s)}function $b(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ib)}function x4(t){t.persistentConnection_&&t.persistentConnection_.resume(Ib)}function _i(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),wt(n,...e)}function Fs(t,e,n,s){e&&mi(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let i=r;s&&(i+=": "+s);const o=new Error(i);o.code=r,e(o)}})}function O4(t,e,n,s,r,i){_i(t,"transaction on "+e);const o={path:e,update:n,onComplete:s,status:null,order:Ey(),applyLocally:i,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Cf(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Mo("transaction failed: Data returned ",l,o.path),o.status=0;const c=Bl(t.transactionQueueTree_,e),u=Cr(c)||[];u.push(o),_f(c,u);let d;typeof l=="object"&&l!==null&&Zt(l,".priority")?(d=lr(l,".priority"),U(_o(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Fl(t.serverSyncTree_,e)||he.EMPTY_NODE).getPriority().val();const f=No(t),h=rt(l,d),v=mf(h,a,f);o.currentOutputSnapshotRaw=h,o.currentOutputSnapshotResolved=v,o.currentWriteId=Ul(t);const y=cf(t.serverSyncTree_,e,v,o.currentWriteId,o.applyLocally);Jt(t.eventQueue_,e,y),Vl(t,t.transactionQueueTree_)}}function Cf(t,e,n){return Fl(t.serverSyncTree_,e,n)||he.EMPTY_NODE}function Vl(t,e=t.transactionQueueTree_){if(e||zl(t,e),Cr(e)){const n=kb(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&M4(t,Oo(e),n)}else yb(e)&&Wl(e,n=>{Vl(t,n)})}function M4(t,e,n){const s=n.map(c=>c.currentWriteId),r=Cf(t,e,s);let i=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];U(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Mt(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{_i(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ys(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();zl(t,Bl(t.transactionQueueTree_,e)),Vl(t,t.transactionQueueTree_),Jt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)mi(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Tt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ni(t,e)}},o)}function ni(t,e){const n=Pb(t,e),s=Oo(n),r=kb(t,n);return R4(t,r,s),s}function R4(t,e,n){if(e.length===0)return;const s=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Mt(n,l.path);let u=!1,d;if(U(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(ys(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=w4)u=!0,d="maxretry",r=r.concat(ys(t.serverSyncTree_,l.currentWriteId,!0));else{const f=Cf(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){Mo("transaction failed: Data returned ",h,l.path);let v=rt(h);typeof h=="object"&&h!=null&&Zt(h,".priority")||(v=v.updatePriority(f.getPriority()));const w=l.currentWriteId,b=No(t),A=mf(v,f,b);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=A,l.currentWriteId=Ul(t),o.splice(o.indexOf(w),1),r=r.concat(cf(t.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),r=r.concat(ys(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",r=r.concat(ys(t.serverSyncTree_,l.currentWriteId,!0))}Jt(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}zl(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)mi(s[a]);Vl(t,t.transactionQueueTree_)}function Pb(t,e){let n,s=t.transactionQueueTree_;for(n=Ee(e);n!==null&&Cr(s)===void 0;)s=Bl(s,n),e=ze(e),n=Ee(e);return s}function kb(t,e){const n=[];return Ab(t,e,n),n.sort((s,r)=>s.order-r.order),n}function Ab(t,e,n){const s=Cr(e);if(s)for(let r=0;r<s.length;r++)n.push(s[r]);Wl(e,r=>{Ab(t,r,n)})}function zl(t,e){const n=Cr(e);if(n){let s=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[s]=n[r],s++);n.length=s,_f(e,n.length>0?n:void 0)}Wl(e,s=>{zl(t,s)})}function Ef(t,e){const n=Oo(Pb(t,e)),s=Bl(t.transactionQueueTree_,e);return f4(s,r=>{kc(t,r)}),kc(t,s),bb(s,r=>{kc(t,r)}),n}function kc(t,e){const n=Cr(e);if(n){const s=[];let r=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(ys(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?_f(e,void 0):n.length=i+1,Jt(t.eventQueue_,Oo(e),r);for(let o=0;o<s.length;o++)mi(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let r=n[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function L4(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Tt(`Invalid query segment '${n}' in query '${t}'`)}return e}const ku=function(t,e){const n=F4(t),s=n.namespace;n.domain==="firebase.com"&&Mn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Kj();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ly(n.host,n.secure,s,r,e,"",s!==n.subdomain),path:new Ne(n.pathString)}},F4=function(t){let e="",n="",s="",r="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=N4(t.substring(u,d)));const f=L4(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const v=e.indexOf(".");s=e.substring(0,v).toLowerCase(),n=e.substring(v+1),i=s}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:r,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Y4=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let r;const i=new Array(8);for(r=7;r>=0;r--)i[r]=jm.charAt(n%64),n=Math.floor(n/64);U(n===0,"Cannot push at time == 0");let o=i.join("");if(s){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=jm.charAt(e[r]);return U(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,s,r){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class Ob{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B4=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Yt;return $4(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){on("OnDisconnect.remove",this._path);const e=new Yt;return Hm(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){on("OnDisconnect.set",this._path),Rn("OnDisconnect.set",e,this._path,!1);const n=new Yt;return Hm(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){on("OnDisconnect.setWithPriority",this._path),Rn("OnDisconnect.setWithPriority",e,this._path,!1),yf("OnDisconnect.setWithPriority",n,!1);const s=new Yt;return P4(this._repo,this._path,e,n,s.wrapCallback(()=>{})),s.promise}update(e){on("OnDisconnect.update",this._path),Cb("OnDisconnect.update",e,this._path,!1);const n=new Yt;return k4(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,s,r){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=r}get key(){return Se(this._path)?null:Gd(this._path)}get ref(){return new hn(this._repo,this._path)}get _queryIdentifier(){const e=$m(this._queryParams),n=Ud(e);return n==="{}"?"default":n}get _queryObject(){return $m(this._queryParams)}isEqual(e){if(e=Xt(e),!(e instanceof Vt))return!1;const n=this._repo===e._repo,s=qd(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+kU(this._path)}}function Kl(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ws(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===An){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ms)throw new Error(s);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==Xn)throw new Error(s);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===Qe){if(e!=null&&!_o(e)||n!=null&&!_o(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(U(t.getIndex()instanceof Jd||t.getIndex()===Xd,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gl(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hn extends Vt{constructor(e,n){super(e,n,new Ol,!1)}get parent(){const e=zy(this._path);return e===null?null:new hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let ql=class Au{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ne(e),s=fr(this.ref,e);return new Au(this._node.getChild(n),s,Qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,r)=>e(new Au(r,fr(this.ref,s),Qe)))}hasChild(e){const n=new Ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Mb(t,e){return t=Xt(t),t._checkNotDeleted("ref"),e!==void 0?fr(t._root,e):t._root}function Um(t,e){t=Xt(t),t._checkNotDeleted("refFromURL");const n=ku(e,t._repo.repoInfo_.nodeAdmin);Eb("refFromURL",n);const s=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&s.host!==t._repo.repoInfo_.host&&Mn("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+t._repo.repoInfo_.host+")"),Mb(t,n.path.toString())}function fr(t,e){return t=Xt(t),Ee(t._path)===null?_4("child","path",e,!1):yo("child","path",e,!1),new hn(t._repo,nt(t._path,e))}function W4(t,e){t=Xt(t),on("push",t._path),Rn("push",e,t._path,!0);const n=Tb(t._repo),s=Y4(n),r=fr(t,s),i=fr(t,s);let o;return e!=null?o=Df(i,e).then(()=>i):o=Promise.resolve(i),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function H4(t){return on("remove",t._path),Df(t,null)}function Df(t,e){t=Xt(t),on("set",t._path),Rn("set",e,t._path,!1);const n=new Yt;return wf(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function j4(t,e){t=Xt(t),on("setPriority",t._path),yf("setPriority",e,!1);const n=new Yt;return wf(t._repo,nt(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function U4(t,e,n){if(on("setWithPriority",t._path),Rn("setWithPriority",e,t._path,!1),yf("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const s=new Yt;return wf(t._repo,t._path,e,n,s.wrapCallback(()=>{})),s.promise}function V4(t,e){Cb("update",e,t._path,!1);const n=new Yt;return I4(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function z4(t){t=Xt(t);const e=new Sf(()=>{}),n=new Lo(e);return D4(t._repo,t,n).then(s=>new ql(s,new hn(t._repo,t._path),t._queryParams.getIndex()))}class Lo{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new xb("value",this,new ql(e.snapshotNode,new hn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ob(this,e,n):null}matches(e){return e instanceof Lo?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ql{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ob(this,e,n):null}createEvent(e,n){U(e.childName!=null,"Child events should have a childName.");const s=fr(new hn(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new xb(e.type,this,new ql(e.snapshotNode,s,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ql?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Fo(t,e,n,s,r){let i;if(typeof s=="object"&&(i=void 0,r=s),typeof s=="function"&&(i=s),r&&r.onlyOnce){const l=n,c=(u,d)=>{Pu(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new Sf(n,i||void 0),a=e==="value"?new Lo(o):new Ql(e,o);return A4(t._repo,t,a),()=>Pu(t._repo,t,a)}function xu(t,e,n,s){return Fo(t,"value",e,n,s)}function Vm(t,e,n,s){return Fo(t,"child_added",e,n,s)}function zm(t,e,n,s){return Fo(t,"child_changed",e,n,s)}function Km(t,e,n,s){return Fo(t,"child_moved",e,n,s)}function Gm(t,e,n,s){return Fo(t,"child_removed",e,n,s)}function qm(t,e,n){let s=null;const r=n?new Sf(n):null;e==="value"?s=new Lo(r):e&&(s=new Ql(e,r)),Pu(t._repo,t,s)}class Sn{}class Rb extends Sn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Rn("endAt",this._value,e._path,!0);const n=yu(e._queryParams,this._value,this._key);if(Gl(n),Ws(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vt(e._repo,e._path,n,e._orderByCalled)}}function K4(t,e){return Ro("endAt","key",e,!0),new Rb(t,e)}class G4 extends Sn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Rn("endBefore",this._value,e._path,!1);const n=nV(e._queryParams,this._value,this._key);if(Gl(n),Ws(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vt(e._repo,e._path,n,e._orderByCalled)}}function q4(t,e){return Ro("endBefore","key",e,!0),new G4(t,e)}class Nb extends Sn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Rn("startAt",this._value,e._path,!0);const n=_u(e._queryParams,this._value,this._key);if(Gl(n),Ws(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Vt(e._repo,e._path,n,e._orderByCalled)}}function Q4(t=null,e){return Ro("startAt","key",e,!0),new Nb(t,e)}class Z4 extends Sn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Rn("startAfter",this._value,e._path,!1);const n=tV(e._queryParams,this._value,this._key);if(Gl(n),Ws(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Vt(e._repo,e._path,n,e._orderByCalled)}}function J4(t,e){return Ro("startAfter","key",e,!0),new Z4(t,e)}class X4 extends Sn{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vt(e._repo,e._path,XU(e._queryParams,this._limit),e._orderByCalled)}}function e6(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new X4(t)}class t6 extends Sn{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vt(e._repo,e._path,eV(e._queryParams,this._limit),e._orderByCalled)}}function n6(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new t6(t)}class s6 extends Sn{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Kl(e,"orderByChild");const n=new Ne(this._path);if(Se(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Jd(n),r=Ml(e._queryParams,s);return Ws(r),new Vt(e._repo,e._path,r,!0)}}function r6(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return yo("orderByChild","path",t,!1),new s6(t)}class i6 extends Sn{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Kl(e,"orderByKey");const n=Ml(e._queryParams,An);return Ws(n),new Vt(e._repo,e._path,n,!0)}}function o6(){return new i6}class a6 extends Sn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Kl(e,"orderByPriority");const n=Ml(e._queryParams,Qe);return Ws(n),new Vt(e._repo,e._path,n,!0)}}function l6(){return new a6}class c6 extends Sn{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Kl(e,"orderByValue");const n=Ml(e._queryParams,Xd);return Ws(n),new Vt(e._repo,e._path,n,!0)}}function u6(){return new c6}class d6 extends Sn{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Rn("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Rb(this._value,this._key)._apply(new Nb(this._value,this._key)._apply(e))}}function f6(t,e){return Ro("equalTo","key",e,!0),new d6(t,e)}function mn(t,...e){let n=Xt(t);for(const s of e)n=s._apply(n);return n}UV(hn);qV(hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="FIREBASE_DATABASE_EMULATOR_HOST",Ou={};let p6=!1;function m6(t,e,n,s){t.repoInfo_=new Ly(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function Lb(t,e,n,s,r){let i=s||t.options.databaseURL;i===void 0&&(t.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=ku(i,r),a=o.repoInfo,l,c;typeof process<"u"&&um&&(c=um[h6]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=ku(i,r),a=o.repoInfo):l=!o.repoInfo.secure;const u=r&&l?new Fr(Fr.OWNER):new rU(t.name,t.options,e);Eb("Invalid Firebase Database URL",o),Se(o.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=g6(a,t,u,new sU(t.name,n));return new _6(d,t)}function v6(t,e){const n=Ou[e];(!n||n[t.key]!==t)&&Mn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$b(t),delete n[t.key]}function g6(t,e,n,s){let r=Ou[e.name];r||(r={},Ou[e.name]=r);let i=r[t.toURLString()];return i&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new C4(t,p6,n,s),r[t.toURLString()]=i,i}let _6=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(E4(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hn(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(v6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Mn("Cannot call "+e+" on a deleted database.")}};function Fb(){Jr.IS_TRANSPORT_INITIALIZED&&Tt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function y6(){Fb(),_s.forceDisallow()}function b6(){Fb(),tn.forceDisallow(),_s.forceAllow()}function w6(t,e,n,s={}){t=Xt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Mn("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let i;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Fr(Fr.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:d3(s.mockUserToken,t.app.options.projectId);i=new Fr(o)}m6(r,e,n,i)}function C6(t){t=Xt(t),t._checkNotDeleted("goOffline"),$b(t._repo)}function E6(t){t=Xt(t),t._checkNotDeleted("goOnline"),x4(t._repo)}function S6(t,e){Dy(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){wy(Wd),Zr(new Jn("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return Lb(s,r,i,n)},"PUBLIC").setMultipleInstances(!0)),Ss(dm,fm,t),Ss(dm,fm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6={".sv":"timestamp"};function T6(){return I6}function $6(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P6=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function k6(t,e,n){var s;if(t=Xt(t),on("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(s=n==null?void 0:n.applyLocally)!==null&&s!==void 0?s:!0,i=new Yt,o=(l,c,u)=>{let d=null;l?i.reject(l):(d=new ql(u,new hn(t._repo,t._path),Qe),i.resolve(new P6(c,d)))},a=xu(t,()=>{});return O4(t._repo,t._path,e,o,a,r),i.promise}Gn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};D6();const A6="@firebase/database-compat",x6="1.0.3";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=new kl("@firebase/database-compat"),Yb=function(t){const e="FIREBASE WARNING: "+t;O6.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=function(t,e,n,s){if(!(s&&n===void 0)&&typeof n!="boolean")throw new Error(jt(t,e)+"must be a boolean.")},R6=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(jt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this._delegate=e}cancel(e){pe("OnDisconnect.cancel",0,1,arguments.length),_t("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),s=>e(s)),n}remove(e){pe("OnDisconnect.remove",0,1,arguments.length),_t("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),s=>e(s)),n}set(e,n){pe("OnDisconnect.set",1,2,arguments.length),_t("OnDisconnect.set","onComplete",n,!0);const s=this._delegate.set(e);return n&&s.then(()=>n(null),r=>n(r)),s}setWithPriority(e,n,s){pe("OnDisconnect.setWithPriority",2,3,arguments.length),_t("OnDisconnect.setWithPriority","onComplete",s,!0);const r=this._delegate.setWithPriority(e,n);return s&&r.then(()=>s(null),i=>s(i)),r}update(e,n){if(pe("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let i=0;i<e.length;++i)r[""+i]=e[i];e=r,Yb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_t("OnDisconnect.update","onComplete",n,!0);const s=this._delegate.update(e);return n&&s.then(()=>n(null),r=>n(r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return pe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this._database=e,this._delegate=n}val(){return pe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return pe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return pe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return pe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return pe("DataSnapshot.child",0,1,arguments.length),e=String(e),yo("DataSnapshot.child","path",e,!1),new Ts(this._database,this._delegate.child(e))}hasChild(e){return pe("DataSnapshot.hasChild",1,1,arguments.length),yo("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return pe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return pe("DataSnapshot.forEach",1,1,arguments.length),_t("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Ts(this._database,n)))}hasChildren(){return pe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return pe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return pe("DataSnapshot.ref",0,0,arguments.length),new Gt(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class St{constructor(e,n){this.database=e,this._delegate=n}on(e,n,s,r){var i;pe("Query.on",2,4,arguments.length),_t("Query.on","callback",n,!1);const o=St.getCancelAndContextArgs_("Query.on",s,r),a=(c,u)=>{n.call(o.context,new Ts(this.database,c),u)};a.userCallback=n,a.context=o.context;const l=(i=o.cancel)===null||i===void 0?void 0:i.bind(o.context);switch(e){case"value":return xu(this._delegate,a,l),n;case"child_added":return Vm(this._delegate,a,l),n;case"child_removed":return Gm(this._delegate,a,l),n;case"child_changed":return zm(this._delegate,a,l),n;case"child_moved":return Km(this._delegate,a,l),n;default:throw new Error(jt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,s){if(pe("Query.off",0,3,arguments.length),R6("Query.off",e,!0),_t("Query.off","callback",n,!0),em("Query.off","context",s,!0),n){const r=()=>{};r.userCallback=n,r.context=s,qm(this._delegate,e,r)}else qm(this._delegate,e)}get(){return z4(this._delegate).then(e=>new Ts(this.database,e))}once(e,n,s,r){pe("Query.once",1,4,arguments.length),_t("Query.once","callback",n,!0);const i=St.getCancelAndContextArgs_("Query.once",s,r),o=new Yt,a=(c,u)=>{const d=new Ts(this.database,c);n&&n.call(i.context,d,u),o.resolve(d)};a.userCallback=n,a.context=i.context;const l=c=>{i.cancel&&i.cancel.call(i.context,c),o.reject(c)};switch(e){case"value":xu(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Vm(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Gm(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":zm(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Km(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(jt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return pe("Query.limitToFirst",1,1,arguments.length),new St(this.database,mn(this._delegate,e6(e)))}limitToLast(e){return pe("Query.limitToLast",1,1,arguments.length),new St(this.database,mn(this._delegate,n6(e)))}orderByChild(e){return pe("Query.orderByChild",1,1,arguments.length),new St(this.database,mn(this._delegate,r6(e)))}orderByKey(){return pe("Query.orderByKey",0,0,arguments.length),new St(this.database,mn(this._delegate,o6()))}orderByPriority(){return pe("Query.orderByPriority",0,0,arguments.length),new St(this.database,mn(this._delegate,l6()))}orderByValue(){return pe("Query.orderByValue",0,0,arguments.length),new St(this.database,mn(this._delegate,u6()))}startAt(e=null,n){return pe("Query.startAt",0,2,arguments.length),new St(this.database,mn(this._delegate,Q4(e,n)))}startAfter(e=null,n){return pe("Query.startAfter",0,2,arguments.length),new St(this.database,mn(this._delegate,J4(e,n)))}endAt(e=null,n){return pe("Query.endAt",0,2,arguments.length),new St(this.database,mn(this._delegate,K4(e,n)))}endBefore(e=null,n){return pe("Query.endBefore",0,2,arguments.length),new St(this.database,mn(this._delegate,q4(e,n)))}equalTo(e,n){return pe("Query.equalTo",1,2,arguments.length),new St(this.database,mn(this._delegate,f6(e,n)))}toString(){return pe("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return pe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(pe("Query.isEqual",1,1,arguments.length),!(e instanceof St)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,s){const r={cancel:void 0,context:void 0};if(n&&s)r.cancel=n,_t(e,"cancel",r.cancel,!0),r.context=s,em(e,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(jt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Gt(this.database,new hn(this._delegate._repo,this._delegate._path))}}class Gt extends St{constructor(e,n){super(e,new Vt(n._repo,n._path,new Ol,!1)),this.database=e,this._delegate=n}getKey(){return pe("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return pe("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new Gt(this.database,fr(this._delegate,e))}getParent(){pe("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Gt(this.database,e):null}getRoot(){return pe("Reference.root",0,0,arguments.length),new Gt(this.database,this._delegate.root)}set(e,n){pe("Reference.set",1,2,arguments.length),_t("Reference.set","onComplete",n,!0);const s=Df(this._delegate,e);return n&&s.then(()=>n(null),r=>n(r)),s}update(e,n){if(pe("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let i=0;i<e.length;++i)r[""+i]=e[i];e=r,Yb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}on("Reference.update",this._delegate._path),_t("Reference.update","onComplete",n,!0);const s=V4(this._delegate,e);return n&&s.then(()=>n(null),r=>n(r)),s}setWithPriority(e,n,s){pe("Reference.setWithPriority",2,3,arguments.length),_t("Reference.setWithPriority","onComplete",s,!0);const r=U4(this._delegate,e,n);return s&&r.then(()=>s(null),i=>s(i)),r}remove(e){pe("Reference.remove",0,1,arguments.length),_t("Reference.remove","onComplete",e,!0);const n=H4(this._delegate);return e&&n.then(()=>e(null),s=>e(s)),n}transaction(e,n,s){pe("Reference.transaction",1,3,arguments.length),_t("Reference.transaction","transactionUpdate",e,!1),_t("Reference.transaction","onComplete",n,!0),M6("Reference.transaction","applyLocally",s,!0);const r=k6(this._delegate,e,{applyLocally:s}).then(i=>new L6(i.committed,new Ts(this.database,i.snapshot)));return n&&r.then(i=>n(null,i.committed,i.snapshot),i=>n(i,!1,null)),r}setPriority(e,n){pe("Reference.setPriority",1,2,arguments.length),_t("Reference.setPriority","onComplete",n,!0);const s=j4(this._delegate,e);return n&&s.then(()=>n(null),r=>n(r)),s}push(e,n){pe("Reference.push",0,2,arguments.length),_t("Reference.push","onComplete",n,!0);const s=W4(this._delegate,e),r=s.then(o=>new Gt(this.database,o));n&&r.then(()=>n(null),o=>n(o));const i=new Gt(this.database,s);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return on("Reference.onDisconnect",this._delegate._path),new N6(new B4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:y6,forceLongPolling:b6}}useEmulator(e,n,s={}){w6(this._delegate,e,n,s)}ref(e){if(pe("database.ref",0,1,arguments.length),e instanceof Gt){const n=Um(this._delegate,e.toString());return new Gt(this,n)}else{const n=Mb(this._delegate,e);return new Gt(this,n)}}refFromURL(e){pe("database.refFromURL",1,1,arguments.length);const s=Um(this._delegate,e);return new Gt(this,s)}goOffline(){return pe("database.goOffline",0,0,arguments.length),C6(this._delegate)}goOnline(){return pe("database.goOnline",0,0,arguments.length),E6(this._delegate)}}bo.ServerValue={TIMESTAMP:T6(),increment:t=>$6(t)};function F6({app:t,url:e,version:n,customAuthImpl:s,customAppCheckImpl:r,namespace:i,nodeAdmin:o=!1}){wy(n);const a=new ly("database-standalone"),l=new uu("auth-internal",a);l.setComponent(new Jn("auth-internal",()=>s,"PRIVATE"));let c;return r&&(c=new uu("app-check-internal",a),c.setComponent(new Jn("app-check-internal",()=>r,"PRIVATE"))),{instance:new bo(Lb(t,l,c,e,o),t),namespace:i}}var Y6=Object.freeze({__proto__:null,initStandalone:F6});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=bo.ServerValue;function W6(t){t.INTERNAL.registerComponent(new Jn("database-compat",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new bo(r,s)},"PUBLIC").setServiceProps({Reference:Gt,Query:St,Database:bo,DataSnapshot:Ts,enableLogging:S6,INTERNAL:Y6,ServerValue:B6}).setMultipleInstances(!0)),t.registerVersion(A6,x6)}W6(jd);const H6=jd.initializeApp({databaseURL:"https://c210-67728-default-rtdb.firebaseio.com"}),j6=H6.database(),U6=j6.ref("subscriptions"),V6="/assets/push-image-yHULhPDY.jpg",z6={data(){return{bMsg:!1}},methods:{fnPushSubscribe(){let t=this;Notification.requestPermission(function(e){e!=="granted"?console.log("푸시알림 기능이 허용되지 않았습니다!"):t.fnConfigurePushSub()})},fnConfigurePushSub(){let t=this;if(!("serviceWorker"in navigator)){console.log("서비스 워커가 없습니다!");return}navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){e===null?(t.fnNewSubscription(),t.fnDisplayNotification()):console.log("이미 구독되어 있습니다!")})},fnNewSubscription(){let t=this;navigator.serviceWorker.ready.then(function(e){const s=t.urlBase64ToUint8Array("BEUb-27a0ug58aSI7yEXKqicaaA7qLI_Pzro-wOWOFY2lD30Z6J1NaZTaSbnPjY2r_P-9Z9YaXyDo9or4IFQjrQ");return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s}).then(function(r){const i=JSON.parse(JSON.stringify(r));var o={endpoint:i.endpoint,keys:{p256dh:i.keys.p256dh,auth:i.keys.auth}};return U6.push(o)})})},fnUnSubscription(){let t=this;navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){t.bMsg=!0,e.unsubscribe()}).catch(e=>console.log(e))},fnDisplayNotification(){const t="C210",e={body:"프론트 푸시 알람 구현",icon:"/img/push-noti.png",badge:"/img/push-badge-icon.png",image:"/img/push-image.jpg",actions:[{action:"like",title:"싸피 ㄱ?",icon:"/img/push-coffee.png"}],vibrate:[500,100,500]};navigator.serviceWorker.ready.then(function(n){n.showNotification(t,e)})},urlBase64ToUint8Array(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=window.atob(n);return Uint8Array.from([...s].map(r=>r.charCodeAt(0)))}}},K6={class:"card"},G6=p("img",{src:V6,alt:"Push Image",class:"card-img-top"},null,-1),q6={class:"card-body"},Q6=p("h1",{class:"card-title"},"C210",-1),Z6=p("p",{class:"card-text"},"프론트 푸시 알람 구현. [알림허용] 단추를 클릭하시면 알림 정보를 받으실 수 있습니다.",-1),J6={key:0,class:"alert alert-info"};function X6(t,e,n,s,r,i){return S(),O("div",K6,[G6,p("div",q6,[Q6,Z6,p("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...o)=>i.fnPushSubscribe&&i.fnPushSubscribe(...o))},"알림 허용"),p("button",{class:"btn btn-secondary",onClick:e[1]||(e[1]=(...o)=>i.fnUnSubscription&&i.fnUnSubscription(...o))},"알림 해제")]),r.bMsg?(S(),O("div",J6,[Ue(" 푸시알림이 해제되었습니다. "),p("button",{onClick:e[2]||(e[2]=o=>r.bMsg=!1)},"닫기")])):Be("",!0)])}const ez=He(z6,[["render",X6]]),tz={methods:{fnSendPush(){const t=this.$refs.title.value,e=this.$refs.message.value,n=JSON.stringify({pTitle:t,pMsg:e});console.log(n),fetch("https://us-central1-c210-67728.cloudfunctions.net/storePushData",{method:"POST",headers:{"Content-type":"application/json"},body:n}).then(s=>{if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}).then(s=>{console.log(s.message)}).catch(s=>console.log("오류!"+s.message))}}},nz={class:"container"},sz={class:"row justify-content-center"},rz=p("div",{class:"col-12 text-center"},[p("h1",{class:"display-1"},"메시지 보내기")],-1),iz={class:"col-10 my-3"},oz={class:"card bg-dark text-white"},az={class:"card-body"},lz={id:"messageForm"},cz={class:"mb-3"},uz={type:"text",class:"form-control",ref:"title",placeholder:"제목을 입력하세요"},dz={textarea:"",class:"form-control",ref:"message",rows:"3",placeholder:"내용을 입력하세요"};function fz(t,e,n,s,r,i){return S(),O("div",nz,[p("div",sz,[rz,p("div",iz,[p("div",oz,[p("div",az,[p("form",lz,[p("div",cz,[p("input",uz,null,512),p("textarea",dz,null,512)]),p("button",{type:"button",class:"btn btn-block btn-large btn-orange",onClick:e[0]||(e[0]=(...o)=>i.fnSendPush&&i.fnSendPush(...o))},"발 송")])])])])])])}const hz=He(tz,[["render",fz]]),pz={components:{DatePicker:R_},data(){return{date:new Date,showModal:!1,selectedDate:null}},methods:{openModal(t){this.showModal=!0,this.selectedDate=t},closeModal(){this.showModal=!1,this.selectedDate=null}}},mz=t=>(ht("data-v-270781f8"),t=t(),pt(),t),vz={key:0,class:"modal"},gz={class:"modal-content"},_z=mz(()=>p("h2",null,"Calendar Detail",-1));function yz(t,e,n,s,r,i){const o=ct("DatePicker");return S(),O("div",null,[r.showModal?(S(),O("div",vz,[p("div",gz,[p("span",{class:"close",onClick:e[0]||(e[0]=(...a)=>i.closeModal&&i.closeModal(...a))},"×"),_z,p("p",null,"Date: "+ve(r.selectedDate),1)])])):Be("",!0),ee(o,{expanded:"",modelValue:r.date,"onUpdate:modelValue":e[1]||(e[1]=a=>r.date=a),"onClick:date":i.openModal},null,8,["modelValue","onClick:date"])])}const bz=He(pz,[["render",yz],["__scopeId","data-v-270781f8"]]),wz=_Y({history:N2("/"),routes:[{name:"",path:"/",component:ou},{name:"main",path:"/main",component:ou},{name:"goal",path:"/goal",component:KW},{name:"board",path:"/board",component:QW},{name:"calendar",path:"/calendar",component:L_},{name:"friend",path:"/friend",component:YF},{name:"meeting",path:"/meeting",component:wH},{name:"habit",path:"/habit",component:Z_},{name:"mypage",path:"/mypage",component:X_},{path:"/voice",name:"Voice",component:NH},{path:"/voice/trainer",name:"VoiceTrainer",component:t3},{path:"/subscribe",name:"subscribe",component:ez},{path:"/pushnotify",name:"pushnotify",component:hz},{path:"/calendar/calendarDetail",name:"CalendarDetail",component:bz}]}),Bb=b1();Bb.use(I1);const Zl=v1(FW);Zl.use(Bb);Zl.use(wz);Zl.use(WR,{});Zl.mount("#app");bF({immediate:!0});
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
