import{_ as S,u as L,a as R,s as x,r as n,o as I,f as q,c as y,b as _,d as m,e as s,w as p,v as M,g as B,h as V,F as $,i as D,j as N,t as P,k as T,p as U,l as j,m as E,n as Q,q as z,x as A}from"./index-CgSAy-IO.js";import{c as G}from"./chat-Cr4gAAHY.js";const r=c=>(U("data-v-b81ed34f"),c=c(),j(),c),H={class:"friend-list container mt-5"},J=r(()=>s("div",{class:"friend"},"친구",-1)),K=r(()=>s("div",{class:"search"},[s("img",{src:E,alt:""})],-1)),O=[K],W=r(()=>s("img",{src:Q,alt:""},null,-1)),X=[W],Y={class:"friend-search mb-3"},Z={class:"list-group"},ss=["onClick"],es={class:"friend-item"},ts=["src"],os={class:"buttons"},as=["onClick"],ns=r(()=>s("img",{src:z,alt:""},null,-1)),cs=[ns],ls={__name:"FriendList",setup(c){const d=L(),v=R();x(v);const f=n(null),l=n(!1),i=n(""),h=n([]),u=n("");I(()=>{g()});const g=()=>{console.log("친구 목록 가져오기"),q(({data:e})=>{console.log("친구 목록 리스트"),console.log(e),h.value=e},e=>{console.log(e)})},b=e=>{const o={path:"/friend-profile",component:A,props:{friend:e}};d.push(o)},k=y(()=>h.value.filter(e=>e.name.toLowerCase().includes(i.value.toLowerCase()))),w=e=>{f.value=e;const o={title:e.nickname+"의 대화방",receiver:e.nickname};G(o,t=>{let a="채팅방 생성에 문제 발생했습니다";t.status==200?(a="채팅방 입장 완료되었습니다.",u.value=t.data.chatRoomId,console.log(u.value),alert(a),d.push({name:"chat-view",params:{roomid:u.value}})):alert(a)},t=>console.error(t))},C=()=>{d.push("/friendRequestList")},F=()=>{l.value=!l.value,l.value||(i.value="")};return(e,o)=>(_(),m("div",H,[s("div",{class:"friend-header"},[J,s("div",{class:"friend-buttons"},[s("button",{class:"create-chat-button btn",onClick:F},O),s("button",{class:"create-chat-button btn",onClick:C},X)])]),p(s("div",Y,[p(s("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>i.value=t),type:"text",class:"form-control",placeholder:"친구 검색"},null,512),[[B,i.value]])],512),[[M,l.value]]),V(N),s("ul",Z,[(_(!0),m($,null,D(k.value,t=>(_(),m("li",{key:t.id,class:"list-group-item",onClick:a=>b(t)},[s("div",es,[s("img",{src:t.profileUrl,alt:"프로필 이미지",class:"profile-image mr-2"},null,8,ts),s("span",null,P(t.nickname),1)]),s("div",os,[s("button",{class:"btn btn-sm",onClick:T(a=>w(t),["stop"])},cs,8,as)])],8,ss))),128))])]))}},ds=S(ls,[["__scopeId","data-v-b81ed34f"]]);export{ds as default};
