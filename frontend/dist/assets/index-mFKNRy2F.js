(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function yu(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Xe={},Ds=[],Jt=()=>{},_b=()=>!1,Ya=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),bu=t=>t.startsWith("onUpdate:"),dt=Object.assign,wu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},gb=Object.prototype.hasOwnProperty,Oe=(t,e)=>gb.call(t,e),de=Array.isArray,Ts=t=>fo(t)==="[object Map]",Ba=t=>fo(t)==="[object Set]",uf=t=>fo(t)==="[object Date]",ge=t=>typeof t=="function",st=t=>typeof t=="string",br=t=>typeof t=="symbol",Be=t=>t!==null&&typeof t=="object",Om=t=>(Be(t)||ge(t))&&ge(t.then)&&ge(t.catch),Mm=Object.prototype.toString,fo=t=>Mm.call(t),yb=t=>fo(t).slice(8,-1),xm=t=>fo(t)==="[object Object]",Cu=t=>st(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,jo=yu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wa=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},bb=/-(\w)/g,kn=Wa(t=>t.replace(bb,(e,n)=>n?n.toUpperCase():"")),wb=/\B([A-Z])/g,ls=Wa(t=>t.replace(wb,"-$1").toLowerCase()),Ha=Wa(t=>t.charAt(0).toUpperCase()+t.slice(1)),Uo=Wa(t=>t?`on${Ha(t)}`:""),wr=(t,e)=>!Object.is(t,e),Vo=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ta=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},_c=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Cb=t=>{const e=st(t)?Number(t):NaN;return isNaN(e)?t:e};let df;const Rm=()=>df||(df=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function vn(t){if(de(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=st(r)?Tb(r):vn(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(st(t)||Be(t))return t}const Eb=/;(?![^(]*\))/g,Sb=/:([^]+)/,Db=/\/\*[^]*?\*\//g;function Tb(t){const e={};return t.replace(Db,"").split(Eb).forEach(n=>{if(n){const r=n.split(Sb);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ke(t){let e="";if(st(t))e=t;else if(de(t))for(let n=0;n<t.length;n++){const r=Ke(t[n]);r&&(e+=r+" ")}else if(Be(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Pi(t){if(!t)return null;let{class:e,style:n}=t;return e&&!st(e)&&(t.class=Ke(e)),n&&(t.style=vn(n)),t}const Ib="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$b=yu(Ib);function Nm(t){return!!t||t===""}function Pb(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ja(t[r],e[r]);return n}function ja(t,e){if(t===e)return!0;let n=uf(t),r=uf(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=br(t),r=br(e),n||r)return t===e;if(n=de(t),r=de(e),n||r)return n&&r?Pb(t,e):!1;if(n=Be(t),r=Be(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ja(t[o],e[o]))return!1}}return String(t)===String(e)}function Lm(t,e){return t.findIndex(n=>ja(n,e))}const Me=t=>st(t)?t:t==null?"":de(t)||Be(t)&&(t.toString===Mm||!ge(t.toString))?JSON.stringify(t,Fm,2):String(t),Fm=(t,e)=>e&&e.__v_isRef?Fm(t,e.value):Ts(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Bl(r,i)+" =>"]=s,n),{})}:Ba(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Bl(n))}:br(e)?Bl(e):Be(e)&&!de(e)&&!xm(e)?String(e):e,Bl=(t,e="")=>{var n;return br(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hn;class Ym{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=hn,!e&&hn&&(this.index=(hn.scopes||(hn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=hn;try{return hn=this,e()}finally{hn=n}}}on(){hn=this}off(){hn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function kb(t){return new Ym(t)}function Ab(t,e=hn){e&&e.active&&e.effects.push(t)}function Ob(){return hn}let Zr;class Eu{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ab(this,s)}get dirty(){if(this._dirtyLevel===1){cs();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Mb(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),us()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=hr,n=Zr;try{return hr=!0,Zr=this,this._runnings++,ff(this),this.fn()}finally{hf(this),this._runnings--,Zr=n,hr=e}}stop(){var e;this.active&&(ff(this),hf(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Mb(t){return t.value}function ff(t){t._trackId++,t._depsLength=0}function hf(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Bm(t.deps[e],t);t.deps.length=t._depsLength}}function Bm(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let hr=!0,gc=0;const Wm=[];function cs(){Wm.push(hr),hr=!1}function us(){const t=Wm.pop();hr=t===void 0?!0:t}function Su(){gc++}function Du(){for(gc--;!gc&&yc.length;)yc.shift()()}function Hm(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Bm(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const yc=[];function jm(t,e,n){Su();for(const r of t.keys())if(r._dirtyLevel<e&&t.get(r)===r._trackId){const s=r._dirtyLevel;r._dirtyLevel=e,s===0&&(r._shouldSchedule=!0,r.trigger())}Um(t),Du()}function Um(t){for(const e of t.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&t.get(e)===e._trackId&&(e._shouldSchedule=!1,yc.push(e.scheduler))}const Vm=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},na=new WeakMap,Xr=Symbol(""),bc=Symbol("");function jt(t,e,n){if(hr&&Zr){let r=na.get(t);r||na.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Vm(()=>r.delete(n))),Hm(Zr,s)}}function Wn(t,e,n,r,s,i){const o=na.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&de(t)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||!br(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":de(t)?Cu(n)&&a.push(o.get("length")):(a.push(o.get(Xr)),Ts(t)&&a.push(o.get(bc)));break;case"delete":de(t)||(a.push(o.get(Xr)),Ts(t)&&a.push(o.get(bc)));break;case"set":Ts(t)&&a.push(o.get(Xr));break}Su();for(const l of a)l&&jm(l,2);Du()}function xb(t,e){var n;return(n=na.get(t))==null?void 0:n.get(e)}const Rb=yu("__proto__,__v_isRef,__isVue"),zm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(br)),pf=Nb();function Nb(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=xe(this);for(let i=0,o=this.length;i<o;i++)jt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(xe)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){cs(),Su();const r=xe(this)[e].apply(this,n);return Du(),us(),r}}),t}function Lb(t){const e=xe(this);return jt(e,"has",t),e.hasOwnProperty(t)}class Km{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Qb:Zm:i?Qm:qm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=de(e);if(!s){if(o&&Oe(pf,n))return Reflect.get(pf,n,r);if(n==="hasOwnProperty")return Lb}const a=Reflect.get(e,n,r);return(br(n)?zm.has(n):Rb(n))||(s||jt(e,"get",n),i)?a:it(a)?o&&Cu(n)?a:a.value:Be(a)?s?Jm(a):Ar(a):a}}class Gm extends Km{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._shallow){const l=Ns(i);if(!ra(r)&&!Ns(r)&&(i=xe(i),r=xe(r)),!de(e)&&it(i)&&!it(r))return l?!1:(i.value=r,!0)}const o=de(e)&&Cu(n)?Number(n)<e.length:Oe(e,n),a=Reflect.set(e,n,r,s);return e===xe(s)&&(o?wr(r,i)&&Wn(e,"set",n,r):Wn(e,"add",n,r)),a}deleteProperty(e,n){const r=Oe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Wn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!br(n)||!zm.has(n))&&jt(e,"has",n),r}ownKeys(e){return jt(e,"iterate",de(e)?"length":Xr),Reflect.ownKeys(e)}}class Fb extends Km{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Yb=new Gm,Bb=new Fb,Wb=new Gm(!0),Tu=t=>t,Ua=t=>Reflect.getPrototypeOf(t);function ko(t,e,n=!1,r=!1){t=t.__v_raw;const s=xe(t),i=xe(e);n||(wr(e,i)&&jt(s,"get",e),jt(s,"get",i));const{has:o}=Ua(s),a=r?Tu:n?ku:Wi;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function Ao(t,e=!1){const n=this.__v_raw,r=xe(n),s=xe(t);return e||(wr(t,s)&&jt(r,"has",t),jt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Oo(t,e=!1){return t=t.__v_raw,!e&&jt(xe(t),"iterate",Xr),Reflect.get(t,"size",t)}function mf(t){t=xe(t);const e=xe(this);return Ua(e).has.call(e,t)||(e.add(t),Wn(e,"add",t,t)),this}function vf(t,e){e=xe(e);const n=xe(this),{has:r,get:s}=Ua(n);let i=r.call(n,t);i||(t=xe(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?wr(e,o)&&Wn(n,"set",t,e):Wn(n,"add",t,e),this}function _f(t){const e=xe(this),{has:n,get:r}=Ua(e);let s=n.call(e,t);s||(t=xe(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&Wn(e,"delete",t,void 0),i}function gf(){const t=xe(this),e=t.size!==0,n=t.clear();return e&&Wn(t,"clear",void 0,void 0),n}function Mo(t,e){return function(r,s){const i=this,o=i.__v_raw,a=xe(o),l=e?Tu:t?ku:Wi;return!t&&jt(a,"iterate",Xr),o.forEach((c,u)=>r.call(s,l(c),l(u),i))}}function xo(t,e,n){return function(...r){const s=this.__v_raw,i=xe(s),o=Ts(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...r),u=n?Tu:e?ku:Wi;return!e&&jt(i,"iterate",l?bc:Xr),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Jn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Hb(){const t={get(i){return ko(this,i)},get size(){return Oo(this)},has:Ao,add:mf,set:vf,delete:_f,clear:gf,forEach:Mo(!1,!1)},e={get(i){return ko(this,i,!1,!0)},get size(){return Oo(this)},has:Ao,add:mf,set:vf,delete:_f,clear:gf,forEach:Mo(!1,!0)},n={get(i){return ko(this,i,!0)},get size(){return Oo(this,!0)},has(i){return Ao.call(this,i,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:Mo(!0,!1)},r={get(i){return ko(this,i,!0,!0)},get size(){return Oo(this,!0)},has(i){return Ao.call(this,i,!0)},add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear"),forEach:Mo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=xo(i,!1,!1),n[i]=xo(i,!0,!1),e[i]=xo(i,!1,!0),r[i]=xo(i,!0,!0)}),[t,n,e,r]}const[jb,Ub,Vb,zb]=Hb();function Iu(t,e){const n=e?t?zb:Vb:t?Ub:jb;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Oe(n,s)&&s in r?n:r,s,i)}const Kb={get:Iu(!1,!1)},Gb={get:Iu(!1,!0)},qb={get:Iu(!0,!1)},qm=new WeakMap,Qm=new WeakMap,Zm=new WeakMap,Qb=new WeakMap;function Zb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xb(t){return t.__v_skip||!Object.isExtensible(t)?0:Zb(yb(t))}function Ar(t){return Ns(t)?t:$u(t,!1,Yb,Kb,qm)}function Xm(t){return $u(t,!1,Wb,Gb,Qm)}function Jm(t){return $u(t,!0,Bb,qb,Zm)}function $u(t,e,n,r,s){if(!Be(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Xb(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Is(t){return Ns(t)?Is(t.__v_raw):!!(t&&t.__v_isReactive)}function Ns(t){return!!(t&&t.__v_isReadonly)}function ra(t){return!!(t&&t.__v_isShallow)}function ev(t){return Is(t)||Ns(t)}function xe(t){const e=t&&t.__v_raw;return e?xe(e):t}function Pu(t){return ta(t,"__v_skip",!0),t}const Wi=t=>Be(t)?Ar(t):t,ku=t=>Be(t)?Jm(t):t;class tv{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Eu(()=>e(this._value),()=>zo(this,1),()=>this.dep&&Um(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=xe(this);return(!e._cacheable||e.effect.dirty)&&wr(e._value,e._value=e.effect.run())&&zo(e,2),nv(e),e.effect._dirtyLevel>=1&&zo(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Jb(t,e,n=!1){let r,s;const i=ge(t);return i?(r=t,s=Jt):(r=t.get,s=t.set),new tv(r,s,i||!s,n)}function nv(t){hr&&Zr&&(t=xe(t),Hm(Zr,t.dep||(t.dep=Vm(()=>t.dep=void 0,t instanceof tv?t:void 0))))}function zo(t,e=2,n){t=xe(t);const r=t.dep;r&&jm(r,e)}function it(t){return!!(t&&t.__v_isRef===!0)}function Se(t){return rv(t,!1)}function ew(t){return rv(t,!0)}function rv(t,e){return it(t)?t:new tw(t,e)}class tw{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:xe(e),this._value=n?e:Wi(e)}get value(){return nv(this),this._value}set value(e){const n=this.__v_isShallow||ra(e)||Ns(e);e=n?e:xe(e),wr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Wi(e),zo(this,2))}}function M(t){return it(t)?t.value:t}const nw={get:(t,e,n)=>M(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return it(s)&&!it(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function sv(t){return Is(t)?t:new Proxy(t,nw)}function rw(t){const e=de(t)?new Array(t.length):{};for(const n in t)e[n]=iv(t,n);return e}class sw{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return xb(xe(this._object),this._key)}}class iw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ko(t,e,n){return it(t)?t:ge(t)?new iw(t):Be(t)&&arguments.length>1?iv(t,e,n):Se(t)}function iv(t,e,n){const r=t[e];return it(r)?r:new sw(t,e,n)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pr(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){Va(i,e,n)}return s}function rn(t,e,n,r){if(ge(t)){const i=pr(t,e,n,r);return i&&Om(i)&&i.catch(o=>{Va(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(rn(t[i],e,n,r));return s}function Va(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){pr(l,null,10,[t,o,a]);return}}ow(t,n,s,r)}function ow(t,e,n,r=!0){console.error(t)}let Hi=!1,wc=!1;const Et=[];let Dn=0;const $s=[];let sr=null,Ur=0;const ov=Promise.resolve();let Au=null;function Kr(t){const e=Au||ov;return t?e.then(this?t.bind(this):t):e}function aw(t){let e=Dn+1,n=Et.length;for(;e<n;){const r=e+n>>>1,s=Et[r],i=ji(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function Ou(t){(!Et.length||!Et.includes(t,Hi&&t.allowRecurse?Dn+1:Dn))&&(t.id==null?Et.push(t):Et.splice(aw(t.id),0,t),av())}function av(){!Hi&&!wc&&(wc=!0,Au=ov.then(cv))}function lw(t){const e=Et.indexOf(t);e>Dn&&Et.splice(e,1)}function cw(t){de(t)?$s.push(...t):(!sr||!sr.includes(t,t.allowRecurse?Ur+1:Ur))&&$s.push(t),av()}function yf(t,e,n=Hi?Dn+1:0){for(;n<Et.length;n++){const r=Et[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Et.splice(n,1),n--,r()}}}function lv(t){if($s.length){const e=[...new Set($s)].sort((n,r)=>ji(n)-ji(r));if($s.length=0,sr){sr.push(...e);return}for(sr=e,Ur=0;Ur<sr.length;Ur++)sr[Ur]();sr=null,Ur=0}}const ji=t=>t.id==null?1/0:t.id,uw=(t,e)=>{const n=ji(t)-ji(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function cv(t){wc=!1,Hi=!0,Et.sort(uw);try{for(Dn=0;Dn<Et.length;Dn++){const e=Et[Dn];e&&e.active!==!1&&pr(e,null,14)}}finally{Dn=0,Et.length=0,lv(),Hi=!1,Au=null,(Et.length||$s.length)&&cv()}}function dw(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Xe;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[u]||Xe;f&&(s=n.map(h=>st(h)?h.trim():h)),d&&(s=n.map(_c))}let a,l=r[a=Uo(e)]||r[a=Uo(kn(e))];!l&&i&&(l=r[a=Uo(ls(e))]),l&&rn(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,rn(c,t,6,s)}}function uv(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!ge(t)){const l=c=>{const u=uv(c,e,!0);u&&(a=!0,dt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Be(t)&&r.set(t,null),null):(de(i)?i.forEach(l=>o[l]=null):dt(o,i),Be(t)&&r.set(t,o),o)}function za(t,e){return!t||!Ya(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,ls(e))||Oe(t,e))}let ut=null,Ka=null;function sa(t){const e=ut;return ut=t,Ka=t&&t.type.__scopeId||null,e}function Ot(t){Ka=t}function Mt(){Ka=null}function Ee(t,e=ut,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Af(-1);const i=sa(e);let o;try{o=t(...s)}finally{sa(i),r._d&&Af(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Wl(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:m,inheritAttrs:b}=t;let w,y;const k=sa(t);try{if(n.shapeFlag&4){const P=s||r,N=P;w=Sn(u.call(N,P,d,i,h,f,m)),y=l}else{const P=e;w=Sn(P.length>1?P(i,{attrs:l,slots:a,emit:c}):P(i,null)),y=e.props?l:fw(l)}}catch(P){Oi.length=0,Va(P,t,1),w=X(sn)}let R=w;if(y&&b!==!1){const P=Object.keys(y),{shapeFlag:N}=R;P.length&&N&7&&(o&&P.some(bu)&&(y=hw(y,o)),R=Cr(R,y))}return n.dirs&&(R=Cr(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),w=R,sa(k),w}const fw=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ya(n))&&((e||(e={}))[n]=t[n]);return e},hw=(t,e)=>{const n={};for(const r in t)(!bu(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function pw(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?bf(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==r[f]&&!za(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?bf(r,o,c):!0:!!o;return!1}function bf(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!za(n,i))return!0}return!1}function mw({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Mu="components",vw="directives";function at(t,e){return Ru(Mu,t,!0,e)||t}const dv=Symbol.for("v-ndc");function xu(t){return st(t)?Ru(Mu,t,!1)||t:t||dv}function _w(t){return Ru(vw,t)}function Ru(t,e,n=!0,r=!1){const s=ut||wt;if(s){const i=s.type;if(t===Mu){const a=fC(i,!1);if(a&&(a===e||a===kn(e)||a===Ha(kn(e))))return i}const o=wf(s[t]||i[t],e)||wf(s.appContext[t],e);return!o&&r?i:o}}function wf(t,e){return t&&(t[e]||t[kn(e)]||t[Ha(kn(e))])}const gw=t=>t.__isSuspense;function yw(t,e){e&&e.pendingBranch?de(t)?e.effects.push(...t):e.effects.push(t):cw(t)}const bw=Symbol.for("v-scx"),ww=()=>Yt(bw);function fv(t,e){return Nu(t,null,e)}const Ro={};function lt(t,e,n){return Nu(t,e,n)}function Nu(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=Xe){if(e&&i){const L=e;e=(...K)=>{L(...K),N()}}const l=wt,c=L=>r===!0?L:Gr(L,r===!1?1:void 0);let u,d=!1,f=!1;if(it(t)?(u=()=>t.value,d=ra(t)):Is(t)?(u=()=>c(t),d=!0):de(t)?(f=!0,d=t.some(L=>Is(L)||ra(L)),u=()=>t.map(L=>{if(it(L))return L.value;if(Is(L))return c(L);if(ge(L))return pr(L,l,2)})):ge(t)?e?u=()=>pr(t,l,2):u=()=>(h&&h(),rn(t,l,3,[m])):u=Jt,e&&r){const L=u;u=()=>Gr(L())}let h,m=L=>{h=R.onStop=()=>{pr(L,l,4),h=R.onStop=void 0}},b;if(Xa)if(m=Jt,e?n&&rn(e,l,3,[u(),f?[]:void 0,m]):u(),s==="sync"){const L=ww();b=L.__watcherHandles||(L.__watcherHandles=[])}else return Jt;let w=f?new Array(t.length).fill(Ro):Ro;const y=()=>{if(!(!R.active||!R.dirty))if(e){const L=R.run();(r||d||(f?L.some((K,W)=>wr(K,w[W])):wr(L,w)))&&(h&&h(),rn(e,l,3,[L,w===Ro?void 0:f&&w[0]===Ro?[]:w,m]),w=L)}else R.run()};y.allowRecurse=!!e;let k;s==="sync"?k=y:s==="post"?k=()=>Nt(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),k=()=>Ou(y));const R=new Eu(u,Jt,k),P=Ob(),N=()=>{R.stop(),P&&wu(P.effects,R)};return e?n?y():w=R.run():s==="post"?Nt(R.run.bind(R),l&&l.suspense):R.run(),b&&b.push(N),N}function Cw(t,e,n){const r=this.proxy,s=st(t)?t.includes(".")?hv(r,t):()=>r[t]:t.bind(r,r);let i;ge(e)?i=e:(i=e.handler,n=e);const o=mo(this),a=Nu(s,i.bind(r),n);return o(),a}function hv(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Gr(t,e,n=0,r){if(!Be(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),it(t))Gr(t.value,e,n,r);else if(de(t))for(let s=0;s<t.length;s++)Gr(t[s],e,n,r);else if(Ba(t)||Ts(t))t.forEach(s=>{Gr(s,e,n,r)});else if(xm(t))for(const s in t)Gr(t[s],e,n,r);return t}function Fn(t,e){if(ut===null)return t;const n=Ja(ut)||ut.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Xe]=e[s];i&&(ge(i)&&(i={mounted:i,updated:i}),i.deep&&Gr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Lr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(cs(),rn(l,n,8,[t.el,a,t,e]),us())}}const ir=Symbol("_leaveCb"),No=Symbol("_enterCb");function Ew(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xs(()=>{t.isMounted=!0}),gv(()=>{t.isUnmounting=!0}),t}const Zt=[Function,Array],pv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zt,onEnter:Zt,onAfterEnter:Zt,onEnterCancelled:Zt,onBeforeLeave:Zt,onLeave:Zt,onAfterLeave:Zt,onLeaveCancelled:Zt,onBeforeAppear:Zt,onAppear:Zt,onAfterAppear:Zt,onAppearCancelled:Zt},Sw={name:"BaseTransition",props:pv,setup(t,{slots:e}){const n=aC(),r=Ew();let s;return()=>{const i=e.default&&vv(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const b of i)if(b.type!==sn){o=b;break}}const a=xe(t),{mode:l}=a;if(r.isLeaving)return Hl(o);const c=Cf(o);if(!c)return Hl(o);const u=Cc(c,a,r,n);Ec(c,u);const d=n.subTree,f=d&&Cf(d);let h=!1;const{getTransitionKey:m}=c.type;if(m){const b=m();s===void 0?s=b:b!==s&&(s=b,h=!0)}if(f&&f.type!==sn&&(!Vr(c,f)||h)){const b=Cc(f,a,r,n);if(Ec(f,b),l==="out-in")return r.isLeaving=!0,b.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Hl(o);l==="in-out"&&c.type!==sn&&(b.delayLeave=(w,y,k)=>{const R=mv(r,f);R[String(f.key)]=f,w[ir]=()=>{y(),w[ir]=void 0,delete u.delayedLeave},u.delayedLeave=k})}return o}}},Dw=Sw;function mv(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Cc(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:b,onAppear:w,onAfterAppear:y,onAppearCancelled:k}=e,R=String(t.key),P=mv(n,t),N=(W,ne)=>{W&&rn(W,r,9,ne)},L=(W,ne)=>{const te=ne[1];N(W,ne),de(W)?W.every(oe=>oe.length<=1)&&te():W.length<=1&&te()},K={mode:i,persisted:o,beforeEnter(W){let ne=a;if(!n.isMounted)if(s)ne=b||a;else return;W[ir]&&W[ir](!0);const te=P[R];te&&Vr(t,te)&&te.el[ir]&&te.el[ir](),N(ne,[W])},enter(W){let ne=l,te=c,oe=u;if(!n.isMounted)if(s)ne=w||l,te=y||c,oe=k||u;else return;let I=!1;const q=W[No]=me=>{I||(I=!0,me?N(oe,[W]):N(te,[W]),K.delayedLeave&&K.delayedLeave(),W[No]=void 0)};ne?L(ne,[W,q]):q()},leave(W,ne){const te=String(t.key);if(W[No]&&W[No](!0),n.isUnmounting)return ne();N(d,[W]);let oe=!1;const I=W[ir]=q=>{oe||(oe=!0,ne(),q?N(m,[W]):N(h,[W]),W[ir]=void 0,P[te]===t&&delete P[te])};P[te]=t,f?L(f,[W,I]):I()},clone(W){return Cc(W,e,n,r)}};return K}function Hl(t){if(Ga(t))return t=Cr(t),t.children=null,t}function Cf(t){return Ga(t)?t.children?t.children[0]:void 0:t}function Ec(t,e){t.shapeFlag&6&&t.component?Ec(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function vv(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Pe?(o.patchFlag&128&&s++,r=r.concat(vv(o.children,e,a))):(e||o.type!==sn)&&r.push(a!=null?Cr(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ft(t,e){return ge(t)?dt({name:t.name},e,{setup:t}):t}const ki=t=>!!t.type.__asyncLoader,Ga=t=>t.type.__isKeepAlive;function Tw(t,e){_v(t,"a",e)}function Iw(t,e){_v(t,"da",e)}function _v(t,e,n=wt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(qa(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Ga(s.parent.vnode)&&$w(r,e,n,s),s=s.parent}}function $w(t,e,n,r){const s=qa(e,t,r,!0);ho(()=>{wu(r[e],s)},n)}function qa(t,e,n=wt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;cs();const a=mo(n),l=rn(e,n,t,o);return a(),us(),l});return r?s.unshift(i):s.push(i),i}}const Qn=t=>(e,n=wt)=>(!Xa||t==="sp")&&qa(t,(...r)=>e(...r),n),Pw=Qn("bm"),Xs=Qn("m"),kw=Qn("bu"),Aw=Qn("u"),gv=Qn("bum"),ho=Qn("um"),Ow=Qn("sp"),Mw=Qn("rtg"),xw=Qn("rtc");function Rw(t,e=wt){qa("ec",t,e)}function gt(t,e,n,r){let s;const i=n&&n[r];if(de(t)||st(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Be(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(t[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function po(t,e,n={},r,s){if(ut.isCE||ut.parent&&ki(ut.parent)&&ut.parent.isCE)return e!=="default"&&(n.name=e),X("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),$();const o=i&&yv(i(n)),a=ot(Pe,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function yv(t){return t.some(e=>aa(e)?!(e.type===sn||e.type===Pe&&!yv(e.children)):!0)?t:null}function Nw(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Uo(r)]=t[r];return n}const Sc=t=>t?Av(t)?Ja(t)||t.proxy:Sc(t.parent):null,Ai=dt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Sc(t.parent),$root:t=>Sc(t.root),$emit:t=>t.emit,$options:t=>Lu(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ou(t.update)}),$nextTick:t=>t.n||(t.n=Kr.bind(t.proxy)),$watch:t=>Cw.bind(t)}),jl=(t,e)=>t!==Xe&&!t.__isScriptSetup&&Oe(t,e),Lw={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(jl(r,e))return o[e]=1,r[e];if(s!==Xe&&Oe(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Oe(c,e))return o[e]=3,i[e];if(n!==Xe&&Oe(n,e))return o[e]=4,n[e];Dc&&(o[e]=0)}}const u=Ai[e];let d,f;if(u)return e==="$attrs"&&jt(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Xe&&Oe(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Oe(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return jl(s,e)?(s[e]=n,!0):r!==Xe&&Oe(r,e)?(r[e]=n,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Xe&&Oe(t,o)||jl(e,o)||(a=i[0])&&Oe(a,o)||Oe(r,o)||Oe(Ai,o)||Oe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ef(t){return de(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Dc=!0;function Fw(t){const e=Lu(t),n=t.proxy,r=t.ctx;Dc=!1,e.beforeCreate&&Sf(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:b,deactivated:w,beforeDestroy:y,beforeUnmount:k,destroyed:R,unmounted:P,render:N,renderTracked:L,renderTriggered:K,errorCaptured:W,serverPrefetch:ne,expose:te,inheritAttrs:oe,components:I,directives:q,filters:me}=e;if(c&&Yw(c,r,null),o)for(const ae in o){const fe=o[ae];ge(fe)&&(r[ae]=fe.bind(n))}if(s){const ae=s.call(n,n);Be(ae)&&(t.data=Ar(ae))}if(Dc=!0,i)for(const ae in i){const fe=i[ae],ke=ge(fe)?fe.bind(n,n):ge(fe.get)?fe.get.bind(n,n):Jt,Y=!ge(fe)&&ge(fe.set)?fe.set.bind(n):Jt,ve=S({get:ke,set:Y});Object.defineProperty(r,ae,{enumerable:!0,configurable:!0,get:()=>ve.value,set:J=>ve.value=J})}if(a)for(const ae in a)bv(a[ae],r,n,ae);if(l){const ae=ge(l)?l.call(n):l;Reflect.ownKeys(ae).forEach(fe=>{Hn(fe,ae[fe])})}u&&Sf(u,t,"c");function ce(ae,fe){de(fe)?fe.forEach(ke=>ae(ke.bind(n))):fe&&ae(fe.bind(n))}if(ce(Pw,d),ce(Xs,f),ce(kw,h),ce(Aw,m),ce(Tw,b),ce(Iw,w),ce(Rw,W),ce(xw,L),ce(Mw,K),ce(gv,k),ce(ho,P),ce(Ow,ne),de(te))if(te.length){const ae=t.exposed||(t.exposed={});te.forEach(fe=>{Object.defineProperty(ae,fe,{get:()=>n[fe],set:ke=>n[fe]=ke})})}else t.exposed||(t.exposed={});N&&t.render===Jt&&(t.render=N),oe!=null&&(t.inheritAttrs=oe),I&&(t.components=I),q&&(t.directives=q)}function Yw(t,e,n=Jt){de(t)&&(t=Tc(t));for(const r in t){const s=t[r];let i;Be(s)?"default"in s?i=Yt(s.from||r,s.default,!0):i=Yt(s.from||r):i=Yt(s),it(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Sf(t,e,n){rn(de(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function bv(t,e,n,r){const s=r.includes(".")?hv(n,r):()=>n[r];if(st(t)){const i=e[t];ge(i)&&lt(s,i)}else if(ge(t))lt(s,t.bind(n));else if(Be(t))if(de(t))t.forEach(i=>bv(i,e,n,r));else{const i=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(i)&&lt(s,i,t)}}function Lu(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>ia(l,c,o,!0)),ia(l,e,o)),Be(e)&&i.set(e,l),l}function ia(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&ia(t,i,n,!0),s&&s.forEach(o=>ia(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Bw[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Bw={data:Df,props:Tf,emits:Tf,methods:Ti,computed:Ti,beforeCreate:$t,created:$t,beforeMount:$t,mounted:$t,beforeUpdate:$t,updated:$t,beforeDestroy:$t,beforeUnmount:$t,destroyed:$t,unmounted:$t,activated:$t,deactivated:$t,errorCaptured:$t,serverPrefetch:$t,components:Ti,directives:Ti,watch:Hw,provide:Df,inject:Ww};function Df(t,e){return e?t?function(){return dt(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function Ww(t,e){return Ti(Tc(t),Tc(e))}function Tc(t){if(de(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function $t(t,e){return t?[...new Set([].concat(t,e))]:e}function Ti(t,e){return t?dt(Object.create(null),t,e):e}function Tf(t,e){return t?de(t)&&de(e)?[...new Set([...t,...e])]:dt(Object.create(null),Ef(t),Ef(e??{})):e}function Hw(t,e){if(!t)return e;if(!e)return t;const n=dt(Object.create(null),t);for(const r in e)n[r]=$t(t[r],e[r]);return n}function wv(){return{app:null,config:{isNativeTag:_b,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jw=0;function Uw(t,e){return function(r,s=null){ge(r)||(r=dt({},r)),s!=null&&!Be(s)&&(s=null);const i=wv(),o=new WeakSet;let a=!1;const l=i.app={_uid:jw++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:pC,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&ge(c.install)?(o.add(c),c.install(l,...u)):ge(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,d){if(!a){const f=X(r,s);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,Ja(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){oa=l;try{return c()}finally{oa=null}}};return l}}let oa=null;function Hn(t,e){if(wt){let n=wt.provides;const r=wt.parent&&wt.parent.provides;r===n&&(n=wt.provides=Object.create(r)),n[t]=e}}function Yt(t,e,n=!1){const r=wt||ut;if(r||oa){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:oa._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ge(e)?e.call(r&&r.proxy):e}}function Vw(t,e,n,r=!1){const s={},i={};ta(i,Za,1),t.propsDefaults=Object.create(null),Cv(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Xm(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function zw(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=xe(s),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(za(t.emitsOptions,f))continue;const h=e[f];if(l)if(Oe(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const m=kn(f);s[m]=Ic(l,a,m,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{Cv(t,e,s,i)&&(c=!0);let u;for(const d in a)(!e||!Oe(e,d)&&((u=ls(d))===d||!Oe(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(s[d]=Ic(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!Oe(e,d))&&(delete i[d],c=!0)}c&&Wn(t,"set","$attrs")}function Cv(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(jo(l))continue;const c=e[l];let u;s&&Oe(s,u=kn(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:za(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=xe(n),c=a||Xe;for(let u=0;u<i.length;u++){const d=i[u];n[d]=Ic(s,l,d,c[d],t,!Oe(c,d))}}return o}function Ic(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Oe(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ge(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=mo(s);r=c[n]=l.call(null,e),u()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ls(n))&&(r=!0))}return r}function Ev(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!ge(t)){const u=d=>{l=!0;const[f,h]=Ev(d,e,!0);dt(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Be(t)&&r.set(t,Ds),Ds;if(de(i))for(let u=0;u<i.length;u++){const d=kn(i[u]);If(d)&&(o[d]=Xe)}else if(i)for(const u in i){const d=kn(u);if(If(d)){const f=i[u],h=o[d]=de(f)||ge(f)?{type:f}:dt({},f);if(h){const m=kf(Boolean,h.type),b=kf(String,h.type);h[0]=m>-1,h[1]=b<0||m<b,(m>-1||Oe(h,"default"))&&a.push(d)}}}const c=[o,a];return Be(t)&&r.set(t,c),c}function If(t){return t[0]!=="$"}function $f(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Pf(t,e){return $f(t)===$f(e)}function kf(t,e){return de(e)?e.findIndex(n=>Pf(n,t)):ge(e)&&Pf(e,t)?0:-1}const Sv=t=>t[0]==="_"||t==="$stable",Fu=t=>de(t)?t.map(Sn):[Sn(t)],Kw=(t,e,n)=>{if(e._n)return e;const r=Ee((...s)=>Fu(e(...s)),n);return r._c=!1,r},Dv=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Sv(s))continue;const i=t[s];if(ge(i))e[s]=Kw(s,i,r);else if(i!=null){const o=Fu(i);e[s]=()=>o}}},Tv=(t,e)=>{const n=Fu(e);t.slots.default=()=>n},Gw=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=xe(e),ta(e,"_",n)):Dv(e,t.slots={})}else t.slots={},e&&Tv(t,e);ta(t.slots,Za,1)},qw=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Xe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(dt(s,e),!n&&a===1&&delete s._):(i=!e.$stable,Dv(e,s)),o=e}else e&&(Tv(t,e),o={default:1});if(i)for(const a in s)!Sv(a)&&o[a]==null&&delete s[a]};function $c(t,e,n,r,s=!1){if(de(t)){t.forEach((f,h)=>$c(f,e&&(de(e)?e[h]:e),n,r,s));return}if(ki(r)&&!s)return;const i=r.shapeFlag&4?Ja(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Xe?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(st(c)?(u[c]=null,Oe(d,c)&&(d[c]=null)):it(c)&&(c.value=null)),ge(l))pr(l,a,12,[o,u]);else{const f=st(l),h=it(l),m=t.f;if(f||h){const b=()=>{if(m){const w=f?Oe(d,l)?d[l]:u[l]:l.value;s?de(w)&&wu(w,i):de(w)?w.includes(i)||w.push(i):f?(u[l]=[i],Oe(d,l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,Oe(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};s||m?b():(b.id=-1,Nt(b,n))}}}const Nt=yw;function Qw(t){return Zw(t)}function Zw(t,e){const n=Rm();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Jt,insertStaticContent:m}=t,b=(p,g,C,T=null,D=null,H=null,G=void 0,F=null,U=!!g.dynamicChildren)=>{if(p===g)return;p&&!Vr(p,g)&&(T=E(p),J(p,D,H,!0),p=null),g.patchFlag===-2&&(U=!1,g.dynamicChildren=null);const{type:x,ref:Q,shapeFlag:ie}=g;switch(x){case Qa:w(p,g,C,T);break;case sn:y(p,g,C,T);break;case Go:p==null&&k(g,C,T,G);break;case Pe:I(p,g,C,T,D,H,G,F,U);break;default:ie&1?N(p,g,C,T,D,H,G,F,U):ie&6?q(p,g,C,T,D,H,G,F,U):(ie&64||ie&128)&&x.process(p,g,C,T,D,H,G,F,U,ee)}Q!=null&&D&&$c(Q,p&&p.ref,H,g||p,!g)},w=(p,g,C,T)=>{if(p==null)r(g.el=a(g.children),C,T);else{const D=g.el=p.el;g.children!==p.children&&c(D,g.children)}},y=(p,g,C,T)=>{p==null?r(g.el=l(g.children||""),C,T):g.el=p.el},k=(p,g,C,T)=>{[p.el,p.anchor]=m(p.children,g,C,T,p.el,p.anchor)},R=({el:p,anchor:g},C,T)=>{let D;for(;p&&p!==g;)D=f(p),r(p,C,T),p=D;r(g,C,T)},P=({el:p,anchor:g})=>{let C;for(;p&&p!==g;)C=f(p),s(p),p=C;s(g)},N=(p,g,C,T,D,H,G,F,U)=>{g.type==="svg"?G="svg":g.type==="math"&&(G="mathml"),p==null?L(g,C,T,D,H,G,F,U):ne(p,g,D,H,G,F,U)},L=(p,g,C,T,D,H,G,F)=>{let U,x;const{props:Q,shapeFlag:ie,transition:re,dirs:ue}=p;if(U=p.el=o(p.type,H,Q&&Q.is,Q),ie&8?u(U,p.children):ie&16&&W(p.children,U,null,T,D,Ul(p,H),G,F),ue&&Lr(p,null,T,"created"),K(U,p,p.scopeId,G,T),Q){for(const $e in Q)$e!=="value"&&!jo($e)&&i(U,$e,null,Q[$e],H,p.children,T,D,Ae);"value"in Q&&i(U,"value",null,Q.value,H),(x=Q.onVnodeBeforeMount)&&En(x,T,p)}ue&&Lr(p,null,T,"beforeMount");const _e=Xw(D,re);_e&&re.beforeEnter(U),r(U,g,C),((x=Q&&Q.onVnodeMounted)||_e||ue)&&Nt(()=>{x&&En(x,T,p),_e&&re.enter(U),ue&&Lr(p,null,T,"mounted")},D)},K=(p,g,C,T,D)=>{if(C&&h(p,C),T)for(let H=0;H<T.length;H++)h(p,T[H]);if(D){let H=D.subTree;if(g===H){const G=D.vnode;K(p,G,G.scopeId,G.slotScopeIds,D.parent)}}},W=(p,g,C,T,D,H,G,F,U=0)=>{for(let x=U;x<p.length;x++){const Q=p[x]=F?or(p[x]):Sn(p[x]);b(null,Q,g,C,T,D,H,G,F)}},ne=(p,g,C,T,D,H,G)=>{const F=g.el=p.el;let{patchFlag:U,dynamicChildren:x,dirs:Q}=g;U|=p.patchFlag&16;const ie=p.props||Xe,re=g.props||Xe;let ue;if(C&&Fr(C,!1),(ue=re.onVnodeBeforeUpdate)&&En(ue,C,g,p),Q&&Lr(g,p,C,"beforeUpdate"),C&&Fr(C,!0),x?te(p.dynamicChildren,x,F,C,T,Ul(g,D),H):G||fe(p,g,F,null,C,T,Ul(g,D),H,!1),U>0){if(U&16)oe(F,g,ie,re,C,T,D);else if(U&2&&ie.class!==re.class&&i(F,"class",null,re.class,D),U&4&&i(F,"style",ie.style,re.style,D),U&8){const _e=g.dynamicProps;for(let $e=0;$e<_e.length;$e++){const Fe=_e[$e],Je=ie[Fe],Tt=re[Fe];(Tt!==Je||Fe==="value")&&i(F,Fe,Je,Tt,D,p.children,C,T,Ae)}}U&1&&p.children!==g.children&&u(F,g.children)}else!G&&x==null&&oe(F,g,ie,re,C,T,D);((ue=re.onVnodeUpdated)||Q)&&Nt(()=>{ue&&En(ue,C,g,p),Q&&Lr(g,p,C,"updated")},T)},te=(p,g,C,T,D,H,G)=>{for(let F=0;F<g.length;F++){const U=p[F],x=g[F],Q=U.el&&(U.type===Pe||!Vr(U,x)||U.shapeFlag&70)?d(U.el):C;b(U,x,Q,null,T,D,H,G,!0)}},oe=(p,g,C,T,D,H,G)=>{if(C!==T){if(C!==Xe)for(const F in C)!jo(F)&&!(F in T)&&i(p,F,C[F],null,G,g.children,D,H,Ae);for(const F in T){if(jo(F))continue;const U=T[F],x=C[F];U!==x&&F!=="value"&&i(p,F,x,U,G,g.children,D,H,Ae)}"value"in T&&i(p,"value",C.value,T.value,G)}},I=(p,g,C,T,D,H,G,F,U)=>{const x=g.el=p?p.el:a(""),Q=g.anchor=p?p.anchor:a("");let{patchFlag:ie,dynamicChildren:re,slotScopeIds:ue}=g;ue&&(F=F?F.concat(ue):ue),p==null?(r(x,C,T),r(Q,C,T),W(g.children||[],C,Q,D,H,G,F,U)):ie>0&&ie&64&&re&&p.dynamicChildren?(te(p.dynamicChildren,re,C,D,H,G,F),(g.key!=null||D&&g===D.subTree)&&Iv(p,g,!0)):fe(p,g,C,Q,D,H,G,F,U)},q=(p,g,C,T,D,H,G,F,U)=>{g.slotScopeIds=F,p==null?g.shapeFlag&512?D.ctx.activate(g,C,T,G,U):me(g,C,T,D,H,G,U):se(p,g,U)},me=(p,g,C,T,D,H,G)=>{const F=p.component=oC(p,T,D);if(Ga(p)&&(F.ctx.renderer=ee),lC(F),F.asyncDep){if(D&&D.registerDep(F,ce),!p.el){const U=F.subTree=X(sn);y(null,U,g,C)}}else ce(F,p,g,C,D,H,G)},se=(p,g,C)=>{const T=g.component=p.component;if(pw(p,g,C))if(T.asyncDep&&!T.asyncResolved){ae(T,g,C);return}else T.next=g,lw(T.update),T.effect.dirty=!0,T.update();else g.el=p.el,T.vnode=g},ce=(p,g,C,T,D,H,G)=>{const F=()=>{if(p.isMounted){let{next:Q,bu:ie,u:re,parent:ue,vnode:_e}=p;{const dn=$v(p);if(dn){Q&&(Q.el=_e.el,ae(p,Q,G)),dn.asyncDep.then(()=>{p.isUnmounted||F()});return}}let $e=Q,Fe;Fr(p,!1),Q?(Q.el=_e.el,ae(p,Q,G)):Q=_e,ie&&Vo(ie),(Fe=Q.props&&Q.props.onVnodeBeforeUpdate)&&En(Fe,ue,Q,_e),Fr(p,!0);const Je=Wl(p),Tt=p.subTree;p.subTree=Je,b(Tt,Je,d(Tt.el),E(Tt),p,D,H),Q.el=Je.el,$e===null&&mw(p,Je.el),re&&Nt(re,D),(Fe=Q.props&&Q.props.onVnodeUpdated)&&Nt(()=>En(Fe,ue,Q,_e),D)}else{let Q;const{el:ie,props:re}=g,{bm:ue,m:_e,parent:$e}=p,Fe=ki(g);if(Fr(p,!1),ue&&Vo(ue),!Fe&&(Q=re&&re.onVnodeBeforeMount)&&En(Q,$e,g),Fr(p,!0),ie&&Ie){const Je=()=>{p.subTree=Wl(p),Ie(ie,p.subTree,p,D,null)};Fe?g.type.__asyncLoader().then(()=>!p.isUnmounted&&Je()):Je()}else{const Je=p.subTree=Wl(p);b(null,Je,C,T,p,D,H),g.el=Je.el}if(_e&&Nt(_e,D),!Fe&&(Q=re&&re.onVnodeMounted)){const Je=g;Nt(()=>En(Q,$e,Je),D)}(g.shapeFlag&256||$e&&ki($e.vnode)&&$e.vnode.shapeFlag&256)&&p.a&&Nt(p.a,D),p.isMounted=!0,g=C=T=null}},U=p.effect=new Eu(F,Jt,()=>Ou(x),p.scope),x=p.update=()=>{U.dirty&&U.run()};x.id=p.uid,Fr(p,!0),x()},ae=(p,g,C)=>{g.component=p;const T=p.vnode.props;p.vnode=g,p.next=null,zw(p,g.props,T,C),qw(p,g.children,C),cs(),yf(p),us()},fe=(p,g,C,T,D,H,G,F,U=!1)=>{const x=p&&p.children,Q=p?p.shapeFlag:0,ie=g.children,{patchFlag:re,shapeFlag:ue}=g;if(re>0){if(re&128){Y(x,ie,C,T,D,H,G,F,U);return}else if(re&256){ke(x,ie,C,T,D,H,G,F,U);return}}ue&8?(Q&16&&Ae(x,D,H),ie!==x&&u(C,ie)):Q&16?ue&16?Y(x,ie,C,T,D,H,G,F,U):Ae(x,D,H,!0):(Q&8&&u(C,""),ue&16&&W(ie,C,T,D,H,G,F,U))},ke=(p,g,C,T,D,H,G,F,U)=>{p=p||Ds,g=g||Ds;const x=p.length,Q=g.length,ie=Math.min(x,Q);let re;for(re=0;re<ie;re++){const ue=g[re]=U?or(g[re]):Sn(g[re]);b(p[re],ue,C,null,D,H,G,F,U)}x>Q?Ae(p,D,H,!0,!1,ie):W(g,C,T,D,H,G,F,U,ie)},Y=(p,g,C,T,D,H,G,F,U)=>{let x=0;const Q=g.length;let ie=p.length-1,re=Q-1;for(;x<=ie&&x<=re;){const ue=p[x],_e=g[x]=U?or(g[x]):Sn(g[x]);if(Vr(ue,_e))b(ue,_e,C,null,D,H,G,F,U);else break;x++}for(;x<=ie&&x<=re;){const ue=p[ie],_e=g[re]=U?or(g[re]):Sn(g[re]);if(Vr(ue,_e))b(ue,_e,C,null,D,H,G,F,U);else break;ie--,re--}if(x>ie){if(x<=re){const ue=re+1,_e=ue<Q?g[ue].el:T;for(;x<=re;)b(null,g[x]=U?or(g[x]):Sn(g[x]),C,_e,D,H,G,F,U),x++}}else if(x>re)for(;x<=ie;)J(p[x],D,H,!0),x++;else{const ue=x,_e=x,$e=new Map;for(x=_e;x<=re;x++){const ht=g[x]=U?or(g[x]):Sn(g[x]);ht.key!=null&&$e.set(ht.key,x)}let Fe,Je=0;const Tt=re-_e+1;let dn=!1,Rr=0;const Nn=new Array(Tt);for(x=0;x<Tt;x++)Nn[x]=0;for(x=ue;x<=ie;x++){const ht=p[x];if(Je>=Tt){J(ht,D,H,!0);continue}let A;if(ht.key!=null)A=$e.get(ht.key);else for(Fe=_e;Fe<=re;Fe++)if(Nn[Fe-_e]===0&&Vr(ht,g[Fe])){A=Fe;break}A===void 0?J(ht,D,H,!0):(Nn[A-_e]=x+1,A>=Rr?Rr=A:dn=!0,b(ht,g[A],C,null,D,H,G,F,U),Je++)}const Nr=dn?Jw(Nn):Ds;for(Fe=Nr.length-1,x=Tt-1;x>=0;x--){const ht=_e+x,A=g[ht],_=ht+1<Q?g[ht+1].el:T;Nn[x]===0?b(null,A,C,_,D,H,G,F,U):dn&&(Fe<0||x!==Nr[Fe]?ve(A,C,_,2):Fe--)}}},ve=(p,g,C,T,D=null)=>{const{el:H,type:G,transition:F,children:U,shapeFlag:x}=p;if(x&6){ve(p.component.subTree,g,C,T);return}if(x&128){p.suspense.move(g,C,T);return}if(x&64){G.move(p,g,C,ee);return}if(G===Pe){r(H,g,C);for(let ie=0;ie<U.length;ie++)ve(U[ie],g,C,T);r(p.anchor,g,C);return}if(G===Go){R(p,g,C);return}if(T!==2&&x&1&&F)if(T===0)F.beforeEnter(H),r(H,g,C),Nt(()=>F.enter(H),D);else{const{leave:ie,delayLeave:re,afterLeave:ue}=F,_e=()=>r(H,g,C),$e=()=>{ie(H,()=>{_e(),ue&&ue()})};re?re(H,_e,$e):$e()}else r(H,g,C)},J=(p,g,C,T=!1,D=!1)=>{const{type:H,props:G,ref:F,children:U,dynamicChildren:x,shapeFlag:Q,patchFlag:ie,dirs:re}=p;if(F!=null&&$c(F,null,C,p,!0),Q&256){g.ctx.deactivate(p);return}const ue=Q&1&&re,_e=!ki(p);let $e;if(_e&&($e=G&&G.onVnodeBeforeUnmount)&&En($e,g,p),Q&6)Qe(p.component,C,T);else{if(Q&128){p.suspense.unmount(C,T);return}ue&&Lr(p,null,g,"beforeUnmount"),Q&64?p.type.remove(p,g,C,D,ee,T):x&&(H!==Pe||ie>0&&ie&64)?Ae(x,g,C,!1,!0):(H===Pe&&ie&384||!D&&Q&16)&&Ae(U,g,C),T&&We(p)}(_e&&($e=G&&G.onVnodeUnmounted)||ue)&&Nt(()=>{$e&&En($e,g,p),ue&&Lr(p,null,g,"unmounted")},C)},We=p=>{const{type:g,el:C,anchor:T,transition:D}=p;if(g===Pe){Te(C,T);return}if(g===Go){P(p);return}const H=()=>{s(C),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(p.shapeFlag&1&&D&&!D.persisted){const{leave:G,delayLeave:F}=D,U=()=>G(C,H);F?F(p.el,H,U):U()}else H()},Te=(p,g)=>{let C;for(;p!==g;)C=f(p),s(p),p=C;s(g)},Qe=(p,g,C)=>{const{bum:T,scope:D,update:H,subTree:G,um:F}=p;T&&Vo(T),D.stop(),H&&(H.active=!1,J(G,p,g,C)),F&&Nt(F,g),Nt(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Ae=(p,g,C,T=!1,D=!1,H=0)=>{for(let G=H;G<p.length;G++)J(p[G],g,C,T,D)},E=p=>p.shapeFlag&6?E(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el);let z=!1;const V=(p,g,C)=>{p==null?g._vnode&&J(g._vnode,null,null,!0):b(g._vnode||null,p,g,null,null,null,C),z||(z=!0,yf(),lv(),z=!1),g._vnode=p},ee={p:b,um:J,m:ve,r:We,mt:me,mc:W,pc:fe,pbc:te,n:E,o:t};let ye,Ie;return e&&([ye,Ie]=e(ee)),{render:V,hydrate:ye,createApp:Uw(V,ye)}}function Ul({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Fr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Xw(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Iv(t,e,n=!1){const r=t.children,s=e.children;if(de(r)&&de(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=or(s[i]),a.el=o.el),n||Iv(o,a)),a.type===Qa&&(a.el=o.el)}}function Jw(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function $v(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:$v(e)}const eC=t=>t.__isTeleport,Pe=Symbol.for("v-fgt"),Qa=Symbol.for("v-txt"),sn=Symbol.for("v-cmt"),Go=Symbol.for("v-stc"),Oi=[];let pn=null;function $(t=!1){Oi.push(pn=t?null:[])}function tC(){Oi.pop(),pn=Oi[Oi.length-1]||null}let Ui=1;function Af(t){Ui+=t}function Pv(t){return t.dynamicChildren=Ui>0?pn||Ds:null,tC(),Ui>0&&pn&&pn.push(t),t}function B(t,e,n,r,s,i){return Pv(v(t,e,n,r,s,i,!0))}function ot(t,e,n,r,s){return Pv(X(t,e,n,r,s,!0))}function aa(t){return t?t.__v_isVNode===!0:!1}function Vr(t,e){return t.type===e.type&&t.key===e.key}const Za="__vInternal",kv=({key:t})=>t??null,qo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?st(t)||it(t)||ge(t)?{i:ut,r:t,k:e,f:!!n}:t:null);function v(t,e=null,n=null,r=0,s=null,i=t===Pe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kv(e),ref:e&&qo(e),scopeId:Ka,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ut};return a?(Yu(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=st(n)?8:16),Ui>0&&!o&&pn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&pn.push(l),l}const X=nC;function nC(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===dv)&&(t=sn),aa(t)){const a=Cr(t,e,!0);return n&&Yu(a,n),Ui>0&&!i&&pn&&(a.shapeFlag&6?pn[pn.indexOf(t)]=a:pn.push(a)),a.patchFlag|=-2,a}if(hC(t)&&(t=t.__vccOpts),e){e=la(e);let{class:a,style:l}=e;a&&!st(a)&&(e.class=Ke(a)),Be(l)&&(ev(l)&&!de(l)&&(l=dt({},l)),e.style=vn(l))}const o=st(t)?1:gw(t)?128:eC(t)?64:Be(t)?4:ge(t)?2:0;return v(t,e,n,r,s,o,i,!0)}function la(t){return t?ev(t)||Za in t?dt({},t):t:null}function Cr(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?ds(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&kv(a),ref:e&&e.ref?n&&s?de(s)?s.concat(qo(e)):[s,qo(e)]:qo(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Pe?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Cr(t.ssContent),ssFallback:t.ssFallback&&Cr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function He(t=" ",e=0){return X(Qa,null,t,e)}function rC(t,e){const n=X(Go,null,t);return n.staticCount=e,n}function Ge(t="",e=!1){return e?($(),ot(sn,null,t)):X(sn,null,t)}function Sn(t){return t==null||typeof t=="boolean"?X(sn):de(t)?X(Pe,null,t.slice()):typeof t=="object"?or(t):X(Qa,null,String(t))}function or(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Cr(t)}function Yu(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(de(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Yu(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Za in e)?e._ctx=ut:s===3&&ut&&(ut.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:ut},n=32):(e=String(e),r&64?(n=16,e=[He(e)]):n=8);t.children=e,t.shapeFlag|=n}function ds(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ke([e.class,r.class]));else if(s==="style")e.style=vn([e.style,r.style]);else if(Ya(s)){const i=e[s],o=r[s];o&&i!==o&&!(de(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function En(t,e,n,r=null){rn(t,e,7,[n,r])}const sC=wv();let iC=0;function oC(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||sC,i={uid:iC++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ym(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ev(r,s),emitsOptions:uv(r,s),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:r.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=dw.bind(null,i),t.ce&&t.ce(i),i}let wt=null;const aC=()=>wt||ut;let ca,Pc;{const t=Rm(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ca=e("__VUE_INSTANCE_SETTERS__",n=>wt=n),Pc=e("__VUE_SSR_SETTERS__",n=>Xa=n)}const mo=t=>{const e=wt;return ca(t),t.scope.on(),()=>{t.scope.off(),ca(e)}},Of=()=>{wt&&wt.scope.off(),ca(null)};function Av(t){return t.vnode.shapeFlag&4}let Xa=!1;function lC(t,e=!1){e&&Pc(e);const{props:n,children:r}=t.vnode,s=Av(t);Vw(t,n,s,e),Gw(t,r);const i=s?cC(t,e):void 0;return e&&Pc(!1),i}function cC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Pu(new Proxy(t.ctx,Lw));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?dC(t):null,i=mo(t);cs();const o=pr(r,t,0,[t.props,s]);if(us(),i(),Om(o)){if(o.then(Of,Of),e)return o.then(a=>{Mf(t,a,e)}).catch(a=>{Va(a,t,0)});t.asyncDep=o}else Mf(t,o,e)}else Ov(t,e)}function Mf(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Be(e)&&(t.setupState=sv(e)),Ov(t,n)}let xf;function Ov(t,e,n){const r=t.type;if(!t.render){if(!e&&xf&&!r.render){const s=r.template||Lu(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=dt(dt({isCustomElement:i,delimiters:a},o),l);r.render=xf(s,c)}}t.render=r.render||Jt}{const s=mo(t);cs();try{Fw(t)}finally{us(),s()}}}function uC(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return jt(t,"get","$attrs"),e[n]}}))}function dC(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return uC(t)},slots:t.slots,emit:t.emit,expose:e}}function Ja(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(sv(Pu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ai)return Ai[n](t)},has(e,n){return n in e||n in Ai}}))}function fC(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function hC(t){return ge(t)&&"__vccOpts"in t}const S=(t,e)=>Jb(t,e,Xa);function Bu(t,e,n){const r=arguments.length;return r===2?Be(e)&&!de(e)?aa(e)?X(t,null,[e]):X(t,e):X(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&aa(n)&&(n=[n]),X(t,e,n))}const pC="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const mC="http://www.w3.org/2000/svg",vC="http://www.w3.org/1998/Math/MathML",ar=typeof document<"u"?document:null,Rf=ar&&ar.createElement("template"),_C={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?ar.createElementNS(mC,t):e==="mathml"?ar.createElementNS(vC,t):ar.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>ar.createTextNode(t),createComment:t=>ar.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ar.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Rf.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=Rf.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},er="transition",vi="animation",Vi=Symbol("_vtc"),el=(t,{slots:e})=>Bu(Dw,gC(t),e);el.displayName="Transition";const Mv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};el.props=dt({},pv,Mv);const Yr=(t,e=[])=>{de(t)?t.forEach(n=>n(...e)):t&&t(...e)},Nf=t=>t?de(t)?t.some(e=>e.length>1):t.length>1:!1;function gC(t){const e={};for(const I in t)I in Mv||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,m=yC(s),b=m&&m[0],w=m&&m[1],{onBeforeEnter:y,onEnter:k,onEnterCancelled:R,onLeave:P,onLeaveCancelled:N,onBeforeAppear:L=y,onAppear:K=k,onAppearCancelled:W=R}=e,ne=(I,q,me)=>{Br(I,q?u:a),Br(I,q?c:o),me&&me()},te=(I,q)=>{I._isLeaving=!1,Br(I,d),Br(I,h),Br(I,f),q&&q()},oe=I=>(q,me)=>{const se=I?K:k,ce=()=>ne(q,I,me);Yr(se,[q,ce]),Lf(()=>{Br(q,I?l:i),tr(q,I?u:a),Nf(se)||Ff(q,r,b,ce)})};return dt(e,{onBeforeEnter(I){Yr(y,[I]),tr(I,i),tr(I,o)},onBeforeAppear(I){Yr(L,[I]),tr(I,l),tr(I,c)},onEnter:oe(!1),onAppear:oe(!0),onLeave(I,q){I._isLeaving=!0;const me=()=>te(I,q);tr(I,d),CC(),tr(I,f),Lf(()=>{I._isLeaving&&(Br(I,d),tr(I,h),Nf(P)||Ff(I,r,w,me))}),Yr(P,[I,me])},onEnterCancelled(I){ne(I,!1),Yr(R,[I])},onAppearCancelled(I){ne(I,!0),Yr(W,[I])},onLeaveCancelled(I){te(I),Yr(N,[I])}})}function yC(t){if(t==null)return null;if(Be(t))return[Vl(t.enter),Vl(t.leave)];{const e=Vl(t);return[e,e]}}function Vl(t){return Cb(t)}function tr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vi]||(t[Vi]=new Set)).add(e)}function Br(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Vi];n&&(n.delete(e),n.size||(t[Vi]=void 0))}function Lf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let bC=0;function Ff(t,e,n,r){const s=t._endId=++bC,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=wC(t,e);if(!o)return r();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),i()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function wC(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),s=r(`${er}Delay`),i=r(`${er}Duration`),o=Yf(s,i),a=r(`${vi}Delay`),l=r(`${vi}Duration`),c=Yf(a,l);let u=null,d=0,f=0;e===er?o>0&&(u=er,d=o,f=i.length):e===vi?c>0&&(u=vi,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?er:vi:null,f=u?u===er?i.length:l.length:0);const h=u===er&&/\b(transform|all)(,|$)/.test(r(`${er}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function Yf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Bf(n)+Bf(t[r])))}function Bf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function CC(){return document.body.offsetHeight}function EC(t,e,n){const r=t[Vi];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const SC=Symbol("_vod"),DC=Symbol("");function TC(t,e,n){const r=t.style,s=r.display,i=st(n);if(n&&!i){if(e&&!st(e))for(const o in e)n[o]==null&&kc(r,o,"");for(const o in n)kc(r,o,n[o])}else if(i){if(e!==n){const o=r[DC];o&&(n+=";"+o),r.cssText=n}}else e&&t.removeAttribute("style");SC in t&&(r.display=s)}const Wf=/\s*!important$/;function kc(t,e,n){if(de(n))n.forEach(r=>kc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=IC(t,e);Wf.test(n)?t.setProperty(ls(r),n.replace(Wf,""),"important"):t[r]=n}}const Hf=["Webkit","Moz","ms"],zl={};function IC(t,e){const n=zl[e];if(n)return n;let r=kn(e);if(r!=="filter"&&r in t)return zl[e]=r;r=Ha(r);for(let s=0;s<Hf.length;s++){const i=Hf[s]+r;if(i in t)return zl[e]=i}return e}const jf="http://www.w3.org/1999/xlink";function $C(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(jf,e.slice(6,e.length)):t.setAttributeNS(jf,e,n);else{const i=$b(e);n==null||i&&!Nm(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function PC(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Nm(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function zr(t,e,n,r){t.addEventListener(e,n,r)}function kC(t,e,n,r){t.removeEventListener(e,n,r)}const Uf=Symbol("_vei");function AC(t,e,n,r,s=null){const i=t[Uf]||(t[Uf]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=OC(e);if(r){const c=i[e]=RC(r,s);zr(t,a,c,l)}else o&&(kC(t,a,o,l),i[e]=void 0)}}const Vf=/(?:Once|Passive|Capture)$/;function OC(t){let e;if(Vf.test(t)){e={};let r;for(;r=t.match(Vf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ls(t.slice(2)),e]}let Kl=0;const MC=Promise.resolve(),xC=()=>Kl||(MC.then(()=>Kl=0),Kl=Date.now());function RC(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;rn(NC(r,n.value),e,5,[r])};return n.value=t,n.attached=xC(),n}function NC(t,e){if(de(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const zf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,LC=(t,e,n,r,s,i,o,a,l)=>{const c=s==="svg";e==="class"?EC(t,r,c):e==="style"?TC(t,n,r):Ya(e)?bu(e)||AC(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):FC(t,e,r,c))?PC(t,e,r,i,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$C(t,e,r,c))};function FC(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&zf(e)&&ge(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return zf(e)&&st(n)?!1:e in t}const ua=t=>{const e=t.props["onUpdate:modelValue"]||!1;return de(e)?n=>Vo(e,n):e};function YC(t){t.target.composing=!0}function Kf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ps=Symbol("_assign"),ks={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Ps]=ua(s);const i=r||s.props&&s.props.type==="number";zr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=_c(a)),t[Ps](a)}),n&&zr(t,"change",()=>{t.value=t.value.trim()}),e||(zr(t,"compositionstart",YC),zr(t,"compositionend",Kf),zr(t,"change",Kf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[Ps]=ua(i),t.composing)return;const o=s||t.type==="number"?_c(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},BC={deep:!0,created(t,e,n){t[Ps]=ua(n),zr(t,"change",()=>{const r=t._modelValue,s=WC(t),i=t.checked,o=t[Ps];if(de(r)){const a=Lm(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Ba(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(xv(t,i))})},mounted:Gf,beforeUpdate(t,e,n){t[Ps]=ua(n),Gf(t,e,n)}};function Gf(t,{value:e,oldValue:n},r){t._modelValue=e,de(e)?t.checked=Lm(e,r.props.value)>-1:Ba(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=ja(e,xv(t,!0)))}function WC(t){return"_value"in t?t._value:t.value}function xv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const HC=["ctrl","shift","alt","meta"],jC={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>HC.some(n=>t[`${n}Key`]&&!e.includes(n))},zi=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=jC[e[o]];if(a&&a(s,e))return}return t(s,...i)})},UC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qf=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=ls(s.key);if(e.some(o=>o===i||UC[o]===i))return t(s)})},VC=dt({patchProp:LC},_C);let Qf;function zC(){return Qf||(Qf=Qw(VC))}const KC=(...t)=>{const e=zC().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=qC(r);if(!s)return;const i=e._component;!ge(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,GC(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function GC(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function qC(t){return st(t)?document.querySelector(t):t}var QC=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const ZC=Symbol();var Zf;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Zf||(Zf={}));function XC(){const t=kb(!0),e=t.run(()=>Se({}));let n=[],r=[];const s=Pu({install(i){s._a=i,i.provide(ZC,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!QC?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}var Bt="top",ln="bottom",cn="right",Wt="left",Wu="auto",vo=[Bt,ln,cn,Wt],Ls="start",Ki="end",JC="clippingParents",Rv="viewport",_i="popper",e1="reference",Xf=vo.reduce(function(t,e){return t.concat([e+"-"+Ls,e+"-"+Ki])},[]),Nv=[].concat(vo,[Wu]).reduce(function(t,e){return t.concat([e,e+"-"+Ls,e+"-"+Ki])},[]),t1="beforeRead",n1="read",r1="afterRead",s1="beforeMain",i1="main",o1="afterMain",a1="beforeWrite",l1="write",c1="afterWrite",u1=[t1,n1,r1,s1,i1,o1,a1,l1,c1];function An(t){return t?(t.nodeName||"").toLowerCase():null}function Kt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ts(t){var e=Kt(t).Element;return t instanceof e||t instanceof Element}function on(t){var e=Kt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Hu(t){if(typeof ShadowRoot>"u")return!1;var e=Kt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function d1(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!on(i)||!An(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function f1(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!on(s)||!An(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const h1={name:"applyStyles",enabled:!0,phase:"write",fn:d1,effect:f1,requires:["computeStyles"]};function $n(t){return t.split("-")[0]}var Jr=Math.max,da=Math.min,Fs=Math.round;function Ac(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Lv(){return!/^((?!chrome|android).)*safari/i.test(Ac())}function Ys(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&on(t)&&(s=t.offsetWidth>0&&Fs(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Fs(r.height)/t.offsetHeight||1);var o=ts(t)?Kt(t):window,a=o.visualViewport,l=!Lv()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/s,u=(r.top+(l&&a?a.offsetTop:0))/i,d=r.width/s,f=r.height/i;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function ju(t){var e=Ys(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Fv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Hu(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vn(t){return Kt(t).getComputedStyle(t)}function p1(t){return["table","td","th"].indexOf(An(t))>=0}function Or(t){return((ts(t)?t.ownerDocument:t.document)||window.document).documentElement}function tl(t){return An(t)==="html"?t:t.assignedSlot||t.parentNode||(Hu(t)?t.host:null)||Or(t)}function Jf(t){return!on(t)||Vn(t).position==="fixed"?null:t.offsetParent}function m1(t){var e=/firefox/i.test(Ac()),n=/Trident/i.test(Ac());if(n&&on(t)){var r=Vn(t);if(r.position==="fixed")return null}var s=tl(t);for(Hu(s)&&(s=s.host);on(s)&&["html","body"].indexOf(An(s))<0;){var i=Vn(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function _o(t){for(var e=Kt(t),n=Jf(t);n&&p1(n)&&Vn(n).position==="static";)n=Jf(n);return n&&(An(n)==="html"||An(n)==="body"&&Vn(n).position==="static")?e:n||m1(t)||e}function Uu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Mi(t,e,n){return Jr(t,da(e,n))}function v1(t,e,n){var r=Mi(t,e,n);return r>n?n:r}function Yv(){return{top:0,right:0,bottom:0,left:0}}function Bv(t){return Object.assign({},Yv(),t)}function Wv(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var _1=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Bv(typeof e!="number"?e:Wv(e,vo))};function g1(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=$n(n.placement),l=Uu(a),c=[Wt,cn].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!o)){var d=_1(s.padding,n),f=ju(i),h=l==="y"?Bt:Wt,m=l==="y"?ln:cn,b=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],w=o[l]-n.rects.reference[l],y=_o(i),k=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,R=b/2-w/2,P=d[h],N=k-f[u]-d[m],L=k/2-f[u]/2+R,K=Mi(P,L,N),W=l;n.modifiersData[r]=(e={},e[W]=K,e.centerOffset=K-L,e)}}function y1(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||Fv(e.elements.popper,s)&&(e.elements.arrow=s))}const b1={name:"arrow",enabled:!0,phase:"main",fn:g1,effect:y1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bs(t){return t.split("-")[1]}var w1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function C1(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Fs(n*s)/s||0,y:Fs(r*s)/s||0}}function eh(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,m=o.y,b=m===void 0?0:m,w=typeof u=="function"?u({x:h,y:b}):{x:h,y:b};h=w.x,b=w.y;var y=o.hasOwnProperty("x"),k=o.hasOwnProperty("y"),R=Wt,P=Bt,N=window;if(c){var L=_o(n),K="clientHeight",W="clientWidth";if(L===Kt(n)&&(L=Or(n),Vn(L).position!=="static"&&a==="absolute"&&(K="scrollHeight",W="scrollWidth")),L=L,s===Bt||(s===Wt||s===cn)&&i===Ki){P=ln;var ne=d&&L===N&&N.visualViewport?N.visualViewport.height:L[K];b-=ne-r.height,b*=l?1:-1}if(s===Wt||(s===Bt||s===ln)&&i===Ki){R=cn;var te=d&&L===N&&N.visualViewport?N.visualViewport.width:L[W];h-=te-r.width,h*=l?1:-1}}var oe=Object.assign({position:a},c&&w1),I=u===!0?C1({x:h,y:b},Kt(n)):{x:h,y:b};if(h=I.x,b=I.y,l){var q;return Object.assign({},oe,(q={},q[P]=k?"0":"",q[R]=y?"0":"",q.transform=(N.devicePixelRatio||1)<=1?"translate("+h+"px, "+b+"px)":"translate3d("+h+"px, "+b+"px, 0)",q))}return Object.assign({},oe,(e={},e[P]=k?b+"px":"",e[R]=y?h+"px":"",e.transform="",e))}function E1(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:$n(e.placement),variation:Bs(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,eh(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,eh(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const S1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:E1,data:{}};var Lo={passive:!0};function D1(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,l=Kt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,Lo)}),a&&l.addEventListener("resize",n.update,Lo),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Lo)}),a&&l.removeEventListener("resize",n.update,Lo)}}const T1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:D1,data:{}};var I1={left:"right",right:"left",bottom:"top",top:"bottom"};function Qo(t){return t.replace(/left|right|bottom|top/g,function(e){return I1[e]})}var $1={start:"end",end:"start"};function th(t){return t.replace(/start|end/g,function(e){return $1[e]})}function Vu(t){var e=Kt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function zu(t){return Ys(Or(t)).left+Vu(t).scrollLeft}function P1(t,e){var n=Kt(t),r=Or(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;var c=Lv();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a+zu(t),y:l}}function k1(t){var e,n=Or(t),r=Vu(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Jr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Jr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+zu(t),l=-r.scrollTop;return Vn(s||n).direction==="rtl"&&(a+=Jr(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function Ku(t){var e=Vn(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function Hv(t){return["html","body","#document"].indexOf(An(t))>=0?t.ownerDocument.body:on(t)&&Ku(t)?t:Hv(tl(t))}function xi(t,e){var n;e===void 0&&(e=[]);var r=Hv(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=Kt(r),o=s?[i].concat(i.visualViewport||[],Ku(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(xi(tl(o)))}function Oc(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function A1(t,e){var n=Ys(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function nh(t,e,n){return e===Rv?Oc(P1(t,n)):ts(e)?A1(e,n):Oc(k1(Or(t)))}function O1(t){var e=xi(tl(t)),n=["absolute","fixed"].indexOf(Vn(t).position)>=0,r=n&&on(t)?_o(t):t;return ts(r)?e.filter(function(s){return ts(s)&&Fv(s,r)&&An(s)!=="body"}):[]}function M1(t,e,n,r){var s=e==="clippingParents"?O1(t):[].concat(e),i=[].concat(s,[n]),o=i[0],a=i.reduce(function(l,c){var u=nh(t,c,r);return l.top=Jr(u.top,l.top),l.right=da(u.right,l.right),l.bottom=da(u.bottom,l.bottom),l.left=Jr(u.left,l.left),l},nh(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function jv(t){var e=t.reference,n=t.element,r=t.placement,s=r?$n(r):null,i=r?Bs(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(s){case Bt:l={x:o,y:e.y-n.height};break;case ln:l={x:o,y:e.y+e.height};break;case cn:l={x:e.x+e.width,y:a};break;case Wt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?Uu(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Ls:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Ki:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Gi(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?JC:a,c=n.rootBoundary,u=c===void 0?Rv:c,d=n.elementContext,f=d===void 0?_i:d,h=n.altBoundary,m=h===void 0?!1:h,b=n.padding,w=b===void 0?0:b,y=Bv(typeof w!="number"?w:Wv(w,vo)),k=f===_i?e1:_i,R=t.rects.popper,P=t.elements[m?k:f],N=M1(ts(P)?P:P.contextElement||Or(t.elements.popper),l,u,o),L=Ys(t.elements.reference),K=jv({reference:L,element:R,strategy:"absolute",placement:s}),W=Oc(Object.assign({},R,K)),ne=f===_i?W:L,te={top:N.top-ne.top+y.top,bottom:ne.bottom-N.bottom+y.bottom,left:N.left-ne.left+y.left,right:ne.right-N.right+y.right},oe=t.modifiersData.offset;if(f===_i&&oe){var I=oe[s];Object.keys(te).forEach(function(q){var me=[cn,ln].indexOf(q)>=0?1:-1,se=[Bt,ln].indexOf(q)>=0?"y":"x";te[q]+=I[se]*me})}return te}function x1(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Nv:l,u=Bs(r),d=u?a?Xf:Xf.filter(function(m){return Bs(m)===u}):vo,f=d.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=d);var h=f.reduce(function(m,b){return m[b]=Gi(t,{placement:b,boundary:s,rootBoundary:i,padding:o})[$n(b)],m},{});return Object.keys(h).sort(function(m,b){return h[m]-h[b]})}function R1(t){if($n(t)===Wu)return[];var e=Qo(t);return[th(t),e,th(e)]}function N1(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,m=h===void 0?!0:h,b=n.allowedAutoPlacements,w=e.options.placement,y=$n(w),k=y===w,R=l||(k||!m?[Qo(w)]:R1(w)),P=[w].concat(R).reduce(function(Te,Qe){return Te.concat($n(Qe)===Wu?x1(e,{placement:Qe,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:b}):Qe)},[]),N=e.rects.reference,L=e.rects.popper,K=new Map,W=!0,ne=P[0],te=0;te<P.length;te++){var oe=P[te],I=$n(oe),q=Bs(oe)===Ls,me=[Bt,ln].indexOf(I)>=0,se=me?"width":"height",ce=Gi(e,{placement:oe,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),ae=me?q?cn:Wt:q?ln:Bt;N[se]>L[se]&&(ae=Qo(ae));var fe=Qo(ae),ke=[];if(i&&ke.push(ce[I]<=0),a&&ke.push(ce[ae]<=0,ce[fe]<=0),ke.every(function(Te){return Te})){ne=oe,W=!1;break}K.set(oe,ke)}if(W)for(var Y=m?3:1,ve=function(Qe){var Ae=P.find(function(E){var z=K.get(E);if(z)return z.slice(0,Qe).every(function(V){return V})});if(Ae)return ne=Ae,"break"},J=Y;J>0;J--){var We=ve(J);if(We==="break")break}e.placement!==ne&&(e.modifiersData[r]._skip=!0,e.placement=ne,e.reset=!0)}}const L1={name:"flip",enabled:!0,phase:"main",fn:N1,requiresIfExists:["offset"],data:{_skip:!1}};function rh(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function sh(t){return[Bt,cn,ln,Wt].some(function(e){return t[e]>=0})}function F1(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=Gi(e,{elementContext:"reference"}),a=Gi(e,{altBoundary:!0}),l=rh(o,r),c=rh(a,s,i),u=sh(l),d=sh(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Y1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:F1};function B1(t,e,n){var r=$n(t),s=[Wt,Bt].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[Wt,cn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function W1(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=Nv.reduce(function(u,d){return u[d]=B1(d,e.rects,i),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const H1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:W1};function j1(t){var e=t.state,n=t.name;e.modifiersData[n]=jv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const U1={name:"popperOffsets",enabled:!0,phase:"read",fn:j1,data:{}};function V1(t){return t==="x"?"y":"x"}function z1(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,m=n.tetherOffset,b=m===void 0?0:m,w=Gi(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=$n(e.placement),k=Bs(e.placement),R=!k,P=Uu(y),N=V1(P),L=e.modifiersData.popperOffsets,K=e.rects.reference,W=e.rects.popper,ne=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,te=typeof ne=="number"?{mainAxis:ne,altAxis:ne}:Object.assign({mainAxis:0,altAxis:0},ne),oe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(L){if(i){var q,me=P==="y"?Bt:Wt,se=P==="y"?ln:cn,ce=P==="y"?"height":"width",ae=L[P],fe=ae+w[me],ke=ae-w[se],Y=h?-W[ce]/2:0,ve=k===Ls?K[ce]:W[ce],J=k===Ls?-W[ce]:-K[ce],We=e.elements.arrow,Te=h&&We?ju(We):{width:0,height:0},Qe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Yv(),Ae=Qe[me],E=Qe[se],z=Mi(0,K[ce],Te[ce]),V=R?K[ce]/2-Y-z-Ae-te.mainAxis:ve-z-Ae-te.mainAxis,ee=R?-K[ce]/2+Y+z+E+te.mainAxis:J+z+E+te.mainAxis,ye=e.elements.arrow&&_o(e.elements.arrow),Ie=ye?P==="y"?ye.clientTop||0:ye.clientLeft||0:0,p=(q=oe==null?void 0:oe[P])!=null?q:0,g=ae+V-p-Ie,C=ae+ee-p,T=Mi(h?da(fe,g):fe,ae,h?Jr(ke,C):ke);L[P]=T,I[P]=T-ae}if(a){var D,H=P==="x"?Bt:Wt,G=P==="x"?ln:cn,F=L[N],U=N==="y"?"height":"width",x=F+w[H],Q=F-w[G],ie=[Bt,Wt].indexOf(y)!==-1,re=(D=oe==null?void 0:oe[N])!=null?D:0,ue=ie?x:F-K[U]-W[U]-re+te.altAxis,_e=ie?F+K[U]+W[U]-re-te.altAxis:Q,$e=h&&ie?v1(ue,F,_e):Mi(h?ue:x,F,h?_e:Q);L[N]=$e,I[N]=$e-F}e.modifiersData[r]=I}}const K1={name:"preventOverflow",enabled:!0,phase:"main",fn:z1,requiresIfExists:["offset"]};function G1(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function q1(t){return t===Kt(t)||!on(t)?Vu(t):G1(t)}function Q1(t){var e=t.getBoundingClientRect(),n=Fs(e.width)/t.offsetWidth||1,r=Fs(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Z1(t,e,n){n===void 0&&(n=!1);var r=on(e),s=on(e)&&Q1(e),i=Or(e),o=Ys(t,s,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((An(e)!=="body"||Ku(i))&&(a=q1(e)),on(e)?(l=Ys(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=zu(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function X1(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&s(l)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function J1(t){var e=X1(t);return u1.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function e0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function t0(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var ih={placement:"bottom",modifiers:[],strategy:"absolute"};function oh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function n0(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?ih:s;return function(a,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ih,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(y){var k=typeof y=="function"?y(u.options):y;b(),u.options=Object.assign({},i,u.options,k),u.scrollParents={reference:ts(a)?xi(a):a.contextElement?xi(a.contextElement):[],popper:xi(l)};var R=J1(t0([].concat(r,u.options.modifiers)));return u.orderedModifiers=R.filter(function(P){return P.enabled}),m(),h.update()},forceUpdate:function(){if(!f){var y=u.elements,k=y.reference,R=y.popper;if(oh(k,R)){u.rects={reference:Z1(k,_o(R),u.options.strategy==="fixed"),popper:ju(R)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(te){return u.modifiersData[te.name]=Object.assign({},te.data)});for(var P=0;P<u.orderedModifiers.length;P++){if(u.reset===!0){u.reset=!1,P=-1;continue}var N=u.orderedModifiers[P],L=N.fn,K=N.options,W=K===void 0?{}:K,ne=N.name;typeof L=="function"&&(u=L({state:u,options:W,name:ne,instance:h})||u)}}}},update:e0(function(){return new Promise(function(w){h.forceUpdate(),w(u)})}),destroy:function(){b(),f=!0}};if(!oh(a,l))return h;h.setOptions(c).then(function(w){!f&&c.onFirstUpdate&&c.onFirstUpdate(w)});function m(){u.orderedModifiers.forEach(function(w){var y=w.name,k=w.options,R=k===void 0?{}:k,P=w.effect;if(typeof P=="function"){var N=P({state:u,name:y,instance:h,options:R}),L=function(){};d.push(N||L)}})}function b(){d.forEach(function(w){return w()}),d=[]}return h}}var r0=[T1,U1,S1,h1,H1,L1,K1,b1,Y1],s0=n0({defaultModifiers:r0}),i0=Object.defineProperty,o0=(t,e,n)=>e in t?i0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,le=(t,e,n)=>(o0(t,typeof e!="symbol"?e+"":e,n),n),Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a0=Object.prototype,l0=a0.hasOwnProperty;function c0(t,e){return t!=null&&l0.call(t,e)}var u0=c0,d0=Array.isArray,bn=d0,f0=typeof Fo=="object"&&Fo&&Fo.Object===Object&&Fo,Vv=f0,h0=Vv,p0=typeof self=="object"&&self&&self.Object===Object&&self,m0=h0||p0||Function("return this")(),xn=m0,v0=xn,_0=v0.Symbol,nl=_0,ah=nl,zv=Object.prototype,g0=zv.hasOwnProperty,y0=zv.toString,gi=ah?ah.toStringTag:void 0;function b0(t){var e=g0.call(t,gi),n=t[gi];try{t[gi]=void 0;var r=!0}catch{}var s=y0.call(t);return r&&(e?t[gi]=n:delete t[gi]),s}var w0=b0,C0=Object.prototype,E0=C0.toString;function S0(t){return E0.call(t)}var D0=S0,lh=nl,T0=w0,I0=D0,$0="[object Null]",P0="[object Undefined]",ch=lh?lh.toStringTag:void 0;function k0(t){return t==null?t===void 0?P0:$0:ch&&ch in Object(t)?T0(t):I0(t)}var Rn=k0;function A0(t){return t!=null&&typeof t=="object"}var wn=A0,O0=Rn,M0=wn,x0="[object Symbol]";function R0(t){return typeof t=="symbol"||M0(t)&&O0(t)==x0}var Gu=R0,N0=bn,L0=Gu,F0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y0=/^\w*$/;function B0(t,e){if(N0(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||L0(t)?!0:Y0.test(t)||!F0.test(t)||e!=null&&t in Object(e)}var qu=B0;function W0(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Zn=W0,H0=Rn,j0=Zn,U0="[object AsyncFunction]",V0="[object Function]",z0="[object GeneratorFunction]",K0="[object Proxy]";function G0(t){if(!j0(t))return!1;var e=H0(t);return e==V0||e==z0||e==U0||e==K0}var fs=G0,q0=xn,Q0=q0["__core-js_shared__"],Z0=Q0,Gl=Z0,uh=function(){var t=/[^.]+$/.exec(Gl&&Gl.keys&&Gl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function X0(t){return!!uh&&uh in t}var J0=X0,eE=Function.prototype,tE=eE.toString;function nE(t){if(t!=null){try{return tE.call(t)}catch{}try{return t+""}catch{}}return""}var Kv=nE,rE=fs,sE=J0,iE=Zn,oE=Kv,aE=/[\\^$.*+?()[\]{}|]/g,lE=/^\[object .+?Constructor\]$/,cE=Function.prototype,uE=Object.prototype,dE=cE.toString,fE=uE.hasOwnProperty,hE=RegExp("^"+dE.call(fE).replace(aE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pE(t){if(!iE(t)||sE(t))return!1;var e=rE(t)?hE:lE;return e.test(oE(t))}var mE=pE;function vE(t,e){return t==null?void 0:t[e]}var _E=vE,gE=mE,yE=_E;function bE(t,e){var n=yE(t,e);return gE(n)?n:void 0}var hs=bE,wE=hs,CE=wE(Object,"create"),rl=CE,dh=rl;function EE(){this.__data__=dh?dh(null):{},this.size=0}var SE=EE;function DE(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var TE=DE,IE=rl,$E="__lodash_hash_undefined__",PE=Object.prototype,kE=PE.hasOwnProperty;function AE(t){var e=this.__data__;if(IE){var n=e[t];return n===$E?void 0:n}return kE.call(e,t)?e[t]:void 0}var OE=AE,ME=rl,xE=Object.prototype,RE=xE.hasOwnProperty;function NE(t){var e=this.__data__;return ME?e[t]!==void 0:RE.call(e,t)}var LE=NE,FE=rl,YE="__lodash_hash_undefined__";function BE(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=FE&&e===void 0?YE:e,this}var WE=BE,HE=SE,jE=TE,UE=OE,VE=LE,zE=WE;function Js(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Js.prototype.clear=HE;Js.prototype.delete=jE;Js.prototype.get=UE;Js.prototype.has=VE;Js.prototype.set=zE;var KE=Js;function GE(){this.__data__=[],this.size=0}var qE=GE;function QE(t,e){return t===e||t!==t&&e!==e}var ei=QE,ZE=ei;function XE(t,e){for(var n=t.length;n--;)if(ZE(t[n][0],e))return n;return-1}var sl=XE,JE=sl,eS=Array.prototype,tS=eS.splice;function nS(t){var e=this.__data__,n=JE(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():tS.call(e,n,1),--this.size,!0}var rS=nS,sS=sl;function iS(t){var e=this.__data__,n=sS(e,t);return n<0?void 0:e[n][1]}var oS=iS,aS=sl;function lS(t){return aS(this.__data__,t)>-1}var cS=lS,uS=sl;function dS(t,e){var n=this.__data__,r=uS(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var fS=dS,hS=qE,pS=rS,mS=oS,vS=cS,_S=fS;function ti(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ti.prototype.clear=hS;ti.prototype.delete=pS;ti.prototype.get=mS;ti.prototype.has=vS;ti.prototype.set=_S;var il=ti,gS=hs,yS=xn,bS=gS(yS,"Map"),Qu=bS,fh=KE,wS=il,CS=Qu;function ES(){this.size=0,this.__data__={hash:new fh,map:new(CS||wS),string:new fh}}var SS=ES;function DS(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var TS=DS,IS=TS;function $S(t,e){var n=t.__data__;return IS(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ol=$S,PS=ol;function kS(t){var e=PS(this,t).delete(t);return this.size-=e?1:0,e}var AS=kS,OS=ol;function MS(t){return OS(this,t).get(t)}var xS=MS,RS=ol;function NS(t){return RS(this,t).has(t)}var LS=NS,FS=ol;function YS(t,e){var n=FS(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var BS=YS,WS=SS,HS=AS,jS=xS,US=LS,VS=BS;function ni(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ni.prototype.clear=WS;ni.prototype.delete=HS;ni.prototype.get=jS;ni.prototype.has=US;ni.prototype.set=VS;var Zu=ni,Gv=Zu,zS="Expected a function";function Xu(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zS);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(Xu.Cache||Gv),n}Xu.Cache=Gv;var KS=Xu,GS=KS,qS=500;function QS(t){var e=GS(t,function(r){return n.size===qS&&n.clear(),r}),n=e.cache;return e}var ZS=QS,XS=ZS,JS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eD=/\\(\\)?/g,tD=XS(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(JS,function(n,r,s,i){e.push(s?i.replace(eD,"$1"):r||n)}),e}),nD=tD;function rD(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var sD=rD,hh=nl,iD=sD,oD=bn,aD=Gu,lD=1/0,ph=hh?hh.prototype:void 0,mh=ph?ph.toString:void 0;function qv(t){if(typeof t=="string")return t;if(oD(t))return iD(t,qv)+"";if(aD(t))return mh?mh.call(t):"";var e=t+"";return e=="0"&&1/t==-lD?"-0":e}var cD=qv,uD=cD;function dD(t){return t==null?"":uD(t)}var fD=dD,hD=bn,pD=qu,mD=nD,vD=fD;function _D(t,e){return hD(t)?t:pD(t,e)?[t]:mD(vD(t))}var Qv=_D,gD=Rn,yD=wn,bD="[object Arguments]";function wD(t){return yD(t)&&gD(t)==bD}var CD=wD,vh=CD,ED=wn,Zv=Object.prototype,SD=Zv.hasOwnProperty,DD=Zv.propertyIsEnumerable,TD=vh(function(){return arguments}())?vh:function(t){return ED(t)&&SD.call(t,"callee")&&!DD.call(t,"callee")},Ju=TD,ID=9007199254740991,$D=/^(?:0|[1-9]\d*)$/;function PD(t,e){var n=typeof t;return e=e??ID,!!e&&(n=="number"||n!="symbol"&&$D.test(t))&&t>-1&&t%1==0&&t<e}var ed=PD,kD=9007199254740991;function AD(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kD}var td=AD,OD=Gu,MD=1/0;function xD(t){if(typeof t=="string"||OD(t))return t;var e=t+"";return e=="0"&&1/t==-MD?"-0":e}var al=xD,RD=Qv,ND=Ju,LD=bn,FD=ed,YD=td,BD=al;function WD(t,e,n){e=RD(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var o=BD(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&YD(s)&&FD(o,s)&&(LD(t)||ND(t)))}var Xv=WD,HD=u0,jD=Xv;function UD(t,e){return t!=null&&jD(t,e,HD)}var Jv=UD,VD=Rn,zD=wn,KD="[object Date]";function GD(t){return zD(t)&&VD(t)==KD}var qD=GD;function QD(t){return function(e){return t(e)}}var e_=QD,qi={},ZD={get exports(){return qi},set exports(t){qi=t}};(function(t,e){var n=Vv,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,a=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(ZD,qi);var XD=qD,JD=e_,_h=qi,gh=_h&&_h.isDate,eT=gh?JD(gh):XD,tT=eT,nT=Rn,rT=bn,sT=wn,iT="[object String]";function oT(t){return typeof t=="string"||!rT(t)&&sT(t)&&nT(t)==iT}var Tn=oT;function aT(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var t_=aT,lT=il;function cT(){this.__data__=new lT,this.size=0}var uT=cT;function dT(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var fT=dT;function hT(t){return this.__data__.get(t)}var pT=hT;function mT(t){return this.__data__.has(t)}var vT=mT,_T=il,gT=Qu,yT=Zu,bT=200;function wT(t,e){var n=this.__data__;if(n instanceof _T){var r=n.__data__;if(!gT||r.length<bT-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yT(r)}return n.set(t,e),this.size=n.size,this}var CT=wT,ET=il,ST=uT,DT=fT,TT=pT,IT=vT,$T=CT;function ri(t){var e=this.__data__=new ET(t);this.size=e.size}ri.prototype.clear=ST;ri.prototype.delete=DT;ri.prototype.get=TT;ri.prototype.has=IT;ri.prototype.set=$T;var nd=ri,PT="__lodash_hash_undefined__";function kT(t){return this.__data__.set(t,PT),this}var AT=kT;function OT(t){return this.__data__.has(t)}var MT=OT,xT=Zu,RT=AT,NT=MT;function fa(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new xT;++e<n;)this.add(t[e])}fa.prototype.add=fa.prototype.push=RT;fa.prototype.has=NT;var LT=fa;function FT(t,e){return t.has(e)}var YT=FT,BT=LT,WT=t_,HT=YT,jT=1,UT=2;function VT(t,e,n,r,s,i){var o=n&jT,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&UT?new BT:void 0;for(i.set(t,e),i.set(e,t);++d<a;){var m=t[d],b=e[d];if(r)var w=o?r(b,m,d,e,t,i):r(m,b,d,t,e,i);if(w!==void 0){if(w)continue;f=!1;break}if(h){if(!WT(e,function(y,k){if(!HT(h,k)&&(m===y||s(m,y,n,r,i)))return h.push(k)})){f=!1;break}}else if(!(m===b||s(m,b,n,r,i))){f=!1;break}}return i.delete(t),i.delete(e),f}var n_=VT,zT=xn,KT=zT.Uint8Array,r_=KT;function GT(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var qT=GT;function QT(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ZT=QT,yh=nl,bh=r_,XT=ei,JT=n_,eI=qT,tI=ZT,nI=1,rI=2,sI="[object Boolean]",iI="[object Date]",oI="[object Error]",aI="[object Map]",lI="[object Number]",cI="[object RegExp]",uI="[object Set]",dI="[object String]",fI="[object Symbol]",hI="[object ArrayBuffer]",pI="[object DataView]",wh=yh?yh.prototype:void 0,ql=wh?wh.valueOf:void 0;function mI(t,e,n,r,s,i,o){switch(n){case pI:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case hI:return!(t.byteLength!=e.byteLength||!i(new bh(t),new bh(e)));case sI:case iI:case lI:return XT(+t,+e);case oI:return t.name==e.name&&t.message==e.message;case cI:case dI:return t==e+"";case aI:var a=eI;case uI:var l=r&nI;if(a||(a=tI),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=rI,o.set(t,e);var u=JT(a(t),a(e),r,s,i,o);return o.delete(t),u;case fI:if(ql)return ql.call(t)==ql.call(e)}return!1}var vI=mI;function _I(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var gI=_I,yI=gI,bI=bn;function wI(t,e,n){var r=e(t);return bI(t)?r:yI(r,n(t))}var CI=wI;function EI(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}var SI=EI;function DI(){return[]}var TI=DI,II=SI,$I=TI,PI=Object.prototype,kI=PI.propertyIsEnumerable,Ch=Object.getOwnPropertySymbols,AI=Ch?function(t){return t==null?[]:(t=Object(t),II(Ch(t),function(e){return kI.call(t,e)}))}:$I,OI=AI;function MI(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var xI=MI,Ws={},RI={get exports(){return Ws},set exports(t){Ws=t}};function NI(){return!1}var LI=NI;(function(t,e){var n=xn,r=LI,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(RI,Ws);var FI=Rn,YI=td,BI=wn,WI="[object Arguments]",HI="[object Array]",jI="[object Boolean]",UI="[object Date]",VI="[object Error]",zI="[object Function]",KI="[object Map]",GI="[object Number]",qI="[object Object]",QI="[object RegExp]",ZI="[object Set]",XI="[object String]",JI="[object WeakMap]",e$="[object ArrayBuffer]",t$="[object DataView]",n$="[object Float32Array]",r$="[object Float64Array]",s$="[object Int8Array]",i$="[object Int16Array]",o$="[object Int32Array]",a$="[object Uint8Array]",l$="[object Uint8ClampedArray]",c$="[object Uint16Array]",u$="[object Uint32Array]",Ze={};Ze[n$]=Ze[r$]=Ze[s$]=Ze[i$]=Ze[o$]=Ze[a$]=Ze[l$]=Ze[c$]=Ze[u$]=!0;Ze[WI]=Ze[HI]=Ze[e$]=Ze[jI]=Ze[t$]=Ze[UI]=Ze[VI]=Ze[zI]=Ze[KI]=Ze[GI]=Ze[qI]=Ze[QI]=Ze[ZI]=Ze[XI]=Ze[JI]=!1;function d$(t){return BI(t)&&YI(t.length)&&!!Ze[FI(t)]}var f$=d$,h$=f$,p$=e_,Eh=qi,Sh=Eh&&Eh.isTypedArray,m$=Sh?p$(Sh):h$,rd=m$,v$=xI,_$=Ju,g$=bn,y$=Ws,b$=ed,w$=rd,C$=Object.prototype,E$=C$.hasOwnProperty;function S$(t,e){var n=g$(t),r=!n&&_$(t),s=!n&&!r&&y$(t),i=!n&&!r&&!s&&w$(t),o=n||r||s||i,a=o?v$(t.length,String):[],l=a.length;for(var c in t)(e||E$.call(t,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||b$(c,l)))&&a.push(c);return a}var s_=S$,D$=Object.prototype;function T$(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||D$;return t===n}var sd=T$;function I$(t,e){return function(n){return t(e(n))}}var i_=I$,$$=i_,P$=$$(Object.keys,Object),k$=P$,A$=sd,O$=k$,M$=Object.prototype,x$=M$.hasOwnProperty;function R$(t){if(!A$(t))return O$(t);var e=[];for(var n in Object(t))x$.call(t,n)&&n!="constructor"&&e.push(n);return e}var N$=R$,L$=fs,F$=td;function Y$(t){return t!=null&&F$(t.length)&&!L$(t)}var go=Y$,B$=s_,W$=N$,H$=go;function j$(t){return H$(t)?B$(t):W$(t)}var id=j$,U$=CI,V$=OI,z$=id;function K$(t){return U$(t,z$,V$)}var G$=K$,Dh=G$,q$=1,Q$=Object.prototype,Z$=Q$.hasOwnProperty;function X$(t,e,n,r,s,i){var o=n&q$,a=Dh(t),l=a.length,c=Dh(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:Z$.call(e,f)))return!1}var h=i.get(t),m=i.get(e);if(h&&m)return h==e&&m==t;var b=!0;i.set(t,e),i.set(e,t);for(var w=o;++d<l;){f=a[d];var y=t[f],k=e[f];if(r)var R=o?r(k,y,f,e,t,i):r(y,k,f,t,e,i);if(!(R===void 0?y===k||s(y,k,n,r,i):R)){b=!1;break}w||(w=f=="constructor")}if(b&&!w){var P=t.constructor,N=e.constructor;P!=N&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof N=="function"&&N instanceof N)&&(b=!1)}return i.delete(t),i.delete(e),b}var J$=X$,eP=hs,tP=xn,nP=eP(tP,"DataView"),rP=nP,sP=hs,iP=xn,oP=sP(iP,"Promise"),aP=oP,lP=hs,cP=xn,uP=lP(cP,"Set"),dP=uP,fP=hs,hP=xn,pP=fP(hP,"WeakMap"),mP=pP,Mc=rP,xc=Qu,Rc=aP,Nc=dP,Lc=mP,o_=Rn,si=Kv,Th="[object Map]",vP="[object Object]",Ih="[object Promise]",$h="[object Set]",Ph="[object WeakMap]",kh="[object DataView]",_P=si(Mc),gP=si(xc),yP=si(Rc),bP=si(Nc),wP=si(Lc),Wr=o_;(Mc&&Wr(new Mc(new ArrayBuffer(1)))!=kh||xc&&Wr(new xc)!=Th||Rc&&Wr(Rc.resolve())!=Ih||Nc&&Wr(new Nc)!=$h||Lc&&Wr(new Lc)!=Ph)&&(Wr=function(t){var e=o_(t),n=e==vP?t.constructor:void 0,r=n?si(n):"";if(r)switch(r){case _P:return kh;case gP:return Th;case yP:return Ih;case bP:return $h;case wP:return Ph}return e});var CP=Wr,Ql=nd,EP=n_,SP=vI,DP=J$,Ah=CP,Oh=bn,Mh=Ws,TP=rd,IP=1,xh="[object Arguments]",Rh="[object Array]",Yo="[object Object]",$P=Object.prototype,Nh=$P.hasOwnProperty;function PP(t,e,n,r,s,i){var o=Oh(t),a=Oh(e),l=o?Rh:Ah(t),c=a?Rh:Ah(e);l=l==xh?Yo:l,c=c==xh?Yo:c;var u=l==Yo,d=c==Yo,f=l==c;if(f&&Mh(t)){if(!Mh(e))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new Ql),o||TP(t)?EP(t,e,n,r,s,i):SP(t,e,l,n,r,s,i);if(!(n&IP)){var h=u&&Nh.call(t,"__wrapped__"),m=d&&Nh.call(e,"__wrapped__");if(h||m){var b=h?t.value():t,w=m?e.value():e;return i||(i=new Ql),s(b,w,n,r,i)}}return f?(i||(i=new Ql),DP(t,e,n,r,s,i)):!1}var kP=PP,AP=kP,Lh=wn;function a_(t,e,n,r,s){return t===e?!0:t==null||e==null||!Lh(t)&&!Lh(e)?t!==t&&e!==e:AP(t,e,n,r,a_,s)}var l_=a_,OP=nd,MP=l_,xP=1,RP=2;function NP(t,e,n,r){var s=n.length,i=s,o=!r;if(t==null)return!i;for(t=Object(t);s--;){var a=n[s];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++s<i;){a=n[s];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new OP;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?MP(u,c,xP|RP,r,d):f))return!1}}return!0}var LP=NP,FP=Zn;function YP(t){return t===t&&!FP(t)}var c_=YP,BP=c_,WP=id;function HP(t){for(var e=WP(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,BP(s)]}return e}var jP=HP;function UP(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var u_=UP,VP=LP,zP=jP,KP=u_;function GP(t){var e=zP(t);return e.length==1&&e[0][2]?KP(e[0][0],e[0][1]):function(n){return n===t||VP(n,t,e)}}var qP=GP,QP=Qv,ZP=al;function XP(t,e){e=QP(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ZP(e[n++])];return n&&n==r?t:void 0}var d_=XP,JP=d_;function ek(t,e,n){var r=t==null?void 0:JP(t,e);return r===void 0?n:r}var qr=ek;function tk(t,e){return t!=null&&e in Object(t)}var nk=tk,rk=nk,sk=Xv;function ik(t,e){return t!=null&&sk(t,e,rk)}var ok=ik,ak=l_,lk=qr,ck=ok,uk=qu,dk=c_,fk=u_,hk=al,pk=1,mk=2;function vk(t,e){return uk(t)&&dk(e)?fk(hk(t),e):function(n){var r=lk(n,t);return r===void 0&&r===e?ck(n,t):ak(e,r,pk|mk)}}var _k=vk;function gk(t){return t}var od=gk;function yk(t){return function(e){return e==null?void 0:e[t]}}var bk=yk,wk=d_;function Ck(t){return function(e){return wk(e,t)}}var Ek=Ck,Sk=bk,Dk=Ek,Tk=qu,Ik=al;function $k(t){return Tk(t)?Sk(Ik(t)):Dk(t)}var Pk=$k,kk=qP,Ak=_k,Ok=od,Mk=bn,xk=Pk;function Rk(t){return typeof t=="function"?t:t==null?Ok:typeof t=="object"?Mk(t)?Ak(t[0],t[1]):kk(t):xk(t)}var f_=Rk;function Nk(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++s];if(n(i[l],l,i)===!1)break}return e}}var Lk=Nk,Fk=Lk,Yk=Fk(),h_=Yk,Bk=h_,Wk=id;function Hk(t,e){return t&&Bk(t,e,Wk)}var p_=Hk,jk=go;function Uk(t,e){return function(n,r){if(n==null)return n;if(!jk(n))return t(n,r);for(var s=n.length,i=e?s:-1,o=Object(n);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var Vk=Uk,zk=p_,Kk=Vk,Gk=Kk(zk),qk=Gk,Qk=qk;function Zk(t,e){var n;return Qk(t,function(r,s,i){return n=e(r,s,i),!n}),!!n}var Xk=Zk,Jk=ei,eA=go,tA=ed,nA=Zn;function rA(t,e,n){if(!nA(n))return!1;var r=typeof e;return(r=="number"?eA(n)&&tA(e,n.length):r=="string"&&e in n)?Jk(n[e],t):!1}var ad=rA,sA=t_,iA=f_,oA=Xk,aA=bn,lA=ad;function cA(t,e,n){var r=aA(t)?sA:oA;return n&&lA(t,e,n)&&(e=void 0),r(t,iA(e))}var uA=cA,dA=Rn,fA=wn,hA="[object Boolean]";function pA(t){return t===!0||t===!1||fA(t)&&dA(t)==hA}var mA=pA,vA=Rn,_A=wn,gA="[object Number]";function yA(t){return typeof t=="number"||_A(t)&&vA(t)==gA}var gn=yA,bA=hs,wA=function(){try{var t=bA(Object,"defineProperty");return t({},"",{}),t}catch{}}(),m_=wA,Fh=m_;function CA(t,e,n){e=="__proto__"&&Fh?Fh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ll=CA,EA=ll,SA=ei,DA=Object.prototype,TA=DA.hasOwnProperty;function IA(t,e,n){var r=t[e];(!(TA.call(t,e)&&SA(r,n))||n===void 0&&!(e in t))&&EA(t,e,n)}var $A=IA,PA=ll,kA=p_,AA=f_;function OA(t,e){var n={};return e=AA(e),kA(t,function(r,s,i){PA(n,s,e(r,s,i))}),n}var MA=OA;function xA(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var v_=xA,RA=v_,Yh=Math.max;function NA(t,e,n){return e=Yh(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=Yh(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=r[s];return a[e]=n(o),RA(t,this,a)}}var LA=NA;function FA(t){return function(){return t}}var YA=FA,BA=YA,Bh=m_,WA=od,HA=Bh?function(t,e){return Bh(t,"toString",{configurable:!0,enumerable:!1,value:BA(e),writable:!0})}:WA,jA=HA,UA=800,VA=16,zA=Date.now;function KA(t){var e=0,n=0;return function(){var r=zA(),s=VA-(r-n);if(n=r,s>0){if(++e>=UA)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var GA=KA,qA=jA,QA=GA,ZA=QA(qA),XA=ZA,JA=od,eO=LA,tO=XA;function nO(t,e){return tO(eO(t,e,JA),t+"")}var ld=nO;function rO(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var sO=rO,iO=Zn,oO=sd,aO=sO,lO=Object.prototype,cO=lO.hasOwnProperty;function uO(t){if(!iO(t))return aO(t);var e=oO(t),n=[];for(var r in t)r=="constructor"&&(e||!cO.call(t,r))||n.push(r);return n}var dO=uO,fO=s_,hO=dO,pO=go;function mO(t){return pO(t)?fO(t,!0):hO(t)}var cd=mO,vO=ld,_O=ei,gO=ad,yO=cd,__=Object.prototype,bO=__.hasOwnProperty,wO=vO(function(t,e){t=Object(t);var n=-1,r=e.length,s=r>2?e[2]:void 0;for(s&&gO(e[0],e[1],s)&&(r=1);++n<r;)for(var i=e[n],o=yO(i),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||_O(u,__[c])&&!bO.call(t,c))&&(t[c]=i[c])}return t}),Wh=wO,CO=ll,EO=ei;function SO(t,e,n){(n!==void 0&&!EO(t[e],n)||n===void 0&&!(e in t))&&CO(t,e,n)}var g_=SO,ha={},DO={get exports(){return ha},set exports(t){ha=t}};(function(t,e){var n=xn,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}t.exports=l})(DO,ha);var Hh=r_;function TO(t){var e=new t.constructor(t.byteLength);return new Hh(e).set(new Hh(t)),e}var IO=TO,$O=IO;function PO(t,e){var n=e?$O(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var kO=PO;function AO(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var OO=AO,MO=Zn,jh=Object.create,xO=function(){function t(){}return function(e){if(!MO(e))return{};if(jh)return jh(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),RO=xO,NO=i_,LO=NO(Object.getPrototypeOf,Object),y_=LO,FO=RO,YO=y_,BO=sd;function WO(t){return typeof t.constructor=="function"&&!BO(t)?FO(YO(t)):{}}var HO=WO,jO=go,UO=wn;function VO(t){return UO(t)&&jO(t)}var zO=VO,KO=Rn,GO=y_,qO=wn,QO="[object Object]",ZO=Function.prototype,XO=Object.prototype,b_=ZO.toString,JO=XO.hasOwnProperty,eM=b_.call(Object);function tM(t){if(!qO(t)||KO(t)!=QO)return!1;var e=GO(t);if(e===null)return!0;var n=JO.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&b_.call(n)==eM}var nM=tM;function rM(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var w_=rM,sM=$A,iM=ll;function oM(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),s?iM(n,a,l):sM(n,a,l)}return n}var aM=oM,lM=aM,cM=cd;function uM(t){return lM(t,cM(t))}var dM=uM,Uh=g_,fM=ha,hM=kO,pM=OO,mM=HO,Vh=Ju,zh=bn,vM=zO,_M=Ws,gM=fs,yM=Zn,bM=nM,wM=rd,Kh=w_,CM=dM;function EM(t,e,n,r,s,i,o){var a=Kh(t,n),l=Kh(e,n),c=o.get(l);if(c){Uh(t,n,c);return}var u=i?i(a,l,n+"",t,e,o):void 0,d=u===void 0;if(d){var f=zh(l),h=!f&&_M(l),m=!f&&!h&&wM(l);u=l,f||h||m?zh(a)?u=a:vM(a)?u=pM(a):h?(d=!1,u=fM(l,!0)):m?(d=!1,u=hM(l,!0)):u=[]:bM(l)||Vh(l)?(u=a,Vh(a)?u=CM(a):(!yM(a)||gM(a))&&(u=mM(l))):d=!1}d&&(o.set(l,u),s(u,l,r,i,o),o.delete(l)),Uh(t,n,u)}var SM=EM,DM=nd,TM=g_,IM=h_,$M=SM,PM=Zn,kM=cd,AM=w_;function C_(t,e,n,r,s){t!==e&&IM(e,function(i,o){if(s||(s=new DM),PM(i))$M(t,e,o,n,C_,r,s);else{var a=r?r(AM(t,o),i,o+"",t,e,s):void 0;a===void 0&&(a=i),TM(t,o,a)}},kM)}var E_=C_,OM=E_,Gh=Zn;function S_(t,e,n,r,s,i){return Gh(t)&&Gh(e)&&(i.set(e,t),OM(t,e,void 0,S_,i),i.delete(e)),t}var MM=S_,xM=ld,RM=ad;function NM(t){return xM(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,o&&RM(n[0],n[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var a=n[r];a&&t(e,a,r,i)}return e})}var LM=NM,FM=E_,YM=LM,BM=YM(function(t,e,n,r){FM(t,e,n,r)}),WM=BM,HM=v_,jM=ld,UM=MM,VM=WM,zM=jM(function(t){return t.push(void 0,UM),HM(VM,void 0,t)}),Hs=zM;function KM(t){return t&&t.length?t[0]:void 0}var D_=KM;function GM(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Ss=GM;const qM=t=>Object.prototype.toString.call(t).slice(8,-1),As=t=>tT(t)&&!isNaN(t.getTime()),zn=t=>qM(t)==="Object",T_=Jv,qh=(t,e)=>uA(e,n=>Jv(t,n)),Ye=(t,e,n="0")=>{for(t=t!=null?String(t):"",e=e||2;t.length<e;)t=`${n}${t}`;return t},an=t=>Array.isArray(t),Yn=t=>an(t)&&t.length>0,pa=t=>t==null?null:document&&Tn(t)?document.querySelector(t):t.$el??t,cr=(t,e,n,r=void 0)=>{t.removeEventListener(e,n,r)},ur=(t,e,n,r=void 0)=>(t.addEventListener(e,n,r),()=>cr(t,e,n,r)),Zo=(t,e)=>!!t&&!!e&&(t===e||t.contains(e)),Bo=(t,e)=>{(t.key===" "||t.key==="Enter")&&(e(t),t.preventDefault())},I_=(t,...e)=>{const n={};let r;for(r in t)e.includes(r)||(n[r]=t[r]);return n},$_=(t,e)=>{const n={};return e.forEach(r=>{r in t&&(n[r]=t[r])}),n};function QM(t,e,n){return Math.min(Math.max(t,e),n)}var ma={},ZM={get exports(){return ma},set exports(t){ma=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=e.default})(ZM,ma);const XM=Uv(ma);var va={},JM={get exports(){return va},set exports(t){va=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}t.exports=e.default})(JM,va);const Qh=Uv(va);function ex(t,e){var n=sx(e);return n.formatToParts?nx(n,t):rx(n,t)}var tx={year:0,month:1,day:2,hour:3,minute:4,second:5};function nx(t,e){try{for(var n=t.formatToParts(e),r=[],s=0;s<n.length;s++){var i=tx[n[s].type];i>=0&&(r[i]=parseInt(n[s].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function rx(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Zl={};function sx(t){if(!Zl[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Zl[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Zl[t]}function P_(t,e,n,r,s,i,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(r,s,i,o),a}var Zh=36e5,ix=6e4,Xl={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function ox(t,e,n){var r,s;if(!t||(r=Xl.timezoneZ.exec(t),r))return 0;var i;if(r=Xl.timezoneHH.exec(t),r)return i=parseInt(r[1],10),Xh(i)?-(i*Zh):NaN;if(r=Xl.timezoneHHMM.exec(t),r){i=parseInt(r[1],10);var o=parseInt(r[2],10);return Xh(i,o)?(s=Math.abs(i)*Zh+o*ix,i>0?-s:s):NaN}if(cx(t)){e=new Date(e||Date.now());var a=n?e:ax(e),l=Fc(a,t),c=n?l:lx(e,l,t);return-c}return NaN}function ax(t){return P_(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Fc(t,e){var n=ex(t,e),r=P_(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),s=t.getTime(),i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function lx(t,e,n){var r=t.getTime(),s=r-e,i=Fc(new Date(s),n);if(e===i)return e;s-=i-e;var o=Fc(new Date(s),n);return i===o?i:Math.max(i,o)}function Xh(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var Jh={};function cx(t){if(Jh[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Jh[t]=!0,!0}catch{return!1}}var ux=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const dx=ux;var Jl=36e5,ep=6e4,fx=2,kt={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:dx};function hx(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?fx:XM(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=px(t),i=mx(s.date,r),o=i.year,a=i.restDateString,l=vx(a,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),u=0,d;if(s.time&&(u=_x(s.time),isNaN(u)))return new Date(NaN);if(s.timeZone||n.timeZone){if(d=ox(s.timeZone||n.timeZone,new Date(c+u)),isNaN(d))return new Date(NaN)}else d=Qh(new Date(c+u)),d=Qh(new Date(c+u+d));return new Date(c+u+d)}else return new Date(NaN)}function px(t){var e={},n=kt.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=kt.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var s=kt.timeZone.exec(r);s?(e.time=r.replace(s[1],""),e.timeZone=s[1].trim()):e.time=r}return e}function mx(t,e){var n=kt.YYY[e],r=kt.YYYYY[e],s;if(s=kt.YYYY.exec(t)||r.exec(t),s){var i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=kt.YY.exec(t)||n.exec(t),s){var o=s[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function vx(t,e){if(e===null)return null;var n,r,s,i;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=kt.MM.exec(t),n)return r=new Date(0),s=parseInt(n[1],10)-1,np(e,s)?(r.setUTCFullYear(e,s),r):new Date(NaN);if(n=kt.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return bx(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=kt.MMDD.exec(t),n){r=new Date(0),s=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return np(e,s,a)?(r.setUTCFullYear(e,s,a),r):new Date(NaN)}if(n=kt.Www.exec(t),n)return i=parseInt(n[1],10)-1,rp(e,i)?tp(e,i):new Date(NaN);if(n=kt.WwwD.exec(t),n){i=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return rp(e,i,l)?tp(e,i,l):new Date(NaN)}return null}function _x(t){var e,n,r;if(e=kt.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),ec(n)?n%24*Jl:NaN;if(e=kt.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),ec(n,r)?n%24*Jl+r*ep:NaN;if(e=kt.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var s=parseFloat(e[3].replace(",","."));return ec(n,r,s)?n%24*Jl+r*ep+s*1e3:NaN}return null}function tp(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=e*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var gx=[31,28,31,30,31,30,31,31,30,31,30,31],yx=[31,29,31,30,31,30,31,31,30,31,30,31];function k_(t){return t%400===0||t%4===0&&t%100!==0}function np(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=k_(t);if(r&&n>yx[e]||!r&&n>gx[e])return!1}return!0}function bx(t,e){if(e<1)return!1;var n=k_(t);return!(n&&e>366||!n&&e>365)}function rp(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function ec(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function Dt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Xo(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xo=function(n){return typeof n}:Xo=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xo(t)}function Xn(t){Dt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Xo(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ii(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}var wx={};function ud(){return wx}function ns(t,e){var n,r,s,i,o,a,l,c;Dt(1,arguments);var u=ud(),d=ii((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Xn(t),h=f.getDay(),m=(h<d?7:0)+h-d;return f.setDate(f.getDate()-m),f.setHours(0,0,0,0),f}function sp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var Cx=6048e5;function Ex(t,e,n){Dt(2,arguments);var r=ns(t,n),s=ns(e,n),i=r.getTime()-sp(r),o=s.getTime()-sp(s);return Math.round((i-o)/Cx)}function Sx(t){Dt(1,arguments);var e=Xn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Dx(t){Dt(1,arguments);var e=Xn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Tx(t,e){return Dt(1,arguments),Ex(Sx(t),Dx(t),e)+1}function Ix(t,e){var n,r,s,i,o,a,l,c;Dt(1,arguments);var u=Xn(t),d=u.getFullYear(),f=ud(),h=ii((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(d+1,0,h),m.setHours(0,0,0,0);var b=ns(m,e),w=new Date(0);w.setFullYear(d,0,h),w.setHours(0,0,0,0);var y=ns(w,e);return u.getTime()>=b.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function $x(t,e){var n,r,s,i,o,a,l,c;Dt(1,arguments);var u=ud(),d=ii((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=Ix(t,e),h=new Date(0);h.setFullYear(f,0,d),h.setHours(0,0,0,0);var m=ns(h,e);return m}var Px=6048e5;function kx(t,e){Dt(1,arguments);var n=Xn(t),r=ns(n,e).getTime()-$x(n,e).getTime();return Math.round(r/Px)+1}function _a(t){return Dt(1,arguments),ns(t,{weekStartsOn:1})}function Ax(t){Dt(1,arguments);var e=Xn(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=_a(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var o=_a(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Ox(t){Dt(1,arguments);var e=Ax(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=_a(n);return r}var Mx=6048e5;function xx(t){Dt(1,arguments);var e=Xn(t),n=_a(e).getTime()-Ox(e).getTime();return Math.round(n/Mx)+1}function Pt(t,e){Dt(2,arguments);var n=Xn(t),r=ii(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function ga(t,e){Dt(2,arguments);var n=Xn(t),r=ii(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function ip(t,e){Dt(2,arguments);var n=ii(e);return ga(t,n*12)}const Rx={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function Nx({monthComps:t,prevMonthComps:e,nextMonthComps:n},r){const s=[],{firstDayOfWeek:i,firstWeekday:o,isoWeeknumbers:a,weeknumbers:l,numDays:c,numWeeks:u}=t,d=o+(o<i?Ct:0)-i;let f=!0,h=!1,m=!1,b=0;const w=new Intl.DateTimeFormat(r.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let y=e.numDays-d+1,k=e.numDays-y+1,R=Math.floor((y-1)/Ct+1),P=1,N=e.numWeeks,L=1,K=e.month,W=e.year;const ne=new Date,te=ne.getDate(),oe=ne.getMonth()+1,I=ne.getFullYear();for(let q=1;q<=PR;q++){for(let me=1,se=i;me<=Ct;me++,se+=se===Ct?1-Ct:1){f&&se===o&&(y=1,k=t.numDays,R=Math.floor((y-1)/Ct+1),P=Math.floor((c-y)/Ct+1),N=1,L=u,K=t.month,W=t.year,f=!1,h=!0);const ce=r.getDateFromParams(W,K,y,0,0,0,0),ae=r.getDateFromParams(W,K,y,12,0,0,0),fe=r.getDateFromParams(W,K,y,23,59,59,999),ke=ce,Y=`${Ye(W,4)}-${Ye(K,2)}-${Ye(y,2)}`,ve=me,J=Ct-me,We=l[q-1],Te=a[q-1],Qe=y===te&&K===oe&&W===I,Ae=h&&y===1,E=h&&y===c,z=q===1,V=q===u,ee=me===1,ye=me===Ct,Ie=H_(W,K,y);s.push({locale:r,id:Y,position:++b,label:y.toString(),ariaLabel:w.format(new Date(W,K-1,y)),day:y,dayFromEnd:k,weekday:se,weekdayPosition:ve,weekdayPositionFromEnd:J,weekdayOrdinal:R,weekdayOrdinalFromEnd:P,week:N,weekFromEnd:L,weekPosition:q,weeknumber:We,isoWeeknumber:Te,month:K,year:W,date:ke,startDate:ce,endDate:fe,noonDate:ae,dayIndex:Ie,isToday:Qe,isFirstDay:Ae,isLastDay:E,isDisabled:!h,isFocusable:!h,isFocused:!1,inMonth:h,inPrevMonth:f,inNextMonth:m,onTop:z,onBottom:V,onLeft:ee,onRight:ye,classes:[`id-${Y}`,`day-${y}`,`day-from-end-${k}`,`weekday-${se}`,`weekday-position-${ve}`,`weekday-ordinal-${R}`,`weekday-ordinal-from-end-${P}`,`week-${N}`,`week-from-end-${L}`,{"is-today":Qe,"is-first-day":Ae,"is-last-day":E,"in-month":h,"in-prev-month":f,"in-next-month":m,"on-top":z,"on-bottom":V,"on-left":ee,"on-right":ye}]}),h&&E?(h=!1,m=!0,y=1,k=c,R=1,P=Math.floor((c-y)/Ct+1),N=1,L=n.numWeeks,K=n.month,W=n.year):(y++,k--,R=Math.floor((y-1)/Ct+1),P=Math.floor((c-y)/Ct+1))}N++,L--}return s}function Lx(t,e,n,r){const s=t.reduce((i,o,a)=>{const l=Math.floor(a/7);let c=i[l];return c||(c={id:`week-${l+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:e?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},i[l]=c),c.days.push(o),i},Array(t.length/Ct));return s.forEach(i=>{const o=i.days[0],a=i.days[i.days.length-1];o.month===a.month?i.title=`${r.formatDate(o.date,"MMMM YYYY")}`:o.year===a.year?i.title=`${r.formatDate(o.date,"MMM")} - ${r.formatDate(a.date,"MMM YYYY")}`:i.title=`${r.formatDate(o.date,"MMM YYYY")} - ${r.formatDate(a.date,"MMM YYYY")}`}),s}function Fx(t,e){return t.days.map(n=>({label:e.formatDate(n.date,e.masks.weekdays),weekday:n.weekday}))}function Yx(t,e){return`${e}.${Ye(t,2)}`}function A_(t,e,n){return $_(n.getDateParts(n.toDate(t)),Rx[e])}function O_({day:t,week:e,month:n,year:r},s,i,o){if(i==="daily"&&t){const a=new Date(r,n-1,t),l=Pt(a,s);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(i==="weekly"&&e){const l=o.getMonthParts(n,r).firstDayOfMonth,c=Pt(l,(e-1+s)*7),u=o.getDateParts(c);return{week:u.week,month:u.month,year:u.year}}else{const a=new Date(r,n-1,1),l=ga(a,s);return{month:l.getMonth()+1,year:l.getFullYear()}}}function In(t){return t!=null&&t.month!=null&&t.year!=null}function Yc(t,e){return!In(t)||!In(e)?!1:(t=t,e=e,t.year!==e.year?t.year<e.year:t.month&&e.month&&t.month!==e.month?t.month<e.month:t.week&&e.week&&t.week!==e.week?t.week<e.week:t.day&&e.day&&t.day!==e.day?t.day<e.day:!1)}function ya(t,e){return!In(t)||!In(e)?!1:(t=t,e=e,t.year!==e.year?t.year>e.year:t.month&&e.month&&t.month!==e.month?t.month>e.month:t.week&&e.week&&t.week!==e.week?t.week>e.week:t.day&&e.day&&t.day!==e.day?t.day>e.day:!1)}function Bx(t,e,n){return(t||!1)&&!Yc(t,e)&&!ya(t,n)}function Wx(t,e){return!t&&e||t&&!e?!1:!t&&!e?!0:(t=t,e=e,t.year===e.year&&t.month===e.month&&t.week===e.week&&t.day===e.day)}function Hx(t,e,n,r){if(!In(t)||!In(e))return[];const s=[];for(;!ya(t,e);)s.push(t),t=O_(t,1,n,r);return s}function M_(t){const{day:e,week:n,month:r,year:s}=t;let i=`${s}-${Ye(r,2)}`;return n&&(i=`${i}-w${n}`),e&&(i=`${i}-${Ye(e,2)}`),i}function jx(t,e){const{month:n,year:r,showWeeknumbers:s,showIsoWeeknumbers:i}=t,o=new Date(r,n-1,15),a=e.getMonthParts(n,r),l=e.getPrevMonthParts(n,r),c=e.getNextMonthParts(n,r),u=Nx({monthComps:a,prevMonthComps:l,nextMonthComps:c},e),d=Lx(u,s,i,e),f=Fx(d[0],e);return{id:M_(t),month:n,year:r,monthTitle:e.formatDate(o,e.masks.title),shortMonthLabel:e.formatDate(o,"MMM"),monthLabel:e.formatDate(o,"MMMM"),shortYearLabel:r.toString().substring(2),yearLabel:r.toString(),monthComps:a,prevMonthComps:l,nextMonthComps:c,days:u,weeks:d,weekdays:f}}function Ux(t,e){const{day:n,week:r,view:s,trimWeeks:i}=t,o={...e,...t,title:"",viewDays:[],viewWeeks:[]};switch(s){case"daily":{let a=o.days.find(c=>c.inMonth);n?a=o.days.find(c=>c.day===n&&c.inMonth)||a:r&&(a=o.days.find(c=>c.week===r&&c.inMonth));const l=o.weeks[a.week-1];o.viewWeeks=[l],o.viewDays=[a],o.week=a.week,o.weekTitle=l.title,o.day=a.day,o.dayTitle=a.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=r||1;const a=o.weeks[o.week-1];o.viewWeeks=[a],o.viewDays=a.days,o.weekTitle=a.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,i?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class op{constructor(e,n,r){le(this,"keys",[]),le(this,"store",{}),this.size=e,this.createKey=n,this.createItem=r}get(...e){const n=this.createKey(...e);return this.store[n]}getOrSet(...e){const n=this.createKey(...e);if(this.store[n])return this.store[n];const r=this.createItem(...e);if(this.keys.length>=this.size){const s=this.keys.shift();s!=null&&delete this.store[s]}return this.keys.push(n),this.store[n]=r,r}}class Os{constructor(e,n=new ba){le(this,"order"),le(this,"locale"),le(this,"start",null),le(this,"end",null),le(this,"repeat",null);var r;this.locale=n;const{start:s,end:i,span:o,order:a,repeat:l}=e;As(s)&&(this.start=n.getDateParts(s)),As(i)?this.end=n.getDateParts(i):this.start!=null&&o&&(this.end=n.getDateParts(Pt(this.start.date,o-1))),this.order=a??0,l&&(this.repeat=new wa({from:(r=this.start)==null?void 0:r.date,...l},{locale:this.locale}))}static fromMany(e,n){return(an(e)?e:[e]).filter(r=>r).map(r=>Os.from(r,n))}static from(e,n){if(e instanceof Os)return e;const r={start:null,end:null};return e!=null&&(an(e)?(r.start=e[0]??null,r.end=e[1]??null):zn(e)?Object.assign(r,e):(r.start=e,r.end=e)),r.start!=null&&(r.start=new Date(r.start)),r.end!=null&&(r.end=new Date(r.end)),new Os(r,n)}get opts(){const{order:e,locale:n}=this;return{order:e,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:n}=this;return e&&n&&e.year===n.year&&e.month===n.month&&e.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var n,r;return((n=this.start)==null?void 0:n.dayIndex)===e.dayIndex||!!((r=this.repeat)!=null&&r.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var n,r;return this.intersectsDayRange(((n=e.start)==null?void 0:n.dayIndex)??-1/0,((r=e.end)==null?void 0:r.dayIndex)??1/0)}intersectsDayRange(e,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<e)}}class Vx{constructor(){le(this,"records",{})}render(e,n,r){var s,i,o,a;let l=null;const c=r[0].dayIndex,u=r[r.length-1].dayIndex;return n.hasRepeat?r.forEach(d=>{var f,h;if(n.startsOnDay(d)){const m=n.daySpan<1/0?n.daySpan:1;l={startDay:d.dayIndex,startTime:((f=n.start)==null?void 0:f.time)??0,endDay:d.dayIndex+m-1,endTime:((h=n.end)==null?void 0:h.time)??Jo},this.getRangeRecords(e).push(l)}}):n.intersectsDayRange(c,u)&&(l={startDay:((s=n.start)==null?void 0:s.dayIndex)??-1/0,startTime:((i=n.start)==null?void 0:i.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((a=n.end)==null?void 0:a.time)??1/0},this.getRangeRecords(e).push(l)),l}getRangeRecords(e){let n=this.records[e.key];return n||(n={ranges:[],data:e},this.records[e.key]=n),n.ranges}getCell(e,n){return this.getCells(n).find(i=>i.data.key===e)}cellExists(e,n){const r=this.records[e];return r==null?!1:r.ranges.some(s=>s.startDay<=n&&s.endDay>=n)}getCells(e){const n=Object.values(this.records),r=[],{dayIndex:s}=e;return n.forEach(({data:i,ranges:o})=>{o.filter(a=>a.startDay<=s&&a.endDay>=s).forEach(a=>{const l=s===a.startDay,c=s===a.endDay,u=l?a.startTime:0,d=new Date(e.startDate.getTime()+u),f=c?a.endTime:Jo,h=new Date(e.endDate.getTime()+f),m=u===0&&f===Jo,b=i.order||0;r.push({...a,data:i,onStart:l,onEnd:c,startTime:u,startDate:d,endTime:f,endDate:h,allDay:m,order:b})})}),r.sort((i,o)=>i.order-o.order),r}}const Kn={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Kn.en=Kn["en-US"];Kn.es=Kn["es-ES"];Kn.no=Kn.nb;Kn.zh=Kn["zh-CN"];const zx=Object.entries(Kn).reduce((t,[e,{dow:n,L:r}])=>(t[e]={id:e,firstDayOfWeek:n,masks:{L:r}},t),{}),Kx="MMMM YYYY",Gx="W",qx="MMM",Qx="h A",Zx=["L","YYYY-MM-DD","YYYY/MM/DD"],Xx=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],Jx=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],eR=["h:mm A"],tR=["HH:mm"],nR="WWW, MMM D, YYYY",rR=["L","YYYY-MM-DD","YYYY/MM/DD"],sR="iso",iR="YYYY-MM-DDTHH:mm:ss.SSSZ",oR={title:Kx,weekdays:Gx,navMonths:qx,hours:Qx,input:Zx,inputDateTime:Xx,inputDateTime24hr:Jx,inputTime:eR,inputTime24hr:tR,dayPopover:nR,data:rR,model:sR,iso:iR},aR=300,lR=60,cR=80,uR={maxSwipeTime:aR,minHorizontalSwipeDistance:lR,maxVerticalSwipeDistance:cR},dR={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:uR,masks:oR,locales:zx,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},Ms=Ar(dR),fR=S(()=>MA(Ms.locales,t=>(t.masks=Hs(t.masks,Ms.masks),t))),Er=t=>typeof window<"u"&&T_(window.__vcalendar__,t)?qr(window.__vcalendar__,t):qr(Ms,t),hR=(t,e)=>(t.config.globalProperties.$VCalendar=Ms,Object.assign(Ms,Hs(e,Ms))),pR=12,mR=5;function vR(t,e){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let r;Tn(t)?r=t:T_(t,"id")&&(r=t.id),r=(r||n).toLowerCase();const s=Object.keys(e),i=l=>s.find(c=>c.toLowerCase()===l);r=i(r)||i(r.substring(0,2))||n;const o={...e["en-IE"],...e[r],id:r,monthCacheSize:pR,pageCacheSize:mR};return zn(t)?Hs(t,o):o}class ba{constructor(e=void 0,n){le(this,"id"),le(this,"daysInWeek"),le(this,"firstDayOfWeek"),le(this,"masks"),le(this,"timezone"),le(this,"hourLabels"),le(this,"dayNames"),le(this,"dayNamesShort"),le(this,"dayNamesShorter"),le(this,"dayNamesNarrow"),le(this,"monthNames"),le(this,"monthNamesShort"),le(this,"relativeTimeNames"),le(this,"amPm",["am","pm"]),le(this,"monthCache"),le(this,"pageCache");const{id:r,firstDayOfWeek:s,masks:i,monthCacheSize:o,pageCacheSize:a}=vR(e,fR.value);this.monthCache=new op(o,FR,YR),this.pageCache=new op(a,M_,jx),this.id=r,this.daysInWeek=Ct,this.firstDayOfWeek=QM(s,1,Ct),this.masks=i,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=tc("long",this.id),this.dayNamesShort=tc("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=tc("narrow",this.id),this.monthNames=fp("long",this.id),this.monthNamesShort=fp("short",this.id),this.relativeTimeNames=HR(this.id)}formatDate(e,n){return KR(e,n,this)}parseDate(e,n){return hp(e,n,this)}toDate(e,n={}){const r=new Date(NaN);let s=r;const{fillDate:i,mask:o,patch:a,rules:l}=n;if(gn(e)?(n.type="number",s=new Date(+e)):Tn(e)?(n.type="string",s=e?hp(e,o||"iso",this):r):As(e)?(n.type="date",s=new Date(e.getTime())):dd(e)&&(n.type="object",s=this.getDateFromParts(e)),s&&(a||l)){let c=this.getDateParts(s);if(a&&i!=null){const u=this.getDateParts(this.toDate(i));c=this.getDateParts(this.toDate({...u,...$_(c,$R[a])}))}l&&(c=zR(c,l)),s=this.getDateFromParts(c)}return s||r}toDateOrNull(e,n={}){const r=this.toDate(e,n);return isNaN(r.getTime())?null:r}fromDate(e,{type:n,mask:r}={}){switch(n){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,r||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return Os.from(e,this)}ranges(e){return Os.fromMany(e,this)}getDateParts(e){return LR(e,this)}getDateFromParts(e){return U_(e,this.timezone)}getDateFromParams(e,n,r,s,i,o,a){return this.getDateFromParts({year:e,month:n,day:r,hours:s,minutes:i,seconds:o,milliseconds:a})}getPage(e){const n=this.pageCache.getOrSet(e,this);return Ux(e,n)}getMonthParts(e,n){const{firstDayOfWeek:r}=this;return this.monthCache.getOrSet(e,n,r)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,n){return e===1?this.getMonthParts(12,n-1):this.getMonthParts(e-1,n)}getNextMonthParts(e,n){return e===12?this.getMonthParts(1,n+1):this.getMonthParts(e+1,n)}getHourLabels(){return WR().map(e=>this.formatDate(e,this.masks.hours))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}var Cs=(t=>(t.Any="any",t.All="all",t))(Cs||{}),x_=(t=>(t.Days="days",t.Weeks="weeks",t.Months="months",t.Years="years",t))(x_||{}),R_=(t=>(t.Days="days",t.Weekdays="weekdays",t.Weeks="weeks",t.Months="months",t.Years="years",t))(R_||{}),N_=(t=>(t.OrdinalWeekdays="ordinalWeekdays",t))(N_||{});class _R{constructor(e,n,r){le(this,"validated",!0),this.type=e,this.interval=n,this.from=r,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:n}=e;switch(this.type){case"days":return fd(this.from.date,n)%this.interval===0;case"weeks":return RR(this.from.date,n)%this.interval===0;case"months":return NR(this.from.date,n)%this.interval===0;case"years":return j_(this.from.date,n)%this.interval===0;default:return!1}}}class oi{constructor(e,n,r,s){le(this,"components",[]),this.type=e,this.validator=r,this.getter=s,this.components=this.normalizeComponents(n)}static create(e,n){switch(e){case"days":return new gR(n);case"weekdays":return new yR(n);case"weeks":return new bR(n);case"months":return new wR(n);case"years":return new CR(n)}}normalizeComponents(e){if(this.validator(e))return[e];if(!an(e))return[];const n=[];return e.forEach(r=>{if(!this.validator(r)){console.error(`Component value ${r} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(r)}),n}passes(e){return this.getter(e).some(s=>this.components.includes(s))}}class gR extends oi{constructor(e){super("days",e,DR,({day:n,dayFromEnd:r})=>[n,-r])}}class yR extends oi{constructor(e){super("weekdays",e,Bc,({weekday:n})=>[n])}}class bR extends oi{constructor(e){super("weeks",e,TR,({week:n,weekFromEnd:r})=>[n,-r])}}class wR extends oi{constructor(e){super("months",e,IR,({month:n})=>[n])}}class CR extends oi{constructor(e){super("years",e,gn,({year:n})=>[n])}}class ER{constructor(e,n){le(this,"components"),this.type=e,this.components=this.normalizeComponents(n)}normalizeArrayConfig(e){const n=[];return e.forEach((r,s)=>{if(gn(r)){if(s===0)return;if(!ap(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!Bc(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else an(r)&&n.push(...this.normalizeArrayConfig(r))}),n}normalizeComponents(e){const n=[];return e.forEach((r,s)=>{if(gn(r)){if(s===0)return;if(!ap(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!Bc(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else an(r)&&n.push(...this.normalizeArrayConfig(r))}),n}passes(e){const{weekday:n,weekdayOrdinal:r,weekdayOrdinalFromEnd:s}=e;return this.components.some(([i,o])=>(i===r||i===-s)&&n===o)}}class SR{constructor(e){le(this,"type","function"),le(this,"validated",!0),this.fn=e,fs(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return this.validated?this.fn(e):!0}}class wa{constructor(e,n={},r){le(this,"validated",!0),le(this,"config"),le(this,"type",Cs.Any),le(this,"from"),le(this,"until"),le(this,"rules",[]),le(this,"locale",new ba),this.parent=r,n.locale&&(this.locale=n.locale),this.config=e,fs(e)?(this.type=Cs.All,this.rules=[new SR(e)]):an(e)?(this.type=Cs.Any,this.rules=e.map(s=>new wa(s,n,this))):zn(e)?(this.type=Cs.All,this.from=e.from?this.locale.getDateParts(e.from):r==null?void 0:r.from,this.until=e.until?this.locale.getDateParts(e.until):r==null?void 0:r.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const n=[];if(e.every&&(Tn(e.every)&&(e.every=[1,`${e.every}s`]),an(e.every))){const[r=1,s=x_.Days]=e.every;n.push(new _R(s,r,this.from))}return Object.values(R_).forEach(r=>{r in e&&n.push(oi.create(r,e[r]))}),Object.values(N_).forEach(r=>{r in e&&n.push(new ER(r,e[r]))}),e.on!=null&&(an(e.on)||(e.on=[e.on]),n.push(new wa(e.on,{locale:this.locale},this.parent))),n}passes(e){return this.validated?this.from&&e.dayIndex<=this.from.dayIndex||this.until&&e.dayIndex>=this.until.dayIndex?!1:this.type===Cs.Any?this.rules.some(n=>n.passes(e)):this.rules.every(n=>n.passes(e)):!0}}function DR(t){return gn(t)?t>=1&&t<=31:!1}function Bc(t){return gn(t)?t>=1&&t<=7:!1}function TR(t){return gn(t)?t>=-6&&t<=-1||t>=1&&t<=6:!1}function IR(t){return gn(t)?t>=1&&t<=12:!1}function ap(t){return!(!gn(t)||t<-5||t>5||t===0)}const $R={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},Ct=7,PR=6,L_=1e3,F_=L_*60,Y_=F_*60,Jo=Y_*24,kR=[31,28,31,30,31,30,31,31,30,31,30,31],AR=["L","iso"],Ii={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},B_=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,OR=/\[([^]*?)\]/gm,lp={D(t){return t.day},DD(t){return Ye(t.day,2)},d(t){return t.weekday-1},dd(t){return Ye(t.weekday-1,2)},W(t,e){return e.dayNamesNarrow[t.weekday-1]},WW(t,e){return e.dayNamesShorter[t.weekday-1]},WWW(t,e){return e.dayNamesShort[t.weekday-1]},WWWW(t,e){return e.dayNames[t.weekday-1]},M(t){return t.month},MM(t){return Ye(t.month,2)},MMM(t,e){return e.monthNamesShort[t.month-1]},MMMM(t,e){return e.monthNames[t.month-1]},YY(t){return String(t.year).substr(2)},YYYY(t){return Ye(t.year,4)},h(t){return t.hours%12||12},hh(t){return Ye(t.hours%12||12,2)},H(t){return t.hours},HH(t){return Ye(t.hours,2)},m(t){return t.minutes},mm(t){return Ye(t.minutes,2)},s(t){return t.seconds},ss(t){return Ye(t.seconds,2)},S(t){return Math.round(t.milliseconds/100)},SS(t){return Ye(Math.round(t.milliseconds/10),2)},SSS(t){return Ye(t.milliseconds,3)},a(t,e){return t.hours<12?e.amPm[0]:e.amPm[1]},A(t,e){return t.hours<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Ye(Math.floor(Math.abs(e)/60),2)}`},ZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Ye(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)}`},ZZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Ye(Math.floor(Math.abs(e)/60),2)}:${Ye(Math.abs(e)%60,2)}`}},nr=/\d\d?/,MR=/\d{3}/,xR=/\d{4}/,yi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,cp=()=>{},up=t=>(e,n,r)=>{const s=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~s&&(e.month=s)},Ve={D:[nr,(t,e)=>{t.day=e}],Do:[new RegExp(nr.source+yi.source),(t,e)=>{t.day=parseInt(e,10)}],d:[nr,cp],W:[yi,cp],M:[nr,(t,e)=>{t.month=e-1}],MMM:[yi,up("monthNamesShort")],MMMM:[yi,up("monthNames")],YY:[nr,(t,e)=>{const r=+new Date().getFullYear().toString().substr(0,2);t.year=+`${e>68?r-1:r}${e}`}],YYYY:[xR,(t,e)=>{t.year=e}],S:[/\d/,(t,e)=>{t.milliseconds=e*100}],SS:[/\d{2}/,(t,e)=>{t.milliseconds=e*10}],SSS:[MR,(t,e)=>{t.milliseconds=e}],h:[nr,(t,e)=>{t.hours=e}],m:[nr,(t,e)=>{t.minutes=e}],s:[nr,(t,e)=>{t.seconds=e}],a:[yi,(t,e,n)=>{const r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(t,e)=>{e==="Z"&&(e="+00:00");const n=`${e}`.match(/([+-]|\d\d)/gi);if(n){const r=+n[1]*60+parseInt(n[2],10);t.timezoneOffset=n[0]==="+"?r:-r}}]};Ve.DD=Ve.D;Ve.dd=Ve.d;Ve.WWWW=Ve.WWW=Ve.WW=Ve.W;Ve.MM=Ve.M;Ve.mm=Ve.m;Ve.hh=Ve.H=Ve.HH=Ve.h;Ve.ss=Ve.s;Ve.A=Ve.a;Ve.ZZZZ=Ve.ZZZ=Ve.ZZ=Ve.Z;function W_(t,e){return(Yn(t)&&t||[Tn(t)&&t||"YYYY-MM-DD"]).map(n=>AR.reduce((r,s)=>r.replace(s,e.masks[s]||""),n))}function dd(t){return zn(t)&&"year"in t&&"month"in t&&"day"in t}function dp(t,e=1){const n=t.getDay()+1,r=n>=e?e-n:-(7-(e-n));return Pt(t,r)}function H_(t,e,n){const r=Date.UTC(t,e-1,n);return fd(new Date(0),new Date(r))}function fd(t,e){return Math.round((e.getTime()-t.getTime())/Jo)}function RR(t,e){return Math.ceil(fd(dp(t),dp(e))/7)}function j_(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}function NR(t,e){return j_(t,e)*12+(e.getMonth()-t.getMonth())}function U_(t,e=""){const n=new Date,{year:r=n.getFullYear(),month:s=n.getMonth()+1,day:i=n.getDate(),hours:o=0,minutes:a=0,seconds:l=0,milliseconds:c=0}=t;if(e){const u=`${Ye(r,4)}-${Ye(s,2)}-${Ye(i,2)}T${Ye(o,2)}:${Ye(a,2)}:${Ye(l,2)}.${Ye(c,3)}`;return hx(u,{timeZone:e})}return new Date(r,s-1,i,o,a,l,c)}function LR(t,e){let n=new Date(t.getTime());e.timezone&&(n=new Date(t.toLocaleString("en-US",{timeZone:e.timezone})),n.setMilliseconds(t.getMilliseconds()));const r=n.getMilliseconds(),s=n.getSeconds(),i=n.getMinutes(),o=n.getHours(),a=r+s*L_+i*F_+o*Y_,l=n.getMonth()+1,c=n.getFullYear(),u=e.getMonthParts(l,c),d=n.getDate(),f=u.numDays-d+1,h=n.getDay()+1,m=Math.floor((d-1)/7+1),b=Math.floor((u.numDays-d)/7+1),w=Math.ceil((d+Math.abs(u.firstWeekday-u.firstDayOfWeek))/7),y=u.numWeeks-w+1,k=u.weeknumbers[w],R=H_(c,l,d);return{milliseconds:r,seconds:s,minutes:i,hours:o,time:a,day:d,dayFromEnd:f,weekday:h,weekdayOrdinal:m,weekdayOrdinalFromEnd:b,week:w,weekFromEnd:y,weeknumber:k,month:l,year:c,date:n,dateTime:n.getTime(),dayIndex:R,timezoneOffset:0,isValid:!0}}function FR(t,e,n){return`${e}-${t}-${n}`}function YR(t,e,n){const r=e%4===0&&e%100!==0||e%400===0,s=new Date(e,t-1,1),i=s.getDay()+1,o=t===2&&r?29:kR[t-1],a=n-1,l=Tx(s,{weekStartsOn:a}),c=[],u=[];for(let d=0;d<l;d++){const f=Pt(s,d*7);c.push(kx(f,{weekStartsOn:a})),u.push(xx(f))}return{firstDayOfWeek:n,firstDayOfMonth:s,inLeapYear:r,firstWeekday:i,numDays:o,numWeeks:l,month:t,year:e,weeknumbers:c,isoWeeknumbers:u}}function BR(){const t=[];for(let s=0;s<Ct;s++)t.push(U_({year:2020,month:1,day:5+s,hours:12}));return t}function tc(t,e=void 0){const n=new Intl.DateTimeFormat(e,{weekday:t});return BR().map(r=>n.format(r))}function WR(){const t=[];for(let e=0;e<=24;e++)t.push(new Date(2e3,0,1,e));return t}function HR(t=void 0){const e=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(t);return e.reduce((r,s)=>{const i=n.formatToParts(100,s);return r[s]=i[1].unit,r},{})}function V_(){const t=[];for(let e=0;e<12;e++)t.push(new Date(2e3,e,15));return t}function fp(t,e=void 0){const n=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return V_().map(r=>n.format(r))}function jR(t,e,n){return gn(e)?e===t:an(e)?e.includes(t):fs(e)?e(t,n):!(e.min!=null&&e.min>t||e.max!=null&&e.max<t||e.interval!=null&&t%e.interval!==0)}function $i(t,e,n){const r=[],[s,i,o]=e;for(let a=s;a<=i;a++)(n==null||jR(a,n,t))&&r.push({value:a,label:Ye(a,o)});return r}function UR(t,e){return{milliseconds:$i(t,Ii.milliseconds,e.milliseconds),seconds:$i(t,Ii.seconds,e.seconds),minutes:$i(t,Ii.minutes,e.minutes),hours:$i(t,Ii.hours,e.hours)}}function VR(t,e,n,r){const i=$i(t,e,r).reduce((o,a)=>{if(a.disabled)return o;if(isNaN(o))return a.value;const l=Math.abs(o-n);return Math.abs(a.value-n)<l?a.value:o},NaN);return isNaN(i)?n:i}function zR(t,e){const n={...t};return Object.entries(e).forEach(([r,s])=>{const i=Ii[r],o=t[r];n[r]=VR(t,i,o,s)}),n}function hp(t,e,n){return W_(e,n).map(s=>{if(typeof s!="string")throw new Error("Invalid mask");let i=t;if(i.length>1e3)return!1;let o=!0;const a={};if(s.replace(B_,u=>{if(Ve[u]){const d=Ve[u],f=i.search(d[0]);~f?i.replace(d[0],h=>(d[1](a,h,n),i=i.substr(f+h.length),h)):o=!1}return Ve[u]?"":u.slice(1,u.length-1)}),!o)return!1;const l=new Date;a.hours!=null&&(a.isPm===!0&&+a.hours!=12?a.hours=+a.hours+12:a.isPm===!1&&+a.hours==12&&(a.hours=0));let c;return a.timezoneOffset!=null?(a.minutes=+(a.minutes||0)-+a.timezoneOffset,c=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hours||0,a.minutes||0,a.seconds||0,a.milliseconds||0))):c=n.getDateFromParts({year:a.year||l.getFullYear(),month:(a.month||0)+1,day:a.day||1,hours:a.hours||0,minutes:a.minutes||0,seconds:a.seconds||0,milliseconds:a.milliseconds||0}),c}).find(s=>s)||new Date(t)}function KR(t,e,n){if(t==null)return"";let r=W_(e,n)[0];/Z$/.test(r)&&(n.timezone="utc");const s=[];r=r.replace(OR,(o,a)=>(s.push(a),"??"));const i=n.getDateParts(t);return r=r.replace(B_,o=>o in lp?lp[o](i,n):o.slice(1,o.length-1)),r.replace(/\?\?/g,()=>s.shift())}let GR=0;class z_{constructor(e,n,r){le(this,"key",""),le(this,"hashcode",""),le(this,"highlight",null),le(this,"content",null),le(this,"dot",null),le(this,"bar",null),le(this,"event",null),le(this,"popover",null),le(this,"customData",null),le(this,"ranges"),le(this,"hasRanges",!1),le(this,"order",0),le(this,"pinPage",!1),le(this,"maxRepeatSpan",0),le(this,"locale");const{dates:s}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=++GR),this.locale=r,n.normalizeGlyphs(this),this.ranges=r.ranges(s??[]),this.hasRanges=!!Yn(this.ranges),this.maxRepeatSpan=this.ranges.filter(i=>i.hasRepeat).map(i=>i.daySpan).reduce((i,o)=>Math.max(i,o),0)}intersectsRange({start:e,end:n}){if(e==null||n==null)return!1;const r=this.ranges.filter(o=>!o.hasRepeat);for(const o of r)if(o.intersectsDayRange(e.dayIndex,n.dayIndex))return!0;const s=this.ranges.filter(o=>o.hasRepeat);if(!s.length)return!1;let i=e;for(this.maxRepeatSpan>1&&(i=this.locale.getDateParts(Pt(i.date,-this.maxRepeatSpan)));i.dayIndex<=n.dayIndex;){for(const o of s)if(o.startsOnDay(i))return!0;i=this.locale.getDateParts(Pt(i.date,1))}return!1}}function Wc(t){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:t}))}function Qi(t){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:t}))}function K_(t){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:t}))}function G_(t){const{visibility:e}=t,n=e==="click",r=e==="hover",s=e==="hover-focus",i=e==="focus";t.autoHide=!n;let o=!1,a=!1;const l=m=>{n&&(K_({...t,target:t.target||m.currentTarget}),m.stopPropagation())},c=m=>{o||(o=!0,(r||s)&&Wc({...t,target:t.target||m.currentTarget}))},u=()=>{o&&(o=!1,(r||s&&!a)&&Qi(t))},d=m=>{a||(a=!0,(i||s)&&Wc({...t,target:t.target||m.currentTarget}))},f=m=>{a&&!Zo(m.currentTarget,m.relatedTarget)&&(a=!1,(i||s&&!o)&&Qi(t))},h={};switch(t.visibility){case"click":h.click=l;break;case"hover":h.mousemove=c,h.mouseleave=u;break;case"focus":h.focusin=d,h.focusout=f;break;case"hover-focus":h.mousemove=c,h.mouseleave=u,h.focusin=d,h.focusout=f;break}return h}const pp=t=>{const e=pa(t);if(e==null)return;const n=e.popoverHandlers;!n||!n.length||(n.forEach(r=>r()),delete e.popoverHandlers)},mp=(t,e)=>{const n=pa(t);if(n==null)return;const r=[],s=G_(e);Object.entries(s).forEach(([i,o])=>{r.push(ur(n,i,o))}),n.popoverHandlers=r},q_={mounted(t,e){const{value:n}=e;n&&mp(t,n)},updated(t,e){const{oldValue:n,value:r}=e,s=n==null?void 0:n.visibility,i=r==null?void 0:r.visibility;s!==i&&(s&&(pp(t),i||Qi(n)),i&&mp(t,r))},unmounted(t){pp(t)}},qR=(t,e,{maxSwipeTime:n,minHorizontalSwipeDistance:r,maxVerticalSwipeDistance:s})=>{if(!t||!t.addEventListener||!fs(e))return null;let i=0,o=0,a=null,l=!1;function c(d){const f=d.changedTouches[0];i=f.screenX,o=f.screenY,a=new Date().getTime(),l=!0}function u(d){if(!l||!a)return;l=!1;const f=d.changedTouches[0],h=f.screenX-i,m=f.screenY-o;if(new Date().getTime()-a<n&&Math.abs(h)>=r&&Math.abs(m)<=s){const w={toLeft:!1,toRight:!1};h<0?w.toLeft=!0:w.toRight=!0,e(w)}}return ur(t,"touchstart",c,{passive:!0}),ur(t,"touchend",u,{passive:!0}),()=>{cr(t,"touchstart",c),cr(t,"touchend",u)}},ea={},QR=(t,e=10)=>{ea[t]=Date.now()+e},ZR=(t,e)=>{if(t in ea){const n=ea[t];if(Date.now()<n)return;delete ea[t]}e()};function Q_(){return typeof window<"u"}function XR(t){return Q_()&&t in window}function JR(t){const e=Se(!1),n=S(()=>e.value?"dark":"light");let r,s;function i(h){e.value=h.matches}function o(){XR("matchMedia")&&(r=window.matchMedia("(prefers-color-scheme: dark)"),r.addEventListener("change",i),e.value=r.matches)}function a(){const{selector:h=":root",darkClass:m="dark"}=t.value,b=document.querySelector(h);e.value=b.classList.contains(m)}function l(h){const{selector:m=":root",darkClass:b="dark"}=h;if(Q_()&&m&&b){const w=document.querySelector(m);w&&(s=new MutationObserver(a),s.observe(w,{attributes:!0,attributeFilter:["class"]}),e.value=w.classList.contains(b))}}function c(){d();const h=typeof t.value;h==="string"&&t.value.toLowerCase()==="system"?o():h==="object"?l(t.value):e.value=!!t.value}const u=lt(()=>t.value,()=>c(),{immediate:!0});function d(){r&&(r.removeEventListener("change",i),r=void 0),s&&(s.disconnect(),s=void 0)}function f(){d(),u()}return ho(()=>f()),{isDark:e,displayMode:n,cleanup:f}}const eN=["base","start","end","startEnd"],tN=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],nN={base:{},start:{},end:{}};function hd(t,e,n=nN){let r=t,s={};e===!0||Tn(e)?(r=Tn(e)?e:r,s={...n}):zn(e)&&(qh(e,eN)?s={...e}:s={base:{...e},start:{...e},end:{...e}});const i=Hs(s,{start:s.startEnd,end:s.startEnd},n);return Object.entries(i).forEach(([o,a])=>{let l=r;a===!0||Tn(a)?(l=Tn(a)?a:l,i[o]={color:l}):zn(a)&&(qh(a,tN)?i[o]={...a}:i[o]={}),Hs(i[o],{color:l})}),i}class rN{constructor(){le(this,"type","highlight")}normalizeConfig(e,n){return hd(e,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:n,onEnd:r},s){const{key:i,highlight:o}=e;if(!o)return;const{highlights:a}=s,{base:l,start:c,end:u}=o;n&&r?a.push({...c,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]}):n?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...c,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):r?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):a.push({...l,key:`${i}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class pd{constructor(e,n){le(this,"type",""),le(this,"collectionType",""),this.type=e,this.collectionType=n}normalizeConfig(e,n){return hd(e,n)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:n,onEnd:r},s){const{key:i}=e,o=e[this.type];if(!i||!o)return;const a=s[this.collectionType],{base:l,start:c,end:u}=o;n?a.push({...c,key:i,class:[`vc-${this.type} vc-${this.type}-start vc-${c.color} vc-attr`,c.class]}):r?a.push({...u,key:i,class:[`vc-${this.type} vc-${this.type}-end vc-${u.color} vc-attr`,u.class]}):a.push({...l,key:i,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class sN extends pd{constructor(){super("content","content")}normalizeConfig(e,n){return hd("base",n)}}class iN extends pd{constructor(){super("dot","dots")}}class oN extends pd{constructor(){super("bar","bars")}}class aN{constructor(e){le(this,"color"),le(this,"renderers",[new sN,new rN,new iN,new oN]),this.color=e}normalizeGlyphs(e){this.renderers.forEach(n=>{const r=n.type;e[r]!=null&&(e[r]=n.normalizeConfig(this.color,e[r]))})}prepareRender(e={}){return this.renderers.forEach(n=>{n.prepareRender(e)}),e}render(e,n){this.renderers.forEach(r=>{r.render(e,n)})}}const Z_=Symbol("__vc_base_context__"),X_={color:{type:String,default:()=>Er("color")},isDark:{type:[Boolean,String,Object],default:()=>Er("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function J_(t){const e=S(()=>t.color??""),n=S(()=>t.isDark??!1),{displayMode:r}=JR(n),s=S(()=>new aN(e.value)),i=S(()=>{if(t.locale instanceof ba)return t.locale;const f=zn(t.locale)?t.locale:{id:t.locale,firstDayOfWeek:t.firstDayOfWeek,masks:t.masks};return new ba(f,t.timezone)}),o=S(()=>i.value.masks),a=S(()=>t.minDate),l=S(()=>t.maxDate),c=S(()=>{const f=t.disabledDates?[...t.disabledDates]:[];return a.value!=null&&f.push({start:null,end:Pt(i.value.toDate(a.value),-1)}),l.value!=null&&f.push({start:Pt(i.value.toDate(l.value),1),end:null}),i.value.ranges(f)}),u=S(()=>new z_({key:"disabled",dates:c.value,order:100},s.value,i.value)),d={color:e,isDark:n,displayMode:r,theme:s,locale:i,masks:o,minDate:a,maxDate:l,disabledDates:c,disabledAttribute:u};return Hn(Z_,d),d}function lN(t){return Yt(Z_,()=>J_(t),!0)}function eg(t){return`__vc_slot_${t}__`}function tg(t,e={}){Object.keys(t).forEach(n=>{Hn(eg(e[n]??n),t[n])})}function ng(t){return Yt(eg(t),null)}const cN={...X_,view:{type:String,default:"monthly",validator(t){return["daily","weekly","monthly"].includes(t)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>Er("titlePosition")},navVisibility:{type:String,default:()=>Er("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},uN=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],rg=Symbol("__vc_calendar_context__");function dN(t,{slots:e,emit:n}){const r=Se(null),s=Se(null),i=Se(new Date().getDate()),o=Se(!1),a=Se(Symbol()),l=Se(Symbol()),c=Se(t.view),u=Se([]),d=Se("");let f=null,h=null;tg(e);const{theme:m,color:b,displayMode:w,locale:y,masks:k,minDate:R,maxDate:P,disabledAttribute:N,disabledDates:L}=lN(t),K=S(()=>t.rows*t.columns),W=S(()=>t.step||K.value),ne=S(()=>D_(u.value)??null),te=S(()=>Ss(u.value)??null),oe=S(()=>t.minPage||(R.value?J(R.value):null)),I=S(()=>t.maxPage||(P.value?J(P.value):null)),q=S(()=>t.navVisibility),me=S(()=>!!t.showWeeknumbers),se=S(()=>!!t.showIsoWeeknumbers),ce=S(()=>c.value==="monthly"),ae=S(()=>c.value==="weekly"),fe=S(()=>c.value==="daily"),ke=()=>{o.value=!0,n("transition-start")},Y=()=>{o.value=!1,n("transition-end"),f&&(f.resolve(!0),f=null)},ve=(A,_,O=c.value)=>O_(A,_,O,y.value),J=A=>A_(A,c.value,y.value),We=A=>{!N.value||!V.value||(A.isDisabled=V.value.cellExists(N.value.key,A.dayIndex))},Te=A=>{A.isFocusable=A.inMonth&&A.day===i.value},Qe=(A,_)=>{for(const O of A)for(const Z of O.days)if(_(Z)===!1)return},Ae=S(()=>u.value.reduce((A,_)=>(A.push(..._.viewDays),A),[])),E=S(()=>{const A=[];return(t.attributes||[]).forEach((_,O)=>{!_||!_.dates||A.push(new z_({..._,order:_.order||0},m.value,y.value))}),N.value&&A.push(N.value),A}),z=S(()=>Yn(E.value)),V=S(()=>{const A=new Vx;return E.value.forEach(_=>{_.ranges.forEach(O=>{A.render(_,O,Ae.value)})}),A}),ee=S(()=>Ae.value.reduce((A,_)=>(A[_.dayIndex]={day:_,cells:[]},A[_.dayIndex].cells.push(...V.value.getCells(_)),A),{})),ye=(A,_)=>{const O=t.showWeeknumbers||t.showIsoWeeknumbers;return O==null?"":mA(O)?O?"left":"":O.startsWith("right")?_>1?"right":O:A>1?"left":O},Ie=()=>{var A,_;if(!z.value)return null;const O=E.value.find(nt=>nt.pinPage)||E.value[0];if(!O||!O.hasRanges)return null;const[Z]=O.ranges,be=((A=Z.start)==null?void 0:A.date)||((_=Z.end)==null?void 0:_.date);return be?J(be):null},p=()=>{if(In(ne.value))return ne.value;const A=Ie();return In(A)?A:J(new Date)},g=(A,_={})=>{const{view:O=c.value,position:Z=1,force:be}=_,nt=Z>0?1-Z:-(K.value+Z);let It=ve(A,nt,O),Vt=ve(It,K.value-1,O);return be||(Yc(It,oe.value)?It=oe.value:ya(Vt,I.value)&&(It=ve(I.value,1-K.value)),Vt=ve(It,K.value-1)),{fromPage:It,toPage:Vt}},C=(A,_,O="")=>{if(O==="none"||O==="fade")return O;if((A==null?void 0:A.view)!==(_==null?void 0:_.view))return"fade";const Z=ya(_,A),be=Yc(_,A);return!Z&&!be?"fade":O==="slide-v"?be?"slide-down":"slide-up":be?"slide-right":"slide-left"},T=(A={})=>new Promise((_,O)=>{const{position:Z=1,force:be=!1,transition:nt}=A,It=In(A.page)?A.page:p(),{fromPage:Vt}=g(It,{position:Z,force:be}),ys=[];for(let bs=0;bs<K.value;bs++){const Fl=ve(Vt,bs),Rt=bs+1,Yl=Math.ceil(Rt/t.columns),Po=t.rows-Yl+1,pi=Rt%t.columns||t.columns,mi=t.columns-pi+1,vb=ye(pi,mi);ys.push(y.value.getPage({...Fl,view:c.value,titlePosition:t.titlePosition,trimWeeks:t.trimWeeks,position:Rt,row:Yl,rowFromEnd:Po,column:pi,columnFromEnd:mi,showWeeknumbers:me.value,showIsoWeeknumbers:se.value,weeknumberPosition:vb}))}d.value=C(u.value[0],ys[0],nt),u.value=ys,d.value&&d.value!=="none"?f={resolve:_,reject:O}:_(!0)}),D=A=>{const _=ne.value??J(new Date);return ve(_,A)},H=(A,_={})=>{const O=In(A)?A:J(A);return Object.assign(_,g(O,{..._,force:!0})),Hx(_.fromPage,_.toPage,c.value,y.value).map(be=>Bx(be,oe.value,I.value)).some(be=>be)},G=(A,_={})=>H(D(A),_),F=S(()=>G(-W.value)),U=S(()=>G(W.value)),x=async(A,_={})=>!_.force&&!H(A,_)?!1:(_.fromPage&&!Wx(_.fromPage,ne.value)&&(Qi({id:a.value,hideDelay:0}),_.view&&(QR("view",10),c.value=_.view),await T({..._,page:_.fromPage,position:1,force:!0}),n("did-move",u.value)),!0),Q=(A,_={})=>x(D(A),_),ie=()=>Q(-W.value),re=()=>Q(W.value),ue=A=>{const _=ce.value?".in-month":"",O=`.id-${y.value.getDayId(A)}${_}`,Z=`${O}.vc-focusable, ${O} .vc-focusable`,be=r.value;if(be){const nt=be.querySelector(Z);if(nt)return nt.focus(),!0}return!1},_e=async(A,_={})=>ue(A)?!0:(await x(A,_),ue(A)),$e=(A,_)=>{i.value=A.day,n("dayclick",A,_)},Fe=(A,_)=>{n("daymouseenter",A,_)},Je=(A,_)=>{n("daymouseleave",A,_)},Tt=(A,_)=>{i.value=A.day,s.value=A,A.isFocused=!0,n("dayfocusin",A,_)},dn=(A,_)=>{s.value=null,A.isFocused=!1,n("dayfocusout",A,_)},Rr=(A,_)=>{n("daykeydown",A,_);const O=A.noonDate;let Z=null;switch(_.key){case"ArrowLeft":{Z=Pt(O,-1);break}case"ArrowRight":{Z=Pt(O,1);break}case"ArrowUp":{Z=Pt(O,-7);break}case"ArrowDown":{Z=Pt(O,7);break}case"Home":{Z=Pt(O,-A.weekdayPosition+1);break}case"End":{Z=Pt(O,A.weekdayPositionFromEnd);break}case"PageUp":{_.altKey?Z=ip(O,-1):Z=ga(O,-1);break}case"PageDown":{_.altKey?Z=ip(O,1):Z=ga(O,1);break}}Z&&(_.preventDefault(),_e(Z).catch())},Nn=A=>{const _=s.value;_!=null&&Rr(_,A)},Nr=(A,_)=>{n("weeknumberclick",A,_)};T({page:t.initialPage,position:t.initialPagePosition}),Xs(()=>{!t.disablePageSwipe&&r.value&&(h=qR(r.value,({toLeft:A=!1,toRight:_=!1})=>{A?re():_&&ie()},Er("touch")))}),ho(()=>{u.value=[],h&&h()}),lt(()=>y.value,()=>{T()}),lt(()=>K.value,()=>T()),lt(()=>t.view,()=>c.value=t.view),lt(()=>c.value,()=>{ZR("view",()=>{T()}),n("update:view",c.value)}),lt(()=>i.value,()=>{Qe(u.value,A=>Te(A))}),fv(()=>{n("update:pages",u.value),Qe(u.value,A=>{We(A),Te(A)})});const ht={emit:n,containerRef:r,focusedDay:s,inTransition:o,navPopoverId:a,dayPopoverId:l,view:c,pages:u,transitionName:d,theme:m,color:b,displayMode:w,locale:y,masks:k,attributes:E,disabledAttribute:N,disabledDates:L,attributeContext:V,days:Ae,dayCells:ee,count:K,step:W,firstPage:ne,lastPage:te,canMovePrev:F,canMoveNext:U,minPage:oe,maxPage:I,isMonthly:ce,isWeekly:ae,isDaily:fe,navVisibility:q,showWeeknumbers:me,showIsoWeeknumbers:se,getDateAddress:J,canMove:H,canMoveBy:G,move:x,moveBy:Q,movePrev:ie,moveNext:re,onTransitionBeforeEnter:ke,onTransitionAfterEnter:Y,tryFocusDate:ue,focusDate:_e,onKeydown:Nn,onDayKeydown:Rr,onDayClick:$e,onDayMouseenter:Fe,onDayMouseleave:Je,onDayFocusin:Tt,onDayFocusout:dn,onWeeknumberClick:Nr};return Hn(rg,ht),ht}function ps(){const t=Yt(rg);if(t)return t;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const fN=ft({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(t,{emit:e}){let n;const r=Se();let s=null,i=null;const o=Ar({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function a(Y){Y&&(o.direction=Y.split("-")[0])}function l({placement:Y,options:ve}){a(Y||(ve==null?void 0:ve.placement))}const c=S(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l})),u=S(()=>{const Y=o.direction==="left"||o.direction==="right";let ve="";if(o.placement){const J=o.placement.split("-");J.length>1&&(ve=J[1])}return["start","top","left"].includes(ve)?Y?"top":"left":["end","bottom","right"].includes(ve)?Y?"bottom":"right":Y?"middle":"center"});function d(){i&&(i.destroy(),i=null)}function f(){Kr(()=>{const Y=pa(o.target);!Y||!r.value||(i&&i.state.elements.reference!==Y&&d(),i?i.update():i=s0(Y,r.value,c.value))})}function h(Y){Object.assign(o,I_(Y,"force"))}function m(Y,ve){clearTimeout(n),Y>0?n=setTimeout(ve,Y):ve()}function b(Y){return!Y||!i?!1:pa(Y)===i.state.elements.reference}async function w(Y={}){o.force||(Y.force&&(o.force=!0),m(Y.showDelay??t.showDelay,()=>{o.isVisible&&(o.force=!1),h({...Y,isVisible:!0}),f()}))}function y(Y={}){i&&(Y.target&&!b(Y.target)||o.force||(Y.force&&(o.force=!0),m(Y.hideDelay??t.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function k(Y={}){Y.target!=null&&(o.isVisible&&b(Y.target)?y(Y):w(Y))}function R(Y){if(!i)return;const ve=i.state.elements.reference;if(!r.value||!ve)return;const J=Y.target;Zo(r.value,J)||Zo(ve,J)||y({force:!0})}function P(Y){(Y.key==="Esc"||Y.key==="Escape")&&y()}function N({detail:Y}){!Y.id||Y.id!==t.id||w(Y)}function L({detail:Y}){!Y.id||Y.id!==t.id||y(Y)}function K({detail:Y}){!Y.id||Y.id!==t.id||k(Y)}function W(){ur(document,"keydown",P),ur(document,"click",R),ur(document,"show-popover",N),ur(document,"hide-popover",L),ur(document,"toggle-popover",K)}function ne(){cr(document,"keydown",P),cr(document,"click",R),cr(document,"show-popover",N),cr(document,"hide-popover",L),cr(document,"toggle-popover",K)}function te(Y){e("before-show",Y)}function oe(Y){o.force=!1,e("after-show",Y)}function I(Y){e("before-hide",Y)}function q(Y){o.force=!1,d(),e("after-hide",Y)}function me(Y){Y.stopPropagation()}function se(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&w()}function ce(){if(o.isHovered=!1,!i)return;const Y=i.state.elements.reference;o.autoHide&&!o.isFocused&&(!Y||Y!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&y()}function ae(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&w()}function fe(Y){["focus","hover-focus"].includes(o.visibility)&&(!Y.relatedTarget||!Zo(r.value,Y.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&y())}function ke(){s!=null&&(s.disconnect(),s=null)}return lt(()=>r.value,Y=>{ke(),Y&&(s=new ResizeObserver(()=>{i&&i.update()}),s.observe(Y))}),lt(()=>o.placement,a,{immediate:!0}),Xs(()=>{W()}),ho(()=>{d(),ke(),ne()}),{...rw(o),popoverRef:r,alignment:u,hide:y,setupPopper:f,beforeEnter:te,afterEnter:oe,beforeLeave:I,afterLeave:q,onClick:me,onMouseOver:se,onMouseLeave:ce,onFocusIn:ae,onFocusOut:fe}}}),Mr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};function hN(t,e,n,r,s,i){return $(),B("div",{class:Ke(["vc-popover-content-wrapper",{"is-interactive":t.isInteractive}]),ref:"popoverRef",onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o)),onMouseover:e[1]||(e[1]=(...o)=>t.onMouseOver&&t.onMouseOver(...o)),onMouseleave:e[2]||(e[2]=(...o)=>t.onMouseLeave&&t.onMouseLeave(...o)),onFocusin:e[3]||(e[3]=(...o)=>t.onFocusIn&&t.onFocusIn(...o)),onFocusout:e[4]||(e[4]=(...o)=>t.onFocusOut&&t.onFocusOut(...o))},[X(el,{name:`vc-${t.transition}`,appear:"",onBeforeEnter:t.beforeEnter,onAfterEnter:t.afterEnter,onBeforeLeave:t.beforeLeave,onAfterLeave:t.afterLeave},{default:Ee(()=>[t.isVisible?($(),B("div",ds({key:0,tabindex:"-1",class:`vc-popover-content direction-${t.direction}`},t.$attrs),[po(t.$slots,"default",{direction:t.direction,alignment:t.alignment,data:t.data,hide:t.hide},()=>[He(Me(t.data),1)]),v("span",{class:Ke(["vc-popover-caret",`direction-${t.direction}`,`align-${t.alignment}`])},null,2)],16)):Ge("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const md=Mr(fN,[["render",hN]]),pN={class:"vc-day-popover-row"},mN={key:0,class:"vc-day-popover-row-indicator"},vN={class:"vc-day-popover-row-label"},_N=ft({__name:"PopoverRow",props:{attribute:null},setup(t){const e=t,n=S(()=>{const{content:r,highlight:s,dot:i,bar:o,popover:a}=e.attribute;return a&&a.hideIndicator?null:r?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${r.base.color}`}:s?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${s.base.color}`}:i?{class:`vc-dot vc-attr vc-${i.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(r,s)=>($(),B("div",pN,[M(n)?($(),B("div",mN,[v("span",{class:Ke(M(n).class)},null,2)])):Ge("",!0),v("div",vN,[po(r.$slots,"default",{},()=>[He(Me(t.attribute.popover?t.attribute.popover.label:"No content provided"),1)])])]))}}),gN={inheritAttrs:!1},en=ft({...gN,__name:"CalendarSlot",props:{name:null},setup(t){const n=ng(t.name);return(r,s)=>M(n)?($(),ot(xu(M(n)),Pi(ds({key:0},r.$attrs)),null,16)):po(r.$slots,"default",{key:1})}}),yN={class:"vc-day-popover-container"},bN={key:0,class:"vc-day-popover-header"},wN=ft({__name:"CalendarDayPopover",setup(t){const{dayPopoverId:e,displayMode:n,color:r,masks:s,locale:i}=ps();function o(l,c){return i.value.formatDate(l,c)}function a(l){return i.value.formatDate(l.date,s.value.dayPopover)}return(l,c)=>($(),ot(md,{id:M(e),class:Ke([`vc-${M(r)}`,`vc-${M(n)}`])},{default:Ee(({data:{day:u,attributes:d},hide:f})=>[X(en,{name:"day-popover",day:u,"day-title":a(u),attributes:d,format:o,masks:M(s),hide:f},{default:Ee(()=>[v("div",yN,[M(s).dayPopover?($(),B("div",bN,Me(a(u)),1)):Ge("",!0),($(!0),B(Pe,null,gt(d,h=>($(),ot(_N,{key:h.key,attribute:h},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),CN={},EN={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},SN=v("polyline",{points:"9 18 15 12 9 6"},null,-1),DN=[SN];function TN(t,e){return $(),B("svg",EN,DN)}const IN=Mr(CN,[["render",TN]]),$N={},PN={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},kN=v("polyline",{points:"15 18 9 12 15 6"},null,-1),AN=[kN];function ON(t,e){return $(),B("svg",PN,AN)}const MN=Mr($N,[["render",ON]]),xN={},RN={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},NN=v("polyline",{points:"6 9 12 15 18 9"},null,-1),LN=[NN];function FN(t,e){return $(),B("svg",RN,LN)}const YN=Mr(xN,[["render",FN]]),BN={},WN={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},HN=v("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),jN=[HN];function UN(t,e){return $(),B("svg",WN,jN)}const VN=Mr(BN,[["render",UN]]),zN=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:YN,IconChevronLeft:MN,IconChevronRight:IN,IconClock:VN},Symbol.toStringTag,{value:"Module"})),js=ft({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(t){const e=t,n=S(()=>e.width||e.size),r=S(()=>e.height||e.size),s=S(()=>zN[`Icon${e.name}`]);return(i,o)=>($(),ot(xu(M(s)),{width:M(n),height:M(r),class:"vc-base-icon"},null,8,["width","height"]))}}),KN=["disabled"],GN={key:1,class:"vc-title-wrapper"},qN={type:"button",class:"vc-title"},QN=["disabled"],sg=ft({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(t){const e=t,{navPopoverId:n,navVisibility:r,canMovePrev:s,movePrev:i,canMoveNext:o,moveNext:a}=ps(),l=S(()=>{switch(e.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),c=S(()=>{const{page:b}=e;return{id:n.value,visibility:r.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:b},isInteractive:!0}}),u=S(()=>e.page.titlePosition.includes("left")),d=S(()=>e.page.titlePosition.includes("right")),f=S(()=>e.layout?e.layout:u.value?"tu-pn":d.value?"pn-tu":"p-tu-n;"),h=S(()=>({prev:f.value.includes("p")&&!e.hideArrows,title:f.value.includes("t")&&!e.hideTitle,next:f.value.includes("n")&&!e.hideArrows})),m=S(()=>({gridTemplateColumns:f.value.split("").map(w=>{switch(w){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(b,w)=>($(),B("div",{class:Ke(["vc-header",{"is-lg":t.isLg,"is-xl":t.isXl,"is-2xl":t.is2xl}]),style:vn(M(m))},[M(h).prev?($(),B("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!M(s),onClick:w[0]||(w[0]=(...y)=>M(i)&&M(i)(...y)),onKeydown:w[1]||(w[1]=qf((...y)=>M(i)&&M(i)(...y),["space","enter"]))},[X(en,{name:"header-prev-button",disabled:!M(s)},{default:Ee(()=>[X(js,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,KN)):Ge("",!0),M(h).title?($(),B("div",GN,[X(en,{name:"header-title-wrapper"},{default:Ee(()=>[Fn(($(),B("button",qN,[X(en,{name:"header-title",title:t.page.title},{default:Ee(()=>[v("span",null,Me(t.page.title),1)]),_:1},8,["title"])])),[[M(q_),M(c)]])]),_:1})])):Ge("",!0),M(h).next?($(),B("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!M(o),onClick:w[2]||(w[2]=(...y)=>M(a)&&M(a)(...y)),onKeydown:w[3]||(w[3]=qf((...y)=>M(a)&&M(a)(...y),["space","enter"]))},[X(en,{name:"header-next-button",disabled:!M(o)},{default:Ee(()=>[X(js,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,QN)):Ge("",!0)],6))}}),ig=Symbol("__vc_page_context__");function ZN(t){const{locale:e,getDateAddress:n,canMove:r}=ps();function s(a,l){const{month:c,year:u}=n(new Date);return V_().map((d,f)=>{const h=f+1;return{month:h,year:a,id:Yx(h,a),label:e.value.formatDate(d,l),ariaLabel:e.value.formatDate(d,"MMMM"),isActive:h===t.value.month&&a===t.value.year,isCurrent:h===c&&a===u,isDisabled:!r({month:h,year:a},{position:t.value.position})}})}function i(a,l){const{year:c}=n(new Date),{position:u}=t.value,d=[];for(let f=a;f<=l;f+=1){const h=[...Array(12).keys()].some(m=>r({month:m+1,year:f},{position:u}));d.push({year:f,id:f.toString(),label:f.toString(),ariaLabel:f.toString(),isActive:f===t.value.year,isCurrent:f===c,isDisabled:!h})}return d}const o={page:t,getMonthItems:s,getYearItems:i};return Hn(ig,o),o}function og(){const t=Yt(ig);if(t)return t;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const XN={class:"vc-nav-header"},JN=["disabled"],eL=["disabled"],tL={class:"vc-nav-items"},nL=["data-id","aria-label","disabled","onClick","onKeydown"],rL=ft({__name:"CalendarNav",setup(t){const{masks:e,move:n}=ps(),{page:r,getMonthItems:s,getYearItems:i}=og(),o=Se(!0),a=12,l=Se(r.value.year),c=Se(f(r.value.year)),u=Se(null);function d(){setTimeout(()=>{if(u.value==null)return;const J=u.value.querySelector(".vc-nav-item:not(:disabled)");J&&J.focus()},10)}function f(J){return Math.floor(J/a)}function h(){o.value=!o.value}function m(J){return J*a}function b(J){return a*(J+1)-1}function w(){ae.value&&(o.value&&k(),P())}function y(){fe.value&&(o.value&&R(),N())}function k(){l.value--}function R(){l.value++}function P(){c.value--}function N(){c.value++}const L=S(()=>s(l.value,e.value.navMonths).map(J=>({...J,click:()=>n({month:J.month,year:J.year},{position:r.value.position})}))),K=S(()=>s(l.value-1,e.value.navMonths)),W=S(()=>K.value.some(J=>!J.isDisabled)),ne=S(()=>s(l.value+1,e.value.navMonths)),te=S(()=>ne.value.some(J=>!J.isDisabled)),oe=S(()=>i(m(c.value),b(c.value)).map(J=>({...J,click:()=>{l.value=J.year,o.value=!0,d()}}))),I=S(()=>i(m(c.value-1),b(c.value-1))),q=S(()=>I.value.some(J=>!J.isDisabled)),me=S(()=>i(m(c.value+1),b(c.value+1))),se=S(()=>me.value.some(J=>!J.isDisabled)),ce=S(()=>o.value?L.value:oe.value),ae=S(()=>o.value?W.value:q.value),fe=S(()=>o.value?te.value:se.value),ke=S(()=>D_(oe.value.map(J=>J.year))),Y=S(()=>Ss(oe.value.map(J=>J.year))),ve=S(()=>o.value?l.value:`${ke.value} - ${Y.value}`);return fv(()=>{l.value=r.value.year,d()}),lt(()=>l.value,J=>c.value=f(J)),Xs(()=>d()),(J,We)=>($(),B("div",{class:"vc-nav-container",ref_key:"navContainer",ref:u},[v("div",XN,[v("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!M(ae),onClick:w,onKeydown:We[0]||(We[0]=Te=>M(Bo)(Te,w))},[X(en,{name:"nav-prev-button",move:w,disabled:!M(ae)},{default:Ee(()=>[X(js,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,JN),v("button",{type:"button",class:"vc-nav-title vc-focus",onClick:h,onKeydown:We[1]||(We[1]=Te=>M(Bo)(Te,h))},Me(M(ve)),33),v("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!M(fe),onClick:y,onKeydown:We[2]||(We[2]=Te=>M(Bo)(Te,y))},[X(en,{name:"nav-next-button",move:y,disabled:!M(fe)},{default:Ee(()=>[X(js,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,eL)]),v("div",tL,[($(!0),B(Pe,null,gt(M(ce),Te=>($(),B("button",{key:Te.label,type:"button","data-id":Te.id,"aria-label":Te.ariaLabel,class:Ke(["vc-nav-item vc-focus",[Te.isActive?"is-active":Te.isCurrent?"is-current":""]]),disabled:Te.isDisabled,onClick:Te.click,onKeydown:Qe=>M(Bo)(Qe,Te.click)},Me(Te.label),43,nL))),128))])],512))}}),ag=ft({__name:"CalendarPageProvider",props:{page:null},setup(t){return ZN(Ko(t,"page")),(n,r)=>po(n.$slots,"default")}}),sL=ft({__name:"CalendarNavPopover",setup(t){const{navPopoverId:e,color:n,displayMode:r}=ps();return(s,i)=>($(),ot(md,{id:M(e),class:Ke(["vc-nav-popover-container",`vc-${M(n)}`,`vc-${M(r)}`])},{default:Ee(({data:o})=>[X(ag,{page:o.page},{default:Ee(()=>[X(en,{name:"nav"},{default:Ee(()=>[X(rL)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),iL=ft({directives:{popover:q_},components:{CalendarSlot:en},props:{day:{type:Object,required:!0}},setup(t){const{locale:e,theme:n,attributeContext:r,dayPopoverId:s,onDayClick:i,onDayMouseenter:o,onDayMouseleave:a,onDayFocusin:l,onDayFocusout:c,onDayKeydown:u}=ps(),d=S(()=>t.day),f=S(()=>r.value.getCells(d.value)),h=S(()=>f.value.map(se=>se.data)),m=S(()=>({...d.value,attributes:h.value,attributeCells:f.value}));function b({data:se},{popovers:ce}){const{key:ae,customData:fe,popover:ke}=se;if(!ke)return;const Y=Wh({key:ae,customData:fe,attribute:se},{...ke},{visibility:ke.label?"hover":"click",placement:"bottom",isInteractive:!ke.label});ce.splice(0,0,Y)}const w=S(()=>{const se={...n.value.prepareRender({}),popovers:[]};return f.value.forEach(ce=>{n.value.render(ce,se),b(ce,se)}),se}),y=S(()=>w.value.highlights),k=S(()=>!!Yn(y.value)),R=S(()=>w.value.content),P=S(()=>w.value.dots),N=S(()=>!!Yn(P.value)),L=S(()=>w.value.bars),K=S(()=>!!Yn(L.value)),W=S(()=>w.value.popovers),ne=S(()=>W.value.map(se=>se.attribute)),te=ng("day-content"),oe=S(()=>["vc-day",...d.value.classes,{"vc-day-box-center-center":!te},{"is-not-in-month":!t.day.inMonth}]),I=S(()=>{let se;d.value.isFocusable?se="0":se="-1";const ce=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":d.value.isDisabled},qr(Ss(y.value),"contentClass"),qr(Ss(R.value),"class")||""],ae={...qr(Ss(y.value),"contentStyle"),...qr(Ss(R.value),"style")};return{class:ce,style:ae,tabindex:se,"aria-label":d.value.ariaLabel,"aria-disabled":!!d.value.isDisabled,role:"button"}}),q=S(()=>({click(se){i(m.value,se)},mouseenter(se){o(m.value,se)},mouseleave(se){a(m.value,se)},focusin(se){l(m.value,se)},focusout(se){c(m.value,se)},keydown(se){u(m.value,se)}})),me=S(()=>Yn(W.value)?Wh({id:s.value,data:{day:d,attributes:ne.value}},...W.value):null);return{attributes:h,attributeCells:f,bars:L,dayClasses:oe,dayContentProps:I,dayContentEvents:q,dayPopover:me,glyphs:w,dots:P,hasDots:N,hasBars:K,highlights:y,hasHighlights:k,locale:e,popovers:W}}}),oL={key:0,class:"vc-highlights vc-day-layer"},aL={key:1,class:"vc-day-layer vc-day-box-center-bottom"},lL={class:"vc-dots"},cL={key:2,class:"vc-day-layer vc-day-box-center-bottom"},uL={class:"vc-bars"};function dL(t,e,n,r,s,i){const o=at("CalendarSlot"),a=_w("popover");return $(),B("div",{class:Ke(t.dayClasses)},[t.hasHighlights?($(),B("div",oL,[($(!0),B(Pe,null,gt(t.highlights,({key:l,wrapperClass:c,class:u,style:d})=>($(),B("div",{key:l,class:Ke(c)},[v("div",{class:Ke(u),style:vn(d)},null,6)],2))),128))])):Ge("",!0),X(o,{name:"day-content",day:t.day,attributes:t.attributes,"attribute-cells":t.attributeCells,dayProps:t.dayContentProps,dayEvents:t.dayContentEvents,locale:t.locale},{default:Ee(()=>[Fn(($(),B("div",ds(t.dayContentProps,Nw(t.dayContentEvents,!0)),[He(Me(t.day.label),1)],16)),[[a,t.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),t.hasDots?($(),B("div",aL,[v("div",lL,[($(!0),B(Pe,null,gt(t.dots,({key:l,class:c,style:u})=>($(),B("span",{key:l,class:Ke(c),style:vn(u)},null,6))),128))])])):Ge("",!0),t.hasBars?($(),B("div",cL,[v("div",uL,[($(!0),B(Pe,null,gt(t.bars,({key:l,class:c,style:u})=>($(),B("span",{key:l,class:Ke(c),style:vn(u)},null,6))),128))])])):Ge("",!0)],2)}const fL=Mr(iL,[["render",dL]]),hL={class:"vc-weekdays"},pL=["onClick"],mL={inheritAttrs:!1},vL=ft({...mL,__name:"CalendarPage",setup(t){const{page:e}=og(),{onWeeknumberClick:n}=ps();return(r,s)=>($(),B("div",{class:Ke(["vc-pane",`row-${M(e).row}`,`row-from-end-${M(e).rowFromEnd}`,`column-${M(e).column}`,`column-from-end-${M(e).columnFromEnd}`]),ref:"pane"},[X(sg,{page:M(e),"is-lg":"","hide-arrows":""},null,8,["page"]),v("div",{class:Ke(["vc-weeks",{[`vc-show-weeknumbers-${M(e).weeknumberPosition}`]:M(e).weeknumberPosition}])},[v("div",hL,[($(!0),B(Pe,null,gt(M(e).weekdays,({weekday:i,label:o},a)=>($(),B("div",{key:a,class:Ke(`vc-weekday vc-weekday-${i}`)},Me(o),3))),128))]),($(!0),B(Pe,null,gt(M(e).viewWeeks,i=>($(),B("div",{key:`weeknumber-${i.weeknumber}`,class:"vc-week"},[M(e).weeknumberPosition?($(),B("div",{key:0,class:Ke(["vc-weeknumber",`is-${M(e).weeknumberPosition}`])},[v("span",{class:Ke(["vc-weeknumber-content"]),onClick:o=>M(n)(i,o)},Me(i.weeknumberDisplay),9,pL)],2)):Ge("",!0),($(!0),B(Pe,null,gt(i.days,o=>($(),ot(fL,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),_L=ft({components:{CalendarHeader:sg,CalendarPage:vL,CalendarNavPopover:sL,CalendarDayPopover:wN,CalendarPageProvider:ag,CalendarSlot:en},props:cN,emit:uN,setup(t,{emit:e,slots:n}){return dN(t,{emit:e,slots:n})}}),gL={class:"vc-pane-header-wrapper"};function yL(t,e,n,r,s,i){const o=at("CalendarHeader"),a=at("CalendarPage"),l=at("CalendarSlot"),c=at("CalendarPageProvider"),u=at("CalendarDayPopover"),d=at("CalendarNavPopover");return $(),B(Pe,null,[v("div",ds({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},t.$attrs,{class:["vc-container",`vc-${t.view}`,`vc-${t.color}`,`vc-${t.displayMode}`,{"vc-expanded":t.expanded,"vc-bordered":!t.borderless,"vc-transparent":t.transparent}],onMouseup:e[0]||(e[0]=zi(()=>{},["prevent"])),ref:"containerRef"}),[v("div",{class:Ke(["vc-pane-container",{"in-transition":t.inTransition}])},[v("div",gL,[t.firstPage?($(),ot(o,{key:0,page:t.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):Ge("",!0)]),X(el,{name:`vc-${t.transitionName}`,onBeforeEnter:t.onTransitionBeforeEnter,onAfterEnter:t.onTransitionAfterEnter},{default:Ee(()=>[($(),B("div",{key:t.pages[0].id,class:"vc-pane-layout",style:vn({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[($(!0),B(Pe,null,gt(t.pages,f=>($(),ot(c,{key:f.id,page:f},{default:Ee(()=>[X(l,{name:"page",page:f},{default:Ee(()=>[X(a)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),X(l,{name:"footer"})],2)],16),X(u),X(d)],64)}const lg=Mr(_L,[["render",yL]]),cg=Symbol("__vc_date_picker_context__"),bL={...X_,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>Er("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>Er("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},wL=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function CL(t,{emit:e,slots:n}){tg(n,{footer:"dp-footer"});const r=J_(t),{locale:s,masks:i,disabledAttribute:o}=r,a=Se(!1),l=Se(Symbol()),c=Se(null),u=Se(null),d=Se(["",""]),f=Se(null),h=Se(null);let m,b,w=!0;const y=S(()=>t.isRange||t.modelModifiers.range===!0),k=S(()=>y.value&&c.value!=null?c.value.start:null),R=S(()=>y.value&&c.value!=null?c.value.end:null),P=S(()=>t.mode.toLowerCase()==="date"),N=S(()=>t.mode.toLowerCase()==="datetime"),L=S(()=>t.mode.toLowerCase()==="time"),K=S(()=>!!u.value),W=S(()=>{let _="date";t.modelModifiers.number&&(_="number"),t.modelModifiers.string&&(_="string");const O=i.value.modelValue||"iso";return We({type:_,mask:O})}),ne=S(()=>G(u.value??c.value)),te=S(()=>L.value?t.is24hr?i.value.inputTime24hr:i.value.inputTime:N.value?t.is24hr?i.value.inputDateTime24hr:i.value.inputDateTime:i.value.input),oe=S(()=>/[Hh]/g.test(te.value)),I=S(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(te.value)),q=S(()=>{if(oe.value&&I.value)return"dateTime";if(I.value)return"date";if(oe.value)return"time"}),me=S(()=>{var _;const O=((_=f.value)==null?void 0:_.$el.previousElementSibling)??void 0;return Hs({},t.popover,Er("datePicker.popover"),{target:O})}),se=S(()=>G_({...me.value,id:l.value})),ce=S(()=>y.value?{start:d.value[0],end:d.value[1]}:d.value[0]),ae=S(()=>{const _=["start","end"].map(O=>({input:T(O),change:D(O),keyup:H,...t.popover&&se.value}));return y.value?{start:_[0],end:_[1]}:_[0]}),fe=S(()=>{if(!E(c.value))return null;const _={key:"select-drag",...t.selectAttribute,dates:c.value,pinPage:!0},{dot:O,bar:Z,highlight:be,content:nt}=_;return!O&&!Z&&!be&&!nt&&(_.highlight=!0),_}),ke=S(()=>{if(!y.value||!E(u.value))return null;const _={key:"select-drag",...t.dragAttribute,dates:u.value},{dot:O,bar:Z,highlight:be,content:nt}=_;return!O&&!Z&&!be&&!nt&&(_.highlight={startEnd:{fillMode:"outline"}}),_}),Y=S(()=>{const _=an(t.attributes)?[...t.attributes]:[];return ke.value?_.unshift(ke.value):fe.value&&_.unshift(fe.value),_}),ve=S(()=>We(t.rules==="auto"?J():t.rules??{}));function J(){const _={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},O=P.value?0:t.timeAccuracy;return[0,1].map(Z=>{switch(O){case 0:return{hours:_.hr[Z],minutes:_.min[Z],seconds:_.sec[Z],milliseconds:_.ms[Z]};case 1:return{minutes:_.min[Z],seconds:_.sec[Z],milliseconds:_.ms[Z]};case 3:return{milliseconds:_.ms[Z]};case 4:return{};default:return{seconds:_.sec[Z],milliseconds:_.ms[Z]}}})}function We(_){return an(_)?_.length===1?[_[0],_[0]]:_:[_,_]}function Te(_){return We(_).map((O,Z)=>({...O,rules:ve.value[Z]}))}function Qe(_){return _==null?!1:gn(_)?!isNaN(_):As(_)?!isNaN(_.getTime()):Tn(_)?_!=="":dd(_)}function Ae(_){return zn(_)&&"start"in _&&"end"in _&&Qe(_.start??null)&&Qe(_.end??null)}function E(_){return Ae(_)||Qe(_)}function z(_,O){if(_==null&&O==null)return!0;if(_==null||O==null)return!1;const Z=As(_),be=As(O);return Z&&be?_.getTime()===O.getTime():Z||be?!1:z(_.start,O.start)&&z(_.end,O.end)}function V(_){return!E(_)||!o.value?!1:o.value.intersectsRange(s.value.range(_))}function ee(_,O,Z,be){if(!E(_))return null;if(Ae(_)){const nt=s.value.toDate(_.start,{...O[0],fillDate:k.value??void 0,patch:Z}),It=s.value.toDate(_.end,{...O[1],fillDate:R.value??void 0,patch:Z});return dn({start:nt,end:It},be)}return s.value.toDateOrNull(_,{...O[0],fillDate:c.value,patch:Z})}function ye(_,O){return Ae(_)?{start:s.value.fromDate(_.start,O[0]),end:s.value.fromDate(_.end,O[1])}:y.value?null:s.value.fromDate(_,O[0])}function Ie(_,O={}){return clearTimeout(m),new Promise(Z=>{const{debounce:be=0,...nt}=O;be>0?m=window.setTimeout(()=>{Z(p(_,nt))},be):Z(p(_,nt))})}function p(_,{config:O=W.value,patch:Z="dateTime",clearIfEqual:be=!1,formatInput:nt=!0,hidePopover:It=!1,dragging:Vt=K.value,targetPriority:ys,moveToValue:bs=!1}={}){const Fl=Te(O);let Rt=ee(_,Fl,Z,ys);if(V(Rt)){if(Vt)return null;Rt=c.value,It=!1}else Rt==null&&t.isRequired?Rt=c.value:Rt!=null&&z(c.value,Rt)&&be&&(Rt=null);const Po=Vt?u:c,pi=!z(Po.value,Rt);Po.value=Rt,Vt||(u.value=null);const mi=ye(Rt,W.value);return pi&&(w=!1,e(Vt?"drag":"update:modelValue",mi),Kr(()=>w=!0)),It&&!Vt&&Je(),nt&&g(),bs&&Kr(()=>Nr(ys??"start")),mi}function g(){Kr(()=>{const _=Te({type:"string",mask:te.value}),O=ye(u.value??c.value,_);y.value?d.value=[O&&O.start,O&&O.end]:d.value=[O,""]})}function C(_,O,Z){d.value.splice(O==="start"?0:1,1,_);const be=y.value?{start:d.value[0],end:d.value[1]||d.value[0]}:_,nt={type:"string",mask:te.value};Ie(be,{...Z,config:nt,patch:q.value,targetPriority:O,moveToValue:!0})}function T(_){return O=>{t.updateOnInput&&C(O.currentTarget.value,_,{formatInput:!1,hidePopover:!1,debounce:t.inputDebounce})}}function D(_){return O=>{C(O.currentTarget.value,_,{formatInput:!0,hidePopover:!1})}}function H(_){_.key==="Escape"&&Ie(c.value,{formatInput:!0,hidePopover:!0})}function G(_){return y.value?[_&&_.start?s.value.getDateParts(_.start):null,_&&_.end?s.value.getDateParts(_.end):null]:[_?s.value.getDateParts(_):null]}function F(){u.value=null,g()}function U(_){e("popover-will-show",_)}function x(_){e("popover-did-show",_)}function Q(_){F(),e("popover-will-hide",_)}function ie(_){e("popover-did-hide",_)}function re(_){const O={patch:"date",formatInput:!0,hidePopover:!0};if(y.value){const Z=!K.value;Z?b={start:_.startDate,end:_.endDate}:b!=null&&(b.end=_.date),Ie(b,{...O,dragging:Z})}else Ie(_.date,{...O,clearIfEqual:!t.isRequired})}function ue(_,O){re(_),e("dayclick",_,O)}function _e(_,O){switch(O.key){case" ":case"Enter":{re(_),O.preventDefault();break}case"Escape":Je()}e("daykeydown",_,O)}function $e(_,O){!K.value||b==null||(b.end=_.date,Ie(dn(b),{patch:"date",formatInput:!0}))}function Fe(_={}){Wc({...me.value,..._,isInteractive:!0,id:l.value})}function Je(_={}){Qi({hideDelay:10,force:!0,...me.value,..._,id:l.value})}function Tt(_){K_({...me.value,..._,isInteractive:!0,id:l.value})}function dn(_,O){const{start:Z,end:be}=_;if(Z>be)switch(O){case"start":return{start:Z,end:Z};case"end":return{start:be,end:be};default:return{start:be,end:Z}}return{start:Z,end:be}}async function Rr(_,O={}){return h.value==null?!1:h.value.move(_,O)}async function Nn(_,O={}){return h.value==null?!1:h.value.moveBy(_,O)}async function Nr(_,O={}){const Z=c.value;if(h.value==null||!E(Z))return!1;const be=_!=="end",nt=be?1:-1,It=Ae(Z)?be?Z.start:Z.end:Z,Vt=A_(It,"monthly",s.value);return h.value.move(Vt,{position:nt,...O})}lt(()=>t.isRange,_=>{_&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),lt(()=>y.value,()=>{p(null,{formatInput:!0})}),lt(()=>te.value,()=>g()),lt(()=>t.modelValue,_=>{w&&p(_,{formatInput:!0,hidePopover:!1})}),lt(()=>ve.value,()=>{zn(t.rules)&&p(t.modelValue,{formatInput:!0,hidePopover:!1})}),lt(()=>t.timezone,()=>{p(c.value,{formatInput:!0})});const ht=We(W.value);c.value=ee(t.modelValue??null,ht,"dateTime"),Xs(()=>{p(t.modelValue,{formatInput:!0,hidePopover:!1})}),Kr(()=>a.value=!0);const A={...r,showCalendar:a,datePickerPopoverId:l,popoverRef:f,popoverEvents:se,calendarRef:h,isRange:y,isTimeMode:L,isDateTimeMode:N,is24hr:Ko(t,"is24hr"),hideTimeHeader:Ko(t,"hideTimeHeader"),timeAccuracy:Ko(t,"timeAccuracy"),isDragging:K,inputValue:ce,inputEvents:ae,dateParts:ne,attributes:Y,rules:ve,move:Rr,moveBy:Nn,moveToValue:Nr,updateValue:Ie,showPopover:Fe,hidePopover:Je,togglePopover:Tt,onDayClick:ue,onDayKeydown:_e,onDayMouseEnter:$e,onPopoverBeforeShow:U,onPopoverAfterShow:x,onPopoverBeforeHide:Q,onPopoverAfterHide:ie};return Hn(cg,A),A}function vd(){const t=Yt(cg);if(t)return t;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const EL=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],SL=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function DL(t){const e=vd(),{locale:n,isRange:r,isTimeMode:s,dateParts:i,rules:o,is24hr:a,hideTimeHeader:l,timeAccuracy:c,updateValue:u}=e;function d(I){I=Object.assign(h.value,I);let q=null;if(r.value){const me=f.value?I:i.value[0],se=f.value?i.value[1]:I;q={start:me,end:se}}else q=I;u(q,{patch:"time",targetPriority:f.value?"start":"end",moveToValue:!0})}const f=S(()=>t.position===0),h=S(()=>i.value[t.position]||{isValid:!1}),m=S(()=>dd(h.value)),b=S(()=>!!h.value.isValid),w=S(()=>!l.value&&b.value),y=S(()=>{if(!m.value)return null;let I=n.value.toDate(h.value);return h.value.hours===24&&(I=new Date(I.getTime()-1)),I}),k=S({get(){return h.value.hours},set(I){d({hours:I})}}),R=S({get(){return h.value.minutes},set(I){d({minutes:I})}}),P=S({get(){return h.value.seconds},set(I){d({seconds:I})}}),N=S({get(){return h.value.milliseconds},set(I){d({milliseconds:I})}}),L=S({get(){return h.value.hours<12},set(I){I=String(I).toLowerCase()=="true";let q=k.value;I&&q>=12?q-=12:!I&&q<12&&(q+=12),d({hours:q})}}),K=S(()=>UR(h.value,o.value[t.position])),W=S(()=>EL.filter(I=>K.value.hours.some(q=>q.value===I.value))),ne=S(()=>SL.filter(I=>K.value.hours.some(q=>q.value===I.value))),te=S(()=>a.value?K.value.hours:L.value?W.value:ne.value),oe=S(()=>{const I=[];return Yn(W.value)&&I.push({value:!0,label:"AM"}),Yn(ne.value)&&I.push({value:!1,label:"PM"}),I});return{...e,showHeader:w,timeAccuracy:c,parts:h,isValid:b,date:y,hours:k,minutes:R,seconds:P,milliseconds:N,options:K,hourOptions:te,isAM:L,isAMOptions:oe,is24hr:a}}const TL=["value"],IL=["value","disabled"],$L={key:1,class:"vc-base-sizer","aria-hidden":"true"},PL={inheritAttrs:!1},bi=ft({...PL,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(t){const e=t,n=S(()=>{const r=e.options.find(s=>s.value===e.modelValue);return r==null?void 0:r.label});return(r,s)=>($(),B("div",{class:Ke(["vc-base-select",{"vc-fit-content":t.fitContent,"vc-has-icon":t.showIcon}])},[v("select",ds(r.$attrs,{value:t.modelValue,class:["vc-focus",{"vc-align-right":t.alignRight,"vc-align-left":t.alignLeft}],onChange:s[0]||(s[0]=i=>r.$emit("update:modelValue",i.target.value))}),[($(!0),B(Pe,null,gt(t.options,i=>($(),B("option",{key:i.value,value:i.value,disabled:i.disabled},Me(i.label),9,IL))),128))],16,TL),t.showIcon?($(),ot(js,{key:0,name:"ChevronDown",size:"18"})):Ge("",!0),t.fitContent?($(),B("div",$L,Me(M(n)),1)):Ge("",!0)],2))}}),kL={key:0,class:"vc-time-header"},AL={class:"vc-time-weekday"},OL={class:"vc-time-month"},ML={class:"vc-time-day"},xL={class:"vc-time-year"},RL={class:"vc-time-select-group"},NL=v("span",{class:"vc-time-colon"},":",-1),LL=v("span",{class:"vc-time-colon"},":",-1),FL=v("span",{class:"vc-time-decimal"},".",-1),vp=ft({__name:"TimePicker",props:{position:null},setup(t,{expose:e}){const r=DL(t);e(r);const{locale:s,isValid:i,date:o,hours:a,minutes:l,seconds:c,milliseconds:u,options:d,hourOptions:f,isTimeMode:h,isAM:m,isAMOptions:b,is24hr:w,showHeader:y,timeAccuracy:k}=r;return(R,P)=>($(),B("div",{class:Ke(["vc-time-picker",[{"vc-invalid":!M(i),"vc-attached":!M(h)}]])},[X(en,{name:"time-header"},{default:Ee(()=>[M(y)&&M(o)?($(),B("div",kL,[v("span",AL,Me(M(s).formatDate(M(o),"WWW")),1),v("span",OL,Me(M(s).formatDate(M(o),"MMM")),1),v("span",ML,Me(M(s).formatDate(M(o),"D")),1),v("span",xL,Me(M(s).formatDate(M(o),"YYYY")),1)])):Ge("",!0)]),_:1}),v("div",RL,[X(js,{name:"Clock",size:"17"}),X(bi,{modelValue:M(a),"onUpdate:modelValue":P[0]||(P[0]=N=>it(a)?a.value=N:null),modelModifiers:{number:!0},options:M(f),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),M(k)>1?($(),B(Pe,{key:0},[NL,X(bi,{modelValue:M(l),"onUpdate:modelValue":P[1]||(P[1]=N=>it(l)?l.value=N:null),modelModifiers:{number:!0},options:M(d).minutes,class:"vc-time-select-minutes","align-left":M(k)===2},null,8,["modelValue","options","align-left"])],64)):Ge("",!0),M(k)>2?($(),B(Pe,{key:1},[LL,X(bi,{modelValue:M(c),"onUpdate:modelValue":P[2]||(P[2]=N=>it(c)?c.value=N:null),modelModifiers:{number:!0},options:M(d).seconds,class:"vc-time-select-seconds","align-left":M(k)===3},null,8,["modelValue","options","align-left"])],64)):Ge("",!0),M(k)>3?($(),B(Pe,{key:2},[FL,X(bi,{modelValue:M(u),"onUpdate:modelValue":P[3]||(P[3]=N=>it(u)?u.value=N:null),modelModifiers:{number:!0},options:M(d).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):Ge("",!0),M(w)?Ge("",!0):($(),ot(bi,{key:3,modelValue:M(m),"onUpdate:modelValue":P[4]||(P[4]=N=>it(m)?m.value=N:null),options:M(b)},null,8,["modelValue","options"]))])],2))}}),ug=ft({__name:"DatePickerBase",setup(t){const{attributes:e,calendarRef:n,color:r,displayMode:s,isDateTimeMode:i,isTimeMode:o,isRange:a,onDayClick:l,onDayMouseEnter:c,onDayKeydown:u}=vd(),d=a.value?[0,1]:[0];return(f,h)=>M(o)?($(),B("div",{key:0,class:Ke(`vc-container vc-bordered vc-${M(r)} vc-${M(s)}`)},[($(!0),B(Pe,null,gt(M(d),m=>($(),ot(vp,{key:m,position:m},null,8,["position"]))),128))],2)):($(),ot(lg,{key:1,attributes:M(e),ref_key:"calendarRef",ref:n,onDayclick:M(l),onDaymouseenter:M(c),onDaykeydown:M(u)},{footer:Ee(()=>[M(i)?($(!0),B(Pe,{key:0},gt(M(d),m=>($(),ot(vp,{key:m,position:m},null,8,["position"]))),128)):Ge("",!0),X(en,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),YL={inheritAttrs:!1},BL=ft({...YL,__name:"DatePickerPopover",setup(t){const{datePickerPopoverId:e,color:n,displayMode:r,popoverRef:s,onPopoverBeforeShow:i,onPopoverAfterShow:o,onPopoverBeforeHide:a,onPopoverAfterHide:l}=vd();return(c,u)=>($(),ot(md,{id:M(e),placement:"bottom-start",class:Ke(`vc-date-picker-content vc-${M(n)} vc-${M(r)}`),ref_key:"popoverRef",ref:s,onBeforeShow:M(i),onAfterShow:M(o),onBeforeHide:M(a),onAfterHide:M(l)},{default:Ee(()=>[X(ug,Pi(la(c.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),WL=ft({inheritAttrs:!1,emits:wL,props:bL,components:{DatePickerBase:ug,DatePickerPopover:BL},setup(t,e){const n=CL(t,e),r=Ar(I_(n,"calendarRef","popoverRef"));return{...n,slotCtx:r}}});function HL(t,e,n,r,s,i){const o=at("DatePickerPopover"),a=at("DatePickerBase");return t.$slots.default?($(),B(Pe,{key:0},[po(t.$slots,"default",Pi(la(t.slotCtx))),X(o,Pi(la(t.$attrs)),null,16)],64)):($(),ot(a,Pi(ds({key:1},t.$attrs)),null,16))}const dg=Mr(WL,[["render",HL]]),jL="modulepreload",UL=function(t){return"/"+t},_p={},VL=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(o=>{if(o=UL(o),o in _p)return;_p[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":jL,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function zL(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l,c;const u=async(f=!0)=>{await l,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await VL(()=>import("./workbox-window.prod.es5-prqDwDSL.js"),__vite__mapDeps([])).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let f=!1;const h=()=>{f=!0,a==null||a.addEventListener("controlling",m=>{m.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",m=>{typeof m.isUpdate>"u"?typeof m.isExternal<"u"?m.isExternal?h():!f&&(r==null||r()):m.isExternal?window.location.reload():!f&&(r==null||r()):m.isUpdate||r==null||r()}),a.addEventListener("waiting",h),a.addEventListener("externalwaiting",h)}a.register({immediate:e}).then(f=>{i?i("/sw.js",f):s==null||s(f)}).catch(f=>{o==null||o(f)})}}return l=d(),u}const tt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},cl=t=>(Ot("data-v-998d6d13"),t=t(),Mt(),t),KL={class:"friend-list container mt-5"},GL={class:"mb-3"},qL={class:"list-group"},QL=["onClick"],ZL=["onClick"],XL=["src"],JL={class:"buttons"},eF=["onClick"],tF={class:"modal-background"},nF={class:"modal-dialog modal-dialog-centered",role:"document"},rF={class:"modal-content"},sF=cl(()=>v("h5",{class:"modal-title"},"친구 프로필",-1)),iF=cl(()=>v("span",null,"×",-1)),oF=[iF],aF={class:"modal-body"},lF=cl(()=>v("strong",null,"이름:",-1)),cF=cl(()=>v("strong",null,"나이:",-1)),uF={__name:"Friend",setup(t){const e=Se(""),n=Se([{id:1,name:"김철수",age:25},{id:2,name:"김영희",age:30},{id:3,name:"김싸피",age:28},{id:4,name:"손흥민",age:25},{id:5,name:"봉준호",age:30},{id:6,name:"김준호",age:28},{id:7,name:"카리나",age:25},{id:8,name:"공유",age:30},{id:9,name:"황정민",age:28}]),r=Se(null),s=S(()=>n.value.filter(l=>l.name.toLowerCase().includes(e.value.toLowerCase()))),i=l=>{r.value=l},o=()=>{r.value=null},a=l=>{console.log("채팅 시작:",l.name)};return(l,c)=>($(),B("div",KL,[v("div",GL,[Fn(v("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>e.value=u),type:"text",class:"form-control",placeholder:"친구 검색"},null,512),[[ks,e.value]])]),v("ul",qL,[($(!0),B(Pe,null,gt(s.value,u=>($(),B("li",{key:u.id,class:"list-group-item",onClick:d=>i(u)},[v("div",{class:"friend-item",onClick:d=>i(u)},[v("img",{src:u.profilePicture,alt:"프로필 이미지",class:"profile-image mr-2"},null,8,XL),v("span",null,Me(u.name),1)],8,ZL),v("div",JL,[v("button",{class:"btn btn-primary btn-sm",onClick:zi(d=>a(u),["stop"])},"채팅",8,eF)])],8,QL))),128))]),r.value?($(),B("div",{key:0,class:"modal fade show",tabindex:"-1",role:"dialog",onClick:o},[v("div",tF,[v("div",nF,[v("div",rF,[v("div",{class:"modal-header"},[sF,v("button",{type:"button",class:"close","data-dismiss":"modal",onClick:o},oF)]),v("div",aF,[v("p",null,[lF,He(" "+Me(r.value.name),1)]),v("p",null,[cF,He(" "+Me(r.value.age),1)])])])])])])):Ge("",!0)]))}},dF=tt(uF,[["__scopeId","data-v-998d6d13"]]),fF={data(){return{notifications:[{id:1,message:"새로운 알림 1"},{id:2,message:"새로운 알림 2"}]}}},hF=t=>(Ot("data-v-dd0c139d"),t=t(),Mt(),t),pF={class:"notifications"},mF=hF(()=>v("div",{class:"notifications-title"},"알림",-1));function vF(t,e,n,r,s,i){return $(),B("div",pF,[mF,v("ul",null,[($(!0),B(Pe,null,gt(s.notifications,o=>($(),B("li",{key:o.id},Me(o.message),1))),128))])])}const _F=tt(fF,[["render",vF],["__scopeId","data-v-dd0c139d"]]),xt=t=>(Ot("data-v-0711383d"),t=t(),Mt(),t),gF={class:"navbar bg-body-tertiary fixed-top"},yF={class:"container-fluid d-flex justify-content-between align-items-center"},bF=xt(()=>v("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"},[v("span",{class:"navbar-toggler-icon"})],-1)),wF=xt(()=>v("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNotifications","aria-controls":"offcanvasNotifications"}," 알림 ",-1)),CF={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel","data-bs-toggle":"offcanvas"},EF=xt(()=>v("div",{class:"offcanvas-header"},[v("h5",{class:"offcanvas-title",id:"offcanvasNavbarLabel"},"메뉴 전체보기"),v("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),SF={class:"offcanvas-body"},DF=xt(()=>v("span",{class:"emoji"},"🎯",-1)),TF=xt(()=>v("span",{class:"emoji"},"📅",-1)),IF=xt(()=>v("span",{class:"emoji"},"🤝",-1)),$F=xt(()=>v("span",{class:"emoji"},"📋",-1)),PF=xt(()=>v("span",{class:"emoji"},"👫",-1)),kF=xt(()=>v("span",{class:"emoji"},"🔄",-1)),AF=xt(()=>v("span",{class:"emoji"},"🔊",-1)),OF=xt(()=>v("span",{class:"emoji"},"👤",-1)),MF=xt(()=>v("p",{style:{color:"red"}},"잠깐 아래 부분 푸시 알림 테스트 용도로 쓸게요!!",-1)),xF=xt(()=>v("span",{class:"emoji"},null,-1)),RF=xt(()=>v("span",{class:"emoji"},null,-1)),NF={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasNotifications","aria-labelledby":"offcanvasNotificationsLabel","data-bs-toggle":"offcanvas"},LF=xt(()=>v("div",{class:"offcanvas-header"},[v("h5",{class:"offcanvas-title",id:"offcanvasNotificationsLabel"},"알림"),v("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),FF={class:"offcanvas-body"},YF={__name:"Sidebar",setup(t){return(e,n)=>{const r=at("router-link");return $(),B("div",null,[v("nav",gF,[v("div",yF,[bF,X(r,{to:"/",class:"navbar-brand mx-auto"},{default:Ee(()=>[He("Todak Todak")]),_:1}),wF,v("div",CF,[EF,v("div",SF,[X(r,{to:"/goal",class:"nav-link"},{default:Ee(()=>[DF,He(" 목표 만들기")]),_:1}),X(r,{to:"/calendar",class:"nav-link"},{default:Ee(()=>[TF,He(" 캘린더")]),_:1}),X(r,{to:"/meeting",class:"nav-link"},{default:Ee(()=>[IF,He(" 모임")]),_:1}),X(r,{to:"/board",class:"nav-link"},{default:Ee(()=>[$F,He(" 게시판")]),_:1}),X(r,{to:"/Friend",class:"nav-link"},{default:Ee(()=>[PF,He(" 친구")]),_:1}),X(r,{to:"/habit",class:"nav-link"},{default:Ee(()=>[kF,He(" 습관")]),_:1}),X(r,{to:"/voice",class:"nav-link"},{default:Ee(()=>[AF,He(" 음성")]),_:1}),X(r,{to:"/mypage",class:"nav-link"},{default:Ee(()=>[OF,He(" 마이페이지")]),_:1}),MF,X(r,{to:"/subscribe",class:"nav-link",style:{color:"red"}},{default:Ee(()=>[xF,He(" subscribe")]),_:1}),X(r,{to:"/pushnotify",class:"nav-link",style:{color:"red"}},{default:Ee(()=>[RF,He(" pushnotify")]),_:1})])])])]),v("div",NF,[LF,v("div",FF,[X(_F)])])])}}},BF=tt(YF,[["__scopeId","data-v-0711383d"]]),WF={methods:{closeModal(){this.$emit("close-modal")}}},fg=t=>(Ot("data-v-8adbaab9"),t=t(),Mt(),t),HF={class:"modal-content"},jF=fg(()=>v("h4",null,"TodoList 모달",-1)),UF=fg(()=>v("p",null,"TodoList 모달",-1));function VF(t,e,n,r,s,i){return $(),B("div",HF,[v("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))}),jF,UF])}const hg=tt(WF,[["render",VF],["__scopeId","data-v-8adbaab9"]]),zF={components:{Calendar:lg,DatePicker:dg},data(){return{date:new Date}},methods:{handleDateClick(t){console.log("Selected date:",t),this.$router.push({name:"CalendarDetail",params:{date:t}})}}};function KF(t,e,n,r,s,i){const o=at("DatePicker");return $(),ot(o,{expanded:"",modelValue:s.date,"onUpdate:modelValue":e[0]||(e[0]=a=>s.date=a),"onClick:date":i.handleDateClick},null,8,["modelValue","onClick:date"])}const pg=tt(zF,[["render",KF],["__scopeId","data-v-6f6e2f48"]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Es=typeof window<"u";function GF(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Le=Object.assign;function nc(t,e){const n={};for(const r in e){const s=e[r];n[r]=yn(s)?s.map(t):t(s)}return n}const Ri=()=>{},yn=Array.isArray,qF=/\/$/,QF=t=>t.replace(qF,"");function rc(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=e2(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function ZF(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function gp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function XF(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Us(e.matched[r],n.matched[s])&&mg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Us(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!JF(t[n],e[n]))return!1;return!0}function JF(t,e){return yn(t)?yp(t,e):yn(e)?yp(e,t):t===e}function yp(t,e){return yn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function e2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Zi;(function(t){t.pop="pop",t.push="push"})(Zi||(Zi={}));var Ni;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ni||(Ni={}));function t2(t){if(!t)if(Es){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),QF(t)}const n2=/^[^#]+#/;function r2(t,e){return t.replace(n2,"#")+e}function s2(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ul=()=>({left:window.pageXOffset,top:window.pageYOffset});function i2(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=s2(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function bp(t,e){return(history.state?history.state.position-e:-1)+t}const Hc=new Map;function o2(t,e){Hc.set(t,e)}function a2(t){const e=Hc.get(t);return Hc.delete(t),e}let l2=()=>location.protocol+"//"+location.host;function vg(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),gp(l,"")}return gp(n,t)+r+s}function c2(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const h=vg(t,location),m=n.value,b=e.value;let w=0;if(f){if(n.value=h,e.value=f,o&&o===m){o=null;return}w=b?f.position-b.position:0}else r(h);s.forEach(y=>{y(n.value,m,{delta:w,type:Zi.pop,direction:w?w>0?Ni.forward:Ni.back:Ni.unknown})})};function l(){o=n.value}function c(f){s.push(f);const h=()=>{const m=s.indexOf(f);m>-1&&s.splice(m,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Le({},f.state,{scroll:ul()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function wp(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?ul():null}}function u2(t){const{history:e,location:n}=window,r={value:vg(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:l2()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Le({},e.state,wp(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=Le({},s.value,e.state,{forward:l,scroll:ul()});i(u.current,u,!0);const d=Le({},wp(r.value,l,null),{position:u.position+1},c);i(l,d,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function d2(t){t=t2(t);const e=u2(t),n=c2(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Le({location:"",base:t,go:r,createHref:r2.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function f2(t){return typeof t=="string"||t&&typeof t=="object"}function _g(t){return typeof t=="string"||typeof t=="symbol"}const rr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},gg=Symbol("");var Cp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Cp||(Cp={}));function Vs(t,e){return Le(new Error,{type:t,[gg]:!0},e)}function Ln(t,e){return t instanceof Error&&gg in t&&(e==null||!!(t.type&e))}const Ep="[^/]+?",h2={sensitive:!1,strict:!1,start:!0,end:!0},p2=/[.+*?^${}()[\]/\\]/g;function m2(t,e){const n=Le({},h2,e),r=[];let s=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(s+="/"),s+=f.value.replace(p2,"\\$&"),h+=40;else if(f.type===1){const{value:m,repeatable:b,optional:w,regexp:y}=f;i.push({name:m,repeatable:b,optional:w});const k=y||Ep;if(k!==Ep){h+=10;try{new RegExp(`(${k})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${m}" (${k}): `+P.message)}}let R=b?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;d||(R=w&&c.length<2?`(?:/${R})`:"/"+R),w&&(R+="?"),s+=R,h+=20,w&&(h+=-8),b&&(h+=-20),k===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",m=i[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:b,optional:w}=h,y=m in c?c[m]:"";if(yn(y)&&!b)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const k=yn(y)?y.join("/"):y;if(!k)if(w)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=k}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function v2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function _2(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=v2(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Sp(r))return 1;if(Sp(s))return-1}return s.length-r.length}function Sp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const g2={type:0,value:""},y2=/[a-zA-Z0-9_]/;function b2(t){if(!t)return[[]];if(t==="/")return[[g2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:y2.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}function w2(t,e,n){const r=m2(b2(t.path),n),s=Le(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function C2(t,e){const n=[],r=new Map;e=Ip({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function i(u,d,f){const h=!f,m=E2(u);m.aliasOf=f&&f.record;const b=Ip(e,u),w=[m];if("alias"in u){const R=typeof u.alias=="string"?[u.alias]:u.alias;for(const P of R)w.push(Le({},m,{components:f?f.record.components:m.components,path:P,aliasOf:f?f.record:m}))}let y,k;for(const R of w){const{path:P}=R;if(d&&P[0]!=="/"){const N=d.record.path,L=N[N.length-1]==="/"?"":"/";R.path=d.record.path+(P&&L+P)}if(y=w2(R,d,b),f?f.alias.push(y):(k=k||y,k!==y&&k.alias.push(y),h&&u.name&&!Tp(y)&&o(u.name)),m.children){const N=m.children;for(let L=0;L<N.length;L++)i(N[L],y,f&&f.children[L])}f=f||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return k?()=>{o(k)}:Ri}function o(u){if(_g(u)){const d=r.get(u);d&&(r.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&_2(u,n[d])>=0&&(u.record.path!==n[d].record.path||!yg(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!Tp(u)&&r.set(u.record.name,u)}function c(u,d){let f,h={},m,b;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw Vs(1,{location:u});b=f.record.name,h=Le(Dp(d.params,f.keys.filter(k=>!k.optional).map(k=>k.name)),u.params&&Dp(u.params,f.keys.map(k=>k.name))),m=f.stringify(h)}else if("path"in u)m=u.path,f=n.find(k=>k.re.test(m)),f&&(h=f.parse(m),b=f.record.name);else{if(f=d.name?r.get(d.name):n.find(k=>k.re.test(d.path)),!f)throw Vs(1,{location:u,currentLocation:d});b=f.record.name,h=Le({},d.params,u.params),m=f.stringify(h)}const w=[];let y=f;for(;y;)w.unshift(y.record),y=y.parent;return{name:b,path:m,params:h,matched:w,meta:D2(w)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Dp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function E2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:S2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function S2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Tp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function D2(t){return t.reduce((e,n)=>Le(e,n.meta),{})}function Ip(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function yg(t,e){return e.children.some(n=>n===t||yg(t,n))}const bg=/#/g,T2=/&/g,I2=/\//g,$2=/=/g,P2=/\?/g,wg=/\+/g,k2=/%5B/g,A2=/%5D/g,Cg=/%5E/g,O2=/%60/g,Eg=/%7B/g,M2=/%7C/g,Sg=/%7D/g,x2=/%20/g;function _d(t){return encodeURI(""+t).replace(M2,"|").replace(k2,"[").replace(A2,"]")}function R2(t){return _d(t).replace(Eg,"{").replace(Sg,"}").replace(Cg,"^")}function jc(t){return _d(t).replace(wg,"%2B").replace(x2,"+").replace(bg,"%23").replace(T2,"%26").replace(O2,"`").replace(Eg,"{").replace(Sg,"}").replace(Cg,"^")}function N2(t){return jc(t).replace($2,"%3D")}function L2(t){return _d(t).replace(bg,"%23").replace(P2,"%3F")}function F2(t){return t==null?"":L2(t).replace(I2,"%2F")}function Ca(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Y2(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(wg," "),o=i.indexOf("="),a=Ca(o<0?i:i.slice(0,o)),l=o<0?null:Ca(i.slice(o+1));if(a in e){let c=e[a];yn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function $p(t){let e="";for(let n in t){const r=t[n];if(n=N2(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(yn(r)?r.map(i=>i&&jc(i)):[r&&jc(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function B2(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=yn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const W2=Symbol(""),Pp=Symbol(""),gd=Symbol(""),Dg=Symbol(""),Uc=Symbol("");function wi(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function lr(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Vs(4,{from:n,to:e})):d instanceof Error?a(d):f2(d)?a(Vs(2,{from:e,to:d})):(i&&r.enterCallbacks[s]===i&&typeof d=="function"&&i.push(d),o())},c=t.call(r&&r.instances[s],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function sc(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(H2(a)){const c=(a.__vccOpts||a)[e];c&&s.push(lr(c,n,r,i,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=GF(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&lr(f,n,r,i,o)()}))}}return s}function H2(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function kp(t){const e=Yt(gd),n=Yt(Dg),r=S(()=>e.resolve(M(t.to))),s=S(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Us.bind(null,u));if(f>-1)return f;const h=Ap(l[c-2]);return c>1&&Ap(u)===h&&d[d.length-1].path!==h?d.findIndex(Us.bind(null,l[c-2])):f}),i=S(()=>s.value>-1&&V2(n.params,r.value.params)),o=S(()=>s.value>-1&&s.value===n.matched.length-1&&mg(n.params,r.value.params));function a(l={}){return U2(l)?e[M(t.replace)?"replace":"push"](M(t.to)).catch(Ri):Promise.resolve()}return{route:r,href:S(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const j2=ft({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:kp,setup(t,{slots:e}){const n=Ar(kp(t)),{options:r}=Yt(gd),s=S(()=>({[Op(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Op(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Bu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),yd=j2;function U2(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function V2(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!yn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Ap(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Op=(t,e,n)=>t??e??n,z2=ft({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Yt(Uc),s=S(()=>t.route||r.value),i=Yt(Pp,0),o=S(()=>{let c=M(i);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=S(()=>s.value.matched[o.value]);Hn(Pp,S(()=>o.value+1)),Hn(W2,a),Hn(Uc,s);const l=Se();return lt(()=>[l.value,a.value,t.name],([c,u,d],[f,h,m])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!Us(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return Mp(n.default,{Component:f,route:c});const h=d.props[u],m=h?h===!0?c.params:typeof h=="function"?h(c):h:null,w=Bu(f,Le({},m,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Mp(n.default,{Component:w,route:c})||w}}});function Mp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const bd=z2;function K2(t){const e=C2(t.routes,t),n=t.parseQuery||Y2,r=t.stringifyQuery||$p,s=t.history,i=wi(),o=wi(),a=wi(),l=ew(rr);let c=rr;Es&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=nc.bind(null,E=>""+E),d=nc.bind(null,F2),f=nc.bind(null,Ca);function h(E,z){let V,ee;return _g(E)?(V=e.getRecordMatcher(E),ee=z):ee=E,e.addRoute(ee,V)}function m(E){const z=e.getRecordMatcher(E);z&&e.removeRoute(z)}function b(){return e.getRoutes().map(E=>E.record)}function w(E){return!!e.getRecordMatcher(E)}function y(E,z){if(z=Le({},z||l.value),typeof E=="string"){const g=rc(n,E,z.path),C=e.resolve({path:g.path},z),T=s.createHref(g.fullPath);return Le(g,C,{params:f(C.params),hash:Ca(g.hash),redirectedFrom:void 0,href:T})}let V;if("path"in E)V=Le({},E,{path:rc(n,E.path,z.path).path});else{const g=Le({},E.params);for(const C in g)g[C]==null&&delete g[C];V=Le({},E,{params:d(g)}),z.params=d(z.params)}const ee=e.resolve(V,z),ye=E.hash||"";ee.params=u(f(ee.params));const Ie=ZF(r,Le({},E,{hash:R2(ye),path:ee.path})),p=s.createHref(Ie);return Le({fullPath:Ie,hash:ye,query:r===$p?B2(E.query):E.query||{}},ee,{redirectedFrom:void 0,href:p})}function k(E){return typeof E=="string"?rc(n,E,l.value.path):Le({},E)}function R(E,z){if(c!==E)return Vs(8,{from:z,to:E})}function P(E){return K(E)}function N(E){return P(Le(k(E),{replace:!0}))}function L(E){const z=E.matched[E.matched.length-1];if(z&&z.redirect){const{redirect:V}=z;let ee=typeof V=="function"?V(E):V;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=k(ee):{path:ee},ee.params={}),Le({query:E.query,hash:E.hash,params:"path"in ee?{}:E.params},ee)}}function K(E,z){const V=c=y(E),ee=l.value,ye=E.state,Ie=E.force,p=E.replace===!0,g=L(V);if(g)return K(Le(k(g),{state:typeof g=="object"?Le({},ye,g.state):ye,force:Ie,replace:p}),z||V);const C=V;C.redirectedFrom=z;let T;return!Ie&&XF(r,ee,V)&&(T=Vs(16,{to:C,from:ee}),ve(ee,ee,!0,!1)),(T?Promise.resolve(T):te(C,ee)).catch(D=>Ln(D)?Ln(D,2)?D:Y(D):fe(D,C,ee)).then(D=>{if(D){if(Ln(D,2))return K(Le({replace:p},k(D.to),{state:typeof D.to=="object"?Le({},ye,D.to.state):ye,force:Ie}),z||C)}else D=I(C,ee,!0,p,ye);return oe(C,ee,D),D})}function W(E,z){const V=R(E,z);return V?Promise.reject(V):Promise.resolve()}function ne(E){const z=Te.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(E):E()}function te(E,z){let V;const[ee,ye,Ie]=G2(E,z);V=sc(ee.reverse(),"beforeRouteLeave",E,z);for(const g of ee)g.leaveGuards.forEach(C=>{V.push(lr(C,E,z))});const p=W.bind(null,E,z);return V.push(p),Ae(V).then(()=>{V=[];for(const g of i.list())V.push(lr(g,E,z));return V.push(p),Ae(V)}).then(()=>{V=sc(ye,"beforeRouteUpdate",E,z);for(const g of ye)g.updateGuards.forEach(C=>{V.push(lr(C,E,z))});return V.push(p),Ae(V)}).then(()=>{V=[];for(const g of Ie)if(g.beforeEnter)if(yn(g.beforeEnter))for(const C of g.beforeEnter)V.push(lr(C,E,z));else V.push(lr(g.beforeEnter,E,z));return V.push(p),Ae(V)}).then(()=>(E.matched.forEach(g=>g.enterCallbacks={}),V=sc(Ie,"beforeRouteEnter",E,z),V.push(p),Ae(V))).then(()=>{V=[];for(const g of o.list())V.push(lr(g,E,z));return V.push(p),Ae(V)}).catch(g=>Ln(g,8)?g:Promise.reject(g))}function oe(E,z,V){a.list().forEach(ee=>ne(()=>ee(E,z,V)))}function I(E,z,V,ee,ye){const Ie=R(E,z);if(Ie)return Ie;const p=z===rr,g=Es?history.state:{};V&&(ee||p?s.replace(E.fullPath,Le({scroll:p&&g&&g.scroll},ye)):s.push(E.fullPath,ye)),l.value=E,ve(E,z,V,p),Y()}let q;function me(){q||(q=s.listen((E,z,V)=>{if(!Qe.listening)return;const ee=y(E),ye=L(ee);if(ye){K(Le(ye,{replace:!0}),ee).catch(Ri);return}c=ee;const Ie=l.value;Es&&o2(bp(Ie.fullPath,V.delta),ul()),te(ee,Ie).catch(p=>Ln(p,12)?p:Ln(p,2)?(K(p.to,ee).then(g=>{Ln(g,20)&&!V.delta&&V.type===Zi.pop&&s.go(-1,!1)}).catch(Ri),Promise.reject()):(V.delta&&s.go(-V.delta,!1),fe(p,ee,Ie))).then(p=>{p=p||I(ee,Ie,!1),p&&(V.delta&&!Ln(p,8)?s.go(-V.delta,!1):V.type===Zi.pop&&Ln(p,20)&&s.go(-1,!1)),oe(ee,Ie,p)}).catch(Ri)}))}let se=wi(),ce=wi(),ae;function fe(E,z,V){Y(E);const ee=ce.list();return ee.length?ee.forEach(ye=>ye(E,z,V)):console.error(E),Promise.reject(E)}function ke(){return ae&&l.value!==rr?Promise.resolve():new Promise((E,z)=>{se.add([E,z])})}function Y(E){return ae||(ae=!E,me(),se.list().forEach(([z,V])=>E?V(E):z()),se.reset()),E}function ve(E,z,V,ee){const{scrollBehavior:ye}=t;if(!Es||!ye)return Promise.resolve();const Ie=!V&&a2(bp(E.fullPath,0))||(ee||!V)&&history.state&&history.state.scroll||null;return Kr().then(()=>ye(E,z,Ie)).then(p=>p&&i2(p)).catch(p=>fe(p,E,z))}const J=E=>s.go(E);let We;const Te=new Set,Qe={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,hasRoute:w,getRoutes:b,resolve:y,options:t,push:P,replace:N,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ce.add,isReady:ke,install(E){const z=this;E.component("RouterLink",yd),E.component("RouterView",bd),E.config.globalProperties.$router=z,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>M(l)}),Es&&!We&&l.value===rr&&(We=!0,P(s.location).catch(ye=>{}));const V={};for(const ye in rr)Object.defineProperty(V,ye,{get:()=>l.value[ye],enumerable:!0});E.provide(gd,z),E.provide(Dg,Xm(V)),E.provide(Uc,l);const ee=E.unmount;Te.add(E),E.unmount=function(){Te.delete(E),Te.size<1&&(c=rr,q&&q(),q=null,l.value=rr,We=!1,ae=!1),ee()}}};function Ae(E){return E.reduce((z,V)=>z.then(()=>ne(V)),Promise.resolve())}return Qe}function G2(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Us(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Us(c,l))||s.push(l))}return[n,r,s]}const q2={name:"Sidebar",components:{Calendar:pg,RouterView:bd,RouterLink:yd},methods:{closeSidebar(){console.log("closeSidebar method called"),this.$root.$emit("bv::toggle::offcanvas","offcanvasNavbar")}}},dl=t=>(Ot("data-v-a03a9931"),t=t(),Mt(),t),Q2={class:"navbar bg-body-tertiary fixed-top"},Z2={class:"container-fluid d-flex justify-content-between align-items-center"},X2=dl(()=>v("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"},[v("span",{class:"navbar-toggler-icon"})],-1)),J2=dl(()=>v("a",{class:"navbar-brand mx-auto",href:"#"},"토닥토닥",-1)),eY=dl(()=>v("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNotifications","aria-controls":"offcanvasNotifications"}," 알림 ",-1)),tY={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel"},nY=dl(()=>v("div",{class:"offcanvas-header"},[v("h5",{class:"offcanvas-title",id:"offcanvasNavbarLabel"},"Todak"),v("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),rY={class:"offcanvas-body"},sY={class:"navbar-nav justify-content-end flex-grow-1 pe-3"},iY={class:"nav-item"},oY=rC('<li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>캘린더</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>모임</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>게시판</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>친구</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>습관</a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931>마이페이지</a></li>',6);function aY(t,e,n,r,s,i){const o=at("RouterLink");return $(),B("div",null,[v("nav",Q2,[v("div",Z2,[X2,J2,eY,v("div",tY,[nY,v("div",rY,[v("ul",sY,[v("li",iY,[X(o,{onClick:i.closeSidebar,to:"/calendar"},{default:Ee(()=>[He("캘린더")]),_:1},8,["onClick"])]),oY])])])])])])}const lY=tt(q2,[["render",aY],["__scopeId","data-v-a03a9931"]]),cY={methods:{closeModal(){this.$emit("close-modal")}}},Tg=t=>(Ot("data-v-4a443569"),t=t(),Mt(),t),uY={class:"modal-content"},dY=Tg(()=>v("h4",null,"목표 상세페이지",-1)),fY=Tg(()=>v("p",null,"목표 상세페이지 내용임",-1));function hY(t,e,n,r,s,i){return $(),B("div",uY,[v("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))}),dY,fY])}const Ig=tt(cY,[["render",hY],["__scopeId","data-v-4a443569"]]),pY={data(){return{title:"",content:"",goingOut:"false",alarm:!1,alarmTime:""}},methods:{closeModal(){this.$emit("close-modal")},submitTodo(){this.closeModal()}}},ms=t=>(Ot("data-v-ce6c3374"),t=t(),Mt(),t),mY={class:"modal-content",style:{"border-radius":"10px"}},vY={class:"modal-title"},_Y={class:"form-group"},gY=ms(()=>v("label",{for:"title"},"제목:",-1)),yY={class:"form-group"},bY=ms(()=>v("label",{for:"content"},"내용:",-1)),wY=ms(()=>v("div",{class:"form-group"},[v("label",null,"외출 여부:"),v("div",{class:"form-check form-switch"},[v("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""}),v("label",{class:"form-check-label",for:"flexSwitchCheckChecked"})])],-1)),CY={class:"form-group"},EY=ms(()=>v("label",null,"알람 여부:",-1)),SY={class:"custom-control custom-switch"},DY={class:"form-check form-switch"},TY=ms(()=>v("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1)),IY={key:0,class:"form-group"},$Y=ms(()=>v("label",{for:"alarmTime"},"알람 시간:",-1)),PY=ms(()=>v("button",{type:"submit",class:"btn btn-primary"},"저장",-1));function kY(t,e,n,r,s,i){return $(),B("div",mY,[v("div",vY,[v("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))})]),v("form",{onSubmit:e[5]||(e[5]=zi((...o)=>i.submitTodo&&i.submitTodo(...o),["prevent"]))},[v("div",_Y,[gY,Fn(v("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.title=o),type:"text",id:"title",class:"form-control",required:""},null,512),[[ks,s.title]])]),v("div",yY,[bY,Fn(v("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.content=o),id:"content",class:"form-control",rows:"3"},null,512),[[ks,s.content]])]),wY,v("div",CY,[EY,v("div",SY,[v("div",DY,[Fn(v("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.alarm=o),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,512),[[BC,s.alarm]]),TY])])]),s.alarm?($(),B("div",IY,[$Y,Fn(v("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.alarmTime=o),type:"time",id:"alarmTime",class:"form-control"},null,512),[[ks,s.alarmTime]])])):Ge("",!0),PY],32)])}const AY=tt(pY,[["render",kY],["__scopeId","data-v-ce6c3374"]]),OY={name:"App",data(){return{is_modal_valid:!1,activeModal:null,today:""}},components:{Sidebar:lY,TodoList:hg,GoalList:Ig,AddTodo:AY},methods:{openModal(t){this.is_modal_valid=!0,this.activeModal=t},closeModal(){this.is_modal_valid=!1,this.activeModal=null},updateToday(){const t=new Date,e={month:"2-digit",day:"2-digit",weekday:"long"};this.today=t.toLocaleDateString("ko-KR",e)}},mounted(){this.updateToday()}},ai=t=>(Ot("data-v-49994947"),t=t(),Mt(),t),MY={key:0,class:"black-bg"},xY=ai(()=>v("div",{class:"top-bar"},[v("div",{class:"quote"},'"행복은 우연이 아니라 선택이다"'),v("div",null,"짐 론")],-1)),RY={class:"todo-section"},NY={class:"todo-date"},LY={class:"todo-items"},FY={class:"todo-item"},YY=ai(()=>v("input",{type:"checkbox"},null,-1)),BY={class:"todo-item"},WY=ai(()=>v("input",{type:"checkbox"},null,-1)),HY={class:"todo-section"},jY=ai(()=>v("div",{class:"todo-date"},[v("div",{style:{"margin-bottom":"5px","margin-top":"5px"}},"목표")],-1)),UY={class:"todo-items"},VY={class:"todo-item"},zY=ai(()=>v("input",{type:"checkbox"},null,-1)),KY={class:"todo-item"},GY=ai(()=>v("input",{type:"checkbox"},null,-1));function qY(t,e,n,r,s,i){return $(),B("div",null,[s.is_modal_valid?($(),B("div",MY,[($(),ot(xu(s.activeModal),{onCloseModal:i.closeModal},null,40,["onCloseModal"]))])):Ge("",!0),xY,v("div",RY,[v("div",NY,[v("span",null,Me(s.today),1),v("button",{class:"add-button",onClick:e[0]||(e[0]=o=>i.openModal("AddTodo"))},"+")]),v("div",LY,[v("div",FY,[v("label",{onClick:e[1]||(e[1]=o=>i.openModal("TodoList")),for:"todo1"},"공부하기"),YY]),v("div",BY,[v("label",{onClick:e[2]||(e[2]=o=>i.openModal("TodoList")),for:"todo2"},"운동하기"),WY])])]),v("div",HY,[jY,v("div",UY,[v("div",VY,[v("label",{onClick:e[3]||(e[3]=o=>i.openModal("GoalList")),for:"todo1"},"약먹기"),zY]),v("div",KY,[v("label",{onClick:e[4]||(e[4]=o=>i.openModal("GoalList")),for:"todo2"},"밥먹기"),GY])])])])}const Vc=tt(OY,[["render",qY],["__scopeId","data-v-49994947"]]),QY={key:0,class:"user-data"},ZY={class:"user-photo"},XY=["src"],JY={class:"user-profile"},eB={__name:"UserInfo",setup(t){const e=Se({name:"김철수",memo:"오늘도 힘내요",profilePicture:"/src/assets/damgom.png"});return(n,r)=>($(),B("div",null,[e.value?($(),B("div",QY,[v("div",ZY,[v("img",{src:e.value.profilePicture,alt:"프로필 이미지",class:"profile-image mr-2"},null,8,XY)]),v("div",JY,[v("h3",null,[v("strong",null,Me(e.value.name),1)]),v("p",null,[v("strong",null,Me(e.value.memo),1)])])])):Ge("",!0)]))}},tB=tt(eB,[["__scopeId","data-v-f43aac50"]]),$g=t=>(Ot("data-v-f33e9107"),t=t(),Mt(),t),nB={class:"success-rate"},rB=$g(()=>v("p",{class:"success-rate-title"},"Success Rate",-1)),sB={class:"progress-circle-container"},iB=$g(()=>v("div",{class:"rate-container"},[v("div",{class:"unsuccessful-rate"},"Unsuccessful"),v("div",{class:"successful-rate"},"Successful")],-1)),oB={__name:"SuccessRate",setup(t){const e={completionRate:Number},n=()=>e.completionRate/100*360,r=()=>`hsl(${e.completionRate*1.2}, 70%, 50%)`;return(s,i)=>($(),B("div",nB,[rB,v("div",sB,[v("div",{class:"progress-circle",style:vn({background:r()})},[v("div",{class:"progress-fill",style:vn({transform:`rotate(${n()}deg)`})},null,4)],4)]),iB]))}},aB=tt(oB,[["__scopeId","data-v-f33e9107"]]),lB=t=>(Ot("data-v-08c51cfb"),t=t(),Mt(),t),cB={class:"goal-success-rate"},uB=lB(()=>v("p",{class:"goal-success-rate-title"},"목표별 성취율",-1)),dB={class:"goal-name"},fB={class:"success-rate"},hB={__name:"GoalSuccessRate",setup(t){const e=Se([{name:"목표 1",successRate:80},{name:"목표 2",successRate:60}]);return(n,r)=>($(),B("div",cB,[uB,($(!0),B(Pe,null,gt(e.value,(s,i)=>($(),B("div",{key:i,class:"goal-item"},[v("p",dB,Me(s.name),1),v("p",fB,Me(s.successRate)+"%",1)]))),128))]))}},pB=tt(hB,[["__scopeId","data-v-08c51cfb"]]),mB={components:{UserInfo:tB,SuccessRate:aB,GoalSuccessRate:pB},data(){return{userData:null,successRate:null,goalRate:null}},mounted(){this.fetchUserData()},methods:{async fetchUserData(){}}},vB={class:"mt-5"};function _B(t,e,n,r,s,i){const o=at("UserInfo"),a=at("SuccessRate"),l=at("GoalSuccessRate");return $(),B("div",vB,[X(o,{userData:s.userData},null,8,["userData"]),X(a,{successRate:s.successRate},null,8,["successRate"]),X(l,{goalRate:s.goalRate},null,8,["goalRate"])])}const Pg=tt(mB,[["render",_B]]);let gB=new Date;console.log(gB);const yB={name:"App",data(){return{is_modal_valid:!1}},components:{Sidebar:BF,TodoList:hg,Main:Vc,MyPage:Pg,RouterView:bd,RouterLink:yd},methods:{closeModal(){this.is_modal_valid=!1}}},bB={id:"app"},wB={class:"bottom-nav"};function CB(t,e,n,r,s,i){const o=at("Sidebar"),a=at("RouterLink"),l=at("RouterView");return $(),B("div",bB,[X(o),v("div",wB,[X(a,{to:"/Main"},{default:Ee(()=>[He("Home")]),_:1}),X(a,{to:"/Calendar"},{default:Ee(()=>[He("Calendar")]),_:1}),X(a,{to:"/Friend"},{default:Ee(()=>[He("Friends")]),_:1}),X(a,{to:"/Meeting"},{default:Ee(()=>[He("Meeting")]),_:1}),X(a,{to:"/mypage"},{default:Ee(()=>[He("MyPage")]),_:1})]),X(l)])}const EB=tt(yB,[["render",CB]]),SB={};function DB(t,e){return $(),B("div")}const TB=tt(SB,[["render",DB]]),IB={};function $B(t,e){return $(),B("div")}const PB=tt(IB,[["render",$B]]),kg=t=>(Ot("data-v-8e2fbff8"),t=t(),Mt(),t),kB={class:"room-card"},AB=kg(()=>v("hr",null,null,-1)),OB=kg(()=>v("hr",null,null,-1)),MB={__name:"RoomCard",props:["room"],setup(t){const e=t,n=S(()=>{const r={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return new Date(e.room.creationTime).toLocaleDateString("ko-KR",r)});return(r,s)=>($(),B("div",kB,[v("h4",null,Me(t.room.title),1),AB,v("p",null,"현재 참여 멤버 수: "+Me(t.room.currentMembers),1),OB,v("p",null,"방 생성 시간: "+Me(n.value),1)]))}},xB=tt(MB,[["__scopeId","data-v-8e2fbff8"]]),RB={data(){return{newRoom:{title:""}}},methods:{createRoom(){this.$emit("create",this.newRoom)}}},fl=t=>(Ot("data-v-7f7dfe79"),t=t(),Mt(),t),NB={class:"modal-dialog"},LB={class:"modal-content"},FB={class:"modal-header"},YB=fl(()=>v("h5",{class:"modal-title"},"모임 방 추가",-1)),BB=fl(()=>v("span",{"aria-hidden":"true"},"×",-1)),WB=[BB],HB={class:"modal-body"},jB={class:"form-group"},UB=fl(()=>v("label",{for:"roomTitle"},"방 제목:",-1)),VB=fl(()=>v("button",{type:"submit",class:"btn btn-primary"},"추가",-1));function zB(t,e,n,r,s,i){return $(),B("div",{class:"modal",onClick:e[3]||(e[3]=zi(o=>t.$emit("close"),["self"]))},[v("div",NB,[v("div",LB,[v("div",FB,[YB,v("button",{type:"button",class:"close",onClick:e[0]||(e[0]=o=>t.$emit("close"))},WB)]),v("div",HB,[v("form",{onSubmit:e[2]||(e[2]=zi((...o)=>i.createRoom&&i.createRoom(...o),["prevent"]))},[v("div",jB,[UB,Fn(v("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.newRoom.title=o),type:"text",class:"form-control",id:"roomTitle",required:""},null,512),[[ks,s.newRoom.title]])]),VB],32)])])])])}const KB=tt(RB,[["render",zB],["__scopeId","data-v-7f7dfe79"]]),GB={class:"container mt-5"},qB={class:"form-group"},QB={key:0},ZB={key:1},XB=v("p",null,"검색 결과가 없습니다.",-1),JB=[XB],eW={__name:"Meeting",setup(t){const e=Se([{id:1,title:"코딩 스터디",currentMembers:5,creationTime:new Date},{id:2,title:"싸피 스터디",currentMembers:3,creationTime:new Date},{id:3,title:"study with me",currentMembers:4,creationTime:new Date}]),n=Ar({title:""}),r=Se(!1),s=Se(""),i=Se([]),o=()=>{r.value=!0},a=()=>{r.value=!1},l=()=>{e.value.push({id:e.value.length+1,title:n.title,currentMembers:0,creationTime:new Date}),n.title="",a()},c=()=>{const u=s.value.toLowerCase();i.value=e.value.filter(d=>d.title.toLowerCase().includes(u))};return c(),lt(s,()=>{c()}),(u,d)=>($(),B("div",GB,[v("div",qB,[Fn(v("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>s.value=f),type:"text",class:"form-control",placeholder:"모임 방 검색"},null,512),[[ks,s.value]])]),i.value.length>0?($(),B("div",QB,[($(!0),B(Pe,null,gt(i.value,f=>($(),ot(xB,{key:f.id,room:f},null,8,["room"]))),128))])):($(),B("div",ZB,JB)),v("button",{class:"btn btn-primary mt-3",onClick:o},"모임 방 추가"),r.value?($(),ot(KB,{key:2,onClose:a,onCreate:l})):Ge("",!0)]))}},tW={};function nW(t,e){return $(),B("div")}const rW=tt(tW,[["render",nW]]),wd=t=>(Ot("data-v-1eeb0a48"),t=t(),Mt(),t),sW={class:"app mt-5"},iW={class:"word-voice-edit"},oW=wd(()=>v("p",{class:"voice-title"},"음성 선택",-1)),aW={class:"voice-box"},lW={class:"material-switch"},cW=["id"],uW=["for"],dW=wd(()=>v("br",null,null,-1)),fW=wd(()=>v("p",{class:"voice-title"},"학습 중인 음성",-1)),hW={class:"voice-box"},pW={class:"material-switch"},mW=["id"],vW=["for"],_W={__name:"Voice",setup(t){const e=Se([]),n=Se([]);for(let r=1;r<=15;r++)e.value.push({id:`usable-${r}`,name:"학습된 음성 "+r}),n.value.push({id:`training-${r}`,name:"훈련 중 "+r});return(r,s)=>{const i=at("router-link");return $(),B("div",sW,[v("p",iW,[He("편집 "),X(i,{to:{name:"VoiceTrainer"},style:{"font-size":"40px"}},{default:Ee(()=>[He("+")]),_:1})]),oW,v("div",aW,[v("dl",null,[($(!0),B(Pe,null,gt(e.value,o=>($(),B("div",{key:o.id,class:"voice"},[v("dt",null,Me(o.name),1),v("dd",null,[v("div",lW,[v("input",{id:`switch-${o.id}`,name:"s`switch-${voice.id}`",type:"checkbox"},null,8,cW),v("label",{for:`switch-${o.id}`,class:"default-color"},null,8,uW)])])]))),128))])]),dW,fW,v("div",hW,[v("dl",null,[($(!0),B(Pe,null,gt(n.value,o=>($(),B("div",{key:o.id,class:"voice"},[v("dt",null,Me(o.name),1),v("dd",null,[v("div",pW,[v("input",{id:`switch-${o.id}`,name:"s`switch-${voice.id}`",type:"checkbox"},null,8,mW),v("label",{for:`switch-${o.id}`,class:"default-color"},null,8,vW)])])]))),128))])])])}}},gW=tt(_W,[["__scopeId","data-v-1eeb0a48"]]);let yW=Se([{id:1,name:"안녕하세요. 좋은 아침입니다."},{id:2,name:"안녕하세요. 좋은 점심입니다."},{id:3,name:"안녕하세요. 좋은 저녁입니다."}]),bW=Se(1);const wW={name:"App",data(){return{sentences:yW,currentSentenceId:bW}},computed:{currentSentence(){return this.sentences[this.currentSentenceId]}},methods:{prevSentence(){this.currentSentenceId>0&&this.currentSentenceId--},nextSentence(){this.currentSentenceId<this.sentences.length-1&&this.currentSentenceId++}}},hl=t=>(Ot("data-v-bc3a8459"),t=t(),Mt(),t),CW={class:"app mt-5"},EW={class:"voice-title"},SW={class:"sentence-box"},DW=hl(()=>v("p",null,"다음 문장을 소리내어 읽으세요.",-1)),TW={p:""},IW={class:"buttons"},$W=["disabled"],PW=["disabled"],kW=hl(()=>v("br",null,null,-1)),AW=hl(()=>v("p",{class:"voice-title"},"학습 중인 음성",-1)),OW=hl(()=>v("div",{class:"voice-box"},null,-1));function MW(t,e,n,r,s,i){return $(),B("div",CW,[v("p",EW,[He("음성 학습 "),v("button",{onClick:e[0]||(e[0]=o=>t.$router.back())},"back")]),v("div",SW,[DW,v("p",null,Me(i.currentSentence.name),1),v("p",TW,Me(i.currentSentence.id)+" / "+Me(s.sentences.length),1),v("div",IW,[v("button",{onClick:e[1]||(e[1]=(...o)=>i.prevSentence&&i.prevSentence(...o)),disabled:t.currentSentenceIndex===0},"<",8,$W),v("button",{onClick:e[2]||(e[2]=(...o)=>i.nextSentence&&i.nextSentence(...o)),disabled:t.currentSentenceIndex===s.sentences.length-1},">",8,PW)])]),kW,AW,OW])}const xW=tt(wW,[["render",MW],["__scopeId","data-v-bc3a8459"]]);var xp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j=function(t,e){if(!t)throw li(e)},li=function(t){return new Error("Firebase Database ("+Ag.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},RW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Cd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Og(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new NW;const f=i<<2|a>>4;if(r.push(f),c!==64){const h=a<<4&240|c>>2;if(r.push(h),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mg=function(t){const e=Og(t);return Cd.encodeByteArray(e,!0)},Ea=function(t){return Mg(t).replace(/\./g,"")},zc=function(t){try{return Cd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t){return Xi(void 0,t)}function Xi(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!FW(n)||(t[n]=Xi(t[n],e[n]));return t}function FW(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=()=>YW().__FIREBASE_DEFAULTS__,WW=()=>{if(typeof process>"u"||typeof xp>"u")return;const t=xp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zc(t[1]);return e&&JSON.parse(e)},jW=()=>{try{return BW()||WW()||HW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xg=()=>{var t;return(t=jW())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ea(JSON.stringify(n)),Ea(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VW(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(VW())}function zW(){return typeof self=="object"&&self.self===self}function KW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ng(){return Ag.NODE_ADMIN===!0}function GW(){try{return typeof indexedDB=="object"}catch{return!1}}function qW(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QW="FirebaseError";class ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QW,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?ZW(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ci(s,a,r)}}function ZW(t,e){return t.replace(XW,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const XW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){return JSON.parse(t)}function ct(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Ji(zc(i[0])||""),n=Ji(zc(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},JW=function(t){const e=Lg(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},eH=function(t){const e=Lg(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Kc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sa(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Gc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Rp(i)&&Rp(o)){if(!Gc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Rp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function rH(t,e){const n=new sH(t,e);return n.subscribe.bind(n)}class sH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iH(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ic),s.error===void 0&&(s.error=ic),s.complete===void 0&&(s.complete=ic);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ic(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe=function(t,e,n,r){let s;if(r<e?s="at least "+e:r>n&&(s=n===0?"none":"no more than "+n),s){const i=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+s+".";throw new Error(i)}};function Ht(t,e){return`${t} failed: ${e} argument `}function mt(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Ht(t,e)+"must be a valid function.")}function Np(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Ht(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,j(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ml=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class Gn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lH(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aH(t){return t===Hr?void 0:t}function lH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=[];var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const Yg={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},cH=je.INFO,uH={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},dH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=uH[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vl{constructor(e){this.name=e,this._logLevel=cH,this._logHandler=dH,this._userLogHandler=null,Ed.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yg[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function fH(t){Ed.forEach(e=>{e.setLogLevel(t)})}function hH(t,e){for(const n of Ed){let r=null;e&&e.level&&(r=Yg[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(s,i,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");i>=(r??s.logLevel)&&t({level:je[i].toLowerCase(),message:a,args:o,type:s.name})}}}const pH=(t,e)=>e.some(n=>t instanceof n);let Lp,Fp;function mH(){return Lp||(Lp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vH(){return Fp||(Fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bg=new WeakMap,Qc=new WeakMap,Wg=new WeakMap,oc=new WeakMap,Sd=new WeakMap;function _H(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(mr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Bg.set(n,t)}).catch(()=>{}),Sd.set(e,t),e}function gH(t){if(Qc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Qc.set(t,e)}let Zc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Wg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yH(t){Zc=t(Zc)}function bH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ac(this),e,...n);return Wg.set(r,e.sort?e.sort():[e]),mr(r)}:vH().includes(t)?function(...e){return t.apply(ac(this),e),mr(Bg.get(this))}:function(...e){return mr(t.apply(ac(this),e))}}function wH(t){return typeof t=="function"?bH(t):(t instanceof IDBTransaction&&gH(t),pH(t,mH())?new Proxy(t,Zc):t)}function mr(t){if(t instanceof IDBRequest)return _H(t);if(oc.has(t))return oc.get(t);const e=wH(t);return e!==t&&(oc.set(t,e),Sd.set(e,t)),e}const ac=t=>Sd.get(t);function CH(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(mr(o.result),l.oldVersion,l.newVersion,mr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const EH=["get","getKey","getAll","getAllKeys","count"],SH=["put","add","delete","clear"],lc=new Map;function Yp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lc.get(e))return lc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=SH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||EH.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return lc.set(e,i),i}yH(t=>({...t,get:(e,n,r)=>Yp(e,n)||t.get(e,n,r),has:(e,n)=>!!Yp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xc="@firebase/app",Bp="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new vl("@firebase/app"),IH="@firebase/app-compat",$H="@firebase/analytics-compat",PH="@firebase/analytics",kH="@firebase/app-check-compat",AH="@firebase/app-check",OH="@firebase/auth",MH="@firebase/auth-compat",xH="@firebase/database",RH="@firebase/database-compat",NH="@firebase/functions",LH="@firebase/functions-compat",FH="@firebase/installations",YH="@firebase/installations-compat",BH="@firebase/messaging",WH="@firebase/messaging-compat",HH="@firebase/performance",jH="@firebase/performance-compat",UH="@firebase/remote-config",VH="@firebase/remote-config-compat",zH="@firebase/storage",KH="@firebase/storage-compat",GH="@firebase/firestore",qH="@firebase/firestore-compat",QH="firebase",ZH="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]",XH={[Xc]:"fire-core",[IH]:"fire-core-compat",[PH]:"fire-analytics",[$H]:"fire-analytics-compat",[AH]:"fire-app-check",[kH]:"fire-app-check-compat",[OH]:"fire-auth",[MH]:"fire-auth-compat",[xH]:"fire-rtdb",[RH]:"fire-rtdb-compat",[NH]:"fire-fn",[LH]:"fire-fn-compat",[FH]:"fire-iid",[YH]:"fire-iid-compat",[BH]:"fire-fcm",[WH]:"fire-fcm-compat",[HH]:"fire-perf",[jH]:"fire-perf-compat",[UH]:"fire-rc",[VH]:"fire-rc-compat",[zH]:"fire-gcs",[KH]:"fire-gcs-compat",[GH]:"fire-fst",[qH]:"fire-fst-compat","fire-js":"fire-js",[QH]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Map,eo=new Map;function Da(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hg(t,e){t.container.addOrOverwriteComponent(e)}function zs(t){const e=t.name;if(eo.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;eo.set(e,t);for(const n of Dr.values())Da(n,t);return!0}function jg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function JH(t,e,n=Sr){jg(t,e).clearInstance(n)}function e3(){eo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},jn=new pl("app","Firebase",t3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n3=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=ZH;function Td(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sr,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw jn.create("bad-app-name",{appName:String(s)});if(n||(n=xg()),!n)throw jn.create("no-options");const i=Dr.get(s);if(i){if(Gc(n,i.options)&&Gc(r,i.config))return i;throw jn.create("duplicate-app",{appName:s})}const o=new Fg(s);for(const l of eo.values())o.addComponent(l);const a=new n3(n,r,o);return Dr.set(s,a),a}function r3(t=Sr){const e=Dr.get(t);if(!e&&t===Sr&&xg())return Td();if(!e)throw jn.create("no-app",{appName:t});return e}function s3(){return Array.from(Dr.values())}async function Ug(t){const e=t.name;Dr.has(e)&&(Dr.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function vr(t,e,n){var r;let s=(r=XH[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(a.join(" "));return}zs(new Gn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function Vg(t,e){if(t!==null&&typeof t!="function")throw jn.create("invalid-log-argument");hH(t,e)}function zg(t){fH(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="firebase-heartbeat-database",o3=1,to="firebase-heartbeat-store";let cc=null;function Kg(){return cc||(cc=CH(i3,o3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(to)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),cc}async function a3(t){try{return await(await Kg()).transaction(to).objectStore(to).get(Gg(t))}catch(e){if(e instanceof ci)ss.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(n.message)}}}async function Wp(t,e){try{const r=(await Kg()).transaction(to,"readwrite");await r.objectStore(to).put(e,Gg(t)),await r.done}catch(n){if(n instanceof ci)ss.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ss.warn(r.message)}}}function Gg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=1024,c3=30*24*60*60*1e3;class u3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Hp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=c3}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hp(),{heartbeatsToSend:r,unsentEntries:s}=d3(this._heartbeatsCache.heartbeats),i=Ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Hp(){return new Date().toISOString().substring(0,10)}function d3(t,e=l3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),jp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GW()?qW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Wp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Wp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jp(t){return Ea(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){zs(new Gn("platform-logger",e=>new DH(e),"PRIVATE")),zs(new Gn("heartbeat",e=>new u3(e),"PRIVATE")),vr(Xc,Bp,t),vr(Xc,Bp,"esm2017"),vr("fire-js","")}h3("");const p3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ci,SDK_VERSION:Dd,_DEFAULT_ENTRY_NAME:Sr,_addComponent:Da,_addOrOverwriteComponent:Hg,_apps:Dr,_clearComponents:e3,_components:eo,_getProvider:jg,_registerComponent:zs,_removeServiceInstance:JH,deleteApp:Ug,getApp:r3,getApps:s3,initializeApp:Td,onLog:Vg,registerVersion:vr,setLogLevel:zg},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n){this._delegate=e,this.firebase=n,Da(e,new Gn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Ug(this._delegate)))}_getService(e,n=Sr){var r;this._delegate.checkDestroyed();const s=this._delegate.container.getProvider(e);return!s.isInitialized()&&((r=s.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&s.initialize(),s.getImmediate({identifier:n})}_removeServiceInstance(e,n=Sr){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Da(this._delegate,e)}_addOrOverwriteComponent(e){Hg(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Up=new pl("app-compat","Firebase",v3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t){const e={},n={__esModule:!0,initializeApp:i,app:s,registerVersion:vr,setLogLevel:zg,onLog:Vg,apps:null,SDK_VERSION:Dd,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:p3}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function s(c){if(c=c||Sr,!Gt(e,c))throw Up.create("no-app",{appName:c});return e[c]}s.App=t;function i(c,u={}){const d=Td(c,u);if(Gt(e,d.name))return e[d.name];const f=new t(d,n);return e[d.name]=f,f}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(zs(c)&&c.type==="PUBLIC"){const f=(h=s())=>{if(typeof h[d]!="function")throw Up.create("invalid-app-argument",{appName:u});return h[d]()};c.serviceProps!==void 0&&Xi(f,c.serviceProps),n[d]=f,t.prototype[d]=function(...h){return this._getService.bind(this,u).apply(this,c.multipleInstances?h:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(){const t=_3(m3);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:qg,extendNamespace:e,createSubscribe:rH,ErrorFactory:pl,deepExtend:Xi});function e(n){Xi(t,n)}return t}const g3=qg();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new vl("@firebase/app-compat"),y3="@firebase/app-compat",b3="0.2.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){vr(y3,b3,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(zW()&&self.firebase!==void 0){Vp.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Vp.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Id=g3;w3();var C3="firebase",E3="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Id.registerVersion(C3,E3,"app-compat");var zp={};const Kp="@firebase/database",Gp="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg="";function Zg(t){Qg=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ct(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ji(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Gt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new S3(e)}}catch{}return new D3},Qr=Xg("localStorage"),Jc=Xg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new vl("@firebase/database"),Jg=function(){let t=1;return function(){return t++}}(),ey=function(t){const e=oH(t),n=new nH;n.update(e);const r=n.digest();return Cd.encodeByteArray(r)},yo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=yo.apply(null,r):typeof r=="object"?e+=ct(r):e+=r,e+=" "}return e};let es=null,qp=!0;const ty=function(t,e){j(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(xs.logLevel=je.VERBOSE,es=xs.log.bind(xs),e&&Jc.set("logging_enabled",!0)):typeof t=="function"?es=t:(es=null,Jc.remove("logging_enabled"))},_t=function(...t){if(qp===!0&&(qp=!1,es===null&&Jc.get("logging_enabled")===!0&&ty(!0)),es){const e=yo.apply(null,t);es(e)}},bo=function(t){return function(...e){_t(t,...e)}},eu=function(...t){const e="FIREBASE INTERNAL ERROR: "+yo(...t);xs.error(e)},On=function(...t){const e=`FIREBASE FATAL ERROR: ${yo(...t)}`;throw xs.error(e),new Error(e)},St=function(...t){const e="FIREBASE WARNING: "+yo(...t);xs.warn(e)},T3=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_l=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},I3=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Tr="[MIN_NAME]",qn="[MAX_NAME]",vs=function(t,e){if(t===e)return 0;if(t===Tr||e===qn)return-1;if(e===Tr||t===qn)return 1;{const n=Qp(t),r=Qp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},$3=function(t,e){return t===e?0:t<e?-1:1},Ci=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ct(e))},$d=function(t){if(typeof t!="object"||t===null)return ct(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ct(e[r]),n+=":",n+=$d(t[e[r]]);return n+="}",n},ny=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function yt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ry=function(t){j(!_l(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},P3=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},k3=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function A3(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const O3=new RegExp("^-?(0*)\\d{1,10}$"),M3=-2147483648,x3=2147483647,Qp=function(t){if(O3.test(t)){const e=Number(t);if(e>=M3&&e<=x3)return e}return null},ui=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw St("Exception was thrown by user callback.",n),e},Math.floor(0))}},R3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Li=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}}class Rs{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Rs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="5",sy="v",iy="s",oy="r",ay="f",ly=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cy="ls",uy="p",tu="ac",dy="websocket",fy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function F3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function py(t,e,n){j(typeof e=="string","typeof type must == string"),j(typeof n=="object","typeof params must == object");let r;if(e===dy)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===fy)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);F3(t)&&(n.ns=t.namespace);const s=[];return yt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this.counters_={}}incrementCounter(e,n=1){Gt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return LW(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc={},dc={};function kd(t){const e=t.toString();return uc[e]||(uc[e]=new Y3),uc[e]}function B3(t,e){const n=t.toString();return dc[n]||(dc[n]=e()),dc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&ui(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="start",H3="close",j3="pLPCommand",U3="pRTLPCB",my="id",vy="pw",_y="ser",V3="cb",z3="seg",K3="ts",G3="d",q3="dframe",gy=1870,yy=30,Q3=gy-yy,Z3=25e3,X3=3e4;class dr{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=bo(e),this.stats_=kd(n),this.urlFn=l=>(this.appCheckToken&&(l[tu]=this.appCheckToken),py(n,fy,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new W3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(X3)),I3(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ad((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Zp)this.id=a,this.password=l;else if(o===H3)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Zp]="t",r[_y]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[V3]=this.scriptTagHolder.uniqueCallbackIdentifier),r[sy]=Pd,this.transportSessionId&&(r[iy]=this.transportSessionId),this.lastSessionId&&(r[cy]=this.lastSessionId),this.applicationId&&(r[uy]=this.applicationId),this.appCheckToken&&(r[tu]=this.appCheckToken),typeof location<"u"&&location.hostname&&ly.test(location.hostname)&&(r[oy]=ay);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dr.forceAllow_=!0}static forceDisallow(){dr.forceDisallow_=!0}static isAvailable(){return dr.forceAllow_?!0:!dr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!P3()&&!k3()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Mg(n),s=ny(r,Q3);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[q3]="t",r[my]=e,r[vy]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ct(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ad{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Jg(),window[j3+this.uniqueCallbackIdentifier]=e,window[U3+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ad.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){_t("frame writing exception"),a.stack&&_t(a.stack),_t(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_t("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[my]=this.myID,e[vy]=this.myPW,e[_y]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yy+r.length<=gy;){const o=this.pendingSegs.shift();r=r+"&"+z3+s+"="+o.seg+"&"+K3+s+"="+o.ts+"&"+G3+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Z3)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_t("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=16384,ej=45e3;let Ta=null;typeof MozWebSocket<"u"?Ta=MozWebSocket:typeof WebSocket<"u"&&(Ta=WebSocket);class Xt{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=bo(this.connId),this.stats_=kd(n),this.connURL=Xt.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[sy]=Pd,typeof location<"u"&&location.hostname&&ly.test(location.hostname)&&(o[oy]=ay),n&&(o[iy]=n),r&&(o[cy]=r),s&&(o[tu]=s),i&&(o[uy]=i),py(e,dy,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qr.set("previous_websocket_failure",!0);try{let r;Ng(),this.mySock=new Ta(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ta!==null&&!Xt.forceDisallow_}static previouslyFailed(){return Qr.isInMemoryStorage||Qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ji(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(j(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ny(n,J3);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ej))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[dr,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Xt&&Xt.isAvailable();let r=n&&!Xt.previouslyFailed();if(e.webSocketOnly&&(n||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xt];else{const s=this.transports_=[];for(const i of Ks.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Ks.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ks.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=6e4,nj=5e3,rj=10*1024,sj=100*1024,fc="t",Xp="d",ij="s",Jp="r",oj="e",em="o",tm="a",nm="n",rm="p",aj="h";class lj{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=bo("c:"+this.id+":"),this.transportManager_=new Ks(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>sj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(fc in e){const n=e[fc];n===tm?this.upgradeIfSecondaryHealthy_():n===Jp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===em&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ci("t",e),r=Ci("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:tm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:nm,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ci("t",e),r=Ci("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ci(fc,e);if(Xp in e){const r=e[Xp];if(n===aj){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===nm){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ij?this.onConnectionShutdown_(r):n===Jp?this.onReset_(r):n===oj?eu("Server Error: "+r):n===em?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Pd!==r&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.allowedEvents_=e,this.listeners_={},j(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){j(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends wy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ia}getInitialEvent(e){return j(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=32,im=768;class Ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Re(){return new Ne("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ir(t){return t.pieces_.length-t.pieceNum_}function Ue(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ne(t.pieces_,e)}function Od(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function cj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function no(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Cy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ne(e,0)}function et(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ne(n,0)}function Ce(t){return t.pieceNum_>=t.pieces_.length}function At(t,e){const n=we(t),r=we(e);if(n===null)return e;if(n===r)return At(Ue(t),Ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uj(t,e){const n=no(t,0),r=no(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=vs(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Md(t,e){if(Ir(t)!==Ir(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function tn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ir(t)>Ir(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class dj{constructor(e,n){this.errorPrefix_=n,this.parts_=no(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ml(this.parts_[r]);Ey(this)}}function fj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ml(e),Ey(t)}function hj(t){const e=t.parts_.pop();t.byteLength_-=ml(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ey(t){if(t.byteLength_>im)throw new Error(t.errorPrefix_+"has a key path longer than "+im+" bytes ("+t.byteLength_+").");if(t.parts_.length>sm)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sm+") or object contains a cycle "+jr(t))}function jr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends wy{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new xd}getInitialEvent(e){return j(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=1e3,pj=60*5*1e3,om=30*1e3,mj=1.3,vj=3e4,_j="server_kill",am=3;class Un extends by{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Un.nextPersistentConnectionId_++,this.log_=bo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ei,this.maxReconnectDelay_=pj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Ng())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ia.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(ct(i)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Lt,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Un.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Gt(e,"w")){const r=rs(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||eH(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=om)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=JW(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),j(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ct(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):eu("Unrecognized action received from server: "+ct(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ei,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ei,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vj&&(this.reconnectDelay_=Ei),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mj)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Un.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){j(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new lj(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{St(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(_j)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&St(d),l())}}}interrupt(e){_t("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_t("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Kc(this.interruptReasons_)&&(this.reconnectDelay_=Ei,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>$d(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ne(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){_t("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=am&&(this.reconnectDelay_=om,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){_t("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=am&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Qg.replace(/\./g,"-")]=1,Rg()?e["framework.cordova"]=1:KW()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ia.getInstance().currentlyOnline();return Kc(this.interruptReasons_)&&e}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new De(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new De(Tr,e),s=new De(Tr,n);return this.compare(r,s)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wo;class Sy extends gl{static get __EMPTY_NODE(){return Wo}static set __EMPTY_NODE(e){Wo=e}compare(e,n){return vs(e.name,n.name)}isDefinedOn(e){throw li("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return De.MIN}maxPost(){return new De(qn,Wo)}makePost(e,n){return j(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,Wo)}toString(){return".key"}}const Pn=new Sy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??vt.RED,this.left=s??Ft.EMPTY_NODE,this.right=i??Ft.EMPTY_NODE}copy(e,n,r,s,i){return new vt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ft.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ft.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vt.RED=!0;vt.BLACK=!1;class gj{copy(e,n,r,s,i){return this}insert(e,n,r){return new vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ft{constructor(e,n=Ft.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ft(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vt.BLACK,null,null))}remove(e){return new Ft(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ho(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ho(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ho(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ho(this.root_,null,this.comparator_,!0,e)}}Ft.EMPTY_NODE=new gj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e){return vs(t.name,e.name)}function Rd(t,e){return vs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu;function bj(t){nu=t}const Dy=function(t){return typeof t=="number"?"number:"+ry(t):"string:"+t},Ty=function(t){if(t.isLeafNode()){const e=t.val();j(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gt(e,".sv"),"Priority must be a string or number.")}else j(t===nu||t.isEmpty(),"priority of unexpected type.");j(t===nu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lm;class pt{constructor(e,n=pt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ty(this.priorityNode_)}static set __childrenNodeConstructor(e){lm=e}static get __childrenNodeConstructor(){return lm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new pt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:we(e)===".priority"?this.priorityNode_:pt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:pt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=we(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(j(r!==".priority"||Ir(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,pt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Dy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ry(this.value_):e+=this.value_,this.lazyHash_=ey(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===pt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof pt.__childrenNodeConstructor?-1:(j(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=pt.VALUE_TYPE_ORDER.indexOf(n),i=pt.VALUE_TYPE_ORDER.indexOf(r);return j(s>=0,"Unknown leaf type: "+n),j(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}pt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iy,$y;function wj(t){Iy=t}function Cj(t){$y=t}class Ej extends gl{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?vs(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return De.MIN}maxPost(){return new De(qn,new pt("[PRIORITY-POST]",$y))}makePost(e,n){const r=Iy(e);return new De(n,new pt("[PRIORITY-POST]",r))}toString(){return".priority"}}const qe=new Ej;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=Math.log(2);class Dj{constructor(e){const n=i=>parseInt(Math.log(i)/Sj,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $a=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new vt(f,d.node,vt.BLACK,null,null);{const h=parseInt(u/2,10)+l,m=s(l,h),b=s(h+1,c);return d=t[h],f=n?n(d):d,new vt(f,d.node,vt.BLACK,m,b)}},i=function(l){let c=null,u=null,d=t.length;const f=function(m,b){const w=d-m,y=d;d-=m;const k=s(w+1,y),R=t[w],P=n?n(R):R;h(new vt(P,R.node,b,null,k))},h=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const b=l.nextBitIsOne(),w=Math.pow(2,l.count-(m+1));b?f(w,vt.BLACK):(f(w,vt.BLACK),f(w,vt.RED))}return u},o=new Dj(t.length),a=i(o);return new Ft(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;const ws={};class Bn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return j(ws&&qe,"ChildrenNode.ts has not been loaded"),hc=hc||new Bn({".priority":ws},{".priority":qe}),hc}get(e){const n=rs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ft?n:null}hasIndex(e){return Gt(this.indexSet_,e.toString())}addIndex(e,n){j(e!==Pn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(De.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=$a(r,e.getCompare()):a=ws;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Bn(u,c)}addToIndexes(e,n){const r=Sa(this.indexes_,(s,i)=>{const o=rs(this.indexSet_,i);if(j(o,"Missing index implementation for "+i),s===ws)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(De.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),$a(a,o.getCompare())}else return ws;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new De(e.name,a))),l.insert(e,e.node)}});return new Bn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Sa(this.indexes_,s=>{if(s===ws)return s;{const i=n.get(e.name);return i?s.remove(new De(e.name,i)):s}});return new Bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Si;class he{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ty(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Si||(Si=new he(new Ft(Rd),null,Bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Si}updatePriority(e){return this.children_.isEmpty()?this:new he(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Si:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(Ue(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(j(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new De(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Si:this.priorityNode_;return new he(s,o,i)}}updateChild(e,n){const r=we(e);if(r===null)return n;{j(we(e)!==".priority"||Ir(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ue(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(qe,(o,a)=>{n[o]=a.val(e),r++,i&&he.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Dy(this.getPriority().val())+":"),this.forEachChild(qe,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":ey(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new De(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new De(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new De(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,De.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,De.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wo?-1:0}withIndex(e){if(e===Pn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new he(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Pn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(qe),s=n.getIterator(qe);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Pn?null:this.indexMap_.get(e.toString())}}he.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Tj extends he{constructor(){super(new Ft(Rd),he.EMPTY_NODE,Bn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return he.EMPTY_NODE}isEmpty(){return!1}}const wo=new Tj;Object.defineProperties(De,{MIN:{value:new De(Tr,he.EMPTY_NODE)},MAX:{value:new De(qn,wo)}});Sy.__EMPTY_NODE=he.EMPTY_NODE;pt.__childrenNodeConstructor=he;bj(wo);Cj(wo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=!0;function rt(t,e=null){if(t===null)return he.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),j(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new pt(n,rt(e))}if(!(t instanceof Array)&&Ij){const n=[];let r=!1;if(yt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=rt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new De(o,l)))}}),n.length===0)return he.EMPTY_NODE;const i=$a(n,yj,o=>o.name,Rd);if(r){const o=$a(n,qe.getCompare());return new he(i,rt(e),new Bn({".priority":o},{".priority":qe}))}else return new he(i,rt(e),Bn.Default)}else{let n=he.EMPTY_NODE;return yt(t,(r,s)=>{if(Gt(t,r)&&r.substring(0,1)!=="."){const i=rt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(rt(e))}}wj(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends gl{constructor(e){super(),this.indexPath_=e,j(!Ce(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?vs(e.name,n.name):i}makePost(e,n){const r=rt(e),s=he.EMPTY_NODE.updateChild(this.indexPath_,r);return new De(n,s)}maxPost(){const e=he.EMPTY_NODE.updateChild(this.indexPath_,wo);return new De(qn,e)}toString(){return no(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j extends gl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?vs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,n){const r=rt(e);return new De(n,r)}toString(){return".value"}}const Ld=new $j;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t){return{type:"value",snapshotNode:t}}function Gs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ro(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function so(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Pj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){j(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(ro(n,a)):j(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Gs(n,r)):o.trackChildChange(so(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(qe,(s,i)=>{n.hasChild(s)||r.trackChildChange(ro(s,i))}),n.isLeafNode()||n.forEachChild(qe,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(so(s,i,o))}else r.trackChildChange(Gs(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?he.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.indexedFilter_=new Fd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=io.getStartPost_(e),this.endPost_=io.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new De(n,r))||(r=he.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=he.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(he.EMPTY_NODE);const i=this;return n.forEachChild(qe,(o,a)=>{i.matches(new De(o,a))||(s=s.updateImmediateChild(o,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new io(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new De(n,r))||(r=he.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=he.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=he.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(he.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;j(a.numChildren()===this.limit_,"");const l=new De(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!r.isEmpty()&&h>=0)return i!=null&&i.trackChildChange(so(n,r,d)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(ro(n,d));const b=a.updateImmediateChild(n,he.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Gs(f.name,f.node)),b.updateImmediateChild(f.name,f.node)):b}}else return r.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(ro(c.name,c.node)),i.trackChildChange(Gs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,he.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tr}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const e=new yl;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Aj(t){return t.loadsAllData()?new Fd(t.getIndex()):t.hasLimit()?new kj(t):new io(t)}function Oj(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Mj(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function ru(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function xj(t,e,n){let r;return t.index_===Pn||n?r=ru(t,e,n):r=ru(t,e,qn),r.startAfterSet_=!0,r}function su(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Rj(t,e,n){let r;return t.index_===Pn||n?r=su(t,e,n):r=su(t,e,Tr),r.endBeforeSet_=!0,r}function bl(t,e){const n=t.copy();return n.index_=e,n}function cm(t){const e={};if(t.isDefault())return e;let n;if(t.index_===qe?n="$priority":t.index_===Ld?n="$value":t.index_===Pn?n="$key":(j(t.index_ instanceof Nd,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ct(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ct(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ct(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ct(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ct(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function um(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==qe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends by{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=bo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(j(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Pa.getListenId_(e,r),a={};this.listens_[o]=a;const l=cm(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),rs(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Pa.getListenId_(e,n);delete this.listens_[r]}get(e){const n=cm(e._queryParams),r=e._path.toString(),s=new Lt;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tH(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ji(a.responseText)}catch{St("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&St("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.rootNode_=he.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(){return{value:null,children:new Map}}function di(t,e,n){if(Ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=we(e);t.children.has(r)||t.children.set(r,ka());const s=t.children.get(r);e=Ue(e),di(s,e,n)}}function iu(t,e){if(Ce(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(qe,(r,s)=>{di(t,new Ne(r),s)}),iu(t,e)}}else if(t.children.size>0){const n=we(e);return e=Ue(e),t.children.has(n)&&iu(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function ou(t,e,n){t.value!==null?n(e,t.value):Lj(t,(r,s)=>{const i=new Ne(e.toString()+"/"+r);ou(s,i,n)})}function Lj(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&yt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=10*1e3,Yj=30*1e3,Bj=5*60*1e3;class Wj{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Fj(e);const r=dm+(Yj-dm)*Math.random();Li(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;yt(e,(s,i)=>{i>0&&Gt(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Li(this.reportStats_.bind(this),Math.floor(Math.random()*2*Bj))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function Yd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Bd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=mn.ACK_USER_WRITE,this.source=Yd()}operationForChild(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ne(e));return new Aa(Re(),n,this.revert)}}else return j(we(this.path)===e,"operationForChild called for unrelated child."),new Aa(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.source=e,this.path=n,this.type=mn.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new oo(this.source,Re()):new oo(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=mn.OVERWRITE}operationForChild(e){return Ce(this.path)?new is(this.source,Re(),this.snap.getImmediateChild(e)):new is(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=mn.MERGE}operationForChild(e){if(Ce(this.path)){const n=this.children.subtree(new Ne(e));return n.isEmpty()?null:n.value?new is(this.source,Re(),n.value):new qs(this.source,Re(),n)}else return j(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qs(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function jj(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Pj(o.childName,o.snapshotNode))}),Di(t,s,"child_removed",e,r,n),Di(t,s,"child_added",e,r,n),Di(t,s,"child_moved",i,r,n),Di(t,s,"child_changed",e,r,n),Di(t,s,"value",e,r,n),s}function Di(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Vj(t,a,l)),o.forEach(a=>{const l=Uj(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Uj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Vj(t,e,n){if(e.childName==null||n.childName==null)throw li("Should only compare child_ events.");const r=new De(e.childName,e.snapshotNode),s=new De(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t,e){return{eventCache:t,serverCache:e}}function Fi(t,e,n,r){return wl(new $r(e,n,r),t.serverCache)}function ky(t,e,n,r){return wl(t.eventCache,new $r(e,n,r))}function Oa(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function os(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc;const zj=()=>(pc||(pc=new Ft($3)),pc);class ze{constructor(e,n=zj()){this.value=e,this.children=n}static fromObject(e){let n=new ze(null);return yt(e,(r,s)=>{n=n.set(new Ne(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Re(),value:this.value};if(Ce(e))return null;{const r=we(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Ue(e),n);return i!=null?{path:et(new Ne(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const n=we(e),r=this.children.get(n);return r!==null?r.subtree(Ue(e)):new ze(null)}}set(e,n){if(Ce(e))return new ze(n,this.children);{const r=we(e),i=(this.children.get(r)||new ze(null)).set(Ue(e),n),o=this.children.insert(r,i);return new ze(this.value,o)}}remove(e){if(Ce(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=we(e),r=this.children.get(n);if(r){const s=r.remove(Ue(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ze(null):new ze(this.value,i)}else return this}}get(e){if(Ce(e))return this.value;{const n=we(e),r=this.children.get(n);return r?r.get(Ue(e)):null}}setTree(e,n){if(Ce(e))return n;{const r=we(e),i=(this.children.get(r)||new ze(null)).setTree(Ue(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ze(this.value,o)}}fold(e){return this.fold_(Re(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(et(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Re(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Ce(e))return null;{const i=we(e),o=this.children.get(i);return o?o.findOnPath_(Ue(e),et(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Re(),n)}foreachOnPath_(e,n,r){if(Ce(e))return this;{this.value&&r(n,this.value);const s=we(e),i=this.children.get(s);return i?i.foreachOnPath_(Ue(e),et(n,s),r):new ze(null)}}foreach(e){this.foreach_(Re(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(et(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.writeTree_=e}static empty(){return new _n(new ze(null))}}function Yi(t,e,n){if(Ce(e))return new _n(new ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=At(s,e);return i=i.updateChild(o,n),new _n(t.writeTree_.set(s,i))}else{const s=new ze(n),i=t.writeTree_.setTree(e,s);return new _n(i)}}}function au(t,e,n){let r=t;return yt(n,(s,i)=>{r=Yi(r,et(e,s),i)}),r}function fm(t,e){if(Ce(e))return _n.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new _n(n)}}function lu(t,e){return _s(t,e)!=null}function _s(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(At(n.path,e)):null}function hm(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qe,(r,s)=>{e.push(new De(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new De(r,s.value))}),e}function _r(t,e){if(Ce(e))return t;{const n=_s(t,e);return n!=null?new _n(new ze(n)):new _n(t.writeTree_.subtree(e))}}function cu(t){return t.writeTree_.isEmpty()}function Qs(t,e){return Ay(Re(),t.writeTree_,e)}function Ay(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(j(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Ay(et(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(et(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t,e){return Ry(e,t)}function Kj(t,e,n,r,s){j(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Yi(t.visibleWrites,e,n)),t.lastWriteId=r}function Gj(t,e,n,r){j(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=au(t.visibleWrites,e,n),t.lastWriteId=r}function qj(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Qj(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);j(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Zj(a,r.path)?s=!1:tn(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return Xj(t),!0;if(r.snap)t.visibleWrites=fm(t.visibleWrites,r.path);else{const a=r.children;yt(a,l=>{t.visibleWrites=fm(t.visibleWrites,et(r.path,l))})}return!0}else return!1}function Zj(t,e){if(t.snap)return tn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&tn(et(t.path,n),e))return!0;return!1}function Xj(t){t.visibleWrites=Oy(t.allWrites,Jj,Re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Jj(t){return t.visible}function Oy(t,e,n){let r=_n.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)tn(n,o)?(a=At(n,o),r=Yi(r,a,i.snap)):tn(o,n)&&(a=At(o,n),r=Yi(r,Re(),i.snap.getChild(a)));else if(i.children){if(tn(n,o))a=At(n,o),r=au(r,a,i.children);else if(tn(o,n))if(a=At(o,n),Ce(a))r=au(r,Re(),i.children);else{const l=rs(i.children,we(a));if(l){const c=l.getChild(Ue(a));r=Yi(r,Re(),c)}}}else throw li("WriteRecord should have .snap or .children")}}return r}function My(t,e,n,r,s){if(!r&&!s){const i=_s(t.visibleWrites,e);if(i!=null)return i;{const o=_r(t.visibleWrites,e);if(cu(o))return n;if(n==null&&!lu(o,Re()))return null;{const a=n||he.EMPTY_NODE;return Qs(o,a)}}}else{const i=_r(t.visibleWrites,e);if(!s&&cu(i))return n;if(!s&&n==null&&!lu(i,Re()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(tn(c.path,e)||tn(e,c.path))},a=Oy(t.allWrites,o,e),l=n||he.EMPTY_NODE;return Qs(a,l)}}}function eU(t,e,n){let r=he.EMPTY_NODE;const s=_s(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(qe,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=_r(t.visibleWrites,e);return n.forEachChild(qe,(o,a)=>{const l=Qs(_r(i,new Ne(o)),a);r=r.updateImmediateChild(o,l)}),hm(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=_r(t.visibleWrites,e);return hm(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function tU(t,e,n,r,s){j(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=et(e,n);if(lu(t.visibleWrites,i))return null;{const o=_r(t.visibleWrites,i);return cu(o)?s.getChild(n):Qs(o,s.getChild(n))}}function nU(t,e,n,r){const s=et(e,n),i=_s(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=_r(t.visibleWrites,s);return Qs(o,r.getNode().getImmediateChild(n))}else return null}function rU(t,e){return _s(t.visibleWrites,e)}function sU(t,e,n,r,s,i,o){let a;const l=_r(t.visibleWrites,e),c=_s(l,Re());if(c!=null)a=c;else if(n!=null)a=Qs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let h=f.getNext();for(;h&&u.length<s;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function iU(){return{visibleWrites:_n.empty(),allWrites:[],lastWriteId:-1}}function Ma(t,e,n,r){return My(t.writeTree,t.treePath,e,n,r)}function Hd(t,e){return eU(t.writeTree,t.treePath,e)}function pm(t,e,n,r){return tU(t.writeTree,t.treePath,e,n,r)}function xa(t,e){return rU(t.writeTree,et(t.treePath,e))}function oU(t,e,n,r,s,i){return sU(t.writeTree,t.treePath,e,n,r,s,i)}function jd(t,e,n){return nU(t.writeTree,t.treePath,e,n)}function xy(t,e){return Ry(et(t.treePath,e),t.writeTree)}function Ry(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;j(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),j(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,so(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,ro(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Gs(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,so(r,e.snapshotNode,s.oldSnap));else throw li("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Ny=new lU;class Ud{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new $r(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jd(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:os(this.viewCache_),i=oU(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){return{filter:t}}function uU(t,e){j(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),j(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function dU(t,e,n,r,s){const i=new aU;let o,a;if(n.type===mn.OVERWRITE){const c=n;c.source.fromUser?o=uu(t,e,c.path,c.snap,r,s,i):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Ce(c.path),o=Ra(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===mn.MERGE){const c=n;c.source.fromUser?o=hU(t,e,c.path,c.children,r,s,i):(j(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=du(t,e,c.path,c.children,r,s,a,i))}else if(n.type===mn.ACK_USER_WRITE){const c=n;c.revert?o=vU(t,e,c.path,r,s,i):o=pU(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===mn.LISTEN_COMPLETE)o=mU(t,e,n.path,r,i);else throw li("Unknown operation type: "+n.type);const l=i.getChanges();return fU(e,o,l),{viewCache:o,changes:l}}function fU(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Oa(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Py(Oa(e)))}}function Ly(t,e,n,r,s,i){const o=e.eventCache;if(xa(r,n)!=null)return e;{let a,l;if(Ce(n))if(j(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=os(e),u=c instanceof he?c:he.EMPTY_NODE,d=Hd(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Ma(r,os(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=we(n);if(c===".priority"){j(Ir(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=pm(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ue(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=pm(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=jd(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return Fi(e,a,o.isFullyInitialized()||Ce(n),t.filter.filtersNodes())}}function Ra(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Ce(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{const h=we(n);if(!l.isCompleteForPath(n)&&Ir(n)>1)return e;const m=Ue(n),w=l.getNode().getImmediateChild(h).updateChild(m,r);h===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),h,w,m,Ny,null)}const d=ky(e,c,l.isFullyInitialized()||Ce(n),u.filtersNodes()),f=new Ud(s,d,i);return Ly(t,d,n,s,f,a)}function uu(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new Ud(s,e,i);if(Ce(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Fi(e,c,!0,t.filter.filtersNodes());else{const d=we(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Fi(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ue(n),h=a.getNode().getImmediateChild(d);let m;if(Ce(f))m=r;else{const b=u.getCompleteChild(d);b!=null?Od(f)===".priority"&&b.getChild(Cy(f)).isEmpty()?m=b:m=b.updateChild(f,r):m=he.EMPTY_NODE}if(h.equals(m))l=e;else{const b=t.filter.updateChild(a.getNode(),d,m,f,u,o);l=Fi(e,b,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function mm(t,e){return t.eventCache.isCompleteForChild(e)}function hU(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=et(n,l);mm(e,we(u))&&(a=uu(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=et(n,l);mm(e,we(u))||(a=uu(t,a,u,c,s,i,o))}),a}function vm(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function du(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Ce(n)?c=r:c=new ze(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),m=vm(t,h,f);l=Ra(t,l,new Ne(d),m,s,i,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const m=e.serverCache.getNode().getImmediateChild(d),b=vm(t,m,f);l=Ra(t,l,new Ne(d),b,s,i,o,a)}}),l}function pU(t,e,n,r,s,i,o){if(xa(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ra(t,e,n,l.getNode().getChild(n),s,i,a,o);if(Ce(n)){let c=new ze(null);return l.getNode().forEachChild(Pn,(u,d)=>{c=c.set(new Ne(u),d)}),du(t,e,n,c,s,i,a,o)}else return e}else{let c=new ze(null);return r.foreach((u,d)=>{const f=et(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),du(t,e,n,c,s,i,a,o)}}function mU(t,e,n,r,s){const i=e.serverCache,o=ky(e,i.getNode(),i.isFullyInitialized()||Ce(n),i.isFiltered());return Ly(t,o,n,r,Ny,s)}function vU(t,e,n,r,s,i){let o;if(xa(r,n)!=null)return e;{const a=new Ud(r,e,s),l=e.eventCache.getNode();let c;if(Ce(n)||we(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ma(r,os(e));else{const d=e.serverCache.getNode();j(d instanceof he,"serverChildren would be complete if leaf node"),u=Hd(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=we(n);let d=jd(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ue(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,he.EMPTY_NODE,Ue(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ma(r,os(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||xa(r,Re())!=null,Fi(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Fd(r.getIndex()),i=Aj(r);this.processor_=cU(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(he.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(he.EMPTY_NODE,a.getNode(),null),u=new $r(l,o.isFullyInitialized(),s.filtersNodes()),d=new $r(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=wl(d,u),this.eventGenerator_=new Hj(this.query_)}get query(){return this.query_}}function gU(t){return t.viewCache_.serverCache.getNode()}function yU(t){return Oa(t.viewCache_)}function bU(t,e){const n=os(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ce(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function _m(t){return t.eventRegistrations_.length===0}function wU(t,e){t.eventRegistrations_.push(e)}function gm(t,e,n){const r=[];if(n){j(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function ym(t,e,n,r){e.type===mn.MERGE&&e.source.queryId!==null&&(j(os(t.viewCache_),"We should always have a full cache before handling merges"),j(Oa(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=dU(t.processor_,s,e,n,r);return uU(t.processor_,i.viewCache),j(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Fy(t,i.changes,i.viewCache.eventCache.getNode(),null)}function CU(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qe,(i,o)=>{r.push(Gs(i,o))}),n.isFullyInitialized()&&r.push(Py(n.getNode())),Fy(t,r,n.getNode(),e)}function Fy(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return jj(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na;class Yy{constructor(){this.views=new Map}}function EU(t){j(!Na,"__referenceConstructor has already been defined"),Na=t}function SU(){return j(Na,"Reference.ts has not been loaded"),Na}function DU(t){return t.views.size===0}function Vd(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return j(i!=null,"SyncTree gave us an op for an invalid query."),ym(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(ym(o,e,n,r));return i}}function By(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Ma(n,s?r:null),l=!1;a?l=!0:r instanceof he?(a=Hd(n,r),l=!1):(a=he.EMPTY_NODE,l=!1);const c=wl(new $r(a,l,!1),new $r(r,s,!1));return new _U(e,c)}return o}function TU(t,e,n,r,s,i){const o=By(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),wU(o,n),CU(o,n)}function IU(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=Pr(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(gm(c,n,r)),_m(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(gm(l,n,r)),_m(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Pr(t)&&i.push(new(SU())(e._repo,e._path)),{removed:i,events:o}}function Wy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function gr(t,e){let n=null;for(const r of t.views.values())n=n||bU(r,e);return n}function Hy(t,e){if(e._queryParams.loadsAllData())return El(t);{const r=e._queryIdentifier;return t.views.get(r)}}function jy(t,e){return Hy(t,e)!=null}function Pr(t){return El(t)!=null}function El(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;function $U(t){j(!La,"__referenceConstructor has already been defined"),La=t}function PU(){return j(La,"Reference.ts has not been loaded"),La}let kU=1;class bm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=iU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zd(t,e,n,r,s){return Kj(t.pendingWriteTree_,e,n,r,s),s?fi(t,new is(Yd(),e,n)):[]}function AU(t,e,n,r){Gj(t.pendingWriteTree_,e,n,r);const s=ze.fromObject(n);return fi(t,new qs(Yd(),e,s))}function fr(t,e,n=!1){const r=qj(t.pendingWriteTree_,e);if(Qj(t.pendingWriteTree_,e)){let i=new ze(null);return r.snap!=null?i=i.set(Re(),!0):yt(r.children,o=>{i=i.set(new Ne(o),!0)}),fi(t,new Aa(r.path,i,n))}else return[]}function Co(t,e,n){return fi(t,new is(Bd(),e,n))}function OU(t,e,n){const r=ze.fromObject(n);return fi(t,new qs(Bd(),e,r))}function MU(t,e){return fi(t,new oo(Bd(),e))}function xU(t,e,n){const r=Kd(t,n);if(r){const s=Gd(r),i=s.path,o=s.queryId,a=At(i,e),l=new oo(Wd(o),a);return qd(t,i,l)}else return[]}function Fa(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||jy(o,e))){const l=IU(o,e,n,r);DU(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,h)=>Pr(h));if(u&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const h=LU(f);for(let m=0;m<h.length;++m){const b=h[m],w=b.query,y=Ky(t,b);t.listenProvider_.startListening(Bi(w),ao(t,w),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(Bi(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(Dl(f));t.listenProvider_.stopListening(Bi(f),h)}))}FU(t,c)}return a}function Uy(t,e,n,r){const s=Kd(t,r);if(s!=null){const i=Gd(s),o=i.path,a=i.queryId,l=At(o,e),c=new is(Wd(a),l,n);return qd(t,o,c)}else return[]}function RU(t,e,n,r){const s=Kd(t,r);if(s){const i=Gd(s),o=i.path,a=i.queryId,l=At(o,e),c=ze.fromObject(n),u=new qs(Wd(a),l,c);return qd(t,o,u)}else return[]}function fu(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,h)=>{const m=At(f,s);i=i||gr(h,m),o=o||Pr(h)});let a=t.syncPointTree_.get(s);a?(o=o||Pr(a),i=i||gr(a,Re())):(a=new Yy,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=he.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((h,m)=>{const b=gr(m,Re());b&&(i=i.updateImmediateChild(h,b))}));const c=jy(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=Dl(e);j(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=YU();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=Cl(t.pendingWriteTree_,s);let d=TU(a,e,n,u,i,l);if(!c&&!o&&!r){const f=Hy(a,e);d=d.concat(BU(t,e,f))}return d}function Sl(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=At(o,e),c=gr(a,l);if(c)return c});return My(s,e,i,n,!0)}function NU(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=At(c,n);r=r||gr(u,d)});let s=t.syncPointTree_.get(n);s?r=r||gr(s,Re()):(s=new Yy,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new $r(r,!0,!1):null,a=Cl(t.pendingWriteTree_,e._path),l=By(s,e,a,i?o.getNode():he.EMPTY_NODE,i);return yU(l)}function fi(t,e){return Vy(e,t.syncPointTree_,null,Cl(t.pendingWriteTree_,Re()))}function Vy(t,e,n,r){if(Ce(t.path))return zy(t,e,n,r);{const s=e.get(Re());n==null&&s!=null&&(n=gr(s,Re()));let i=[];const o=we(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=xy(r,o);i=i.concat(Vy(a,l,c,u))}return s&&(i=i.concat(Vd(s,t,r,n))),i}}function zy(t,e,n,r){const s=e.get(Re());n==null&&s!=null&&(n=gr(s,Re()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=xy(r,o),u=t.operationForChild(o);u&&(i=i.concat(zy(u,a,l,c)))}),s&&(i=i.concat(Vd(s,t,r,n))),i}function Ky(t,e){const n=e.query,r=ao(t,n);return{hashFn:()=>(gU(e)||he.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?xU(t,n._path,r):MU(t,n._path);{const i=A3(s,n);return Fa(t,n,null,i)}}}}function ao(t,e){const n=Dl(e);return t.queryToTagMap.get(n)}function Dl(t){return t._path.toString()+"$"+t._queryIdentifier}function Kd(t,e){return t.tagToQueryMap.get(e)}function Gd(t){const e=t.indexOf("$");return j(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ne(t.substr(0,e))}}function qd(t,e,n){const r=t.syncPointTree_.get(e);j(r,"Missing sync point for query tag that we're tracking");const s=Cl(t.pendingWriteTree_,e);return Vd(r,n,s,null)}function LU(t){return t.fold((e,n,r)=>{if(n&&Pr(n))return[El(n)];{let s=[];return n&&(s=Wy(n)),yt(r,(i,o)=>{s=s.concat(o)}),s}})}function Bi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(PU())(t._repo,t._path):t}function FU(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Dl(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function YU(){return kU++}function BU(t,e,n){const r=e._path,s=ao(t,e),i=Ky(t,n),o=t.listenProvider_.startListening(Bi(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)j(!Pr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Ce(c)&&u&&Pr(u))return[El(u).query];{let f=[];return u&&(f=f.concat(Wy(u).map(h=>h.query))),yt(d,(h,m)=>{f=f.concat(m)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Bi(u),ao(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Qd(n)}node(){return this.node_}}class Zd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=et(this.path_,e);return new Zd(this.syncTree_,n)}node(){return Sl(this.syncTree_,this.path_)}}const WU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},wm=function(t,e,n){if(!t||typeof t!="object")return t;if(j(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return HU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return jU(t[".sv"],e);j(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},HU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:j(!1,"Unexpected server value: "+t)}},jU=function(t,e,n){t.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&j(!1,"Unexpected increment value: "+r);const s=e.node();if(j(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Gy=function(t,e,n,r){return Jd(e,new Zd(n,t),r)},Xd=function(t,e,n){return Jd(t,new Qd(e),n)};function Jd(t,e,n){const r=t.getPriority().val(),s=wm(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=wm(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new pt(a,rt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new pt(s))),o.forEachChild(qe,(a,l)=>{const c=Jd(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Tl(t,e){let n=e instanceof Ne?e:new Ne(e),r=t,s=we(n);for(;s!==null;){const i=rs(r.node.children,s)||{children:{},childCount:0};r=new ef(s,r,i),n=Ue(n),s=we(n)}return r}function gs(t){return t.node.value}function tf(t,e){t.node.value=e,hu(t)}function qy(t){return t.node.childCount>0}function UU(t){return gs(t)===void 0&&!qy(t)}function Il(t,e){yt(t.node.children,(n,r)=>{e(new ef(n,t,r))})}function Qy(t,e,n,r){n&&!r&&e(t),Il(t,s=>{Qy(s,e,!0,r)}),n&&r&&e(t)}function VU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Eo(t){return new Ne(t.parent===null?t.name:Eo(t.parent)+"/"+t.name)}function hu(t){t.parent!==null&&zU(t.parent,t.name,t)}function zU(t,e,n){const r=UU(n),s=Gt(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,hu(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,hu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=/[\[\].#$\/\u0000-\u001F\u007F]/,GU=/[\[\].#$\u0000-\u001F\u007F]/,mc=10*1024*1024,$l=function(t){return typeof t=="string"&&t.length!==0&&!KU.test(t)},Zy=function(t){return typeof t=="string"&&t.length!==0&&!GU.test(t)},qU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Zy(t)},lo=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!_l(t)||t&&typeof t=="object"&&Gt(t,".sv")},Mn=function(t,e,n,r){r&&e===void 0||So(Ht(t,"value"),e,n)},So=function(t,e,n){const r=n instanceof Ne?new dj(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jr(r));if(typeof e=="function")throw new Error(t+"contains a function "+jr(r)+" with contents = "+e.toString());if(_l(e))throw new Error(t+"contains "+e.toString()+" "+jr(r));if(typeof e=="string"&&e.length>mc/3&&ml(e)>mc)throw new Error(t+"contains a string greater than "+mc+" utf8 bytes "+jr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(yt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!$l(o)))throw new Error(t+" contains an invalid key ("+o+") "+jr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fj(r,o),So(t,a,r),hj(r)}),s&&i)throw new Error(t+' contains ".value" child '+jr(r)+" in addition to actual children.")}},QU=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=no(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!$l(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(uj);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&tn(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},Xy=function(t,e,n,r){if(r&&e===void 0)return;const s=Ht(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];yt(e,(o,a)=>{const l=new Ne(o);if(So(s,a,et(n,l)),Od(l)===".priority"&&!lo(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),QU(s,i)},nf=function(t,e,n){if(!(n&&e===void 0)){if(_l(e))throw new Error(Ht(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lo(e))throw new Error(Ht(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Do=function(t,e,n,r){if(!(r&&n===void 0)&&!$l(n))throw new Error(Ht(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},co=function(t,e,n,r){if(!(r&&n===void 0)&&!Zy(n))throw new Error(Ht(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ZU=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),co(t,e,n,r)},nn=function(t,e){if(we(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Jy=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$l(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!qU(n))throw new Error(Ht(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pl(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Md(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function eb(t,e,n){Pl(t,n),tb(t,r=>Md(r,e))}function qt(t,e,n){Pl(t,n),tb(t,r=>tn(r,e)||tn(e,r))}function tb(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(JU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function JU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();es&&_t("event: "+n.toString()),ui(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="repo_interrupt",eV=25;class tV{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ka(),this.transactionQueueTree_=new ef,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nV(t,e,n){if(t.stats_=kd(t.repoInfo_),t.forceRestClient_||R3())t.server_=new Pa(t.repoInfo_,(r,s,i,o)=>{Cm(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Em(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ct(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Un(t.repoInfo_,e,(r,s,i,o)=>{Cm(t,r,s,i,o)},r=>{Em(t,r)},r=>{rV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=B3(t.repoInfo_,()=>new Wj(t.stats_,t.server_)),t.infoData_=new Nj,t.infoSyncTree_=new bm({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Co(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),rf(t,"connected",!1),t.serverSyncTree_=new bm({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);qt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function rb(t){const n=t.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function To(t){return WU({timestamp:rb(t)})}function Cm(t,e,n,r,s){t.dataUpdateCount++;const i=new Ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Sa(n,c=>rt(c));o=RU(t.serverSyncTree_,i,l,s)}else{const l=rt(n);o=Uy(t.serverSyncTree_,i,l,s)}else if(r){const l=Sa(n,c=>rt(c));o=OU(t.serverSyncTree_,i,l)}else{const l=rt(n);o=Co(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Zs(t,i)),qt(t.eventQueue_,a,o)}function Em(t,e){rf(t,"connected",e),e===!1&&oV(t)}function rV(t,e){yt(e,(n,r)=>{rf(t,n,r)})}function rf(t,e,n){const r=new Ne("/.info/"+e),s=rt(n);t.infoData_.updateSnapshot(r,s);const i=Co(t.infoSyncTree_,r,s);qt(t.eventQueue_,r,i)}function kl(t){return t.nextWriteId_++}function sV(t,e,n){const r=NU(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=rt(s).withIndex(e._queryParams.getIndex());fu(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Co(t.serverSyncTree_,e._path,i);else{const a=ao(t.serverSyncTree_,e);o=Uy(t.serverSyncTree_,e._path,i,a)}return qt(t.eventQueue_,e._path,o),Fa(t.serverSyncTree_,e,n,null,!0),i},s=>(hi(t,"get for query "+ct(e)+" failed: "+s),Promise.reject(new Error(s))))}function sf(t,e,n,r,s){hi(t,"set",{path:e.toString(),value:n,priority:r});const i=To(t),o=rt(n,r),a=Sl(t.serverSyncTree_,e),l=Xd(o,a,i),c=kl(t),u=zd(t.serverSyncTree_,e,l,c,!0);Pl(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const m=f==="ok";m||St("set at "+e+" failed: "+f);const b=fr(t.serverSyncTree_,c,!m);qt(t.eventQueue_,e,b),kr(t,s,f,h)});const d=af(t,e);Zs(t,d),qt(t.eventQueue_,d,[])}function iV(t,e,n,r){hi(t,"update",{path:e.toString(),value:n});let s=!0;const i=To(t),o={};if(yt(n,(a,l)=>{s=!1,o[a]=Gy(et(e,a),rt(l),t.serverSyncTree_,i)}),s)_t("update() called with empty data.  Don't do anything."),kr(t,r,"ok",void 0);else{const a=kl(t),l=AU(t.serverSyncTree_,e,o,a);Pl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||St("update at "+e+" failed: "+c);const f=fr(t.serverSyncTree_,a,!d),h=f.length>0?Zs(t,e):e;qt(t.eventQueue_,h,f),kr(t,r,c,u)}),yt(n,c=>{const u=af(t,et(e,c));Zs(t,u)}),qt(t.eventQueue_,e,[])}}function oV(t){hi(t,"onDisconnectEvents");const e=To(t),n=ka();ou(t.onDisconnect_,Re(),(s,i)=>{const o=Gy(s,i,t.serverSyncTree_,e);di(n,s,o)});let r=[];ou(n,Re(),(s,i)=>{r=r.concat(Co(t.serverSyncTree_,s,i));const o=af(t,s);Zs(t,o)}),t.onDisconnect_=ka(),qt(t.eventQueue_,Re(),r)}function aV(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,s)=>{r==="ok"&&iu(t.onDisconnect_,e),kr(t,n,r,s)})}function Sm(t,e,n,r){const s=rt(n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(i,o)=>{i==="ok"&&di(t.onDisconnect_,e,s),kr(t,r,i,o)})}function lV(t,e,n,r,s){const i=rt(n,r);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,a)=>{o==="ok"&&di(t.onDisconnect_,e,i),kr(t,s,o,a)})}function cV(t,e,n,r){if(Kc(n)){_t("onDisconnect().update() called with empty data.  Don't do anything."),kr(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(s,i)=>{s==="ok"&&yt(n,(o,a)=>{const l=rt(a);di(t.onDisconnect_,et(e,o),l)}),kr(t,r,s,i)})}function uV(t,e,n){let r;we(e._path)===".info"?r=fu(t.infoSyncTree_,e,n):r=fu(t.serverSyncTree_,e,n),eb(t.eventQueue_,e._path,r)}function pu(t,e,n){let r;we(e._path)===".info"?r=Fa(t.infoSyncTree_,e,n):r=Fa(t.serverSyncTree_,e,n),eb(t.eventQueue_,e._path,r)}function sb(t){t.persistentConnection_&&t.persistentConnection_.interrupt(nb)}function dV(t){t.persistentConnection_&&t.persistentConnection_.resume(nb)}function hi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_t(n,...e)}function kr(t,e,n,r){e&&ui(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function fV(t,e,n,r,s,i){hi(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:Jg(),applyLocally:i,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=of(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{So("transaction failed: Data returned ",l,o.path),o.status=0;const c=Tl(t.transactionQueueTree_,e),u=gs(c)||[];u.push(o),tf(c,u);let d;typeof l=="object"&&l!==null&&Gt(l,".priority")?(d=rs(l,".priority"),j(lo(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Sl(t.serverSyncTree_,e)||he.EMPTY_NODE).getPriority().val();const f=To(t),h=rt(l,d),m=Xd(h,a,f);o.currentOutputSnapshotRaw=h,o.currentOutputSnapshotResolved=m,o.currentWriteId=kl(t);const b=zd(t.serverSyncTree_,e,m,o.currentWriteId,o.applyLocally);qt(t.eventQueue_,e,b),Al(t,t.transactionQueueTree_)}}function of(t,e,n){return Sl(t.serverSyncTree_,e,n)||he.EMPTY_NODE}function Al(t,e=t.transactionQueueTree_){if(e||Ol(t,e),gs(e)){const n=ob(t,e);j(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&hV(t,Eo(e),n)}else qy(e)&&Il(e,n=>{Al(t,n)})}function hV(t,e,n){const r=n.map(c=>c.currentWriteId),s=of(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];j(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=At(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{hi(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(fr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Ol(t,Tl(t.transactionQueueTree_,e)),Al(t,t.transactionQueueTree_),qt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)ui(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{St("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Zs(t,e)}},o)}function Zs(t,e){const n=ib(t,e),r=Eo(n),s=ob(t,n);return pV(t,s,r),r}function pV(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=At(n,l.path);let u=!1,d;if(j(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(fr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=eV)u=!0,d="maxretry",s=s.concat(fr(t.serverSyncTree_,l.currentWriteId,!0));else{const f=of(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){So("transaction failed: Data returned ",h,l.path);let m=rt(h);typeof h=="object"&&h!=null&&Gt(h,".priority")||(m=m.updatePriority(f.getPriority()));const w=l.currentWriteId,y=To(t),k=Xd(m,f,y);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=k,l.currentWriteId=kl(t),o.splice(o.indexOf(w),1),s=s.concat(zd(t.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),s=s.concat(fr(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",s=s.concat(fr(t.serverSyncTree_,l.currentWriteId,!0))}qt(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Ol(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ui(r[a]);Al(t,t.transactionQueueTree_)}function ib(t,e){let n,r=t.transactionQueueTree_;for(n=we(e);n!==null&&gs(r)===void 0;)r=Tl(r,n),e=Ue(e),n=we(e);return r}function ob(t,e){const n=[];return ab(t,e,n),n.sort((r,s)=>r.order-s.order),n}function ab(t,e,n){const r=gs(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Il(e,s=>{ab(t,s,n)})}function Ol(t,e){const n=gs(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,tf(e,n.length>0?n:void 0)}Il(e,r=>{Ol(t,r)})}function af(t,e){const n=Eo(ib(t,e)),r=Tl(t.transactionQueueTree_,e);return VU(r,s=>{vc(t,s)}),vc(t,r),Qy(r,s=>{vc(t,s)}),n}function vc(t,e){const n=gs(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(j(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(j(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(fr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?tf(e,void 0):n.length=i+1,qt(t.eventQueue_,Eo(e),s);for(let o=0;o<r.length;o++)ui(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function vV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):St(`Invalid query segment '${n}' in query '${t}'`)}return e}const mu=function(t,e){const n=_V(t),r=n.namespace;n.domain==="firebase.com"&&On(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&On("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||T3();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new hy(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ne(n.pathString)}},_V=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=mV(t.substring(u,d)));const f=vV(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gV=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=Dm.charAt(n%64),n=Math.floor(n/64);j(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=Dm.charAt(e[s]);return j(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ct(this.snapshot.exportVal())}}class cb{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yV=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Lt;return aV(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){nn("OnDisconnect.remove",this._path);const e=new Lt;return Sm(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){nn("OnDisconnect.set",this._path),Mn("OnDisconnect.set",e,this._path,!1);const n=new Lt;return Sm(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){nn("OnDisconnect.setWithPriority",this._path),Mn("OnDisconnect.setWithPriority",e,this._path,!1),nf("OnDisconnect.setWithPriority",n,!1);const r=new Lt;return lV(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){nn("OnDisconnect.update",this._path),Xy("OnDisconnect.update",e,this._path,!1);const n=new Lt;return cV(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Ce(this._path)?null:Od(this._path)}get ref(){return new un(this._repo,this._path)}get _queryIdentifier(){const e=um(this._queryParams),n=$d(e);return n==="{}"?"default":n}get _queryObject(){return um(this._queryParams)}isEqual(e){if(e=Qt(e),!(e instanceof Ut))return!1;const n=this._repo===e._repo,r=Md(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+cj(this._path)}}function Ml(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function xr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Pn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Tr)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==qn)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===qe){if(e!=null&&!lo(e)||n!=null&&!lo(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(j(t.getIndex()instanceof Nd||t.getIndex()===Ld,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function xl(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class un extends Ut{constructor(e,n){super(e,n,new yl,!1)}get parent(){const e=Cy(this._path);return e===null?null:new un(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let Rl=class vu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ne(e),r=as(this.ref,e);return new vu(this._node.getChild(n),r,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new vu(s,as(this.ref,r),qe)))}hasChild(e){const n=new Ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function ub(t,e){return t=Qt(t),t._checkNotDeleted("ref"),e!==void 0?as(t._root,e):t._root}function Tm(t,e){t=Qt(t),t._checkNotDeleted("refFromURL");const n=mu(e,t._repo.repoInfo_.nodeAdmin);Jy("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&On("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),ub(t,n.path.toString())}function as(t,e){return t=Qt(t),we(t._path)===null?ZU("child","path",e,!1):co("child","path",e,!1),new un(t._repo,et(t._path,e))}function bV(t,e){t=Qt(t),nn("push",t._path),Mn("push",e,t._path,!0);const n=rb(t._repo),r=gV(n),s=as(t,r),i=as(t,r);let o;return e!=null?o=cf(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function wV(t){return nn("remove",t._path),cf(t,null)}function cf(t,e){t=Qt(t),nn("set",t._path),Mn("set",e,t._path,!1);const n=new Lt;return sf(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function CV(t,e){t=Qt(t),nn("setPriority",t._path),nf("setPriority",e,!1);const n=new Lt;return sf(t._repo,et(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function EV(t,e,n){if(nn("setWithPriority",t._path),Mn("setWithPriority",e,t._path,!1),nf("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Lt;return sf(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function SV(t,e){Xy("update",e,t._path,!1);const n=new Lt;return iV(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function DV(t){t=Qt(t);const e=new lf(()=>{}),n=new Io(e);return sV(t._repo,t,n).then(r=>new Rl(r,new un(t._repo,t._path),t._queryParams.getIndex()))}class Io{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new lb("value",this,new Rl(e.snapshotNode,new un(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new cb(this,e,n):null}matches(e){return e instanceof Io?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Nl{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new cb(this,e,n):null}createEvent(e,n){j(e.childName!=null,"Child events should have a childName.");const r=as(new un(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new lb(e.type,this,new Rl(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Nl?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function $o(t,e,n,r,s){let i;if(typeof r=="object"&&(i=void 0,s=r),typeof r=="function"&&(i=r),s&&s.onlyOnce){const l=n,c=(u,d)=>{pu(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new lf(n,i||void 0),a=e==="value"?new Io(o):new Nl(e,o);return uV(t._repo,t,a),()=>pu(t._repo,t,a)}function _u(t,e,n,r){return $o(t,"value",e,n,r)}function Im(t,e,n,r){return $o(t,"child_added",e,n,r)}function $m(t,e,n,r){return $o(t,"child_changed",e,n,r)}function Pm(t,e,n,r){return $o(t,"child_moved",e,n,r)}function km(t,e,n,r){return $o(t,"child_removed",e,n,r)}function Am(t,e,n){let r=null;const s=n?new lf(n):null;e==="value"?r=new Io(s):e&&(r=new Nl(e,s)),pu(t._repo,t,r)}class Cn{}class db extends Cn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Mn("endAt",this._value,e._path,!0);const n=su(e._queryParams,this._value,this._key);if(xl(n),xr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ut(e._repo,e._path,n,e._orderByCalled)}}function TV(t,e){return Do("endAt","key",e,!0),new db(t,e)}class IV extends Cn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Mn("endBefore",this._value,e._path,!1);const n=Rj(e._queryParams,this._value,this._key);if(xl(n),xr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ut(e._repo,e._path,n,e._orderByCalled)}}function $V(t,e){return Do("endBefore","key",e,!0),new IV(t,e)}class fb extends Cn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Mn("startAt",this._value,e._path,!0);const n=ru(e._queryParams,this._value,this._key);if(xl(n),xr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ut(e._repo,e._path,n,e._orderByCalled)}}function PV(t=null,e){return Do("startAt","key",e,!0),new fb(t,e)}class kV extends Cn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Mn("startAfter",this._value,e._path,!1);const n=xj(e._queryParams,this._value,this._key);if(xl(n),xr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ut(e._repo,e._path,n,e._orderByCalled)}}function AV(t,e){return Do("startAfter","key",e,!0),new kV(t,e)}class OV extends Cn{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ut(e._repo,e._path,Oj(e._queryParams,this._limit),e._orderByCalled)}}function MV(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new OV(t)}class xV extends Cn{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ut(e._repo,e._path,Mj(e._queryParams,this._limit),e._orderByCalled)}}function RV(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new xV(t)}class NV extends Cn{constructor(e){super(),this._path=e}_apply(e){Ml(e,"orderByChild");const n=new Ne(this._path);if(Ce(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Nd(n),s=bl(e._queryParams,r);return xr(s),new Ut(e._repo,e._path,s,!0)}}function LV(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return co("orderByChild","path",t,!1),new NV(t)}class FV extends Cn{_apply(e){Ml(e,"orderByKey");const n=bl(e._queryParams,Pn);return xr(n),new Ut(e._repo,e._path,n,!0)}}function YV(){return new FV}class BV extends Cn{_apply(e){Ml(e,"orderByPriority");const n=bl(e._queryParams,qe);return xr(n),new Ut(e._repo,e._path,n,!0)}}function WV(){return new BV}class HV extends Cn{_apply(e){Ml(e,"orderByValue");const n=bl(e._queryParams,Ld);return xr(n),new Ut(e._repo,e._path,n,!0)}}function jV(){return new HV}class UV extends Cn{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Mn("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new db(this._value,this._key)._apply(new fb(this._value,this._key)._apply(e))}}function VV(t,e){return Do("equalTo","key",e,!0),new UV(t,e)}function fn(t,...e){let n=Qt(t);for(const r of e)n=r._apply(n);return n}EU(un);$U(un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="FIREBASE_DATABASE_EMULATOR_HOST",gu={};let KV=!1;function GV(t,e,n,r){t.repoInfo_=new hy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function hb(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||On("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=mu(i,s),a=o.repoInfo,l,c;typeof process<"u"&&zp&&(c=zp[zV]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=mu(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Rs(Rs.OWNER):new L3(t.name,t.options,e);Jy("Invalid Firebase Database URL",o),Ce(o.path)||On("Database URL must point to the root of a Firebase Database (not including a child path).");const d=QV(a,t,u,new N3(t.name,n));return new ZV(d,t)}function qV(t,e){const n=gu[e];(!n||n[t.key]!==t)&&On(`Database ${e}(${t.repoInfo_}) has already been deleted.`),sb(t),delete n[t.key]}function QV(t,e,n,r){let s=gu[e.name];s||(s={},gu[e.name]=s);let i=s[t.toURLString()];return i&&On("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new tV(t,KV,n,r),s[t.toURLString()]=i,i}let ZV=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(nV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new un(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&On("Cannot call "+e+" on a deleted database.")}};function pb(){Ks.IS_TRANSPORT_INITIALIZED&&St("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function XV(){pb(),dr.forceDisallow()}function JV(){pb(),Xt.forceDisallow(),dr.forceAllow()}function e4(t,e,n,r={}){t=Qt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&On("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&On('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Rs(Rs.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:UW(r.mockUserToken,t.app.options.projectId);i=new Rs(o)}GV(s,e,n,i)}function t4(t){t=Qt(t),t._checkNotDeleted("goOffline"),sb(t._repo)}function n4(t){t=Qt(t),t._checkNotDeleted("goOnline"),dV(t._repo)}function r4(t,e){ty(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){Zg(Dd),zs(new Gn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return hb(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),vr(Kp,Gp,t),vr(Kp,Gp,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={".sv":"timestamp"};function o4(){return i4}function a4(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l4=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function c4(t,e,n){var r;if(t=Qt(t),nn("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const s=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,i=new Lt,o=(l,c,u)=>{let d=null;l?i.reject(l):(d=new Rl(u,new un(t._repo,t._path),qe),i.resolve(new l4(c,d)))},a=_u(t,()=>{});return fV(t._repo,t._path,e,o,a,s),i.promise}Un.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Un.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};s4();const u4="@firebase/database-compat",d4="1.0.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new vl("@firebase/database-compat"),mb=function(t){const e="FIREBASE WARNING: "+t;f4.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Ht(t,e)+"must be a boolean.")},p4=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ht(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this._delegate=e}cancel(e){pe("OnDisconnect.cancel",0,1,arguments.length),mt("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){pe("OnDisconnect.remove",0,1,arguments.length),mt("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){pe("OnDisconnect.set",1,2,arguments.length),mt("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),s=>n(s)),r}setWithPriority(e,n,r){pe("OnDisconnect.setWithPriority",2,3,arguments.length),mt("OnDisconnect.setWithPriority","onComplete",r,!0);const s=this._delegate.setWithPriority(e,n);return r&&s.then(()=>r(null),i=>r(i)),s}update(e,n){if(pe("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,mb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mt("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),s=>n(s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return pe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this._database=e,this._delegate=n}val(){return pe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return pe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return pe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return pe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return pe("DataSnapshot.child",0,1,arguments.length),e=String(e),co("DataSnapshot.child","path",e,!1),new yr(this._database,this._delegate.child(e))}hasChild(e){return pe("DataSnapshot.hasChild",1,1,arguments.length),co("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return pe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return pe("DataSnapshot.forEach",1,1,arguments.length),mt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new yr(this._database,n)))}hasChildren(){return pe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return pe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return pe("DataSnapshot.ref",0,0,arguments.length),new zt(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class bt{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,s){var i;pe("Query.on",2,4,arguments.length),mt("Query.on","callback",n,!1);const o=bt.getCancelAndContextArgs_("Query.on",r,s),a=(c,u)=>{n.call(o.context,new yr(this.database,c),u)};a.userCallback=n,a.context=o.context;const l=(i=o.cancel)===null||i===void 0?void 0:i.bind(o.context);switch(e){case"value":return _u(this._delegate,a,l),n;case"child_added":return Im(this._delegate,a,l),n;case"child_removed":return km(this._delegate,a,l),n;case"child_changed":return $m(this._delegate,a,l),n;case"child_moved":return Pm(this._delegate,a,l),n;default:throw new Error(Ht("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(pe("Query.off",0,3,arguments.length),p4("Query.off",e,!0),mt("Query.off","callback",n,!0),Np("Query.off","context",r,!0),n){const s=()=>{};s.userCallback=n,s.context=r,Am(this._delegate,e,s)}else Am(this._delegate,e)}get(){return DV(this._delegate).then(e=>new yr(this.database,e))}once(e,n,r,s){pe("Query.once",1,4,arguments.length),mt("Query.once","callback",n,!0);const i=bt.getCancelAndContextArgs_("Query.once",r,s),o=new Lt,a=(c,u)=>{const d=new yr(this.database,c);n&&n.call(i.context,d,u),o.resolve(d)};a.userCallback=n,a.context=i.context;const l=c=>{i.cancel&&i.cancel.call(i.context,c),o.reject(c)};switch(e){case"value":_u(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Im(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":km(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":$m(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Pm(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Ht("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return pe("Query.limitToFirst",1,1,arguments.length),new bt(this.database,fn(this._delegate,MV(e)))}limitToLast(e){return pe("Query.limitToLast",1,1,arguments.length),new bt(this.database,fn(this._delegate,RV(e)))}orderByChild(e){return pe("Query.orderByChild",1,1,arguments.length),new bt(this.database,fn(this._delegate,LV(e)))}orderByKey(){return pe("Query.orderByKey",0,0,arguments.length),new bt(this.database,fn(this._delegate,YV()))}orderByPriority(){return pe("Query.orderByPriority",0,0,arguments.length),new bt(this.database,fn(this._delegate,WV()))}orderByValue(){return pe("Query.orderByValue",0,0,arguments.length),new bt(this.database,fn(this._delegate,jV()))}startAt(e=null,n){return pe("Query.startAt",0,2,arguments.length),new bt(this.database,fn(this._delegate,PV(e,n)))}startAfter(e=null,n){return pe("Query.startAfter",0,2,arguments.length),new bt(this.database,fn(this._delegate,AV(e,n)))}endAt(e=null,n){return pe("Query.endAt",0,2,arguments.length),new bt(this.database,fn(this._delegate,TV(e,n)))}endBefore(e=null,n){return pe("Query.endBefore",0,2,arguments.length),new bt(this.database,fn(this._delegate,$V(e,n)))}equalTo(e,n){return pe("Query.equalTo",1,2,arguments.length),new bt(this.database,fn(this._delegate,VV(e,n)))}toString(){return pe("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return pe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(pe("Query.isEqual",1,1,arguments.length),!(e instanceof bt)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const s={cancel:void 0,context:void 0};if(n&&r)s.cancel=n,mt(e,"cancel",s.cancel,!0),s.context=r,Np(e,"context",s.context,!0);else if(n)if(typeof n=="object"&&n!==null)s.context=n;else if(typeof n=="function")s.cancel=n;else throw new Error(Ht(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return s}get ref(){return new zt(this.database,new un(this._delegate._repo,this._delegate._path))}}class zt extends bt{constructor(e,n){super(e,new Ut(n._repo,n._path,new yl,!1)),this.database=e,this._delegate=n}getKey(){return pe("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return pe("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new zt(this.database,as(this._delegate,e))}getParent(){pe("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new zt(this.database,e):null}getRoot(){return pe("Reference.root",0,0,arguments.length),new zt(this.database,this._delegate.root)}set(e,n){pe("Reference.set",1,2,arguments.length),mt("Reference.set","onComplete",n,!0);const r=cf(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}update(e,n){if(pe("Reference.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,mb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}nn("Reference.update",this._delegate._path),mt("Reference.update","onComplete",n,!0);const r=SV(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}setWithPriority(e,n,r){pe("Reference.setWithPriority",2,3,arguments.length),mt("Reference.setWithPriority","onComplete",r,!0);const s=EV(this._delegate,e,n);return r&&s.then(()=>r(null),i=>r(i)),s}remove(e){pe("Reference.remove",0,1,arguments.length),mt("Reference.remove","onComplete",e,!0);const n=wV(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){pe("Reference.transaction",1,3,arguments.length),mt("Reference.transaction","transactionUpdate",e,!1),mt("Reference.transaction","onComplete",n,!0),h4("Reference.transaction","applyLocally",r,!0);const s=c4(this._delegate,e,{applyLocally:r}).then(i=>new v4(i.committed,new yr(this.database,i.snapshot)));return n&&s.then(i=>n(null,i.committed,i.snapshot),i=>n(i,!1,null)),s}setPriority(e,n){pe("Reference.setPriority",1,2,arguments.length),mt("Reference.setPriority","onComplete",n,!0);const r=CV(this._delegate,e);return n&&r.then(()=>n(null),s=>n(s)),r}push(e,n){pe("Reference.push",0,2,arguments.length),mt("Reference.push","onComplete",n,!0);const r=bV(this._delegate,e),s=r.then(o=>new zt(this.database,o));n&&s.then(()=>n(null),o=>n(o));const i=new zt(this.database,r);return i.then=s.then.bind(s),i.catch=s.catch.bind(s,void 0),i}onDisconnect(){return nn("Reference.onDisconnect",this._delegate._path),new m4(new yV(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:XV,forceLongPolling:JV}}useEmulator(e,n,r={}){e4(this._delegate,e,n,r)}ref(e){if(pe("database.ref",0,1,arguments.length),e instanceof zt){const n=Tm(this._delegate,e.toString());return new zt(this,n)}else{const n=ub(this._delegate,e);return new zt(this,n)}}refFromURL(e){pe("database.refFromURL",1,1,arguments.length);const r=Tm(this._delegate,e);return new zt(this,r)}goOffline(){return pe("database.goOffline",0,0,arguments.length),t4(this._delegate)}goOnline(){return pe("database.goOnline",0,0,arguments.length),n4(this._delegate)}}uo.ServerValue={TIMESTAMP:o4(),increment:t=>a4(t)};function _4({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:s,namespace:i,nodeAdmin:o=!1}){Zg(n);const a=new Fg("database-standalone"),l=new qc("auth-internal",a);l.setComponent(new Gn("auth-internal",()=>r,"PRIVATE"));let c;return s&&(c=new qc("app-check-internal",a),c.setComponent(new Gn("app-check-internal",()=>s,"PRIVATE"))),{instance:new uo(hb(t,l,c,e,o),t),namespace:i}}var g4=Object.freeze({__proto__:null,initStandalone:_4});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=uo.ServerValue;function b4(t){t.INTERNAL.registerComponent(new Gn("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),s=e.getProvider("database").getImmediate({identifier:n});return new uo(s,r)},"PUBLIC").setServiceProps({Reference:zt,Query:bt,Database:uo,DataSnapshot:yr,enableLogging:r4,INTERNAL:g4,ServerValue:y4}).setMultipleInstances(!0)),t.registerVersion(u4,d4)}b4(Id);const w4=Id.initializeApp({databaseURL:"https://c210-67728-default-rtdb.firebaseio.com"}),C4=w4.database(),E4=C4.ref("subscriptions"),S4="/assets/push-image-yHULhPDY.jpg",D4={data(){return{bMsg:!1}},methods:{fnPushSubscribe(){let t=this;Notification.requestPermission(function(e){e!=="granted"?console.log("푸시알림 기능이 허용되지 않았습니다!"):t.fnConfigurePushSub()})},fnConfigurePushSub(){let t=this;if(!("serviceWorker"in navigator)){console.log("서비스 워커가 없습니다!");return}navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){e===null?(t.fnNewSubscription(),t.fnDisplayNotification()):console.log("이미 구독되어 있습니다!")})},fnNewSubscription(){let t=this;navigator.serviceWorker.ready.then(function(e){const r=t.urlBase64ToUint8Array("BEUb-27a0ug58aSI7yEXKqicaaA7qLI_Pzro-wOWOFY2lD30Z6J1NaZTaSbnPjY2r_P-9Z9YaXyDo9or4IFQjrQ");return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r}).then(function(s){const i=JSON.parse(JSON.stringify(s));var o={endpoint:i.endpoint,keys:{p256dh:i.keys.p256dh,auth:i.keys.auth}};return E4.push(o)})})},fnUnSubscription(){let t=this;navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){t.bMsg=!0,e.unsubscribe()}).catch(e=>console.log(e))},fnDisplayNotification(){const t="C210",e={body:"프론트 푸시 알람 구현",icon:"/img/push-noti.png",badge:"/img/push-badge-icon.png",image:"/img/push-image.jpg",actions:[{action:"like",title:"싸피 ㄱ?",icon:"/img/push-coffee.png"}],vibrate:[500,100,500]};navigator.serviceWorker.ready.then(function(n){n.showNotification(t,e)})},urlBase64ToUint8Array(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(n);return Uint8Array.from([...r].map(s=>s.charCodeAt(0)))}}},T4={class:"card"},I4=v("img",{src:S4,alt:"Push Image",class:"card-img-top"},null,-1),$4={class:"card-body"},P4=v("h1",{class:"card-title"},"C210",-1),k4=v("p",{class:"card-text"},"프론트 푸시 알람 구현. [알림허용] 단추를 클릭하시면 알림 정보를 받으실 수 있습니다.",-1),A4={key:0,class:"alert alert-info"};function O4(t,e,n,r,s,i){return $(),B("div",T4,[I4,v("div",$4,[P4,k4,v("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...o)=>i.fnPushSubscribe&&i.fnPushSubscribe(...o))},"알림 허용"),v("button",{class:"btn btn-secondary",onClick:e[1]||(e[1]=(...o)=>i.fnUnSubscription&&i.fnUnSubscription(...o))},"알림 해제")]),s.bMsg?($(),B("div",A4,[He(" 푸시알림이 해제되었습니다. "),v("button",{onClick:e[2]||(e[2]=o=>s.bMsg=!1)},"닫기")])):Ge("",!0)])}const M4=tt(D4,[["render",O4]]),x4={methods:{fnSendPush(){const t=this.$refs.title.value,e=this.$refs.message.value,n=JSON.stringify({pTitle:t,pMsg:e});console.log(n),fetch("https://us-central1-c210-67728.cloudfunctions.net/storePushData",{method:"POST",headers:{"Content-type":"application/json"},body:n}).then(r=>{if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r.json()}).then(r=>{console.log(r.message)}).catch(r=>console.log("오류!"+r.message))}}},R4={class:"container"},N4={class:"row justify-content-center"},L4=v("div",{class:"col-12 text-center"},[v("h1",{class:"display-1"},"메시지 보내기")],-1),F4={class:"col-10 my-3"},Y4={class:"card bg-dark text-white"},B4={class:"card-body"},W4={id:"messageForm"},H4={class:"mb-3"},j4={type:"text",class:"form-control",ref:"title",placeholder:"제목을 입력하세요"},U4={textarea:"",class:"form-control",ref:"message",rows:"3",placeholder:"내용을 입력하세요"};function V4(t,e,n,r,s,i){return $(),B("div",R4,[v("div",N4,[L4,v("div",F4,[v("div",Y4,[v("div",B4,[v("form",W4,[v("div",H4,[v("input",j4,null,512),v("textarea",U4,null,512)]),v("button",{type:"button",class:"btn btn-block btn-large btn-orange",onClick:e[0]||(e[0]=(...o)=>i.fnSendPush&&i.fnSendPush(...o))},"발 송")])])])])])])}const z4=tt(x4,[["render",V4]]),K4={components:{DatePicker:dg},data(){return{date:new Date,showModal:!1,selectedDate:null}},methods:{openModal(t){this.showModal=!0,this.selectedDate=t},closeModal(){this.showModal=!1,this.selectedDate=null}}},G4=t=>(Ot("data-v-270781f8"),t=t(),Mt(),t),q4={key:0,class:"modal"},Q4={class:"modal-content"},Z4=G4(()=>v("h2",null,"Calendar Detail",-1));function X4(t,e,n,r,s,i){const o=at("DatePicker");return $(),B("div",null,[s.showModal?($(),B("div",q4,[v("div",Q4,[v("span",{class:"close",onClick:e[0]||(e[0]=(...a)=>i.closeModal&&i.closeModal(...a))},"×"),Z4,v("p",null,"Date: "+Me(s.selectedDate),1)])])):Ge("",!0),X(o,{expanded:"",modelValue:s.date,"onUpdate:modelValue":e[1]||(e[1]=a=>s.date=a),"onClick:date":i.openModal},null,8,["modelValue","onClick:date"])])}const J4=tt(K4,[["render",X4],["__scopeId","data-v-270781f8"]]),e6=K2({history:d2("/"),routes:[{name:"",path:"/",component:Vc},{name:"main",path:"/main",component:Vc},{name:"goal",path:"/goal",component:TB},{name:"board",path:"/board",component:PB},{name:"calendar",path:"/calendar",component:pg},{name:"friend",path:"/friend",component:dF},{name:"meeting",path:"/meeting",component:eW},{name:"habit",path:"/habit",component:rW},{name:"mypage",path:"/mypage",component:Pg},{path:"/voice",name:"Voice",component:gW},{path:"/voice/trainer",name:"VoiceTrainer",component:xW},{path:"/subscribe",name:"subscribe",component:M4},{path:"/pushnotify",name:"pushnotify",component:z4},{path:"/calendar/calendarDetail",name:"CalendarDetail",component:J4},{path:"/goallist",name:"GoalList",component:Ig}]}),Ll=KC(EB);Ll.use(XC());Ll.use(e6);Ll.use(hR,{});Ll.mount("#app");zL({immediate:!0});
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
