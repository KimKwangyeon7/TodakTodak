import{_ as S,u as L,a as M,s as y,r as n,o as I,f as q,c as B,b as x,d,e as m,g as e,h as V,i as D,w as p,v as N,j as P,F as T,k as $,t as j,l as z,p as E,m as Q,n as U,q as A,x as G,y as H,z as J}from"./index-De9PbpXu.js";import{c as K}from"./chat-Cc7uJqjQ.js";const c=l=>(E("data-v-25cf86d5"),l=l(),Q(),l),O={class:"friend-list container mt-5"},W={class:"friend-header"},X=c(()=>e("div",{class:"friend"},"친구",-1)),Y={class:"friend-buttons"},Z=c(()=>e("div",{class:"search"},[e("img",{src:U,alt:""})],-1)),ee=[Z],se=c(()=>e("img",{src:A,alt:""},null,-1)),oe=[se],te={class:"friend-search mb-3"},ae={class:"list-group"},ne=["onClick"],ce={class:"friend-item"},le=c(()=>e("img",{src:G,alt:"프로필 이미지",class:"profile-image mr-2"},null,-1)),re={class:"profile-nickname"},ie={class:"buttons"},de=["onClick"],ue=c(()=>e("img",{src:H,alt:""},null,-1)),_e=[ue],me={__name:"FriendList",setup(l){const u=L(),v=M();y(v);const f=n(null),r=n(!1),i=n(""),h=n([]),_=n("");I(()=>{g()});const g=()=>{console.log("친구 목록 가져오기"),q(({data:s})=>{console.log("친구 목록 리스트"),console.log(s),h.value=s},s=>{console.log(s)})},C=s=>{const t={path:"/friend-profile",component:J,props:{friend:s}};u.push(t)},k=B(()=>h.value.filter(s=>s.name.toLowerCase().includes(i.value.toLowerCase()))),b=s=>{f.value=s;const t={title:s.nickname+"의 대화방",receiver:s.nickname};K(t,a=>{let o="채팅방 생성에 문제 발생했습니다";a.status==200?(o="채팅방 입장 완료되었습니다.",_.value=a.data.chatRoomId,console.log(_.value),alert(o),u.push({name:"chat-view",params:{roomid:_.value}})):alert(o)},a=>console.error(a))},w=()=>{u.push("/friendRequestList")},R=()=>{r.value=!r.value,r.value||(i.value="")};return(s,t)=>{const a=x("CreateRoomModal");return d(),m("div",O,[e("div",W,[X,e("div",Y,[e("button",{class:"create-chat-button btn",onClick:R},ee),e("button",{class:"create-chat-button btn",onClick:w},oe),s.showModal?(d(),V(a,{key:0,onClose:s.closeCreateRoomModal,onCreate:s.createRoom},null,8,["onClose","onCreate"])):D("",!0)])]),p(e("div",te,[p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),type:"text",class:"form-control",placeholder:"친구 검색"},null,512),[[P,i.value]])],512),[[N,r.value]]),e("ul",ae,[(d(!0),m(T,null,$(k.value,o=>(d(),m("li",{key:o.id,class:"list-group-item",onClick:F=>C(o)},[e("div",ce,[le,e("span",re,j(o.nickname),1)]),e("div",ie,[e("button",{class:"btn btn-sm",onClick:z(F=>b(o),["stop"])},_e,8,de)])],8,ne))),128))])])}}},ve=S(me,[["__scopeId","data-v-25cf86d5"]]);export{ve as default};
