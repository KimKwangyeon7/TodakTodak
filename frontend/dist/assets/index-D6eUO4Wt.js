(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ku(t,e){const n=new Set(t.split(","));return e?s=>n.has(s.toLowerCase()):s=>n.has(s)}const Xe={},Ar=[],nn=()=>{},Fb=()=>!1,za=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Au=t=>t.startsWith("onUpdate:"),ft=Object.assign,Ou=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Yb=Object.prototype.hasOwnProperty,Me=(t,e)=>Yb.call(t,e),ue=Array.isArray,Or=t=>wo(t)==="[object Map]",si=t=>wo(t)==="[object Set]",Ef=t=>wo(t)==="[object Date]",ge=t=>typeof t=="function",it=t=>typeof t=="string",$s=t=>typeof t=="symbol",Be=t=>t!==null&&typeof t=="object",Gm=t=>(Be(t)||ge(t))&&ge(t.then)&&ge(t.catch),Km=Object.prototype.toString,wo=t=>Km.call(t),Bb=t=>wo(t).slice(8,-1),qm=t=>wo(t)==="[object Object]",xu=t=>it(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Jo=ku(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ga=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Wb=/-(\w)/g,An=Ga(t=>t.replace(Wb,(e,n)=>n?n.toUpperCase():"")),Hb=/\B([A-Z])/g,hr=Ga(t=>t.replace(Hb,"-$1").toLowerCase()),Ka=Ga(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xo=Ga(t=>t?`on${Ka(t)}`:""),Ps=(t,e)=>!Object.is(t,e),ea=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ua=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Gi=t=>{const e=parseFloat(t);return isNaN(e)?t:e},jb=t=>{const e=it(t)?Number(t):NaN;return isNaN(e)?t:e};let Sf;const Qm=()=>Sf||(Sf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qt(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=it(s)?Gb(s):qt(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(it(t)||Be(t))return t}const Ub=/;(?![^(]*\))/g,Vb=/:([^]+)/,zb=/\/\*[^]*?\*\//g;function Gb(t){const e={};return t.replace(zb,"").split(Ub).forEach(n=>{if(n){const s=n.split(Vb);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ge(t){let e="";if(it(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const s=Ge(t[n]);s&&(e+=s+" ")}else if(Be(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Mi(t){if(!t)return null;let{class:e,style:n}=t;return e&&!it(e)&&(t.class=Ge(e)),n&&(t.style=qt(n)),t}const Kb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qb=ku(Kb);function Zm(t){return!!t||t===""}function Qb(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Yr(t[s],e[s]);return n}function Yr(t,e){if(t===e)return!0;let n=Ef(t),s=Ef(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=$s(t),s=$s(e),n||s)return t===e;if(n=ue(t),s=ue(e),n||s)return n&&s?Qb(t,e):!1;if(n=Be(t),s=Be(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Yr(t[o],e[o]))return!1}}return String(t)===String(e)}function Mu(t,e){return t.findIndex(n=>Yr(n,e))}const we=t=>it(t)?t:t==null?"":ue(t)||Be(t)&&(t.toString===Km||!ge(t.toString))?JSON.stringify(t,Jm,2):String(t),Jm=(t,e)=>e&&e.__v_isRef?Jm(t,e.value):Or(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Kl(s,i)+" =>"]=r,n),{})}:si(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Kl(n))}:$s(e)?Kl(e):Be(e)&&!ue(e)&&!qm(e)?String(e):e,Kl=(t,e="")=>{var n;return $s(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Gt;class Xm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Gt,!e&&Gt&&(this.index=(Gt.scopes||(Gt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Gt;try{return Gt=this,e()}finally{Gt=n}}}on(){Gt=this}off(){Gt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function ev(t){return new Xm(t)}function Zb(t,e=Gt){e&&e.active&&e.effects.push(t)}function tv(){return Gt}function Jb(t){Gt&&Gt.cleanups.push(t)}let nr;class Ru{constructor(e,n,s,r){this.fn=e,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Zb(this,r)}get dirty(){if(this._dirtyLevel===1){pr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(Xb(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),mr()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ys,n=nr;try{return ys=!0,nr=this,this._runnings++,Df(this),this.fn()}finally{Tf(this),this._runnings--,nr=n,ys=e}}stop(){var e;this.active&&(Df(this),Tf(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Xb(t){return t.value}function Df(t){t._trackId++,t._depsLength=0}function Tf(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)nv(t.deps[e],t);t.deps.length=t._depsLength}}function nv(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let ys=!0,Tc=0;const sv=[];function pr(){sv.push(ys),ys=!1}function mr(){const t=sv.pop();ys=t===void 0?!0:t}function Nu(){Tc++}function Lu(){for(Tc--;!Tc&&Ic.length;)Ic.shift()()}function rv(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&nv(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Ic=[];function iv(t,e,n){Nu();for(const s of t.keys())if(s._dirtyLevel<e&&t.get(s)===s._trackId){const r=s._dirtyLevel;s._dirtyLevel=e,r===0&&(s._shouldSchedule=!0,s.trigger())}ov(t),Lu()}function ov(t){for(const e of t.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&t.get(e)===e._trackId&&(e._shouldSchedule=!1,Ic.push(e.scheduler))}const av=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},da=new WeakMap,sr=Symbol(""),$c=Symbol("");function Ut(t,e,n){if(ys&&nr){let s=da.get(t);s||da.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=av(()=>s.delete(n))),rv(nr,r)}}function jn(t,e,n,s,r,i){const o=da.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ue(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||!$s(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ue(t)?xu(n)&&a.push(o.get("length")):(a.push(o.get(sr)),Or(t)&&a.push(o.get($c)));break;case"delete":ue(t)||(a.push(o.get(sr)),Or(t)&&a.push(o.get($c)));break;case"set":Or(t)&&a.push(o.get(sr));break}Nu();for(const l of a)l&&iv(l,2);Lu()}function ew(t,e){var n;return(n=da.get(t))==null?void 0:n.get(e)}const tw=ku("__proto__,__v_isRef,__isVue"),lv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($s)),If=nw();function nw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=xe(this);for(let i=0,o=this.length;i<o;i++)Ut(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(xe)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){pr(),Nu();const s=xe(this)[e].apply(this,n);return Lu(),mr(),s}}),t}function sw(t){const e=xe(this);return Ut(e,"has",t),e.hasOwnProperty(t)}class cv{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,s){const r=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?vw:hv:i?fv:dv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ue(e);if(!r){if(o&&Me(If,n))return Reflect.get(If,n,s);if(n==="hasOwnProperty")return sw}const a=Reflect.get(e,n,s);return($s(n)?lv.has(n):tw(n))||(r||Ut(e,"get",n),i)?a:et(a)?o&&xu(n)?a:a.value:Be(a)?r?mv(a):Xn(a):a}}class uv extends cv{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._shallow){const l=Br(i);if(!fa(s)&&!Br(s)&&(i=xe(i),s=xe(s)),!ue(e)&&et(i)&&!et(s))return l?!1:(i.value=s,!0)}const o=ue(e)&&xu(n)?Number(n)<e.length:Me(e,n),a=Reflect.set(e,n,s,r);return e===xe(r)&&(o?Ps(s,i)&&jn(e,"set",n,s):jn(e,"add",n,s)),a}deleteProperty(e,n){const s=Me(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&jn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!$s(n)||!lv.has(n))&&Ut(e,"has",n),s}ownKeys(e){return Ut(e,"iterate",ue(e)?"length":sr),Reflect.ownKeys(e)}}class rw extends cv{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const iw=new uv,ow=new rw,aw=new uv(!0),Fu=t=>t,qa=t=>Reflect.getPrototypeOf(t);function Yo(t,e,n=!1,s=!1){t=t.__v_raw;const r=xe(t),i=xe(e);n||(Ps(e,i)&&Ut(r,"get",e),Ut(r,"get",i));const{has:o}=qa(r),a=s?Fu:n?Wu:Ki;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Bo(t,e=!1){const n=this.__v_raw,s=xe(n),r=xe(t);return e||(Ps(t,r)&&Ut(s,"has",t),Ut(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Wo(t,e=!1){return t=t.__v_raw,!e&&Ut(xe(t),"iterate",sr),Reflect.get(t,"size",t)}function $f(t){t=xe(t);const e=xe(this);return qa(e).has.call(e,t)||(e.add(t),jn(e,"add",t,t)),this}function Pf(t,e){e=xe(e);const n=xe(this),{has:s,get:r}=qa(n);let i=s.call(n,t);i||(t=xe(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Ps(e,o)&&jn(n,"set",t,e):jn(n,"add",t,e),this}function kf(t){const e=xe(this),{has:n,get:s}=qa(e);let r=n.call(e,t);r||(t=xe(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&jn(e,"delete",t,void 0),i}function Af(){const t=xe(this),e=t.size!==0,n=t.clear();return e&&jn(t,"clear",void 0,void 0),n}function Ho(t,e){return function(s,r){const i=this,o=i.__v_raw,a=xe(o),l=e?Fu:t?Wu:Ki;return!t&&Ut(a,"iterate",sr),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function jo(t,e,n){return function(...s){const r=this.__v_raw,i=xe(r),o=Or(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Fu:e?Wu:Ki;return!e&&Ut(i,"iterate",l?$c:sr),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function ss(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function lw(){const t={get(i){return Yo(this,i)},get size(){return Wo(this)},has:Bo,add:$f,set:Pf,delete:kf,clear:Af,forEach:Ho(!1,!1)},e={get(i){return Yo(this,i,!1,!0)},get size(){return Wo(this)},has:Bo,add:$f,set:Pf,delete:kf,clear:Af,forEach:Ho(!1,!0)},n={get(i){return Yo(this,i,!0)},get size(){return Wo(this,!0)},has(i){return Bo.call(this,i,!0)},add:ss("add"),set:ss("set"),delete:ss("delete"),clear:ss("clear"),forEach:Ho(!0,!1)},s={get(i){return Yo(this,i,!0,!0)},get size(){return Wo(this,!0)},has(i){return Bo.call(this,i,!0)},add:ss("add"),set:ss("set"),delete:ss("delete"),clear:ss("clear"),forEach:Ho(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=jo(i,!1,!1),n[i]=jo(i,!0,!1),e[i]=jo(i,!1,!0),s[i]=jo(i,!0,!0)}),[t,n,e,s]}const[cw,uw,dw,fw]=lw();function Yu(t,e){const n=e?t?fw:dw:t?uw:cw;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Me(n,r)&&r in s?n:s,r,i)}const hw={get:Yu(!1,!1)},pw={get:Yu(!1,!0)},mw={get:Yu(!0,!1)},dv=new WeakMap,fv=new WeakMap,hv=new WeakMap,vw=new WeakMap;function _w(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gw(t){return t.__v_skip||!Object.isExtensible(t)?0:_w(Bb(t))}function Xn(t){return Br(t)?t:Bu(t,!1,iw,hw,dv)}function pv(t){return Bu(t,!1,aw,pw,fv)}function mv(t){return Bu(t,!0,ow,mw,hv)}function Bu(t,e,n,s,r){if(!Be(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=gw(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function bs(t){return Br(t)?bs(t.__v_raw):!!(t&&t.__v_isReactive)}function Br(t){return!!(t&&t.__v_isReadonly)}function fa(t){return!!(t&&t.__v_isShallow)}function vv(t){return bs(t)||Br(t)}function xe(t){const e=t&&t.__v_raw;return e?xe(e):t}function Qa(t){return ua(t,"__v_skip",!0),t}const Ki=t=>Be(t)?Xn(t):t,Wu=t=>Be(t)?mv(t):t;class _v{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ru(()=>e(this._value),()=>ta(this,1),()=>this.dep&&ov(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=xe(this);return(!e._cacheable||e.effect.dirty)&&Ps(e._value,e._value=e.effect.run())&&ta(e,2),gv(e),e.effect._dirtyLevel>=1&&ta(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function yw(t,e,n=!1){let s,r;const i=ge(t);return i?(s=t,r=nn):(s=t.get,r=t.set),new _v(s,r,i||!r,n)}function gv(t){ys&&nr&&(t=xe(t),rv(nr,t.dep||(t.dep=av(()=>t.dep=void 0,t instanceof _v?t:void 0))))}function ta(t,e=2,n){t=xe(t);const s=t.dep;s&&iv(s,e)}function et(t){return!!(t&&t.__v_isRef===!0)}function Ce(t){return yv(t,!1)}function bw(t){return yv(t,!0)}function yv(t,e){return et(t)?t:new ww(t,e)}class ww{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:xe(e),this._value=n?e:Ki(e)}get value(){return gv(this),this._value}set value(e){const n=this.__v_isShallow||fa(e)||Br(e);e=n?e:xe(e),Ps(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ki(e),ta(this,2))}}function R(t){return et(t)?t.value:t}const Cw={get:(t,e,n)=>R(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return et(r)&&!et(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function bv(t){return bs(t)?t:new Proxy(t,Cw)}function wv(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=Cv(t,n);return e}class Ew{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ew(xe(this._object),this._key)}}class Sw{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function na(t,e,n){return et(t)?t:ge(t)?new Sw(t):Be(t)&&arguments.length>1?Cv(t,e,n):Ce(t)}function Cv(t,e,n){const s=t[e];return et(s)?s:new Ew(t,e,n)}/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ws(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){Za(i,e,n)}return r}function an(t,e,n,s){if(ge(t)){const i=ws(t,e,n,s);return i&&Gm(i)&&i.catch(o=>{Za(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(an(t[i],e,n,s));return r}function Za(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){ws(l,null,10,[t,o,a]);return}}Dw(t,n,r,s)}function Dw(t,e,n,s=!0){console.error(t)}let qi=!1,Pc=!1;const Et=[];let Tn=0;const xr=[];let cs=null,Zs=0;const Ev=Promise.resolve();let Hu=null;function Bn(t){const e=Hu||Ev;return t?e.then(this?t.bind(this):t):e}function Tw(t){let e=Tn+1,n=Et.length;for(;e<n;){const s=e+n>>>1,r=Et[s],i=Qi(r);i<t||i===t&&r.pre?e=s+1:n=s}return e}function ju(t){(!Et.length||!Et.includes(t,qi&&t.allowRecurse?Tn+1:Tn))&&(t.id==null?Et.push(t):Et.splice(Tw(t.id),0,t),Sv())}function Sv(){!qi&&!Pc&&(Pc=!0,Hu=Ev.then(Tv))}function Iw(t){const e=Et.indexOf(t);e>Tn&&Et.splice(e,1)}function $w(t){ue(t)?xr.push(...t):(!cs||!cs.includes(t,t.allowRecurse?Zs+1:Zs))&&xr.push(t),Sv()}function Of(t,e,n=qi?Tn+1:0){for(;n<Et.length;n++){const s=Et[n];if(s&&s.pre){if(t&&s.id!==t.uid)continue;Et.splice(n,1),n--,s()}}}function Dv(t){if(xr.length){const e=[...new Set(xr)].sort((n,s)=>Qi(n)-Qi(s));if(xr.length=0,cs){cs.push(...e);return}for(cs=e,Zs=0;Zs<cs.length;Zs++)cs[Zs]();cs=null,Zs=0}}const Qi=t=>t.id==null?1/0:t.id,Pw=(t,e)=>{const n=Qi(t)-Qi(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Tv(t){Pc=!1,qi=!0,Et.sort(Pw);try{for(Tn=0;Tn<Et.length;Tn++){const e=Et[Tn];e&&e.active!==!1&&ws(e,null,14)}}finally{Tn=0,Et.length=0,Dv(),qi=!1,Hu=null,(Et.length||xr.length)&&Tv()}}function kw(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Xe;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=s[u]||Xe;f&&(r=n.map(h=>it(h)?h.trim():h)),d&&(r=n.map(Gi))}let a,l=s[a=Xo(e)]||s[a=Xo(An(e))];!l&&i&&(l=s[a=Xo(hr(e))]),l&&an(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,an(c,t,6,r)}}function Iv(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!ge(t)){const l=c=>{const u=Iv(c,e,!0);u&&(a=!0,ft(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Be(t)&&s.set(t,null),null):(ue(i)?i.forEach(l=>o[l]=null):ft(o,i),Be(t)&&s.set(t,o),o)}function Ja(t,e){return!t||!za(e)?!1:(e=e.slice(2).replace(/Once$/,""),Me(t,e[0].toLowerCase()+e.slice(1))||Me(t,hr(e))||Me(t,e))}let ut=null,Xa=null;function ha(t){const e=ut;return ut=t,Xa=t&&t.type.__scopeId||null,e}function Dt(t){Xa=t}function Tt(){Xa=null}function De(t,e=ut,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Uf(-1);const i=ha(e);let o;try{o=t(...r)}finally{ha(i),s._d&&Uf(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ql(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:v,inheritAttrs:y}=t;let w,b;const A=ha(t);try{if(n.shapeFlag&4){const P=r||s,O=P;w=Dn(u.call(O,P,d,i,h,f,v)),b=l}else{const P=e;w=Dn(P.length>1?P(i,{attrs:l,slots:a,emit:c}):P(i,null)),b=e.props?l:Aw(l)}}catch(P){Li.length=0,Za(P,t,1),w=ee(ln)}let N=w;if(b&&y!==!1){const P=Object.keys(b),{shapeFlag:O}=N;P.length&&O&7&&(o&&P.some(Au)&&(b=Ow(b,o)),N=ks(N,b))}return n.dirs&&(N=ks(N),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),w=N,ha(A),w}const Aw=t=>{let e;for(const n in t)(n==="class"||n==="style"||za(n))&&((e||(e={}))[n]=t[n]);return e},Ow=(t,e)=>{const n={};for(const s in t)(!Au(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function xw(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?xf(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!Ja(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?xf(s,o,c):!0:!!o;return!1}function xf(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Ja(n,i))return!0}return!1}function Mw({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Uu="components",Rw="directives";function ct(t,e){return zu(Uu,t,!0,e)||t}const $v=Symbol.for("v-ndc");function Vu(t){return it(t)?zu(Uu,t,!1)||t:t||$v}function Nw(t){return zu(Rw,t)}function zu(t,e,n=!0,s=!1){const r=ut||yt;if(r){const i=r.type;if(t===Uu){const a=OC(i,!1);if(a&&(a===e||a===An(e)||a===Ka(An(e))))return i}const o=Mf(r[t]||i[t],e)||Mf(r.appContext[t],e);return!o&&s?i:o}}function Mf(t,e){return t&&(t[e]||t[An(e)]||t[Ka(An(e))])}const Lw=t=>t.__isSuspense;function Fw(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):$w(t)}const Yw=Symbol.for("v-scx"),Bw=()=>Mt(Yw);function Pv(t,e){return Gu(t,null,e)}const Uo={};function ot(t,e,n){return Gu(t,e,n)}function Gu(t,e,{immediate:n,deep:s,flush:r,once:i,onTrack:o,onTrigger:a}=Xe){if(e&&i){const Y=e;e=(...V)=>{Y(...V),O()}}const l=yt,c=Y=>s===!0?Y:Xs(Y,s===!1?1:void 0);let u,d=!1,f=!1;if(et(t)?(u=()=>t.value,d=fa(t)):bs(t)?(u=()=>c(t),d=!0):ue(t)?(f=!0,d=t.some(Y=>bs(Y)||fa(Y)),u=()=>t.map(Y=>{if(et(Y))return Y.value;if(bs(Y))return c(Y);if(ge(Y))return ws(Y,l,2)})):ge(t)?e?u=()=>ws(t,l,2):u=()=>(h&&h(),an(t,l,3,[v])):u=nn,e&&s){const Y=u;u=()=>Xs(Y())}let h,v=Y=>{h=N.onStop=()=>{ws(Y,l,4),h=N.onStop=void 0}},y;if(rl)if(v=nn,e?n&&an(e,l,3,[u(),f?[]:void 0,v]):u(),r==="sync"){const Y=Bw();y=Y.__watcherHandles||(Y.__watcherHandles=[])}else return nn;let w=f?new Array(t.length).fill(Uo):Uo;const b=()=>{if(!(!N.active||!N.dirty))if(e){const Y=N.run();(s||d||(f?Y.some((V,k)=>Ps(V,w[k])):Ps(Y,w)))&&(h&&h(),an(e,l,3,[Y,w===Uo?void 0:f&&w[0]===Uo?[]:w,v]),w=Y)}else N.run()};b.allowRecurse=!!e;let A;r==="sync"?A=b:r==="post"?A=()=>Lt(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),A=()=>ju(b));const N=new Ru(u,nn,A),P=tv(),O=()=>{N.stop(),P&&Ou(P.effects,N)};return e?n?b():w=N.run():r==="post"?Lt(N.run.bind(N),l&&l.suspense):N.run(),y&&y.push(O),O}function Ww(t,e,n){const s=this.proxy,r=it(t)?t.includes(".")?kv(s,t):()=>s[t]:t.bind(s,s);let i;ge(e)?i=e:(i=e.handler,n=e);const o=So(this),a=Gu(r,i.bind(s),n);return o(),a}function kv(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Xs(t,e,n=0,s){if(!Be(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(s=s||new Set,s.has(t))return t;if(s.add(t),et(t))Xs(t.value,e,n,s);else if(ue(t))for(let r=0;r<t.length;r++)Xs(t[r],e,n,s);else if(si(t)||Or(t))t.forEach(r=>{Xs(r,e,n,s)});else if(qm(t))for(const r in t)Xs(t[r],e,n,s);return t}function Ft(t,e){if(ut===null)return t;const n=il(ut)||ut.proxy,s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=Xe]=e[r];i&&(ge(i)&&(i={mounted:i,updated:i}),i.deep&&Xs(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Us(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(pr(),an(l,n,8,[t.el,a,t,e]),mr())}}const us=Symbol("_leaveCb"),Vo=Symbol("_enterCb");function Hw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ri(()=>{t.isMounted=!0}),Rv(()=>{t.isUnmounting=!0}),t}const en=[Function,Array],Av={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:en,onEnter:en,onAfterEnter:en,onEnterCancelled:en,onBeforeLeave:en,onLeave:en,onAfterLeave:en,onLeaveCancelled:en,onBeforeAppear:en,onAppear:en,onAfterAppear:en,onAppearCancelled:en},jw={name:"BaseTransition",props:Av,setup(t,{slots:e}){const n=IC(),s=Hw();let r;return()=>{const i=e.default&&xv(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const y of i)if(y.type!==ln){o=y;break}}const a=xe(t),{mode:l}=a;if(s.isLeaving)return Ql(o);const c=Rf(o);if(!c)return Ql(o);const u=kc(c,a,s,n);Ac(c,u);const d=n.subTree,f=d&&Rf(d);let h=!1;const{getTransitionKey:v}=c.type;if(v){const y=v();r===void 0?r=y:y!==r&&(r=y,h=!0)}if(f&&f.type!==ln&&(!Js(c,f)||h)){const y=kc(f,a,s,n);if(Ac(f,y),l==="out-in")return s.isLeaving=!0,y.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Ql(o);l==="in-out"&&c.type!==ln&&(y.delayLeave=(w,b,A)=>{const N=Ov(s,f);N[String(f.key)]=f,w[us]=()=>{b(),w[us]=void 0,delete u.delayedLeave},u.delayedLeave=A})}return o}}},Uw=jw;function Ov(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function kc(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:v,onBeforeAppear:y,onAppear:w,onAfterAppear:b,onAppearCancelled:A}=e,N=String(t.key),P=Ov(n,t),O=(k,H)=>{k&&an(k,s,9,H)},Y=(k,H)=>{const Z=H[1];O(k,H),ue(k)?k.every(ie=>ie.length<=1)&&Z():k.length<=1&&Z()},V={mode:i,persisted:o,beforeEnter(k){let H=a;if(!n.isMounted)if(r)H=y||a;else return;k[us]&&k[us](!0);const Z=P[N];Z&&Js(t,Z)&&Z.el[us]&&Z.el[us](),O(H,[k])},enter(k){let H=l,Z=c,ie=u;if(!n.isMounted)if(r)H=w||l,Z=b||c,ie=A||u;else return;let I=!1;const Q=k[Vo]=me=>{I||(I=!0,me?O(ie,[k]):O(Z,[k]),V.delayedLeave&&V.delayedLeave(),k[Vo]=void 0)};H?Y(H,[k,Q]):Q()},leave(k,H){const Z=String(t.key);if(k[Vo]&&k[Vo](!0),n.isUnmounting)return H();O(d,[k]);let ie=!1;const I=k[us]=Q=>{ie||(ie=!0,H(),Q?O(v,[k]):O(h,[k]),k[us]=void 0,P[Z]===t&&delete P[Z])};P[Z]=t,f?Y(f,[k,I]):I()},clone(k){return kc(k,e,n,s)}};return V}function Ql(t){if(el(t))return t=ks(t),t.children=null,t}function Rf(t){return el(t)?t.children?t.children[0]:void 0:t}function Ac(t,e){t.shapeFlag&6&&t.component?Ac(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function xv(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Te?(o.patchFlag&128&&r++,s=s.concat(xv(o.children,e,a))):(e||o.type!==ln)&&s.push(a!=null?ks(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ht(t,e){return ge(t)?ft({name:t.name},e,{setup:t}):t}const Ri=t=>!!t.type.__asyncLoader,el=t=>t.type.__isKeepAlive;function Vw(t,e){Mv(t,"a",e)}function zw(t,e){Mv(t,"da",e)}function Mv(t,e,n=yt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(tl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)el(r.parent.vnode)&&Gw(s,e,n,r),r=r.parent}}function Gw(t,e,n,s){const r=tl(e,t,s,!0);Co(()=>{Ou(s[e],r)},n)}function tl(t,e,n=yt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;pr();const a=So(n),l=an(e,n,t,o);return a(),mr(),l});return s?r.unshift(i):r.push(i),i}}const es=t=>(e,n=yt)=>(!rl||t==="sp")&&tl(t,(...s)=>e(...s),n),Kw=es("bm"),ri=es("m"),qw=es("bu"),Qw=es("u"),Rv=es("bum"),Co=es("um"),Zw=es("sp"),Jw=es("rtg"),Xw=es("rtc");function eC(t,e=yt){tl("ec",t,e)}function at(t,e,n,s){let r;const i=n&&n[s];if(ue(t)||it(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Be(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function Eo(t,e,n={},s,r){if(ut.isCE||ut.parent&&Ri(ut.parent)&&ut.parent.isCE)return e!=="default"&&(n.name=e),ee("slot",n,s&&s());let i=t[e];i&&i._c&&(i._d=!1),D();const o=i&&Nv(i(n)),a=lt(Te,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Nv(t){return t.some(e=>ma(e)?!(e.type===ln||e.type===Te&&!Nv(e.children)):!0)?t:null}function tC(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:Xo(s)]=t[s];return n}const Oc=t=>t?Kv(t)?il(t)||t.proxy:Oc(t.parent):null,Ni=ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Oc(t.parent),$root:t=>Oc(t.root),$emit:t=>t.emit,$options:t=>Ku(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,ju(t.update)}),$nextTick:t=>t.n||(t.n=Bn.bind(t.proxy)),$watch:t=>Ww.bind(t)}),Zl=(t,e)=>t!==Xe&&!t.__isScriptSetup&&Me(t,e),nC={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const h=o[e];if(h!==void 0)switch(h){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Zl(s,e))return o[e]=1,s[e];if(r!==Xe&&Me(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Me(c,e))return o[e]=3,i[e];if(n!==Xe&&Me(n,e))return o[e]=4,n[e];xc&&(o[e]=0)}}const u=Ni[e];let d,f;if(u)return e==="$attrs"&&Ut(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Xe&&Me(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Me(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Zl(r,e)?(r[e]=n,!0):s!==Xe&&Me(s,e)?(s[e]=n,!0):Me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Xe&&Me(t,o)||Zl(e,o)||(a=i[0])&&Me(a,o)||Me(s,o)||Me(Ni,o)||Me(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Me(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Nf(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let xc=!0;function sC(t){const e=Ku(t),n=t.proxy,s=t.ctx;xc=!1,e.beforeCreate&&Lf(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:v,activated:y,deactivated:w,beforeDestroy:b,beforeUnmount:A,destroyed:N,unmounted:P,render:O,renderTracked:Y,renderTriggered:V,errorCaptured:k,serverPrefetch:H,expose:Z,inheritAttrs:ie,components:I,directives:Q,filters:me}=e;if(c&&rC(c,s,null),o)for(const le in o){const fe=o[le];ge(fe)&&(s[le]=fe.bind(n))}if(r){const le=r.call(n,n);Be(le)&&(t.data=Xn(le))}if(xc=!0,i)for(const le in i){const fe=i[le],Ae=ge(fe)?fe.bind(n,n):ge(fe.get)?fe.get.bind(n,n):nn,W=!ge(fe)&&ge(fe.set)?fe.set.bind(n):nn,ve=S({get:Ae,set:W});Object.defineProperty(s,le,{enumerable:!0,configurable:!0,get:()=>ve.value,set:te=>ve.value=te})}if(a)for(const le in a)Lv(a[le],s,n,le);if(l){const le=ge(l)?l.call(n):l;Reflect.ownKeys(le).forEach(fe=>{Un(fe,le[fe])})}u&&Lf(u,t,"c");function re(le,fe){ue(fe)?fe.forEach(Ae=>le(Ae.bind(n))):fe&&le(fe.bind(n))}if(re(Kw,d),re(ri,f),re(qw,h),re(Qw,v),re(Vw,y),re(zw,w),re(eC,k),re(Xw,Y),re(Jw,V),re(Rv,A),re(Co,P),re(Zw,H),ue(Z))if(Z.length){const le=t.exposed||(t.exposed={});Z.forEach(fe=>{Object.defineProperty(le,fe,{get:()=>n[fe],set:Ae=>n[fe]=Ae})})}else t.exposed||(t.exposed={});O&&t.render===nn&&(t.render=O),ie!=null&&(t.inheritAttrs=ie),I&&(t.components=I),Q&&(t.directives=Q)}function rC(t,e,n=nn){ue(t)&&(t=Mc(t));for(const s in t){const r=t[s];let i;Be(r)?"default"in r?i=Mt(r.from||s,r.default,!0):i=Mt(r.from||s):i=Mt(r),et(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Lf(t,e,n){an(ue(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Lv(t,e,n,s){const r=s.includes(".")?kv(n,s):()=>n[s];if(it(t)){const i=e[t];ge(i)&&ot(r,i)}else if(ge(t))ot(r,t.bind(n));else if(Be(t))if(ue(t))t.forEach(i=>Lv(i,e,n,s));else{const i=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(i)&&ot(r,i,t)}}function Ku(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>pa(l,c,o,!0)),pa(l,e,o)),Be(e)&&i.set(e,l),l}function pa(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&pa(t,i,n,!0),r&&r.forEach(o=>pa(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=iC[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const iC={data:Ff,props:Yf,emits:Yf,methods:Ai,computed:Ai,beforeCreate:kt,created:kt,beforeMount:kt,mounted:kt,beforeUpdate:kt,updated:kt,beforeDestroy:kt,beforeUnmount:kt,destroyed:kt,unmounted:kt,activated:kt,deactivated:kt,errorCaptured:kt,serverPrefetch:kt,components:Ai,directives:Ai,watch:aC,provide:Ff,inject:oC};function Ff(t,e){return e?t?function(){return ft(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function oC(t,e){return Ai(Mc(t),Mc(e))}function Mc(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function kt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ai(t,e){return t?ft(Object.create(null),t,e):e}function Yf(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:ft(Object.create(null),Nf(t),Nf(e??{})):e}function aC(t,e){if(!t)return e;if(!e)return t;const n=ft(Object.create(null),t);for(const s in e)n[s]=kt(t[s],e[s]);return n}function Fv(){return{app:null,config:{isNativeTag:Fb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lC=0;function cC(t,e){return function(s,r=null){ge(s)||(s=ft({},s)),r!=null&&!Be(r)&&(r=null);const i=Fv(),o=new WeakSet;let a=!1;const l=i.app={_uid:lC++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:MC,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&ge(c.install)?(o.add(c),c.install(l,...u)):ge(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,d){if(!a){const f=ee(s,r);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,il(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){Zi=l;try{return c()}finally{Zi=null}}};return l}}let Zi=null;function Un(t,e){if(yt){let n=yt.provides;const s=yt.parent&&yt.parent.provides;s===n&&(n=yt.provides=Object.create(s)),n[t]=e}}function Mt(t,e,n=!1){const s=yt||ut;if(s||Zi){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Zi._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ge(e)?e.call(s&&s.proxy):e}}function uC(){return!!(yt||ut||Zi)}function dC(t,e,n,s=!1){const r={},i={};ua(i,sl,1),t.propsDefaults=Object.create(null),Yv(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:pv(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function fC(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=xe(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Ja(t.emitsOptions,f))continue;const h=e[f];if(l)if(Me(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const v=An(f);r[v]=Rc(l,a,v,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{Yv(t,e,r,i)&&(c=!0);let u;for(const d in a)(!e||!Me(e,d)&&((u=hr(d))===d||!Me(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=Rc(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!Me(e,d))&&(delete i[d],c=!0)}c&&jn(t,"set","$attrs")}function Yv(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Jo(l))continue;const c=e[l];let u;r&&Me(r,u=An(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ja(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=xe(n),c=a||Xe;for(let u=0;u<i.length;u++){const d=i[u];n[d]=Rc(r,l,d,c[d],t,!Me(c,d))}}return o}function Rc(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Me(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ge(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=So(r);s=c[n]=l.call(null,e),u()}}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===hr(n))&&(s=!0))}return s}function Bv(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!ge(t)){const u=d=>{l=!0;const[f,h]=Bv(d,e,!0);ft(o,f),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Be(t)&&s.set(t,Ar),Ar;if(ue(i))for(let u=0;u<i.length;u++){const d=An(i[u]);Bf(d)&&(o[d]=Xe)}else if(i)for(const u in i){const d=An(u);if(Bf(d)){const f=i[u],h=o[d]=ue(f)||ge(f)?{type:f}:ft({},f);if(h){const v=jf(Boolean,h.type),y=jf(String,h.type);h[0]=v>-1,h[1]=y<0||v<y,(v>-1||Me(h,"default"))&&a.push(d)}}}const c=[o,a];return Be(t)&&s.set(t,c),c}function Bf(t){return t[0]!=="$"}function Wf(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Hf(t,e){return Wf(t)===Wf(e)}function jf(t,e){return ue(e)?e.findIndex(n=>Hf(n,t)):ge(e)&&Hf(e,t)?0:-1}const Wv=t=>t[0]==="_"||t==="$stable",qu=t=>ue(t)?t.map(Dn):[Dn(t)],hC=(t,e,n)=>{if(e._n)return e;const s=De((...r)=>qu(e(...r)),n);return s._c=!1,s},Hv=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Wv(r))continue;const i=t[r];if(ge(i))e[r]=hC(r,i,s);else if(i!=null){const o=qu(i);e[r]=()=>o}}},jv=(t,e)=>{const n=qu(e);t.slots.default=()=>n},pC=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=xe(e),ua(e,"_",n)):Hv(e,t.slots={})}else t.slots={},e&&jv(t,e);ua(t.slots,sl,1)},mC=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Xe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(ft(r,e),!n&&a===1&&delete r._):(i=!e.$stable,Hv(e,r)),o=e}else e&&(jv(t,e),o={default:1});if(i)for(const a in r)!Wv(a)&&o[a]==null&&delete r[a]};function Nc(t,e,n,s,r=!1){if(ue(t)){t.forEach((f,h)=>Nc(f,e&&(ue(e)?e[h]:e),n,s,r));return}if(Ri(s)&&!r)return;const i=s.shapeFlag&4?il(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Xe?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(it(c)?(u[c]=null,Me(d,c)&&(d[c]=null)):et(c)&&(c.value=null)),ge(l))ws(l,a,12,[o,u]);else{const f=it(l),h=et(l),v=t.f;if(f||h){const y=()=>{if(v){const w=f?Me(d,l)?d[l]:u[l]:l.value;r?ue(w)&&Ou(w,i):ue(w)?w.includes(i)||w.push(i):f?(u[l]=[i],Me(d,l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,Me(d,l)&&(d[l]=o)):h&&(l.value=o,t.k&&(u[t.k]=o))};r||v?y():(y.id=-1,Lt(y,n))}}}const Lt=Fw;function vC(t){return _C(t)}function _C(t,e){const n=Qm();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=nn,insertStaticContent:v}=t,y=(p,g,C,$=null,T=null,j=null,q=void 0,B=null,z=!!g.dynamicChildren)=>{if(p===g)return;p&&!Js(p,g)&&($=E(p),te(p,T,j,!0),p=null),g.patchFlag===-2&&(z=!1,g.dynamicChildren=null);const{type:L,ref:J,shapeFlag:ae}=g;switch(L){case nl:w(p,g,C,$);break;case ln:b(p,g,C,$);break;case sa:p==null&&A(g,C,$,q);break;case Te:I(p,g,C,$,T,j,q,B,z);break;default:ae&1?O(p,g,C,$,T,j,q,B,z):ae&6?Q(p,g,C,$,T,j,q,B,z):(ae&64||ae&128)&&L.process(p,g,C,$,T,j,q,B,z,se)}J!=null&&T&&Nc(J,p&&p.ref,j,g||p,!g)},w=(p,g,C,$)=>{if(p==null)s(g.el=a(g.children),C,$);else{const T=g.el=p.el;g.children!==p.children&&c(T,g.children)}},b=(p,g,C,$)=>{p==null?s(g.el=l(g.children||""),C,$):g.el=p.el},A=(p,g,C,$)=>{[p.el,p.anchor]=v(p.children,g,C,$,p.el,p.anchor)},N=({el:p,anchor:g},C,$)=>{let T;for(;p&&p!==g;)T=f(p),s(p,C,$),p=T;s(g,C,$)},P=({el:p,anchor:g})=>{let C;for(;p&&p!==g;)C=f(p),r(p),p=C;r(g)},O=(p,g,C,$,T,j,q,B,z)=>{g.type==="svg"?q="svg":g.type==="math"&&(q="mathml"),p==null?Y(g,C,$,T,j,q,B,z):H(p,g,T,j,q,B,z)},Y=(p,g,C,$,T,j,q,B)=>{let z,L;const{props:J,shapeFlag:ae,transition:oe,dirs:de}=p;if(z=p.el=o(p.type,j,J&&J.is,J),ae&8?u(z,p.children):ae&16&&k(p.children,z,null,$,T,Jl(p,j),q,B),de&&Us(p,null,$,"created"),V(z,p,p.scopeId,q,$),J){for(const ke in J)ke!=="value"&&!Jo(ke)&&i(z,ke,null,J[ke],j,p.children,$,T,Oe);"value"in J&&i(z,"value",null,J.value,j),(L=J.onVnodeBeforeMount)&&Sn(L,$,p)}de&&Us(p,null,$,"beforeMount");const _e=gC(T,oe);_e&&oe.beforeEnter(z),s(z,g,C),((L=J&&J.onVnodeMounted)||_e||de)&&Lt(()=>{L&&Sn(L,$,p),_e&&oe.enter(z),de&&Us(p,null,$,"mounted")},T)},V=(p,g,C,$,T)=>{if(C&&h(p,C),$)for(let j=0;j<$.length;j++)h(p,$[j]);if(T){let j=T.subTree;if(g===j){const q=T.vnode;V(p,q,q.scopeId,q.slotScopeIds,T.parent)}}},k=(p,g,C,$,T,j,q,B,z=0)=>{for(let L=z;L<p.length;L++){const J=p[L]=B?ds(p[L]):Dn(p[L]);y(null,J,g,C,$,T,j,q,B)}},H=(p,g,C,$,T,j,q)=>{const B=g.el=p.el;let{patchFlag:z,dynamicChildren:L,dirs:J}=g;z|=p.patchFlag&16;const ae=p.props||Xe,oe=g.props||Xe;let de;if(C&&Vs(C,!1),(de=oe.onVnodeBeforeUpdate)&&Sn(de,C,g,p),J&&Us(g,p,C,"beforeUpdate"),C&&Vs(C,!0),L?Z(p.dynamicChildren,L,B,C,$,Jl(g,T),j):q||fe(p,g,B,null,C,$,Jl(g,T),j,!1),z>0){if(z&16)ie(B,g,ae,oe,C,$,T);else if(z&2&&ae.class!==oe.class&&i(B,"class",null,oe.class,T),z&4&&i(B,"style",ae.style,oe.style,T),z&8){const _e=g.dynamicProps;for(let ke=0;ke<_e.length;ke++){const Fe=_e[ke],tt=ae[Fe],$t=oe[Fe];($t!==tt||Fe==="value")&&i(B,Fe,tt,$t,T,p.children,C,$,Oe)}}z&1&&p.children!==g.children&&u(B,g.children)}else!q&&L==null&&ie(B,g,ae,oe,C,$,T);((de=oe.onVnodeUpdated)||J)&&Lt(()=>{de&&Sn(de,C,g,p),J&&Us(g,p,C,"updated")},$)},Z=(p,g,C,$,T,j,q)=>{for(let B=0;B<g.length;B++){const z=p[B],L=g[B],J=z.el&&(z.type===Te||!Js(z,L)||z.shapeFlag&70)?d(z.el):C;y(z,L,J,null,$,T,j,q,!0)}},ie=(p,g,C,$,T,j,q)=>{if(C!==$){if(C!==Xe)for(const B in C)!Jo(B)&&!(B in $)&&i(p,B,C[B],null,q,g.children,T,j,Oe);for(const B in $){if(Jo(B))continue;const z=$[B],L=C[B];z!==L&&B!=="value"&&i(p,B,L,z,q,g.children,T,j,Oe)}"value"in $&&i(p,"value",C.value,$.value,q)}},I=(p,g,C,$,T,j,q,B,z)=>{const L=g.el=p?p.el:a(""),J=g.anchor=p?p.anchor:a("");let{patchFlag:ae,dynamicChildren:oe,slotScopeIds:de}=g;de&&(B=B?B.concat(de):de),p==null?(s(L,C,$),s(J,C,$),k(g.children||[],C,J,T,j,q,B,z)):ae>0&&ae&64&&oe&&p.dynamicChildren?(Z(p.dynamicChildren,oe,C,T,j,q,B),(g.key!=null||T&&g===T.subTree)&&Uv(p,g,!0)):fe(p,g,C,J,T,j,q,B,z)},Q=(p,g,C,$,T,j,q,B,z)=>{g.slotScopeIds=B,p==null?g.shapeFlag&512?T.ctx.activate(g,C,$,q,z):me(g,C,$,T,j,q,z):ne(p,g,z)},me=(p,g,C,$,T,j,q)=>{const B=p.component=TC(p,$,T);if(el(p)&&(B.ctx.renderer=se),$C(B),B.asyncDep){if(T&&T.registerDep(B,re),!p.el){const z=B.subTree=ee(ln);b(null,z,g,C)}}else re(B,p,g,C,T,j,q)},ne=(p,g,C)=>{const $=g.component=p.component;if(xw(p,g,C))if($.asyncDep&&!$.asyncResolved){le($,g,C);return}else $.next=g,Iw($.update),$.effect.dirty=!0,$.update();else g.el=p.el,$.vnode=g},re=(p,g,C,$,T,j,q)=>{const B=()=>{if(p.isMounted){let{next:J,bu:ae,u:oe,parent:de,vnode:_e}=p;{const pn=Vv(p);if(pn){J&&(J.el=_e.el,le(p,J,q)),pn.asyncDep.then(()=>{p.isUnmounted||B()});return}}let ke=J,Fe;Vs(p,!1),J?(J.el=_e.el,le(p,J,q)):J=_e,ae&&ea(ae),(Fe=J.props&&J.props.onVnodeBeforeUpdate)&&Sn(Fe,de,J,_e),Vs(p,!0);const tt=ql(p),$t=p.subTree;p.subTree=tt,y($t,tt,d($t.el),E($t),p,T,j),J.el=tt.el,ke===null&&Mw(p,tt.el),oe&&Lt(oe,T),(Fe=J.props&&J.props.onVnodeUpdated)&&Lt(()=>Sn(Fe,de,J,_e),T)}else{let J;const{el:ae,props:oe}=g,{bm:de,m:_e,parent:ke}=p,Fe=Ri(g);if(Vs(p,!1),de&&ea(de),!Fe&&(J=oe&&oe.onVnodeBeforeMount)&&Sn(J,ke,g),Vs(p,!0),ae&&Pe){const tt=()=>{p.subTree=ql(p),Pe(ae,p.subTree,p,T,null)};Fe?g.type.__asyncLoader().then(()=>!p.isUnmounted&&tt()):tt()}else{const tt=p.subTree=ql(p);y(null,tt,C,$,p,T,j),g.el=tt.el}if(_e&&Lt(_e,T),!Fe&&(J=oe&&oe.onVnodeMounted)){const tt=g;Lt(()=>Sn(J,ke,tt),T)}(g.shapeFlag&256||ke&&Ri(ke.vnode)&&ke.vnode.shapeFlag&256)&&p.a&&Lt(p.a,T),p.isMounted=!0,g=C=$=null}},z=p.effect=new Ru(B,nn,()=>ju(L),p.scope),L=p.update=()=>{z.dirty&&z.run()};L.id=p.uid,Vs(p,!0),L()},le=(p,g,C)=>{g.component=p;const $=p.vnode.props;p.vnode=g,p.next=null,fC(p,g.props,$,C),mC(p,g.children,C),pr(),Of(p),mr()},fe=(p,g,C,$,T,j,q,B,z=!1)=>{const L=p&&p.children,J=p?p.shapeFlag:0,ae=g.children,{patchFlag:oe,shapeFlag:de}=g;if(oe>0){if(oe&128){W(L,ae,C,$,T,j,q,B,z);return}else if(oe&256){Ae(L,ae,C,$,T,j,q,B,z);return}}de&8?(J&16&&Oe(L,T,j),ae!==L&&u(C,ae)):J&16?de&16?W(L,ae,C,$,T,j,q,B,z):Oe(L,T,j,!0):(J&8&&u(C,""),de&16&&k(ae,C,$,T,j,q,B,z))},Ae=(p,g,C,$,T,j,q,B,z)=>{p=p||Ar,g=g||Ar;const L=p.length,J=g.length,ae=Math.min(L,J);let oe;for(oe=0;oe<ae;oe++){const de=g[oe]=z?ds(g[oe]):Dn(g[oe]);y(p[oe],de,C,null,T,j,q,B,z)}L>J?Oe(p,T,j,!0,!1,ae):k(g,C,$,T,j,q,B,z,ae)},W=(p,g,C,$,T,j,q,B,z)=>{let L=0;const J=g.length;let ae=p.length-1,oe=J-1;for(;L<=ae&&L<=oe;){const de=p[L],_e=g[L]=z?ds(g[L]):Dn(g[L]);if(Js(de,_e))y(de,_e,C,null,T,j,q,B,z);else break;L++}for(;L<=ae&&L<=oe;){const de=p[ae],_e=g[oe]=z?ds(g[oe]):Dn(g[oe]);if(Js(de,_e))y(de,_e,C,null,T,j,q,B,z);else break;ae--,oe--}if(L>ae){if(L<=oe){const de=oe+1,_e=de<J?g[de].el:$;for(;L<=oe;)y(null,g[L]=z?ds(g[L]):Dn(g[L]),C,_e,T,j,q,B,z),L++}}else if(L>oe)for(;L<=ae;)te(p[L],T,j,!0),L++;else{const de=L,_e=L,ke=new Map;for(L=_e;L<=oe;L++){const pt=g[L]=z?ds(g[L]):Dn(g[L]);pt.key!=null&&ke.set(pt.key,L)}let Fe,tt=0;const $t=oe-_e+1;let pn=!1,Hs=0;const Fn=new Array($t);for(L=0;L<$t;L++)Fn[L]=0;for(L=de;L<=ae;L++){const pt=p[L];if(tt>=$t){te(pt,T,j,!0);continue}let x;if(pt.key!=null)x=ke.get(pt.key);else for(Fe=_e;Fe<=oe;Fe++)if(Fn[Fe-_e]===0&&Js(pt,g[Fe])){x=Fe;break}x===void 0?te(pt,T,j,!0):(Fn[x-_e]=L+1,x>=Hs?Hs=x:pn=!0,y(pt,g[x],C,null,T,j,q,B,z),tt++)}const js=pn?yC(Fn):Ar;for(Fe=js.length-1,L=$t-1;L>=0;L--){const pt=_e+L,x=g[pt],_=pt+1<J?g[pt+1].el:$;Fn[L]===0?y(null,x,C,_,T,j,q,B,z):pn&&(Fe<0||L!==js[Fe]?ve(x,C,_,2):Fe--)}}},ve=(p,g,C,$,T=null)=>{const{el:j,type:q,transition:B,children:z,shapeFlag:L}=p;if(L&6){ve(p.component.subTree,g,C,$);return}if(L&128){p.suspense.move(g,C,$);return}if(L&64){q.move(p,g,C,se);return}if(q===Te){s(j,g,C);for(let ae=0;ae<z.length;ae++)ve(z[ae],g,C,$);s(p.anchor,g,C);return}if(q===sa){N(p,g,C);return}if($!==2&&L&1&&B)if($===0)B.beforeEnter(j),s(j,g,C),Lt(()=>B.enter(j),T);else{const{leave:ae,delayLeave:oe,afterLeave:de}=B,_e=()=>s(j,g,C),ke=()=>{ae(j,()=>{_e(),de&&de()})};oe?oe(j,_e,ke):ke()}else s(j,g,C)},te=(p,g,C,$=!1,T=!1)=>{const{type:j,props:q,ref:B,children:z,dynamicChildren:L,shapeFlag:J,patchFlag:ae,dirs:oe}=p;if(B!=null&&Nc(B,null,C,p,!0),J&256){g.ctx.deactivate(p);return}const de=J&1&&oe,_e=!Ri(p);let ke;if(_e&&(ke=q&&q.onVnodeBeforeUnmount)&&Sn(ke,g,p),J&6)Ze(p.component,C,$);else{if(J&128){p.suspense.unmount(C,$);return}de&&Us(p,null,g,"beforeUnmount"),J&64?p.type.remove(p,g,C,T,se,$):L&&(j!==Te||ae>0&&ae&64)?Oe(L,g,C,!1,!0):(j===Te&&ae&384||!T&&J&16)&&Oe(z,g,C),$&&We(p)}(_e&&(ke=q&&q.onVnodeUnmounted)||de)&&Lt(()=>{ke&&Sn(ke,g,p),de&&Us(p,null,g,"unmounted")},C)},We=p=>{const{type:g,el:C,anchor:$,transition:T}=p;if(g===Te){$e(C,$);return}if(g===sa){P(p);return}const j=()=>{r(C),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(p.shapeFlag&1&&T&&!T.persisted){const{leave:q,delayLeave:B}=T,z=()=>q(C,j);B?B(p.el,j,z):z()}else j()},$e=(p,g)=>{let C;for(;p!==g;)C=f(p),r(p),p=C;r(g)},Ze=(p,g,C)=>{const{bum:$,scope:T,update:j,subTree:q,um:B}=p;$&&ea($),T.stop(),j&&(j.active=!1,te(q,p,g,C)),B&&Lt(B,g),Lt(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Oe=(p,g,C,$=!1,T=!1,j=0)=>{for(let q=j;q<p.length;q++)te(p[q],g,C,$,T)},E=p=>p.shapeFlag&6?E(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el);let K=!1;const G=(p,g,C)=>{p==null?g._vnode&&te(g._vnode,null,null,!0):y(g._vnode||null,p,g,null,null,null,C),K||(K=!0,Of(),Dv(),K=!1),g._vnode=p},se={p:y,um:te,m:ve,r:We,mt:me,mc:k,pc:fe,pbc:Z,n:E,o:t};let ye,Pe;return e&&([ye,Pe]=e(se)),{render:G,hydrate:ye,createApp:cC(G,ye)}}function Jl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Vs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function gC(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Uv(t,e,n=!1){const s=t.children,r=e.children;if(ue(s)&&ue(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ds(r[i]),a.el=o.el),n||Uv(o,a)),a.type===nl&&(a.el=o.el)}}function yC(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Vv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Vv(e)}const bC=t=>t.__isTeleport,Te=Symbol.for("v-fgt"),nl=Symbol.for("v-txt"),ln=Symbol.for("v-cmt"),sa=Symbol.for("v-stc"),Li=[];let vn=null;function D(t=!1){Li.push(vn=t?null:[])}function wC(){Li.pop(),vn=Li[Li.length-1]||null}let Ji=1;function Uf(t){Ji+=t}function zv(t){return t.dynamicChildren=Ji>0?vn||Ar:null,wC(),Ji>0&&vn&&vn.push(t),t}function F(t,e,n,s,r,i){return zv(m(t,e,n,s,r,i,!0))}function lt(t,e,n,s,r){return zv(ee(t,e,n,s,r,!0))}function ma(t){return t?t.__v_isVNode===!0:!1}function Js(t,e){return t.type===e.type&&t.key===e.key}const sl="__vInternal",Gv=({key:t})=>t??null,ra=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?it(t)||et(t)||ge(t)?{i:ut,r:t,k:e,f:!!n}:t:null);function m(t,e=null,n=null,s=0,r=null,i=t===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Gv(e),ref:e&&ra(e),scopeId:Xa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ut};return a?(Qu(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=it(n)?8:16),Ji>0&&!o&&vn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&vn.push(l),l}const ee=CC;function CC(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===$v)&&(t=ln),ma(t)){const a=ks(t,e,!0);return n&&Qu(a,n),Ji>0&&!i&&vn&&(a.shapeFlag&6?vn[vn.indexOf(t)]=a:vn.push(a)),a.patchFlag|=-2,a}if(xC(t)&&(t=t.__vccOpts),e){e=va(e);let{class:a,style:l}=e;a&&!it(a)&&(e.class=Ge(a)),Be(l)&&(vv(l)&&!ue(l)&&(l=ft({},l)),e.style=qt(l))}const o=it(t)?1:Lw(t)?128:bC(t)?64:Be(t)?4:ge(t)?2:0;return m(t,e,n,s,r,o,i,!0)}function va(t){return t?vv(t)||sl in t?ft({},t):t:null}function ks(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?vr(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Gv(a),ref:e&&e.ref?n&&r?ue(r)?r.concat(ra(e)):[r,ra(e)]:ra(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Te?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ks(t.ssContent),ssFallback:t.ssFallback&&ks(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function He(t=" ",e=0){return ee(nl,null,t,e)}function EC(t,e){const n=ee(sa,null,t);return n.staticCount=e,n}function Ke(t="",e=!1){return e?(D(),lt(ln,null,t)):ee(ln,null,t)}function Dn(t){return t==null||typeof t=="boolean"?ee(ln):ue(t)?ee(Te,null,t.slice()):typeof t=="object"?ds(t):ee(nl,null,String(t))}function ds(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ks(t)}function Qu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Qu(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(sl in e)?e._ctx=ut:r===3&&ut&&(ut.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:ut},n=32):(e=String(e),s&64?(n=16,e=[He(e)]):n=8);t.children=e,t.shapeFlag|=n}function vr(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Ge([e.class,s.class]));else if(r==="style")e.style=qt([e.style,s.style]);else if(za(r)){const i=e[r],o=s[r];o&&i!==o&&!(ue(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Sn(t,e,n,s=null){an(t,e,7,[n,s])}const SC=Fv();let DC=0;function TC(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||SC,i={uid:DC++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bv(s,r),emitsOptions:Iv(s,r),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:s.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=kw.bind(null,i),t.ce&&t.ce(i),i}let yt=null;const IC=()=>yt||ut;let _a,Lc;{const t=Qm(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};_a=e("__VUE_INSTANCE_SETTERS__",n=>yt=n),Lc=e("__VUE_SSR_SETTERS__",n=>rl=n)}const So=t=>{const e=yt;return _a(t),t.scope.on(),()=>{t.scope.off(),_a(e)}},Vf=()=>{yt&&yt.scope.off(),_a(null)};function Kv(t){return t.vnode.shapeFlag&4}let rl=!1;function $C(t,e=!1){e&&Lc(e);const{props:n,children:s}=t.vnode,r=Kv(t);dC(t,n,r,e),pC(t,s);const i=r?PC(t,e):void 0;return e&&Lc(!1),i}function PC(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Qa(new Proxy(t.ctx,nC));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?AC(t):null,i=So(t);pr();const o=ws(s,t,0,[t.props,r]);if(mr(),i(),Gm(o)){if(o.then(Vf,Vf),e)return o.then(a=>{zf(t,a,e)}).catch(a=>{Za(a,t,0)});t.asyncDep=o}else zf(t,o,e)}else qv(t,e)}function zf(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Be(e)&&(t.setupState=bv(e)),qv(t,n)}let Gf;function qv(t,e,n){const s=t.type;if(!t.render){if(!e&&Gf&&!s.render){const r=s.template||Ku(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=ft(ft({isCustomElement:i,delimiters:a},o),l);s.render=Gf(r,c)}}t.render=s.render||nn}{const r=So(t);pr();try{sC(t)}finally{mr(),r()}}}function kC(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Ut(t,"get","$attrs"),e[n]}}))}function AC(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return kC(t)},slots:t.slots,emit:t.emit,expose:e}}function il(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(bv(Qa(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ni)return Ni[n](t)},has(e,n){return n in e||n in Ni}}))}function OC(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function xC(t){return ge(t)&&"__vccOpts"in t}const S=(t,e)=>yw(t,e,rl);function Zu(t,e,n){const s=arguments.length;return s===2?Be(e)&&!ue(e)?ma(e)?ee(t,null,[e]):ee(t,e):ee(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ma(n)&&(n=[n]),ee(t,e,n))}const MC="3.4.15";/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const RC="http://www.w3.org/2000/svg",NC="http://www.w3.org/1998/Math/MathML",fs=typeof document<"u"?document:null,Kf=fs&&fs.createElement("template"),LC={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?fs.createElementNS(RC,t):e==="mathml"?fs.createElementNS(NC,t):fs.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>fs.createTextNode(t),createComment:t=>fs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>fs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Kf.innerHTML=s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t;const a=Kf.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},rs="transition",wi="animation",Xi=Symbol("_vtc"),ol=(t,{slots:e})=>Zu(Uw,FC(t),e);ol.displayName="Transition";const Qv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ol.props=ft({},Av,Qv);const zs=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},qf=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function FC(t){const e={};for(const I in t)I in Qv||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,v=YC(r),y=v&&v[0],w=v&&v[1],{onBeforeEnter:b,onEnter:A,onEnterCancelled:N,onLeave:P,onLeaveCancelled:O,onBeforeAppear:Y=b,onAppear:V=A,onAppearCancelled:k=N}=e,H=(I,Q,me)=>{Gs(I,Q?u:a),Gs(I,Q?c:o),me&&me()},Z=(I,Q)=>{I._isLeaving=!1,Gs(I,d),Gs(I,h),Gs(I,f),Q&&Q()},ie=I=>(Q,me)=>{const ne=I?V:A,re=()=>H(Q,I,me);zs(ne,[Q,re]),Qf(()=>{Gs(Q,I?l:i),is(Q,I?u:a),qf(ne)||Zf(Q,s,y,re)})};return ft(e,{onBeforeEnter(I){zs(b,[I]),is(I,i),is(I,o)},onBeforeAppear(I){zs(Y,[I]),is(I,l),is(I,c)},onEnter:ie(!1),onAppear:ie(!0),onLeave(I,Q){I._isLeaving=!0;const me=()=>Z(I,Q);is(I,d),HC(),is(I,f),Qf(()=>{I._isLeaving&&(Gs(I,d),is(I,h),qf(P)||Zf(I,s,w,me))}),zs(P,[I,me])},onEnterCancelled(I){H(I,!1),zs(N,[I])},onAppearCancelled(I){H(I,!0),zs(k,[I])},onLeaveCancelled(I){Z(I),zs(O,[I])}})}function YC(t){if(t==null)return null;if(Be(t))return[Xl(t.enter),Xl(t.leave)];{const e=Xl(t);return[e,e]}}function Xl(t){return jb(t)}function is(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Xi]||(t[Xi]=new Set)).add(e)}function Gs(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Xi];n&&(n.delete(e),n.size||(t[Xi]=void 0))}function Qf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let BC=0;function Zf(t,e,n,s){const r=t._endId=++BC,i=()=>{r===t._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=WC(t,e);if(!o)return s();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),i()},f=h=>{h.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function WC(t,e){const n=window.getComputedStyle(t),s=v=>(n[v]||"").split(", "),r=s(`${rs}Delay`),i=s(`${rs}Duration`),o=Jf(r,i),a=s(`${wi}Delay`),l=s(`${wi}Duration`),c=Jf(a,l);let u=null,d=0,f=0;e===rs?o>0&&(u=rs,d=o,f=i.length):e===wi?c>0&&(u=wi,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?rs:wi:null,f=u?u===rs?i.length:l.length:0);const h=u===rs&&/\b(transform|all)(,|$)/.test(s(`${rs}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function Jf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Xf(n)+Xf(t[s])))}function Xf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function HC(){return document.body.offsetHeight}function jC(t,e,n){const s=t[Xi];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const UC=Symbol("_vod"),VC=Symbol("");function zC(t,e,n){const s=t.style,r=s.display,i=it(n);if(n&&!i){if(e&&!it(e))for(const o in e)n[o]==null&&Fc(s,o,"");for(const o in n)Fc(s,o,n[o])}else if(i){if(e!==n){const o=s[VC];o&&(n+=";"+o),s.cssText=n}}else e&&t.removeAttribute("style");UC in t&&(s.display=r)}const eh=/\s*!important$/;function Fc(t,e,n){if(ue(n))n.forEach(s=>Fc(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=GC(t,e);eh.test(n)?t.setProperty(hr(s),n.replace(eh,""),"important"):t[s]=n}}const th=["Webkit","Moz","ms"],ec={};function GC(t,e){const n=ec[e];if(n)return n;let s=An(e);if(s!=="filter"&&s in t)return ec[e]=s;s=Ka(s);for(let r=0;r<th.length;r++){const i=th[r]+s;if(i in t)return ec[e]=i}return e}const nh="http://www.w3.org/1999/xlink";function KC(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(nh,e.slice(6,e.length)):t.setAttributeNS(nh,e,n);else{const i=qb(e);n==null||i&&!Zm(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function qC(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Zm(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function ps(t,e,n,s){t.addEventListener(e,n,s)}function QC(t,e,n,s){t.removeEventListener(e,n,s)}const sh=Symbol("_vei");function ZC(t,e,n,s,r=null){const i=t[sh]||(t[sh]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=JC(e);if(s){const c=i[e]=t1(s,r);ps(t,a,c,l)}else o&&(QC(t,a,o,l),i[e]=void 0)}}const rh=/(?:Once|Passive|Capture)$/;function JC(t){let e;if(rh.test(t)){e={};let s;for(;s=t.match(rh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hr(t.slice(2)),e]}let tc=0;const XC=Promise.resolve(),e1=()=>tc||(XC.then(()=>tc=0),tc=Date.now());function t1(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;an(n1(s,n.value),e,5,[s])};return n.value=t,n.attached=e1(),n}function n1(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const ih=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,s1=(t,e,n,s,r,i,o,a,l)=>{const c=r==="svg";e==="class"?jC(t,s,c):e==="style"?zC(t,n,s):za(e)?Au(e)||ZC(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):r1(t,e,s,c))?qC(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),KC(t,e,s,c))};function r1(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&ih(e)&&ge(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ih(e)&&it(n)?!1:e in t}const Wr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>ea(e,n):e};function i1(t){t.target.composing=!0}function oh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Vn=Symbol("_assign"),Cs={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Vn]=Wr(r);const i=s||r.props&&r.props.type==="number";ps(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Gi(a)),t[Vn](a)}),n&&ps(t,"change",()=>{t.value=t.value.trim()}),e||(ps(t,"compositionstart",i1),ps(t,"compositionend",oh),ps(t,"change",oh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t[Vn]=Wr(i),t.composing)return;const o=r||t.type==="number"?Gi(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===a)||(t.value=a))}},nc={deep:!0,created(t,e,n){t[Vn]=Wr(n),ps(t,"change",()=>{const s=t._modelValue,r=eo(t),i=t.checked,o=t[Vn];if(ue(s)){const a=Mu(s,r),l=a!==-1;if(i&&!l)o(s.concat(r));else if(!i&&l){const c=[...s];c.splice(a,1),o(c)}}else if(si(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(Zv(t,i))})},mounted:ah,beforeUpdate(t,e,n){t[Vn]=Wr(n),ah(t,e,n)}};function ah(t,{value:e,oldValue:n},s){t._modelValue=e,ue(e)?t.checked=Mu(e,s.props.value)>-1:si(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=Yr(e,Zv(t,!0)))}const o1={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=si(e);ps(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Gi(eo(o)):eo(o));t[Vn](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Bn(()=>{t._assigning=!1})}),t[Vn]=Wr(s)},mounted(t,{value:e,oldValue:n,modifiers:{number:s}}){lh(t,e,n,s)},beforeUpdate(t,e,n){t[Vn]=Wr(n)},updated(t,{value:e,oldValue:n,modifiers:{number:s}}){t._assigning||lh(t,e,n,s)}};function lh(t,e,n,s){const r=t.multiple,i=ue(e);if(!(r&&!i&&!si(e))&&!(i&&Yr(e,n))){for(let o=0,a=t.options.length;o<a;o++){const l=t.options[o],c=eo(l);if(r)if(i){const u=typeof c;u==="string"||u==="number"?l.selected=e.includes(s?Gi(c):c):l.selected=Mu(e,c)>-1}else l.selected=e.has(c);else if(Yr(eo(l),e)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function eo(t){return"_value"in t?t._value:t.value}function Zv(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const a1=["ctrl","shift","alt","meta"],l1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>a1.some(n=>t[`${n}Key`]&&!e.includes(n))},to=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const a=l1[e[o]];if(a&&a(r,e))return}return t(r,...i)})},c1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ch=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const i=hr(r.key);if(e.some(o=>o===i||c1[o]===i))return t(r)})},u1=ft({patchProp:s1},LC);let uh;function d1(){return uh||(uh=vC(u1))}const f1=(...t)=>{const e=d1().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=p1(s);if(!r)return;const i=e._component;!ge(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,h1(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function h1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function p1(t){return it(t)?document.querySelector(t):t}var m1=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Jv;const al=t=>Jv=t,Xv=Symbol();function Yc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Fi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Fi||(Fi={}));function v1(){const t=ev(!0),e=t.run(()=>Ce({}));let n=[],s=[];const r=Qa({install(i){al(r),r._a=i,i.provide(Xv,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!m1?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const e_=()=>{};function dh(t,e,n,s=e_){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&tv()&&Jb(r),r}function Dr(t,...e){t.slice().forEach(n=>{n(...e)})}const _1=t=>t();function Bc(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Yc(r)&&Yc(s)&&t.hasOwnProperty(n)&&!et(s)&&!bs(s)?t[n]=Bc(r,s):t[n]=s}return t}const g1=Symbol();function y1(t){return!Yc(t)||!t.hasOwnProperty(g1)}const{assign:ls}=Object;function b1(t){return!!(et(t)&&t.effect)}function w1(t,e,n,s){const{state:r,actions:i,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const u=wv(n.state.value[t]);return ls(u,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=Qa(S(()=>{al(n);const h=n._s.get(t);return o[f].call(h,h)})),d),{}))}return l=t_(t,c,e,n,s,!0),l}function t_(t,e,n={},s,r,i){let o;const a=ls({actions:{}},n),l={deep:!0};let c,u,d=[],f=[],h;const v=s.state.value[t];!i&&!v&&(s.state.value[t]={}),Ce({});let y;function w(k){let H;c=u=!1,typeof k=="function"?(k(s.state.value[t]),H={type:Fi.patchFunction,storeId:t,events:h}):(Bc(s.state.value[t],k),H={type:Fi.patchObject,payload:k,storeId:t,events:h});const Z=y=Symbol();Bn().then(()=>{y===Z&&(c=!0)}),u=!0,Dr(d,H,s.state.value[t])}const b=i?function(){const{state:H}=n,Z=H?H():{};this.$patch(ie=>{ls(ie,Z)})}:e_;function A(){o.stop(),d=[],f=[],s._s.delete(t)}function N(k,H){return function(){al(s);const Z=Array.from(arguments),ie=[],I=[];function Q(re){ie.push(re)}function me(re){I.push(re)}Dr(f,{args:Z,name:k,store:O,after:Q,onError:me});let ne;try{ne=H.apply(this&&this.$id===t?this:O,Z)}catch(re){throw Dr(I,re),re}return ne instanceof Promise?ne.then(re=>(Dr(ie,re),re)).catch(re=>(Dr(I,re),Promise.reject(re))):(Dr(ie,ne),ne)}}const P={_p:s,$id:t,$onAction:dh.bind(null,f),$patch:w,$reset:b,$subscribe(k,H={}){const Z=dh(d,k,H.detached,()=>ie()),ie=o.run(()=>ot(()=>s.state.value[t],I=>{(H.flush==="sync"?u:c)&&k({storeId:t,type:Fi.direct,events:h},I)},ls({},l,H)));return Z},$dispose:A},O=Xn(P);s._s.set(t,O);const V=(s._a&&s._a.runWithContext||_1)(()=>s._e.run(()=>(o=ev()).run(e)));for(const k in V){const H=V[k];if(et(H)&&!b1(H)||bs(H))i||(v&&y1(H)&&(et(H)?H.value=v[k]:Bc(H,v[k])),s.state.value[t][k]=H);else if(typeof H=="function"){const Z=N(k,H);V[k]=Z,a.actions[k]=H}}return ls(O,V),ls(xe(O),V),Object.defineProperty(O,"$state",{get:()=>s.state.value[t],set:k=>{w(H=>{ls(H,k)})}}),s._p.forEach(k=>{ls(O,o.run(()=>k({store:O,app:s._a,pinia:s,options:a})))}),v&&i&&n.hydrate&&n.hydrate(O.$state,v),c=!0,u=!0,O}function Ju(t,e,n){let s,r;const i=typeof e=="function";typeof t=="string"?(s=t,r=i?n:e):(r=t,s=t.id);function o(a,l){const c=uC();return a=a||(c?Mt(Xv,null):null),a&&al(a),a=Jv,a._s.has(s)||(i?t_(s,e,r,a):w1(s,r,a)),a._s.get(s)}return o.$id=s,o}const fh=(t,e)=>{const n=t.storage||sessionStorage,s=t.key||e.$id;if(t.paths){const r=t.paths.reduce((i,o)=>(i[o]=e.$state[o],i),{});n.setItem(s,JSON.stringify(r))}else n.setItem(s,JSON.stringify(e.$state))};var C1=({options:t,store:e})=>{var n,s,r,i;if((n=t.persist)!=null&&n.enabled){const o=[{key:e.$id,storage:sessionStorage}],a=(r=(s=t.persist)==null?void 0:s.strategies)!=null&&r.length?(i=t.persist)==null?void 0:i.strategies:o;a.forEach(l=>{const c=l.storage||sessionStorage,u=l.key||e.$id,d=c.getItem(u);d&&(e.$patch(JSON.parse(d)),fh(l,e))}),e.$subscribe(()=>{a.forEach(l=>{fh(l,e)})})}},Wt="top",dn="bottom",fn="right",Ht="left",Xu="auto",Do=[Wt,dn,fn,Ht],Hr="start",no="end",E1="clippingParents",n_="viewport",Ci="popper",S1="reference",hh=Do.reduce(function(t,e){return t.concat([e+"-"+Hr,e+"-"+no])},[]),s_=[].concat(Do,[Xu]).reduce(function(t,e){return t.concat([e,e+"-"+Hr,e+"-"+no])},[]),D1="beforeRead",T1="read",I1="afterRead",$1="beforeMain",P1="main",k1="afterMain",A1="beforeWrite",O1="write",x1="afterWrite",M1=[D1,T1,I1,$1,P1,k1,A1,O1,x1];function On(t){return t?(t.nodeName||"").toLowerCase():null}function Qt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function or(t){var e=Qt(t).Element;return t instanceof e||t instanceof Element}function cn(t){var e=Qt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ed(t){if(typeof ShadowRoot>"u")return!1;var e=Qt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function R1(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},i=e.elements[n];!cn(i)||!On(i)||(Object.assign(i.style,s),Object.keys(r).forEach(function(o){var a=r[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function N1(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],i=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),a=o.reduce(function(l,c){return l[c]="",l},{});!cn(r)||!On(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(l){r.removeAttribute(l)}))})}}const L1={name:"applyStyles",enabled:!0,phase:"write",fn:R1,effect:N1,requires:["computeStyles"]};function Pn(t){return t.split("-")[0]}var rr=Math.max,ga=Math.min,jr=Math.round;function Wc(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function r_(){return!/^((?!chrome|android).)*safari/i.test(Wc())}function Ur(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var s=t.getBoundingClientRect(),r=1,i=1;e&&cn(t)&&(r=t.offsetWidth>0&&jr(s.width)/t.offsetWidth||1,i=t.offsetHeight>0&&jr(s.height)/t.offsetHeight||1);var o=or(t)?Qt(t):window,a=o.visualViewport,l=!r_()&&n,c=(s.left+(l&&a?a.offsetLeft:0))/r,u=(s.top+(l&&a?a.offsetTop:0))/i,d=s.width/r,f=s.height/i;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c,x:c,y:u}}function td(t){var e=Ur(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function i_(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ed(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Kn(t){return Qt(t).getComputedStyle(t)}function F1(t){return["table","td","th"].indexOf(On(t))>=0}function Ys(t){return((or(t)?t.ownerDocument:t.document)||window.document).documentElement}function ll(t){return On(t)==="html"?t:t.assignedSlot||t.parentNode||(ed(t)?t.host:null)||Ys(t)}function ph(t){return!cn(t)||Kn(t).position==="fixed"?null:t.offsetParent}function Y1(t){var e=/firefox/i.test(Wc()),n=/Trident/i.test(Wc());if(n&&cn(t)){var s=Kn(t);if(s.position==="fixed")return null}var r=ll(t);for(ed(r)&&(r=r.host);cn(r)&&["html","body"].indexOf(On(r))<0;){var i=Kn(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function To(t){for(var e=Qt(t),n=ph(t);n&&F1(n)&&Kn(n).position==="static";)n=ph(n);return n&&(On(n)==="html"||On(n)==="body"&&Kn(n).position==="static")?e:n||Y1(t)||e}function nd(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Yi(t,e,n){return rr(t,ga(e,n))}function B1(t,e,n){var s=Yi(t,e,n);return s>n?n:s}function o_(){return{top:0,right:0,bottom:0,left:0}}function a_(t){return Object.assign({},o_(),t)}function l_(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var W1=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,a_(typeof e!="number"?e:l_(e,Do))};function H1(t){var e,n=t.state,s=t.name,r=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Pn(n.placement),l=nd(a),c=[Ht,fn].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!o)){var d=W1(r.padding,n),f=td(i),h=l==="y"?Wt:Ht,v=l==="y"?dn:fn,y=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],w=o[l]-n.rects.reference[l],b=To(i),A=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,N=y/2-w/2,P=d[h],O=A-f[u]-d[v],Y=A/2-f[u]/2+N,V=Yi(P,Y,O),k=l;n.modifiersData[s]=(e={},e[k]=V,e.centerOffset=V-Y,e)}}function j1(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||i_(e.elements.popper,r)&&(e.elements.arrow=r))}const U1={name:"arrow",enabled:!0,phase:"main",fn:H1,effect:j1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vr(t){return t.split("-")[1]}var V1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function z1(t,e){var n=t.x,s=t.y,r=e.devicePixelRatio||1;return{x:jr(n*r)/r||0,y:jr(s*r)/r||0}}function mh(t){var e,n=t.popper,s=t.popperRect,r=t.placement,i=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,h=f===void 0?0:f,v=o.y,y=v===void 0?0:v,w=typeof u=="function"?u({x:h,y}):{x:h,y};h=w.x,y=w.y;var b=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),N=Ht,P=Wt,O=window;if(c){var Y=To(n),V="clientHeight",k="clientWidth";if(Y===Qt(n)&&(Y=Ys(n),Kn(Y).position!=="static"&&a==="absolute"&&(V="scrollHeight",k="scrollWidth")),Y=Y,r===Wt||(r===Ht||r===fn)&&i===no){P=dn;var H=d&&Y===O&&O.visualViewport?O.visualViewport.height:Y[V];y-=H-s.height,y*=l?1:-1}if(r===Ht||(r===Wt||r===dn)&&i===no){N=fn;var Z=d&&Y===O&&O.visualViewport?O.visualViewport.width:Y[k];h-=Z-s.width,h*=l?1:-1}}var ie=Object.assign({position:a},c&&V1),I=u===!0?z1({x:h,y},Qt(n)):{x:h,y};if(h=I.x,y=I.y,l){var Q;return Object.assign({},ie,(Q={},Q[P]=A?"0":"",Q[N]=b?"0":"",Q.transform=(O.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",Q))}return Object.assign({},ie,(e={},e[P]=A?y+"px":"",e[N]=b?h+"px":"",e.transform="",e))}function G1(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Pn(e.placement),variation:Vr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mh(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mh(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const K1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:G1,data:{}};var zo={passive:!0};function q1(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,i=r===void 0?!0:r,o=s.resize,a=o===void 0?!0:o,l=Qt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",n.update,zo)}),a&&l.addEventListener("resize",n.update,zo),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",n.update,zo)}),a&&l.removeEventListener("resize",n.update,zo)}}const Q1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:q1,data:{}};var Z1={left:"right",right:"left",bottom:"top",top:"bottom"};function ia(t){return t.replace(/left|right|bottom|top/g,function(e){return Z1[e]})}var J1={start:"end",end:"start"};function vh(t){return t.replace(/start|end/g,function(e){return J1[e]})}function sd(t){var e=Qt(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function rd(t){return Ur(Ys(t)).left+sd(t).scrollLeft}function X1(t,e){var n=Qt(t),s=Ys(t),r=n.visualViewport,i=s.clientWidth,o=s.clientHeight,a=0,l=0;if(r){i=r.width,o=r.height;var c=r_();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:a+rd(t),y:l}}function e0(t){var e,n=Ys(t),s=sd(t),r=(e=t.ownerDocument)==null?void 0:e.body,i=rr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=rr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-s.scrollLeft+rd(t),l=-s.scrollTop;return Kn(r||n).direction==="rtl"&&(a+=rr(n.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:a,y:l}}function id(t){var e=Kn(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function c_(t){return["html","body","#document"].indexOf(On(t))>=0?t.ownerDocument.body:cn(t)&&id(t)?t:c_(ll(t))}function Bi(t,e){var n;e===void 0&&(e=[]);var s=c_(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),i=Qt(s),o=r?[i].concat(i.visualViewport||[],id(s)?s:[]):s,a=e.concat(o);return r?a:a.concat(Bi(ll(o)))}function Hc(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function t0(t,e){var n=Ur(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function _h(t,e,n){return e===n_?Hc(X1(t,n)):or(e)?t0(e,n):Hc(e0(Ys(t)))}function n0(t){var e=Bi(ll(t)),n=["absolute","fixed"].indexOf(Kn(t).position)>=0,s=n&&cn(t)?To(t):t;return or(s)?e.filter(function(r){return or(r)&&i_(r,s)&&On(r)!=="body"}):[]}function s0(t,e,n,s){var r=e==="clippingParents"?n0(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(l,c){var u=_h(t,c,s);return l.top=rr(u.top,l.top),l.right=ga(u.right,l.right),l.bottom=ga(u.bottom,l.bottom),l.left=rr(u.left,l.left),l},_h(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function u_(t){var e=t.reference,n=t.element,s=t.placement,r=s?Pn(s):null,i=s?Vr(s):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Wt:l={x:o,y:e.y-n.height};break;case dn:l={x:o,y:e.y+e.height};break;case fn:l={x:e.x+e.width,y:a};break;case Ht:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?nd(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Hr:l[c]=l[c]-(e[u]/2-n[u]/2);break;case no:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function so(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,i=n.strategy,o=i===void 0?t.strategy:i,a=n.boundary,l=a===void 0?E1:a,c=n.rootBoundary,u=c===void 0?n_:c,d=n.elementContext,f=d===void 0?Ci:d,h=n.altBoundary,v=h===void 0?!1:h,y=n.padding,w=y===void 0?0:y,b=a_(typeof w!="number"?w:l_(w,Do)),A=f===Ci?S1:Ci,N=t.rects.popper,P=t.elements[v?A:f],O=s0(or(P)?P:P.contextElement||Ys(t.elements.popper),l,u,o),Y=Ur(t.elements.reference),V=u_({reference:Y,element:N,strategy:"absolute",placement:r}),k=Hc(Object.assign({},N,V)),H=f===Ci?k:Y,Z={top:O.top-H.top+b.top,bottom:H.bottom-O.bottom+b.bottom,left:O.left-H.left+b.left,right:H.right-O.right+b.right},ie=t.modifiersData.offset;if(f===Ci&&ie){var I=ie[r];Object.keys(Z).forEach(function(Q){var me=[fn,dn].indexOf(Q)>=0?1:-1,ne=[Wt,dn].indexOf(Q)>=0?"y":"x";Z[Q]+=I[ne]*me})}return Z}function r0(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?s_:l,u=Vr(s),d=u?a?hh:hh.filter(function(v){return Vr(v)===u}):Do,f=d.filter(function(v){return c.indexOf(v)>=0});f.length===0&&(f=d);var h=f.reduce(function(v,y){return v[y]=so(t,{placement:y,boundary:r,rootBoundary:i,padding:o})[Pn(y)],v},{});return Object.keys(h).sort(function(v,y){return h[v]-h[y]})}function i0(t){if(Pn(t)===Xu)return[];var e=ia(t);return[vh(t),e,vh(e)]}function o0(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,v=h===void 0?!0:h,y=n.allowedAutoPlacements,w=e.options.placement,b=Pn(w),A=b===w,N=l||(A||!v?[ia(w)]:i0(w)),P=[w].concat(N).reduce(function($e,Ze){return $e.concat(Pn(Ze)===Xu?r0(e,{placement:Ze,boundary:u,rootBoundary:d,padding:c,flipVariations:v,allowedAutoPlacements:y}):Ze)},[]),O=e.rects.reference,Y=e.rects.popper,V=new Map,k=!0,H=P[0],Z=0;Z<P.length;Z++){var ie=P[Z],I=Pn(ie),Q=Vr(ie)===Hr,me=[Wt,dn].indexOf(I)>=0,ne=me?"width":"height",re=so(e,{placement:ie,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),le=me?Q?fn:Ht:Q?dn:Wt;O[ne]>Y[ne]&&(le=ia(le));var fe=ia(le),Ae=[];if(i&&Ae.push(re[I]<=0),a&&Ae.push(re[le]<=0,re[fe]<=0),Ae.every(function($e){return $e})){H=ie,k=!1;break}V.set(ie,Ae)}if(k)for(var W=v?3:1,ve=function(Ze){var Oe=P.find(function(E){var K=V.get(E);if(K)return K.slice(0,Ze).every(function(G){return G})});if(Oe)return H=Oe,"break"},te=W;te>0;te--){var We=ve(te);if(We==="break")break}e.placement!==H&&(e.modifiersData[s]._skip=!0,e.placement=H,e.reset=!0)}}const a0={name:"flip",enabled:!0,phase:"main",fn:o0,requiresIfExists:["offset"],data:{_skip:!1}};function gh(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function yh(t){return[Wt,fn,dn,Ht].some(function(e){return t[e]>=0})}function l0(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,o=so(e,{elementContext:"reference"}),a=so(e,{altBoundary:!0}),l=gh(o,s),c=gh(a,r,i),u=yh(l),d=yh(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const c0={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:l0};function u0(t,e,n){var s=Pn(t),r=[Ht,Wt].indexOf(s)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*r,[Ht,fn].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function d0(t){var e=t.state,n=t.options,s=t.name,r=n.offset,i=r===void 0?[0,0]:r,o=s_.reduce(function(u,d){return u[d]=u0(d,e.rects,i),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[s]=o}const f0={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:d0};function h0(t){var e=t.state,n=t.name;e.modifiersData[n]=u_({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const p0={name:"popperOffsets",enabled:!0,phase:"read",fn:h0,data:{}};function m0(t){return t==="x"?"y":"x"}function v0(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,i=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,v=n.tetherOffset,y=v===void 0?0:v,w=so(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),b=Pn(e.placement),A=Vr(e.placement),N=!A,P=nd(b),O=m0(P),Y=e.modifiersData.popperOffsets,V=e.rects.reference,k=e.rects.popper,H=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,Z=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),ie=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(Y){if(i){var Q,me=P==="y"?Wt:Ht,ne=P==="y"?dn:fn,re=P==="y"?"height":"width",le=Y[P],fe=le+w[me],Ae=le-w[ne],W=h?-k[re]/2:0,ve=A===Hr?V[re]:k[re],te=A===Hr?-k[re]:-V[re],We=e.elements.arrow,$e=h&&We?td(We):{width:0,height:0},Ze=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:o_(),Oe=Ze[me],E=Ze[ne],K=Yi(0,V[re],$e[re]),G=N?V[re]/2-W-K-Oe-Z.mainAxis:ve-K-Oe-Z.mainAxis,se=N?-V[re]/2+W+K+E+Z.mainAxis:te+K+E+Z.mainAxis,ye=e.elements.arrow&&To(e.elements.arrow),Pe=ye?P==="y"?ye.clientTop||0:ye.clientLeft||0:0,p=(Q=ie==null?void 0:ie[P])!=null?Q:0,g=le+G-p-Pe,C=le+se-p,$=Yi(h?ga(fe,g):fe,le,h?rr(Ae,C):Ae);Y[P]=$,I[P]=$-le}if(a){var T,j=P==="x"?Wt:Ht,q=P==="x"?dn:fn,B=Y[O],z=O==="y"?"height":"width",L=B+w[j],J=B-w[q],ae=[Wt,Ht].indexOf(b)!==-1,oe=(T=ie==null?void 0:ie[O])!=null?T:0,de=ae?L:B-V[z]-k[z]-oe+Z.altAxis,_e=ae?B+V[z]+k[z]-oe-Z.altAxis:J,ke=h&&ae?B1(de,B,_e):Yi(h?de:L,B,h?_e:J);Y[O]=ke,I[O]=ke-B}e.modifiersData[s]=I}}const _0={name:"preventOverflow",enabled:!0,phase:"main",fn:v0,requiresIfExists:["offset"]};function g0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function y0(t){return t===Qt(t)||!cn(t)?sd(t):g0(t)}function b0(t){var e=t.getBoundingClientRect(),n=jr(e.width)/t.offsetWidth||1,s=jr(e.height)/t.offsetHeight||1;return n!==1||s!==1}function w0(t,e,n){n===void 0&&(n=!1);var s=cn(e),r=cn(e)&&b0(e),i=Ys(e),o=Ur(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((On(e)!=="body"||id(i))&&(a=y0(e)),cn(e)?(l=Ur(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=rd(i))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function C0(t){var e=new Map,n=new Set,s=[];t.forEach(function(i){e.set(i.name,i)});function r(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),s.push(i)}return t.forEach(function(i){n.has(i.name)||r(i)}),s}function E0(t){var e=C0(t);return M1.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function S0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function D0(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var bh={placement:"bottom",modifiers:[],strategy:"absolute"};function wh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function T0(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,i=r===void 0?bh:r;return function(a,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},bh,i),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:u,setOptions:function(b){var A=typeof b=="function"?b(u.options):b;y(),u.options=Object.assign({},i,u.options,A),u.scrollParents={reference:or(a)?Bi(a):a.contextElement?Bi(a.contextElement):[],popper:Bi(l)};var N=E0(D0([].concat(s,u.options.modifiers)));return u.orderedModifiers=N.filter(function(P){return P.enabled}),v(),h.update()},forceUpdate:function(){if(!f){var b=u.elements,A=b.reference,N=b.popper;if(wh(A,N)){u.rects={reference:w0(A,To(N),u.options.strategy==="fixed"),popper:td(N)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Z){return u.modifiersData[Z.name]=Object.assign({},Z.data)});for(var P=0;P<u.orderedModifiers.length;P++){if(u.reset===!0){u.reset=!1,P=-1;continue}var O=u.orderedModifiers[P],Y=O.fn,V=O.options,k=V===void 0?{}:V,H=O.name;typeof Y=="function"&&(u=Y({state:u,options:k,name:H,instance:h})||u)}}}},update:S0(function(){return new Promise(function(w){h.forceUpdate(),w(u)})}),destroy:function(){y(),f=!0}};if(!wh(a,l))return h;h.setOptions(c).then(function(w){!f&&c.onFirstUpdate&&c.onFirstUpdate(w)});function v(){u.orderedModifiers.forEach(function(w){var b=w.name,A=w.options,N=A===void 0?{}:A,P=w.effect;if(typeof P=="function"){var O=P({state:u,name:b,instance:h,options:N}),Y=function(){};d.push(O||Y)}})}function y(){d.forEach(function(w){return w()}),d=[]}return h}}var I0=[Q1,p0,K1,L1,f0,a0,_0,U1,c0],$0=T0({defaultModifiers:I0}),P0=Object.defineProperty,k0=(t,e,n)=>e in t?P0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ce=(t,e,n)=>(k0(t,typeof e!="symbol"?e+"":e,n),n),Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function d_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A0=Object.prototype,O0=A0.hasOwnProperty;function x0(t,e){return t!=null&&O0.call(t,e)}var M0=x0,R0=Array.isArray,wn=R0,N0=typeof Go=="object"&&Go&&Go.Object===Object&&Go,f_=N0,L0=f_,F0=typeof self=="object"&&self&&self.Object===Object&&self,Y0=L0||F0||Function("return this")(),Rn=Y0,B0=Rn,W0=B0.Symbol,cl=W0,Ch=cl,h_=Object.prototype,H0=h_.hasOwnProperty,j0=h_.toString,Ei=Ch?Ch.toStringTag:void 0;function U0(t){var e=H0.call(t,Ei),n=t[Ei];try{t[Ei]=void 0;var s=!0}catch{}var r=j0.call(t);return s&&(e?t[Ei]=n:delete t[Ei]),r}var V0=U0,z0=Object.prototype,G0=z0.toString;function K0(t){return G0.call(t)}var q0=K0,Eh=cl,Q0=V0,Z0=q0,J0="[object Null]",X0="[object Undefined]",Sh=Eh?Eh.toStringTag:void 0;function eE(t){return t==null?t===void 0?X0:J0:Sh&&Sh in Object(t)?Q0(t):Z0(t)}var Nn=eE;function tE(t){return t!=null&&typeof t=="object"}var Cn=tE,nE=Nn,sE=Cn,rE="[object Symbol]";function iE(t){return typeof t=="symbol"||sE(t)&&nE(t)==rE}var od=iE,oE=wn,aE=od,lE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cE=/^\w*$/;function uE(t,e){if(oE(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||aE(t)?!0:cE.test(t)||!lE.test(t)||e!=null&&t in Object(e)}var ad=uE;function dE(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ts=dE,fE=Nn,hE=ts,pE="[object AsyncFunction]",mE="[object Function]",vE="[object GeneratorFunction]",_E="[object Proxy]";function gE(t){if(!hE(t))return!1;var e=fE(t);return e==mE||e==vE||e==pE||e==_E}var _r=gE,yE=Rn,bE=yE["__core-js_shared__"],wE=bE,sc=wE,Dh=function(){var t=/[^.]+$/.exec(sc&&sc.keys&&sc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function CE(t){return!!Dh&&Dh in t}var EE=CE,SE=Function.prototype,DE=SE.toString;function TE(t){if(t!=null){try{return DE.call(t)}catch{}try{return t+""}catch{}}return""}var p_=TE,IE=_r,$E=EE,PE=ts,kE=p_,AE=/[\\^$.*+?()[\]{}|]/g,OE=/^\[object .+?Constructor\]$/,xE=Function.prototype,ME=Object.prototype,RE=xE.toString,NE=ME.hasOwnProperty,LE=RegExp("^"+RE.call(NE).replace(AE,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FE(t){if(!PE(t)||$E(t))return!1;var e=IE(t)?LE:OE;return e.test(kE(t))}var YE=FE;function BE(t,e){return t==null?void 0:t[e]}var WE=BE,HE=YE,jE=WE;function UE(t,e){var n=jE(t,e);return HE(n)?n:void 0}var gr=UE,VE=gr,zE=VE(Object,"create"),ul=zE,Th=ul;function GE(){this.__data__=Th?Th(null):{},this.size=0}var KE=GE;function qE(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var QE=qE,ZE=ul,JE="__lodash_hash_undefined__",XE=Object.prototype,eS=XE.hasOwnProperty;function tS(t){var e=this.__data__;if(ZE){var n=e[t];return n===JE?void 0:n}return eS.call(e,t)?e[t]:void 0}var nS=tS,sS=ul,rS=Object.prototype,iS=rS.hasOwnProperty;function oS(t){var e=this.__data__;return sS?e[t]!==void 0:iS.call(e,t)}var aS=oS,lS=ul,cS="__lodash_hash_undefined__";function uS(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=lS&&e===void 0?cS:e,this}var dS=uS,fS=KE,hS=QE,pS=nS,mS=aS,vS=dS;function ii(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}ii.prototype.clear=fS;ii.prototype.delete=hS;ii.prototype.get=pS;ii.prototype.has=mS;ii.prototype.set=vS;var _S=ii;function gS(){this.__data__=[],this.size=0}var yS=gS;function bS(t,e){return t===e||t!==t&&e!==e}var oi=bS,wS=oi;function CS(t,e){for(var n=t.length;n--;)if(wS(t[n][0],e))return n;return-1}var dl=CS,ES=dl,SS=Array.prototype,DS=SS.splice;function TS(t){var e=this.__data__,n=ES(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():DS.call(e,n,1),--this.size,!0}var IS=TS,$S=dl;function PS(t){var e=this.__data__,n=$S(e,t);return n<0?void 0:e[n][1]}var kS=PS,AS=dl;function OS(t){return AS(this.__data__,t)>-1}var xS=OS,MS=dl;function RS(t,e){var n=this.__data__,s=MS(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}var NS=RS,LS=yS,FS=IS,YS=kS,BS=xS,WS=NS;function ai(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}ai.prototype.clear=LS;ai.prototype.delete=FS;ai.prototype.get=YS;ai.prototype.has=BS;ai.prototype.set=WS;var fl=ai,HS=gr,jS=Rn,US=HS(jS,"Map"),ld=US,Ih=_S,VS=fl,zS=ld;function GS(){this.size=0,this.__data__={hash:new Ih,map:new(zS||VS),string:new Ih}}var KS=GS;function qS(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var QS=qS,ZS=QS;function JS(t,e){var n=t.__data__;return ZS(e)?n[typeof e=="string"?"string":"hash"]:n.map}var hl=JS,XS=hl;function eD(t){var e=XS(this,t).delete(t);return this.size-=e?1:0,e}var tD=eD,nD=hl;function sD(t){return nD(this,t).get(t)}var rD=sD,iD=hl;function oD(t){return iD(this,t).has(t)}var aD=oD,lD=hl;function cD(t,e){var n=lD(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}var uD=cD,dD=KS,fD=tD,hD=rD,pD=aD,mD=uD;function li(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}li.prototype.clear=dD;li.prototype.delete=fD;li.prototype.get=hD;li.prototype.has=pD;li.prototype.set=mD;var cd=li,m_=cd,vD="Expected a function";function ud(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vD);var n=function(){var s=arguments,r=e?e.apply(this,s):s[0],i=n.cache;if(i.has(r))return i.get(r);var o=t.apply(this,s);return n.cache=i.set(r,o)||i,o};return n.cache=new(ud.Cache||m_),n}ud.Cache=m_;var _D=ud,gD=_D,yD=500;function bD(t){var e=gD(t,function(s){return n.size===yD&&n.clear(),s}),n=e.cache;return e}var wD=bD,CD=wD,ED=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,SD=/\\(\\)?/g,DD=CD(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ED,function(n,s,r,i){e.push(r?i.replace(SD,"$1"):s||n)}),e}),TD=DD;function ID(t,e){for(var n=-1,s=t==null?0:t.length,r=Array(s);++n<s;)r[n]=e(t[n],n,t);return r}var $D=ID,$h=cl,PD=$D,kD=wn,AD=od,OD=1/0,Ph=$h?$h.prototype:void 0,kh=Ph?Ph.toString:void 0;function v_(t){if(typeof t=="string")return t;if(kD(t))return PD(t,v_)+"";if(AD(t))return kh?kh.call(t):"";var e=t+"";return e=="0"&&1/t==-OD?"-0":e}var xD=v_,MD=xD;function RD(t){return t==null?"":MD(t)}var ND=RD,LD=wn,FD=ad,YD=TD,BD=ND;function WD(t,e){return LD(t)?t:FD(t,e)?[t]:YD(BD(t))}var __=WD,HD=Nn,jD=Cn,UD="[object Arguments]";function VD(t){return jD(t)&&HD(t)==UD}var zD=VD,Ah=zD,GD=Cn,g_=Object.prototype,KD=g_.hasOwnProperty,qD=g_.propertyIsEnumerable,QD=Ah(function(){return arguments}())?Ah:function(t){return GD(t)&&KD.call(t,"callee")&&!qD.call(t,"callee")},dd=QD,ZD=9007199254740991,JD=/^(?:0|[1-9]\d*)$/;function XD(t,e){var n=typeof t;return e=e??ZD,!!e&&(n=="number"||n!="symbol"&&JD.test(t))&&t>-1&&t%1==0&&t<e}var fd=XD,eT=9007199254740991;function tT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=eT}var hd=tT,nT=od,sT=1/0;function rT(t){if(typeof t=="string"||nT(t))return t;var e=t+"";return e=="0"&&1/t==-sT?"-0":e}var pl=rT,iT=__,oT=dd,aT=wn,lT=fd,cT=hd,uT=pl;function dT(t,e,n){e=iT(e,t);for(var s=-1,r=e.length,i=!1;++s<r;){var o=uT(e[s]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++s!=r?i:(r=t==null?0:t.length,!!r&&cT(r)&&lT(o,r)&&(aT(t)||oT(t)))}var y_=dT,fT=M0,hT=y_;function pT(t,e){return t!=null&&hT(t,e,fT)}var b_=pT,mT=Nn,vT=Cn,_T="[object Date]";function gT(t){return vT(t)&&mT(t)==_T}var yT=gT;function bT(t){return function(e){return t(e)}}var w_=bT,ro={},wT={get exports(){return ro},set exports(t){ro=t}};(function(t,e){var n=f_,s=e&&!e.nodeType&&e,r=s&&!0&&t&&!t.nodeType&&t,i=r&&r.exports===s,o=i&&n.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(wT,ro);var CT=yT,ET=w_,Oh=ro,xh=Oh&&Oh.isDate,ST=xh?ET(xh):CT,DT=ST,TT=Nn,IT=wn,$T=Cn,PT="[object String]";function kT(t){return typeof t=="string"||!IT(t)&&$T(t)&&TT(t)==PT}var In=kT;function AT(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}var C_=AT,OT=fl;function xT(){this.__data__=new OT,this.size=0}var MT=xT;function RT(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var NT=RT;function LT(t){return this.__data__.get(t)}var FT=LT;function YT(t){return this.__data__.has(t)}var BT=YT,WT=fl,HT=ld,jT=cd,UT=200;function VT(t,e){var n=this.__data__;if(n instanceof WT){var s=n.__data__;if(!HT||s.length<UT-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new jT(s)}return n.set(t,e),this.size=n.size,this}var zT=VT,GT=fl,KT=MT,qT=NT,QT=FT,ZT=BT,JT=zT;function ci(t){var e=this.__data__=new GT(t);this.size=e.size}ci.prototype.clear=KT;ci.prototype.delete=qT;ci.prototype.get=QT;ci.prototype.has=ZT;ci.prototype.set=JT;var pd=ci,XT="__lodash_hash_undefined__";function eI(t){return this.__data__.set(t,XT),this}var tI=eI;function nI(t){return this.__data__.has(t)}var sI=nI,rI=cd,iI=tI,oI=sI;function ya(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new rI;++e<n;)this.add(t[e])}ya.prototype.add=ya.prototype.push=iI;ya.prototype.has=oI;var aI=ya;function lI(t,e){return t.has(e)}var cI=lI,uI=aI,dI=C_,fI=cI,hI=1,pI=2;function mI(t,e,n,s,r,i){var o=n&hI,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&pI?new uI:void 0;for(i.set(t,e),i.set(e,t);++d<a;){var v=t[d],y=e[d];if(s)var w=o?s(y,v,d,e,t,i):s(v,y,d,t,e,i);if(w!==void 0){if(w)continue;f=!1;break}if(h){if(!dI(e,function(b,A){if(!fI(h,A)&&(v===b||r(v,b,n,s,i)))return h.push(A)})){f=!1;break}}else if(!(v===y||r(v,y,n,s,i))){f=!1;break}}return i.delete(t),i.delete(e),f}var E_=mI,vI=Rn,_I=vI.Uint8Array,S_=_I;function gI(t){var e=-1,n=Array(t.size);return t.forEach(function(s,r){n[++e]=[r,s]}),n}var yI=gI;function bI(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var wI=bI,Mh=cl,Rh=S_,CI=oi,EI=E_,SI=yI,DI=wI,TI=1,II=2,$I="[object Boolean]",PI="[object Date]",kI="[object Error]",AI="[object Map]",OI="[object Number]",xI="[object RegExp]",MI="[object Set]",RI="[object String]",NI="[object Symbol]",LI="[object ArrayBuffer]",FI="[object DataView]",Nh=Mh?Mh.prototype:void 0,rc=Nh?Nh.valueOf:void 0;function YI(t,e,n,s,r,i,o){switch(n){case FI:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case LI:return!(t.byteLength!=e.byteLength||!i(new Rh(t),new Rh(e)));case $I:case PI:case OI:return CI(+t,+e);case kI:return t.name==e.name&&t.message==e.message;case xI:case RI:return t==e+"";case AI:var a=SI;case MI:var l=s&TI;if(a||(a=DI),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;s|=II,o.set(t,e);var u=EI(a(t),a(e),s,r,i,o);return o.delete(t),u;case NI:if(rc)return rc.call(t)==rc.call(e)}return!1}var BI=YI;function WI(t,e){for(var n=-1,s=e.length,r=t.length;++n<s;)t[r+n]=e[n];return t}var HI=WI,jI=HI,UI=wn;function VI(t,e,n){var s=e(t);return UI(t)?s:jI(s,n(t))}var zI=VI;function GI(t,e){for(var n=-1,s=t==null?0:t.length,r=0,i=[];++n<s;){var o=t[n];e(o,n,t)&&(i[r++]=o)}return i}var KI=GI;function qI(){return[]}var QI=qI,ZI=KI,JI=QI,XI=Object.prototype,e$=XI.propertyIsEnumerable,Lh=Object.getOwnPropertySymbols,t$=Lh?function(t){return t==null?[]:(t=Object(t),ZI(Lh(t),function(e){return e$.call(t,e)}))}:JI,n$=t$;function s$(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var r$=s$,zr={},i$={get exports(){return zr},set exports(t){zr=t}};function o$(){return!1}var a$=o$;(function(t,e){var n=Rn,s=a$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||s;t.exports=c})(i$,zr);var l$=Nn,c$=hd,u$=Cn,d$="[object Arguments]",f$="[object Array]",h$="[object Boolean]",p$="[object Date]",m$="[object Error]",v$="[object Function]",_$="[object Map]",g$="[object Number]",y$="[object Object]",b$="[object RegExp]",w$="[object Set]",C$="[object String]",E$="[object WeakMap]",S$="[object ArrayBuffer]",D$="[object DataView]",T$="[object Float32Array]",I$="[object Float64Array]",$$="[object Int8Array]",P$="[object Int16Array]",k$="[object Int32Array]",A$="[object Uint8Array]",O$="[object Uint8ClampedArray]",x$="[object Uint16Array]",M$="[object Uint32Array]",Je={};Je[T$]=Je[I$]=Je[$$]=Je[P$]=Je[k$]=Je[A$]=Je[O$]=Je[x$]=Je[M$]=!0;Je[d$]=Je[f$]=Je[S$]=Je[h$]=Je[D$]=Je[p$]=Je[m$]=Je[v$]=Je[_$]=Je[g$]=Je[y$]=Je[b$]=Je[w$]=Je[C$]=Je[E$]=!1;function R$(t){return u$(t)&&c$(t.length)&&!!Je[l$(t)]}var N$=R$,L$=N$,F$=w_,Fh=ro,Yh=Fh&&Fh.isTypedArray,Y$=Yh?F$(Yh):L$,md=Y$,B$=r$,W$=dd,H$=wn,j$=zr,U$=fd,V$=md,z$=Object.prototype,G$=z$.hasOwnProperty;function K$(t,e){var n=H$(t),s=!n&&W$(t),r=!n&&!s&&j$(t),i=!n&&!s&&!r&&V$(t),o=n||s||r||i,a=o?B$(t.length,String):[],l=a.length;for(var c in t)(e||G$.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||U$(c,l)))&&a.push(c);return a}var D_=K$,q$=Object.prototype;function Q$(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||q$;return t===n}var vd=Q$;function Z$(t,e){return function(n){return t(e(n))}}var T_=Z$,J$=T_,X$=J$(Object.keys,Object),eP=X$,tP=vd,nP=eP,sP=Object.prototype,rP=sP.hasOwnProperty;function iP(t){if(!tP(t))return nP(t);var e=[];for(var n in Object(t))rP.call(t,n)&&n!="constructor"&&e.push(n);return e}var oP=iP,aP=_r,lP=hd;function cP(t){return t!=null&&lP(t.length)&&!aP(t)}var Io=cP,uP=D_,dP=oP,fP=Io;function hP(t){return fP(t)?uP(t):dP(t)}var _d=hP,pP=zI,mP=n$,vP=_d;function _P(t){return pP(t,vP,mP)}var gP=_P,Bh=gP,yP=1,bP=Object.prototype,wP=bP.hasOwnProperty;function CP(t,e,n,s,r,i){var o=n&yP,a=Bh(t),l=a.length,c=Bh(e),u=c.length;if(l!=u&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in e:wP.call(e,f)))return!1}var h=i.get(t),v=i.get(e);if(h&&v)return h==e&&v==t;var y=!0;i.set(t,e),i.set(e,t);for(var w=o;++d<l;){f=a[d];var b=t[f],A=e[f];if(s)var N=o?s(A,b,f,e,t,i):s(b,A,f,t,e,i);if(!(N===void 0?b===A||r(b,A,n,s,i):N)){y=!1;break}w||(w=f=="constructor")}if(y&&!w){var P=t.constructor,O=e.constructor;P!=O&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(y=!1)}return i.delete(t),i.delete(e),y}var EP=CP,SP=gr,DP=Rn,TP=SP(DP,"DataView"),IP=TP,$P=gr,PP=Rn,kP=$P(PP,"Promise"),AP=kP,OP=gr,xP=Rn,MP=OP(xP,"Set"),RP=MP,NP=gr,LP=Rn,FP=NP(LP,"WeakMap"),YP=FP,jc=IP,Uc=ld,Vc=AP,zc=RP,Gc=YP,I_=Nn,ui=p_,Wh="[object Map]",BP="[object Object]",Hh="[object Promise]",jh="[object Set]",Uh="[object WeakMap]",Vh="[object DataView]",WP=ui(jc),HP=ui(Uc),jP=ui(Vc),UP=ui(zc),VP=ui(Gc),Ks=I_;(jc&&Ks(new jc(new ArrayBuffer(1)))!=Vh||Uc&&Ks(new Uc)!=Wh||Vc&&Ks(Vc.resolve())!=Hh||zc&&Ks(new zc)!=jh||Gc&&Ks(new Gc)!=Uh)&&(Ks=function(t){var e=I_(t),n=e==BP?t.constructor:void 0,s=n?ui(n):"";if(s)switch(s){case WP:return Vh;case HP:return Wh;case jP:return Hh;case UP:return jh;case VP:return Uh}return e});var zP=Ks,ic=pd,GP=E_,KP=BI,qP=EP,zh=zP,Gh=wn,Kh=zr,QP=md,ZP=1,qh="[object Arguments]",Qh="[object Array]",Ko="[object Object]",JP=Object.prototype,Zh=JP.hasOwnProperty;function XP(t,e,n,s,r,i){var o=Gh(t),a=Gh(e),l=o?Qh:zh(t),c=a?Qh:zh(e);l=l==qh?Ko:l,c=c==qh?Ko:c;var u=l==Ko,d=c==Ko,f=l==c;if(f&&Kh(t)){if(!Kh(e))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new ic),o||QP(t)?GP(t,e,n,s,r,i):KP(t,e,l,n,s,r,i);if(!(n&ZP)){var h=u&&Zh.call(t,"__wrapped__"),v=d&&Zh.call(e,"__wrapped__");if(h||v){var y=h?t.value():t,w=v?e.value():e;return i||(i=new ic),r(y,w,n,s,i)}}return f?(i||(i=new ic),qP(t,e,n,s,r,i)):!1}var ek=XP,tk=ek,Jh=Cn;function $_(t,e,n,s,r){return t===e?!0:t==null||e==null||!Jh(t)&&!Jh(e)?t!==t&&e!==e:tk(t,e,n,s,$_,r)}var P_=$_,nk=pd,sk=P_,rk=1,ik=2;function ok(t,e,n,s){var r=n.length,i=r,o=!s;if(t==null)return!i;for(t=Object(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=n[r];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new nk;if(s)var f=s(c,u,l,t,e,d);if(!(f===void 0?sk(u,c,rk|ik,s,d):f))return!1}}return!0}var ak=ok,lk=ts;function ck(t){return t===t&&!lk(t)}var k_=ck,uk=k_,dk=_d;function fk(t){for(var e=dk(t),n=e.length;n--;){var s=e[n],r=t[s];e[n]=[s,r,uk(r)]}return e}var hk=fk;function pk(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var A_=pk,mk=ak,vk=hk,_k=A_;function gk(t){var e=vk(t);return e.length==1&&e[0][2]?_k(e[0][0],e[0][1]):function(n){return n===t||mk(n,t,e)}}var yk=gk,bk=__,wk=pl;function Ck(t,e){e=bk(e,t);for(var n=0,s=e.length;t!=null&&n<s;)t=t[wk(e[n++])];return n&&n==s?t:void 0}var O_=Ck,Ek=O_;function Sk(t,e,n){var s=t==null?void 0:Ek(t,e);return s===void 0?n:s}var er=Sk;function Dk(t,e){return t!=null&&e in Object(t)}var Tk=Dk,Ik=Tk,$k=y_;function Pk(t,e){return t!=null&&$k(t,e,Ik)}var kk=Pk,Ak=P_,Ok=er,xk=kk,Mk=ad,Rk=k_,Nk=A_,Lk=pl,Fk=1,Yk=2;function Bk(t,e){return Mk(t)&&Rk(e)?Nk(Lk(t),e):function(n){var s=Ok(n,t);return s===void 0&&s===e?xk(n,t):Ak(e,s,Fk|Yk)}}var Wk=Bk;function Hk(t){return t}var gd=Hk;function jk(t){return function(e){return e==null?void 0:e[t]}}var Uk=jk,Vk=O_;function zk(t){return function(e){return Vk(e,t)}}var Gk=zk,Kk=Uk,qk=Gk,Qk=ad,Zk=pl;function Jk(t){return Qk(t)?Kk(Zk(t)):qk(t)}var Xk=Jk,eA=yk,tA=Wk,nA=gd,sA=wn,rA=Xk;function iA(t){return typeof t=="function"?t:t==null?nA:typeof t=="object"?sA(t)?tA(t[0],t[1]):eA(t):rA(t)}var x_=iA;function oA(t){return function(e,n,s){for(var r=-1,i=Object(e),o=s(e),a=o.length;a--;){var l=o[t?a:++r];if(n(i[l],l,i)===!1)break}return e}}var aA=oA,lA=aA,cA=lA(),M_=cA,uA=M_,dA=_d;function fA(t,e){return t&&uA(t,e,dA)}var R_=fA,hA=Io;function pA(t,e){return function(n,s){if(n==null)return n;if(!hA(n))return t(n,s);for(var r=n.length,i=e?r:-1,o=Object(n);(e?i--:++i<r)&&s(o[i],i,o)!==!1;);return n}}var mA=pA,vA=R_,_A=mA,gA=_A(vA),yA=gA,bA=yA;function wA(t,e){var n;return bA(t,function(s,r,i){return n=e(s,r,i),!n}),!!n}var CA=wA,EA=oi,SA=Io,DA=fd,TA=ts;function IA(t,e,n){if(!TA(n))return!1;var s=typeof e;return(s=="number"?SA(n)&&DA(e,n.length):s=="string"&&e in n)?EA(n[e],t):!1}var yd=IA,$A=C_,PA=x_,kA=CA,AA=wn,OA=yd;function xA(t,e,n){var s=AA(t)?$A:kA;return n&&OA(t,e,n)&&(e=void 0),s(t,PA(e))}var MA=xA,RA=Nn,NA=Cn,LA="[object Boolean]";function FA(t){return t===!0||t===!1||NA(t)&&RA(t)==LA}var YA=FA,BA=Nn,WA=Cn,HA="[object Number]";function jA(t){return typeof t=="number"||WA(t)&&BA(t)==HA}var yn=jA,UA=gr,VA=function(){try{var t=UA(Object,"defineProperty");return t({},"",{}),t}catch{}}(),N_=VA,Xh=N_;function zA(t,e,n){e=="__proto__"&&Xh?Xh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ml=zA,GA=ml,KA=oi,qA=Object.prototype,QA=qA.hasOwnProperty;function ZA(t,e,n){var s=t[e];(!(QA.call(t,e)&&KA(s,n))||n===void 0&&!(e in t))&&GA(t,e,n)}var JA=ZA,XA=ml,eO=R_,tO=x_;function nO(t,e){var n={};return e=tO(e),eO(t,function(s,r,i){XA(n,r,e(s,r,i))}),n}var sO=nO;function rO(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var L_=rO,iO=L_,ep=Math.max;function oO(t,e,n){return e=ep(e===void 0?t.length-1:e,0),function(){for(var s=arguments,r=-1,i=ep(s.length-e,0),o=Array(i);++r<i;)o[r]=s[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=s[r];return a[e]=n(o),iO(t,this,a)}}var aO=oO;function lO(t){return function(){return t}}var cO=lO,uO=cO,tp=N_,dO=gd,fO=tp?function(t,e){return tp(t,"toString",{configurable:!0,enumerable:!1,value:uO(e),writable:!0})}:dO,hO=fO,pO=800,mO=16,vO=Date.now;function _O(t){var e=0,n=0;return function(){var s=vO(),r=mO-(s-n);if(n=s,r>0){if(++e>=pO)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var gO=_O,yO=hO,bO=gO,wO=bO(yO),CO=wO,EO=gd,SO=aO,DO=CO;function TO(t,e){return DO(SO(t,e,EO),t+"")}var bd=TO;function IO(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var $O=IO,PO=ts,kO=vd,AO=$O,OO=Object.prototype,xO=OO.hasOwnProperty;function MO(t){if(!PO(t))return AO(t);var e=kO(t),n=[];for(var s in t)s=="constructor"&&(e||!xO.call(t,s))||n.push(s);return n}var RO=MO,NO=D_,LO=RO,FO=Io;function YO(t){return FO(t)?NO(t,!0):LO(t)}var wd=YO,BO=bd,WO=oi,HO=yd,jO=wd,F_=Object.prototype,UO=F_.hasOwnProperty,VO=BO(function(t,e){t=Object(t);var n=-1,s=e.length,r=s>2?e[2]:void 0;for(r&&HO(e[0],e[1],r)&&(s=1);++n<s;)for(var i=e[n],o=jO(i),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||WO(u,F_[c])&&!UO.call(t,c))&&(t[c]=i[c])}return t}),np=VO,zO=ml,GO=oi;function KO(t,e,n){(n!==void 0&&!GO(t[e],n)||n===void 0&&!(e in t))&&zO(t,e,n)}var Y_=KO,ba={},qO={get exports(){return ba},set exports(t){ba=t}};(function(t,e){var n=Rn,s=e&&!e.nodeType&&e,r=s&&!0&&t&&!t.nodeType&&t,i=r&&r.exports===s,o=i?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}t.exports=l})(qO,ba);var sp=S_;function QO(t){var e=new t.constructor(t.byteLength);return new sp(e).set(new sp(t)),e}var ZO=QO,JO=ZO;function XO(t,e){var n=e?JO(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var ex=XO;function tx(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var nx=tx,sx=ts,rp=Object.create,rx=function(){function t(){}return function(e){if(!sx(e))return{};if(rp)return rp(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ix=rx,ox=T_,ax=ox(Object.getPrototypeOf,Object),B_=ax,lx=ix,cx=B_,ux=vd;function dx(t){return typeof t.constructor=="function"&&!ux(t)?lx(cx(t)):{}}var fx=dx,hx=Io,px=Cn;function mx(t){return px(t)&&hx(t)}var vx=mx,_x=Nn,gx=B_,yx=Cn,bx="[object Object]",wx=Function.prototype,Cx=Object.prototype,W_=wx.toString,Ex=Cx.hasOwnProperty,Sx=W_.call(Object);function Dx(t){if(!yx(t)||_x(t)!=bx)return!1;var e=gx(t);if(e===null)return!0;var n=Ex.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&W_.call(n)==Sx}var Tx=Dx;function Ix(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var H_=Ix,$x=JA,Px=ml;function kx(t,e,n,s){var r=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],l=s?s(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),r?Px(n,a,l):$x(n,a,l)}return n}var Ax=kx,Ox=Ax,xx=wd;function Mx(t){return Ox(t,xx(t))}var Rx=Mx,ip=Y_,Nx=ba,Lx=ex,Fx=nx,Yx=fx,op=dd,ap=wn,Bx=vx,Wx=zr,Hx=_r,jx=ts,Ux=Tx,Vx=md,lp=H_,zx=Rx;function Gx(t,e,n,s,r,i,o){var a=lp(t,n),l=lp(e,n),c=o.get(l);if(c){ip(t,n,c);return}var u=i?i(a,l,n+"",t,e,o):void 0,d=u===void 0;if(d){var f=ap(l),h=!f&&Wx(l),v=!f&&!h&&Vx(l);u=l,f||h||v?ap(a)?u=a:Bx(a)?u=Fx(a):h?(d=!1,u=Nx(l,!0)):v?(d=!1,u=Lx(l,!0)):u=[]:Ux(l)||op(l)?(u=a,op(a)?u=zx(a):(!jx(a)||Hx(a))&&(u=Yx(l))):d=!1}d&&(o.set(l,u),r(u,l,s,i,o),o.delete(l)),ip(t,n,u)}var Kx=Gx,qx=pd,Qx=Y_,Zx=M_,Jx=Kx,Xx=ts,eM=wd,tM=H_;function j_(t,e,n,s,r){t!==e&&Zx(e,function(i,o){if(r||(r=new qx),Xx(i))Jx(t,e,o,n,j_,s,r);else{var a=s?s(tM(t,o),i,o+"",t,e,r):void 0;a===void 0&&(a=i),Qx(t,o,a)}},eM)}var U_=j_,nM=U_,cp=ts;function V_(t,e,n,s,r,i){return cp(t)&&cp(e)&&(i.set(e,t),nM(t,e,void 0,V_,i),i.delete(e)),t}var sM=V_,rM=bd,iM=yd;function oM(t){return rM(function(e,n){var s=-1,r=n.length,i=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(r--,i):void 0,o&&iM(n[0],n[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++s<r;){var a=n[s];a&&t(e,a,s,i)}return e})}var aM=oM,lM=U_,cM=aM,uM=cM(function(t,e,n,s){lM(t,e,n,s)}),dM=uM,fM=L_,hM=bd,pM=sM,mM=dM,vM=hM(function(t){return t.push(void 0,pM),fM(mM,void 0,t)}),Gr=vM;function _M(t){return t&&t.length?t[0]:void 0}var z_=_M;function gM(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Pr=gM;const yM=t=>Object.prototype.toString.call(t).slice(8,-1),Mr=t=>DT(t)&&!isNaN(t.getTime()),qn=t=>yM(t)==="Object",G_=b_,up=(t,e)=>MA(e,n=>b_(t,n)),Ye=(t,e,n="0")=>{for(t=t!=null?String(t):"",e=e||2;t.length<e;)t=`${n}${t}`;return t},un=t=>Array.isArray(t),Wn=t=>un(t)&&t.length>0,wa=t=>t==null?null:document&&In(t)?document.querySelector(t):t.$el??t,ms=(t,e,n,s=void 0)=>{t.removeEventListener(e,n,s)},vs=(t,e,n,s=void 0)=>(t.addEventListener(e,n,s),()=>ms(t,e,n,s)),oa=(t,e)=>!!t&&!!e&&(t===e||t.contains(e)),qo=(t,e)=>{(t.key===" "||t.key==="Enter")&&(e(t),t.preventDefault())},K_=(t,...e)=>{const n={};let s;for(s in t)e.includes(s)||(n[s]=t[s]);return n},q_=(t,e)=>{const n={};return e.forEach(s=>{s in t&&(n[s]=t[s])}),n};function bM(t,e,n){return Math.min(Math.max(t,e),n)}var Ca={},wM={get exports(){return Ca},set exports(t){Ca=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(s){if(s===null||s===!0||s===!1)return NaN;var r=Number(s);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}t.exports=e.default})(wM,Ca);const CM=d_(Ca);var Ea={},EM={get exports(){return Ea},set exports(t){Ea=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(s){var r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),s.getTime()-r.getTime()}t.exports=e.default})(EM,Ea);const dp=d_(Ea);function SM(t,e){var n=$M(e);return n.formatToParts?TM(n,t):IM(n,t)}var DM={year:0,month:1,day:2,hour:3,minute:4,second:5};function TM(t,e){try{for(var n=t.formatToParts(e),s=[],r=0;r<n.length;r++){var i=DM[n[r].type];i>=0&&(s[i]=parseInt(n[r].value,10))}return s}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function IM(t,e){var n=t.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[s[3],s[1],s[2],s[4],s[5],s[6]]}var oc={};function $M(t){if(!oc[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";oc[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return oc[t]}function Q_(t,e,n,s,r,i,o){var a=new Date(0);return a.setUTCFullYear(t,e,n),a.setUTCHours(s,r,i,o),a}var fp=36e5,PM=6e4,ac={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function kM(t,e,n){var s,r;if(!t||(s=ac.timezoneZ.exec(t),s))return 0;var i;if(s=ac.timezoneHH.exec(t),s)return i=parseInt(s[1],10),hp(i)?-(i*fp):NaN;if(s=ac.timezoneHHMM.exec(t),s){i=parseInt(s[1],10);var o=parseInt(s[2],10);return hp(i,o)?(r=Math.abs(i)*fp+o*PM,i>0?-r:r):NaN}if(xM(t)){e=new Date(e||Date.now());var a=n?e:AM(e),l=Kc(a,t),c=n?l:OM(e,l,t);return-c}return NaN}function AM(t){return Q_(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Kc(t,e){var n=SM(t,e),s=Q_(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=t.getTime(),i=r%1e3;return r-=i>=0?i:1e3+i,s-r}function OM(t,e,n){var s=t.getTime(),r=s-e,i=Kc(new Date(r),n);if(e===i)return e;r-=i-e;var o=Kc(new Date(r),n);return i===o?i:Math.max(i,o)}function hp(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var pp={};function xM(t){if(pp[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),pp[t]=!0,!0}catch{return!1}}var MM=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const RM=MM;var lc=36e5,mp=6e4,NM=2,Ot={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:RM};function LM(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},s=n.additionalDigits==null?NM:CM(n.additionalDigits);if(s!==2&&s!==1&&s!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var r=FM(t),i=YM(r.date,s),o=i.year,a=i.restDateString,l=BM(a,o);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),u=0,d;if(r.time&&(u=WM(r.time),isNaN(u)))return new Date(NaN);if(r.timeZone||n.timeZone){if(d=kM(r.timeZone||n.timeZone,new Date(c+u)),isNaN(d))return new Date(NaN)}else d=dp(new Date(c+u)),d=dp(new Date(c+u+d));return new Date(c+u+d)}else return new Date(NaN)}function FM(t){var e={},n=Ot.dateTimePattern.exec(t),s;if(n?(e.date=n[1],s=n[3]):(n=Ot.datePattern.exec(t),n?(e.date=n[1],s=n[2]):(e.date=null,s=t)),s){var r=Ot.timeZone.exec(s);r?(e.time=s.replace(r[1],""),e.timeZone=r[1].trim()):e.time=s}return e}function YM(t,e){var n=Ot.YYY[e],s=Ot.YYYYY[e],r;if(r=Ot.YYYY.exec(t)||s.exec(t),r){var i=r[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(r=Ot.YY.exec(t)||n.exec(t),r){var o=r[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function BM(t,e){if(e===null)return null;var n,s,r,i;if(t.length===0)return s=new Date(0),s.setUTCFullYear(e),s;if(n=Ot.MM.exec(t),n)return s=new Date(0),r=parseInt(n[1],10)-1,_p(e,r)?(s.setUTCFullYear(e,r),s):new Date(NaN);if(n=Ot.DDD.exec(t),n){s=new Date(0);var o=parseInt(n[1],10);return UM(e,o)?(s.setUTCFullYear(e,0,o),s):new Date(NaN)}if(n=Ot.MMDD.exec(t),n){s=new Date(0),r=parseInt(n[1],10)-1;var a=parseInt(n[2],10);return _p(e,r,a)?(s.setUTCFullYear(e,r,a),s):new Date(NaN)}if(n=Ot.Www.exec(t),n)return i=parseInt(n[1],10)-1,gp(e,i)?vp(e,i):new Date(NaN);if(n=Ot.WwwD.exec(t),n){i=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return gp(e,i,l)?vp(e,i,l):new Date(NaN)}return null}function WM(t){var e,n,s;if(e=Ot.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),cc(n)?n%24*lc:NaN;if(e=Ot.HHMM.exec(t),e)return n=parseInt(e[1],10),s=parseFloat(e[2].replace(",",".")),cc(n,s)?n%24*lc+s*mp:NaN;if(e=Ot.HHMMSS.exec(t),e){n=parseInt(e[1],10),s=parseInt(e[2],10);var r=parseFloat(e[3].replace(",","."));return cc(n,s,r)?n%24*lc+s*mp+r*1e3:NaN}return null}function vp(t,e,n){e=e||0,n=n||0;var s=new Date(0);s.setUTCFullYear(t,0,4);var r=s.getUTCDay()||7,i=e*7+n+1-r;return s.setUTCDate(s.getUTCDate()+i),s}var HM=[31,28,31,30,31,30,31,31,30,31,30,31],jM=[31,29,31,30,31,30,31,31,30,31,30,31];function Z_(t){return t%400===0||t%4===0&&t%100!==0}function _p(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var s=Z_(t);if(s&&n>jM[e]||!s&&n>HM[e])return!1}return!0}function UM(t,e){if(e<1)return!1;var n=Z_(t);return!(n&&e>366||!n&&e>365)}function gp(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function cc(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function It(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function aa(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?aa=function(n){return typeof n}:aa=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},aa(t)}function ns(t){It(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||aa(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function di(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}var VM={};function Cd(){return VM}function ar(t,e){var n,s,r,i,o,a,l,c;It(1,arguments);var u=Cd(),d=di((n=(s=(r=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ns(t),h=f.getDay(),v=(h<d?7:0)+h-d;return f.setDate(f.getDate()-v),f.setHours(0,0,0,0),f}function yp(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var zM=6048e5;function GM(t,e,n){It(2,arguments);var s=ar(t,n),r=ar(e,n),i=s.getTime()-yp(s),o=r.getTime()-yp(r);return Math.round((i-o)/zM)}function KM(t){It(1,arguments);var e=ns(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function qM(t){It(1,arguments);var e=ns(t);return e.setDate(1),e.setHours(0,0,0,0),e}function QM(t,e){return It(1,arguments),GM(KM(t),qM(t),e)+1}function ZM(t,e){var n,s,r,i,o,a,l,c;It(1,arguments);var u=ns(t),d=u.getFullYear(),f=Cd(),h=di((n=(s=(r=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:f.firstWeekContainsDate)!==null&&s!==void 0?s:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(d+1,0,h),v.setHours(0,0,0,0);var y=ar(v,e),w=new Date(0);w.setFullYear(d,0,h),w.setHours(0,0,0,0);var b=ar(w,e);return u.getTime()>=y.getTime()?d+1:u.getTime()>=b.getTime()?d:d-1}function JM(t,e){var n,s,r,i,o,a,l,c;It(1,arguments);var u=Cd(),d=di((n=(s=(r=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=ZM(t,e),h=new Date(0);h.setFullYear(f,0,d),h.setHours(0,0,0,0);var v=ar(h,e);return v}var XM=6048e5;function eR(t,e){It(1,arguments);var n=ns(t),s=ar(n,e).getTime()-JM(n,e).getTime();return Math.round(s/XM)+1}function Sa(t){return It(1,arguments),ar(t,{weekStartsOn:1})}function tR(t){It(1,arguments);var e=ns(t),n=e.getFullYear(),s=new Date(0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);var r=Sa(s),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var o=Sa(i);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function nR(t){It(1,arguments);var e=tR(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var s=Sa(n);return s}var sR=6048e5;function rR(t){It(1,arguments);var e=ns(t),n=Sa(e).getTime()-nR(e).getTime();return Math.round(n/sR)+1}function At(t,e){It(2,arguments);var n=ns(t),s=di(e);return isNaN(s)?new Date(NaN):(s&&n.setDate(n.getDate()+s),n)}function Da(t,e){It(2,arguments);var n=ns(t),s=di(e);if(isNaN(s))return new Date(NaN);if(!s)return n;var r=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+s+1,0);var o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function bp(t,e){It(2,arguments);var n=di(e);return Da(t,n*12)}const iR={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function oR({monthComps:t,prevMonthComps:e,nextMonthComps:n},s){const r=[],{firstDayOfWeek:i,firstWeekday:o,isoWeeknumbers:a,weeknumbers:l,numDays:c,numWeeks:u}=t,d=o+(o<i?Ct:0)-i;let f=!0,h=!1,v=!1,y=0;const w=new Intl.DateTimeFormat(s.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let b=e.numDays-d+1,A=e.numDays-b+1,N=Math.floor((b-1)/Ct+1),P=1,O=e.numWeeks,Y=1,V=e.month,k=e.year;const H=new Date,Z=H.getDate(),ie=H.getMonth()+1,I=H.getFullYear();for(let Q=1;Q<=XR;Q++){for(let me=1,ne=i;me<=Ct;me++,ne+=ne===Ct?1-Ct:1){f&&ne===o&&(b=1,A=t.numDays,N=Math.floor((b-1)/Ct+1),P=Math.floor((c-b)/Ct+1),O=1,Y=u,V=t.month,k=t.year,f=!1,h=!0);const re=s.getDateFromParams(k,V,b,0,0,0,0),le=s.getDateFromParams(k,V,b,12,0,0,0),fe=s.getDateFromParams(k,V,b,23,59,59,999),Ae=re,W=`${Ye(k,4)}-${Ye(V,2)}-${Ye(b,2)}`,ve=me,te=Ct-me,We=l[Q-1],$e=a[Q-1],Ze=b===Z&&V===ie&&k===I,Oe=h&&b===1,E=h&&b===c,K=Q===1,G=Q===u,se=me===1,ye=me===Ct,Pe=cg(k,V,b);r.push({locale:s,id:W,position:++y,label:b.toString(),ariaLabel:w.format(new Date(k,V-1,b)),day:b,dayFromEnd:A,weekday:ne,weekdayPosition:ve,weekdayPositionFromEnd:te,weekdayOrdinal:N,weekdayOrdinalFromEnd:P,week:O,weekFromEnd:Y,weekPosition:Q,weeknumber:We,isoWeeknumber:$e,month:V,year:k,date:Ae,startDate:re,endDate:fe,noonDate:le,dayIndex:Pe,isToday:Ze,isFirstDay:Oe,isLastDay:E,isDisabled:!h,isFocusable:!h,isFocused:!1,inMonth:h,inPrevMonth:f,inNextMonth:v,onTop:K,onBottom:G,onLeft:se,onRight:ye,classes:[`id-${W}`,`day-${b}`,`day-from-end-${A}`,`weekday-${ne}`,`weekday-position-${ve}`,`weekday-ordinal-${N}`,`weekday-ordinal-from-end-${P}`,`week-${O}`,`week-from-end-${Y}`,{"is-today":Ze,"is-first-day":Oe,"is-last-day":E,"in-month":h,"in-prev-month":f,"in-next-month":v,"on-top":K,"on-bottom":G,"on-left":se,"on-right":ye}]}),h&&E?(h=!1,v=!0,b=1,A=c,N=1,P=Math.floor((c-b)/Ct+1),O=1,Y=n.numWeeks,V=n.month,k=n.year):(b++,A--,N=Math.floor((b-1)/Ct+1),P=Math.floor((c-b)/Ct+1))}O++,Y--}return r}function aR(t,e,n,s){const r=t.reduce((i,o,a)=>{const l=Math.floor(a/7);let c=i[l];return c||(c={id:`week-${l+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:e?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},i[l]=c),c.days.push(o),i},Array(t.length/Ct));return r.forEach(i=>{const o=i.days[0],a=i.days[i.days.length-1];o.month===a.month?i.title=`${s.formatDate(o.date,"MMMM YYYY")}`:o.year===a.year?i.title=`${s.formatDate(o.date,"MMM")} - ${s.formatDate(a.date,"MMM YYYY")}`:i.title=`${s.formatDate(o.date,"MMM YYYY")} - ${s.formatDate(a.date,"MMM YYYY")}`}),r}function lR(t,e){return t.days.map(n=>({label:e.formatDate(n.date,e.masks.weekdays),weekday:n.weekday}))}function cR(t,e){return`${e}.${Ye(t,2)}`}function J_(t,e,n){return q_(n.getDateParts(n.toDate(t)),iR[e])}function X_({day:t,week:e,month:n,year:s},r,i,o){if(i==="daily"&&t){const a=new Date(s,n-1,t),l=At(a,r);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(i==="weekly"&&e){const l=o.getMonthParts(n,s).firstDayOfMonth,c=At(l,(e-1+r)*7),u=o.getDateParts(c);return{week:u.week,month:u.month,year:u.year}}else{const a=new Date(s,n-1,1),l=Da(a,r);return{month:l.getMonth()+1,year:l.getFullYear()}}}function $n(t){return t!=null&&t.month!=null&&t.year!=null}function qc(t,e){return!$n(t)||!$n(e)?!1:(t=t,e=e,t.year!==e.year?t.year<e.year:t.month&&e.month&&t.month!==e.month?t.month<e.month:t.week&&e.week&&t.week!==e.week?t.week<e.week:t.day&&e.day&&t.day!==e.day?t.day<e.day:!1)}function Ta(t,e){return!$n(t)||!$n(e)?!1:(t=t,e=e,t.year!==e.year?t.year>e.year:t.month&&e.month&&t.month!==e.month?t.month>e.month:t.week&&e.week&&t.week!==e.week?t.week>e.week:t.day&&e.day&&t.day!==e.day?t.day>e.day:!1)}function uR(t,e,n){return(t||!1)&&!qc(t,e)&&!Ta(t,n)}function dR(t,e){return!t&&e||t&&!e?!1:!t&&!e?!0:(t=t,e=e,t.year===e.year&&t.month===e.month&&t.week===e.week&&t.day===e.day)}function fR(t,e,n,s){if(!$n(t)||!$n(e))return[];const r=[];for(;!Ta(t,e);)r.push(t),t=X_(t,1,n,s);return r}function eg(t){const{day:e,week:n,month:s,year:r}=t;let i=`${r}-${Ye(s,2)}`;return n&&(i=`${i}-w${n}`),e&&(i=`${i}-${Ye(e,2)}`),i}function hR(t,e){const{month:n,year:s,showWeeknumbers:r,showIsoWeeknumbers:i}=t,o=new Date(s,n-1,15),a=e.getMonthParts(n,s),l=e.getPrevMonthParts(n,s),c=e.getNextMonthParts(n,s),u=oR({monthComps:a,prevMonthComps:l,nextMonthComps:c},e),d=aR(u,r,i,e),f=lR(d[0],e);return{id:eg(t),month:n,year:s,monthTitle:e.formatDate(o,e.masks.title),shortMonthLabel:e.formatDate(o,"MMM"),monthLabel:e.formatDate(o,"MMMM"),shortYearLabel:s.toString().substring(2),yearLabel:s.toString(),monthComps:a,prevMonthComps:l,nextMonthComps:c,days:u,weeks:d,weekdays:f}}function pR(t,e){const{day:n,week:s,view:r,trimWeeks:i}=t,o={...e,...t,title:"",viewDays:[],viewWeeks:[]};switch(r){case"daily":{let a=o.days.find(c=>c.inMonth);n?a=o.days.find(c=>c.day===n&&c.inMonth)||a:s&&(a=o.days.find(c=>c.week===s&&c.inMonth));const l=o.weeks[a.week-1];o.viewWeeks=[l],o.viewDays=[a],o.week=a.week,o.weekTitle=l.title,o.day=a.day,o.dayTitle=a.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=s||1;const a=o.weeks[o.week-1];o.viewWeeks=[a],o.viewDays=a.days,o.weekTitle=a.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,i?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class wp{constructor(e,n,s){ce(this,"keys",[]),ce(this,"store",{}),this.size=e,this.createKey=n,this.createItem=s}get(...e){const n=this.createKey(...e);return this.store[n]}getOrSet(...e){const n=this.createKey(...e);if(this.store[n])return this.store[n];const s=this.createItem(...e);if(this.keys.length>=this.size){const r=this.keys.shift();r!=null&&delete this.store[r]}return this.keys.push(n),this.store[n]=s,s}}class Rr{constructor(e,n=new Ia){ce(this,"order"),ce(this,"locale"),ce(this,"start",null),ce(this,"end",null),ce(this,"repeat",null);var s;this.locale=n;const{start:r,end:i,span:o,order:a,repeat:l}=e;Mr(r)&&(this.start=n.getDateParts(r)),Mr(i)?this.end=n.getDateParts(i):this.start!=null&&o&&(this.end=n.getDateParts(At(this.start.date,o-1))),this.order=a??0,l&&(this.repeat=new $a({from:(s=this.start)==null?void 0:s.date,...l},{locale:this.locale}))}static fromMany(e,n){return(un(e)?e:[e]).filter(s=>s).map(s=>Rr.from(s,n))}static from(e,n){if(e instanceof Rr)return e;const s={start:null,end:null};return e!=null&&(un(e)?(s.start=e[0]??null,s.end=e[1]??null):qn(e)?Object.assign(s,e):(s.start=e,s.end=e)),s.start!=null&&(s.start=new Date(s.start)),s.end!=null&&(s.end=new Date(s.end)),new Rr(s,n)}get opts(){const{order:e,locale:n}=this;return{order:e,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:n}=this;return e&&n&&e.year===n.year&&e.month===n.month&&e.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var n,s;return((n=this.start)==null?void 0:n.dayIndex)===e.dayIndex||!!((s=this.repeat)!=null&&s.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var n,s;return this.intersectsDayRange(((n=e.start)==null?void 0:n.dayIndex)??-1/0,((s=e.end)==null?void 0:s.dayIndex)??1/0)}intersectsDayRange(e,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<e)}}class mR{constructor(){ce(this,"records",{})}render(e,n,s){var r,i,o,a;let l=null;const c=s[0].dayIndex,u=s[s.length-1].dayIndex;return n.hasRepeat?s.forEach(d=>{var f,h;if(n.startsOnDay(d)){const v=n.daySpan<1/0?n.daySpan:1;l={startDay:d.dayIndex,startTime:((f=n.start)==null?void 0:f.time)??0,endDay:d.dayIndex+v-1,endTime:((h=n.end)==null?void 0:h.time)??la},this.getRangeRecords(e).push(l)}}):n.intersectsDayRange(c,u)&&(l={startDay:((r=n.start)==null?void 0:r.dayIndex)??-1/0,startTime:((i=n.start)==null?void 0:i.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((a=n.end)==null?void 0:a.time)??1/0},this.getRangeRecords(e).push(l)),l}getRangeRecords(e){let n=this.records[e.key];return n||(n={ranges:[],data:e},this.records[e.key]=n),n.ranges}getCell(e,n){return this.getCells(n).find(i=>i.data.key===e)}cellExists(e,n){const s=this.records[e];return s==null?!1:s.ranges.some(r=>r.startDay<=n&&r.endDay>=n)}getCells(e){const n=Object.values(this.records),s=[],{dayIndex:r}=e;return n.forEach(({data:i,ranges:o})=>{o.filter(a=>a.startDay<=r&&a.endDay>=r).forEach(a=>{const l=r===a.startDay,c=r===a.endDay,u=l?a.startTime:0,d=new Date(e.startDate.getTime()+u),f=c?a.endTime:la,h=new Date(e.endDate.getTime()+f),v=u===0&&f===la,y=i.order||0;s.push({...a,data:i,onStart:l,onEnd:c,startTime:u,startDate:d,endTime:f,endDate:h,allDay:v,order:y})})}),s.sort((i,o)=>i.order-o.order),s}}const Qn={ar:{dow:7,L:"D/M/YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYYMD"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Qn.en=Qn["en-US"];Qn.es=Qn["es-ES"];Qn.no=Qn.nb;Qn.zh=Qn["zh-CN"];const vR=Object.entries(Qn).reduce((t,[e,{dow:n,L:s}])=>(t[e]={id:e,firstDayOfWeek:n,masks:{L:s}},t),{}),_R="MMMM YYYY",gR="W",yR="MMM",bR="h A",wR=["L","YYYY-MM-DD","YYYY/MM/DD"],CR=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],ER=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],SR=["h:mm A"],DR=["HH:mm"],TR="WWW, MMM D, YYYY",IR=["L","YYYY-MM-DD","YYYY/MM/DD"],$R="iso",PR="YYYY-MM-DDTHH:mm:ss.SSSZ",kR={title:_R,weekdays:gR,navMonths:yR,hours:bR,input:wR,inputDateTime:CR,inputDateTime24hr:ER,inputTime:SR,inputTime24hr:DR,dayPopover:TR,data:IR,model:$R,iso:PR},AR=300,OR=60,xR=80,MR={maxSwipeTime:AR,minHorizontalSwipeDistance:OR,maxVerticalSwipeDistance:xR},RR={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:MR,masks:kR,locales:vR,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},Nr=Xn(RR),NR=S(()=>sO(Nr.locales,t=>(t.masks=Gr(t.masks,Nr.masks),t))),As=t=>typeof window<"u"&&G_(window.__vcalendar__,t)?er(window.__vcalendar__,t):er(Nr,t),LR=(t,e)=>(t.config.globalProperties.$VCalendar=Nr,Object.assign(Nr,Gr(e,Nr))),FR=12,YR=5;function BR(t,e){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let s;In(t)?s=t:G_(t,"id")&&(s=t.id),s=(s||n).toLowerCase();const r=Object.keys(e),i=l=>r.find(c=>c.toLowerCase()===l);s=i(s)||i(s.substring(0,2))||n;const o={...e["en-IE"],...e[s],id:s,monthCacheSize:FR,pageCacheSize:YR};return qn(t)?Gr(t,o):o}class Ia{constructor(e=void 0,n){ce(this,"id"),ce(this,"daysInWeek"),ce(this,"firstDayOfWeek"),ce(this,"masks"),ce(this,"timezone"),ce(this,"hourLabels"),ce(this,"dayNames"),ce(this,"dayNamesShort"),ce(this,"dayNamesShorter"),ce(this,"dayNamesNarrow"),ce(this,"monthNames"),ce(this,"monthNamesShort"),ce(this,"relativeTimeNames"),ce(this,"amPm",["am","pm"]),ce(this,"monthCache"),ce(this,"pageCache");const{id:s,firstDayOfWeek:r,masks:i,monthCacheSize:o,pageCacheSize:a}=BR(e,NR.value);this.monthCache=new wp(o,lN,cN),this.pageCache=new wp(a,eg,hR),this.id=s,this.daysInWeek=Ct,this.firstDayOfWeek=bM(r,1,Ct),this.masks=i,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=uc("long",this.id),this.dayNamesShort=uc("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=uc("narrow",this.id),this.monthNames=Ip("long",this.id),this.monthNamesShort=Ip("short",this.id),this.relativeTimeNames=fN(this.id)}formatDate(e,n){return _N(e,n,this)}parseDate(e,n){return $p(e,n,this)}toDate(e,n={}){const s=new Date(NaN);let r=s;const{fillDate:i,mask:o,patch:a,rules:l}=n;if(yn(e)?(n.type="number",r=new Date(+e)):In(e)?(n.type="string",r=e?$p(e,o||"iso",this):s):Mr(e)?(n.type="date",r=new Date(e.getTime())):Ed(e)&&(n.type="object",r=this.getDateFromParts(e)),r&&(a||l)){let c=this.getDateParts(r);if(a&&i!=null){const u=this.getDateParts(this.toDate(i));c=this.getDateParts(this.toDate({...u,...q_(c,JR[a])}))}l&&(c=vN(c,l)),r=this.getDateFromParts(c)}return r||s}toDateOrNull(e,n={}){const s=this.toDate(e,n);return isNaN(s.getTime())?null:s}fromDate(e,{type:n,mask:s}={}){switch(n){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,s||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return Rr.from(e,this)}ranges(e){return Rr.fromMany(e,this)}getDateParts(e){return aN(e,this)}getDateFromParts(e){return dg(e,this.timezone)}getDateFromParams(e,n,s,r,i,o,a){return this.getDateFromParts({year:e,month:n,day:s,hours:r,minutes:i,seconds:o,milliseconds:a})}getPage(e){const n=this.pageCache.getOrSet(e,this);return pR(e,n)}getMonthParts(e,n){const{firstDayOfWeek:s}=this;return this.monthCache.getOrSet(e,n,s)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,n){return e===1?this.getMonthParts(12,n-1):this.getMonthParts(e-1,n)}getNextMonthParts(e,n){return e===12?this.getMonthParts(1,n+1):this.getMonthParts(e+1,n)}getHourLabels(){return dN().map(e=>this.formatDate(e,this.masks.hours))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}var Ir=(t=>(t.Any="any",t.All="all",t))(Ir||{}),tg=(t=>(t.Days="days",t.Weeks="weeks",t.Months="months",t.Years="years",t))(tg||{}),ng=(t=>(t.Days="days",t.Weekdays="weekdays",t.Weeks="weeks",t.Months="months",t.Years="years",t))(ng||{}),sg=(t=>(t.OrdinalWeekdays="ordinalWeekdays",t))(sg||{});class WR{constructor(e,n,s){ce(this,"validated",!0),this.type=e,this.interval=n,this.from=s,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:n}=e;switch(this.type){case"days":return Sd(this.from.date,n)%this.interval===0;case"weeks":return iN(this.from.date,n)%this.interval===0;case"months":return oN(this.from.date,n)%this.interval===0;case"years":return ug(this.from.date,n)%this.interval===0;default:return!1}}}class fi{constructor(e,n,s,r){ce(this,"components",[]),this.type=e,this.validator=s,this.getter=r,this.components=this.normalizeComponents(n)}static create(e,n){switch(e){case"days":return new HR(n);case"weekdays":return new jR(n);case"weeks":return new UR(n);case"months":return new VR(n);case"years":return new zR(n)}}normalizeComponents(e){if(this.validator(e))return[e];if(!un(e))return[];const n=[];return e.forEach(s=>{if(!this.validator(s)){console.error(`Component value ${s} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(s)}),n}passes(e){return this.getter(e).some(r=>this.components.includes(r))}}class HR extends fi{constructor(e){super("days",e,qR,({day:n,dayFromEnd:s})=>[n,-s])}}class jR extends fi{constructor(e){super("weekdays",e,Qc,({weekday:n})=>[n])}}class UR extends fi{constructor(e){super("weeks",e,QR,({week:n,weekFromEnd:s})=>[n,-s])}}class VR extends fi{constructor(e){super("months",e,ZR,({month:n})=>[n])}}class zR extends fi{constructor(e){super("years",e,yn,({year:n})=>[n])}}class GR{constructor(e,n){ce(this,"components"),this.type=e,this.components=this.normalizeComponents(n)}normalizeArrayConfig(e){const n=[];return e.forEach((s,r)=>{if(yn(s)){if(r===0)return;if(!Cp(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!Qc(s)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],s])}else un(s)&&n.push(...this.normalizeArrayConfig(s))}),n}normalizeComponents(e){const n=[];return e.forEach((s,r)=>{if(yn(s)){if(r===0)return;if(!Cp(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!Qc(s)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],s])}else un(s)&&n.push(...this.normalizeArrayConfig(s))}),n}passes(e){const{weekday:n,weekdayOrdinal:s,weekdayOrdinalFromEnd:r}=e;return this.components.some(([i,o])=>(i===s||i===-r)&&n===o)}}class KR{constructor(e){ce(this,"type","function"),ce(this,"validated",!0),this.fn=e,_r(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return this.validated?this.fn(e):!0}}class $a{constructor(e,n={},s){ce(this,"validated",!0),ce(this,"config"),ce(this,"type",Ir.Any),ce(this,"from"),ce(this,"until"),ce(this,"rules",[]),ce(this,"locale",new Ia),this.parent=s,n.locale&&(this.locale=n.locale),this.config=e,_r(e)?(this.type=Ir.All,this.rules=[new KR(e)]):un(e)?(this.type=Ir.Any,this.rules=e.map(r=>new $a(r,n,this))):qn(e)?(this.type=Ir.All,this.from=e.from?this.locale.getDateParts(e.from):s==null?void 0:s.from,this.until=e.until?this.locale.getDateParts(e.until):s==null?void 0:s.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const n=[];if(e.every&&(In(e.every)&&(e.every=[1,`${e.every}s`]),un(e.every))){const[s=1,r=tg.Days]=e.every;n.push(new WR(r,s,this.from))}return Object.values(ng).forEach(s=>{s in e&&n.push(fi.create(s,e[s]))}),Object.values(sg).forEach(s=>{s in e&&n.push(new GR(s,e[s]))}),e.on!=null&&(un(e.on)||(e.on=[e.on]),n.push(new $a(e.on,{locale:this.locale},this.parent))),n}passes(e){return this.validated?this.from&&e.dayIndex<=this.from.dayIndex||this.until&&e.dayIndex>=this.until.dayIndex?!1:this.type===Ir.Any?this.rules.some(n=>n.passes(e)):this.rules.every(n=>n.passes(e)):!0}}function qR(t){return yn(t)?t>=1&&t<=31:!1}function Qc(t){return yn(t)?t>=1&&t<=7:!1}function QR(t){return yn(t)?t>=-6&&t<=-1||t>=1&&t<=6:!1}function ZR(t){return yn(t)?t>=1&&t<=12:!1}function Cp(t){return!(!yn(t)||t<-5||t>5||t===0)}const JR={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},Ct=7,XR=6,rg=1e3,ig=rg*60,og=ig*60,la=og*24,eN=[31,28,31,30,31,30,31,31,30,31,30,31],tN=["L","iso"],Oi={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},ag=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,nN=/\[([^]*?)\]/gm,Ep={D(t){return t.day},DD(t){return Ye(t.day,2)},d(t){return t.weekday-1},dd(t){return Ye(t.weekday-1,2)},W(t,e){return e.dayNamesNarrow[t.weekday-1]},WW(t,e){return e.dayNamesShorter[t.weekday-1]},WWW(t,e){return e.dayNamesShort[t.weekday-1]},WWWW(t,e){return e.dayNames[t.weekday-1]},M(t){return t.month},MM(t){return Ye(t.month,2)},MMM(t,e){return e.monthNamesShort[t.month-1]},MMMM(t,e){return e.monthNames[t.month-1]},YY(t){return String(t.year).substr(2)},YYYY(t){return Ye(t.year,4)},h(t){return t.hours%12||12},hh(t){return Ye(t.hours%12||12,2)},H(t){return t.hours},HH(t){return Ye(t.hours,2)},m(t){return t.minutes},mm(t){return Ye(t.minutes,2)},s(t){return t.seconds},ss(t){return Ye(t.seconds,2)},S(t){return Math.round(t.milliseconds/100)},SS(t){return Ye(Math.round(t.milliseconds/10),2)},SSS(t){return Ye(t.milliseconds,3)},a(t,e){return t.hours<12?e.amPm[0]:e.amPm[1]},A(t,e){return t.hours<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Ye(Math.floor(Math.abs(e)/60),2)}`},ZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Ye(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)}`},ZZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${Ye(Math.floor(Math.abs(e)/60),2)}:${Ye(Math.abs(e)%60,2)}`}},os=/\d\d?/,sN=/\d{3}/,rN=/\d{4}/,Si=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Sp=()=>{},Dp=t=>(e,n,s)=>{const r=s[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(e.month=r)},Ve={D:[os,(t,e)=>{t.day=e}],Do:[new RegExp(os.source+Si.source),(t,e)=>{t.day=parseInt(e,10)}],d:[os,Sp],W:[Si,Sp],M:[os,(t,e)=>{t.month=e-1}],MMM:[Si,Dp("monthNamesShort")],MMMM:[Si,Dp("monthNames")],YY:[os,(t,e)=>{const s=+new Date().getFullYear().toString().substr(0,2);t.year=+`${e>68?s-1:s}${e}`}],YYYY:[rN,(t,e)=>{t.year=e}],S:[/\d/,(t,e)=>{t.milliseconds=e*100}],SS:[/\d{2}/,(t,e)=>{t.milliseconds=e*10}],SSS:[sN,(t,e)=>{t.milliseconds=e}],h:[os,(t,e)=>{t.hours=e}],m:[os,(t,e)=>{t.minutes=e}],s:[os,(t,e)=>{t.seconds=e}],a:[Si,(t,e,n)=>{const s=e.toLowerCase();s===n.amPm[0]?t.isPm=!1:s===n.amPm[1]&&(t.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(t,e)=>{e==="Z"&&(e="+00:00");const n=`${e}`.match(/([+-]|\d\d)/gi);if(n){const s=+n[1]*60+parseInt(n[2],10);t.timezoneOffset=n[0]==="+"?s:-s}}]};Ve.DD=Ve.D;Ve.dd=Ve.d;Ve.WWWW=Ve.WWW=Ve.WW=Ve.W;Ve.MM=Ve.M;Ve.mm=Ve.m;Ve.hh=Ve.H=Ve.HH=Ve.h;Ve.ss=Ve.s;Ve.A=Ve.a;Ve.ZZZZ=Ve.ZZZ=Ve.ZZ=Ve.Z;function lg(t,e){return(Wn(t)&&t||[In(t)&&t||"YYYY-MM-DD"]).map(n=>tN.reduce((s,r)=>s.replace(r,e.masks[r]||""),n))}function Ed(t){return qn(t)&&"year"in t&&"month"in t&&"day"in t}function Tp(t,e=1){const n=t.getDay()+1,s=n>=e?e-n:-(7-(e-n));return At(t,s)}function cg(t,e,n){const s=Date.UTC(t,e-1,n);return Sd(new Date(0),new Date(s))}function Sd(t,e){return Math.round((e.getTime()-t.getTime())/la)}function iN(t,e){return Math.ceil(Sd(Tp(t),Tp(e))/7)}function ug(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}function oN(t,e){return ug(t,e)*12+(e.getMonth()-t.getMonth())}function dg(t,e=""){const n=new Date,{year:s=n.getFullYear(),month:r=n.getMonth()+1,day:i=n.getDate(),hours:o=0,minutes:a=0,seconds:l=0,milliseconds:c=0}=t;if(e){const u=`${Ye(s,4)}-${Ye(r,2)}-${Ye(i,2)}T${Ye(o,2)}:${Ye(a,2)}:${Ye(l,2)}.${Ye(c,3)}`;return LM(u,{timeZone:e})}return new Date(s,r-1,i,o,a,l,c)}function aN(t,e){let n=new Date(t.getTime());e.timezone&&(n=new Date(t.toLocaleString("en-US",{timeZone:e.timezone})),n.setMilliseconds(t.getMilliseconds()));const s=n.getMilliseconds(),r=n.getSeconds(),i=n.getMinutes(),o=n.getHours(),a=s+r*rg+i*ig+o*og,l=n.getMonth()+1,c=n.getFullYear(),u=e.getMonthParts(l,c),d=n.getDate(),f=u.numDays-d+1,h=n.getDay()+1,v=Math.floor((d-1)/7+1),y=Math.floor((u.numDays-d)/7+1),w=Math.ceil((d+Math.abs(u.firstWeekday-u.firstDayOfWeek))/7),b=u.numWeeks-w+1,A=u.weeknumbers[w],N=cg(c,l,d);return{milliseconds:s,seconds:r,minutes:i,hours:o,time:a,day:d,dayFromEnd:f,weekday:h,weekdayOrdinal:v,weekdayOrdinalFromEnd:y,week:w,weekFromEnd:b,weeknumber:A,month:l,year:c,date:n,dateTime:n.getTime(),dayIndex:N,timezoneOffset:0,isValid:!0}}function lN(t,e,n){return`${e}-${t}-${n}`}function cN(t,e,n){const s=e%4===0&&e%100!==0||e%400===0,r=new Date(e,t-1,1),i=r.getDay()+1,o=t===2&&s?29:eN[t-1],a=n-1,l=QM(r,{weekStartsOn:a}),c=[],u=[];for(let d=0;d<l;d++){const f=At(r,d*7);c.push(eR(f,{weekStartsOn:a})),u.push(rR(f))}return{firstDayOfWeek:n,firstDayOfMonth:r,inLeapYear:s,firstWeekday:i,numDays:o,numWeeks:l,month:t,year:e,weeknumbers:c,isoWeeknumbers:u}}function uN(){const t=[];for(let r=0;r<Ct;r++)t.push(dg({year:2020,month:1,day:5+r,hours:12}));return t}function uc(t,e=void 0){const n=new Intl.DateTimeFormat(e,{weekday:t});return uN().map(s=>n.format(s))}function dN(){const t=[];for(let e=0;e<=24;e++)t.push(new Date(2e3,0,1,e));return t}function fN(t=void 0){const e=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(t);return e.reduce((s,r)=>{const i=n.formatToParts(100,r);return s[r]=i[1].unit,s},{})}function fg(){const t=[];for(let e=0;e<12;e++)t.push(new Date(2e3,e,15));return t}function Ip(t,e=void 0){const n=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return fg().map(s=>n.format(s))}function hN(t,e,n){return yn(e)?e===t:un(e)?e.includes(t):_r(e)?e(t,n):!(e.min!=null&&e.min>t||e.max!=null&&e.max<t||e.interval!=null&&t%e.interval!==0)}function xi(t,e,n){const s=[],[r,i,o]=e;for(let a=r;a<=i;a++)(n==null||hN(a,n,t))&&s.push({value:a,label:Ye(a,o)});return s}function pN(t,e){return{milliseconds:xi(t,Oi.milliseconds,e.milliseconds),seconds:xi(t,Oi.seconds,e.seconds),minutes:xi(t,Oi.minutes,e.minutes),hours:xi(t,Oi.hours,e.hours)}}function mN(t,e,n,s){const i=xi(t,e,s).reduce((o,a)=>{if(a.disabled)return o;if(isNaN(o))return a.value;const l=Math.abs(o-n);return Math.abs(a.value-n)<l?a.value:o},NaN);return isNaN(i)?n:i}function vN(t,e){const n={...t};return Object.entries(e).forEach(([s,r])=>{const i=Oi[s],o=t[s];n[s]=mN(t,i,o,r)}),n}function $p(t,e,n){return lg(e,n).map(r=>{if(typeof r!="string")throw new Error("Invalid mask");let i=t;if(i.length>1e3)return!1;let o=!0;const a={};if(r.replace(ag,u=>{if(Ve[u]){const d=Ve[u],f=i.search(d[0]);~f?i.replace(d[0],h=>(d[1](a,h,n),i=i.substr(f+h.length),h)):o=!1}return Ve[u]?"":u.slice(1,u.length-1)}),!o)return!1;const l=new Date;a.hours!=null&&(a.isPm===!0&&+a.hours!=12?a.hours=+a.hours+12:a.isPm===!1&&+a.hours==12&&(a.hours=0));let c;return a.timezoneOffset!=null?(a.minutes=+(a.minutes||0)-+a.timezoneOffset,c=new Date(Date.UTC(a.year||l.getFullYear(),a.month||0,a.day||1,a.hours||0,a.minutes||0,a.seconds||0,a.milliseconds||0))):c=n.getDateFromParts({year:a.year||l.getFullYear(),month:(a.month||0)+1,day:a.day||1,hours:a.hours||0,minutes:a.minutes||0,seconds:a.seconds||0,milliseconds:a.milliseconds||0}),c}).find(r=>r)||new Date(t)}function _N(t,e,n){if(t==null)return"";let s=lg(e,n)[0];/Z$/.test(s)&&(n.timezone="utc");const r=[];s=s.replace(nN,(o,a)=>(r.push(a),"??"));const i=n.getDateParts(t);return s=s.replace(ag,o=>o in Ep?Ep[o](i,n):o.slice(1,o.length-1)),s.replace(/\?\?/g,()=>r.shift())}let gN=0;class hg{constructor(e,n,s){ce(this,"key",""),ce(this,"hashcode",""),ce(this,"highlight",null),ce(this,"content",null),ce(this,"dot",null),ce(this,"bar",null),ce(this,"event",null),ce(this,"popover",null),ce(this,"customData",null),ce(this,"ranges"),ce(this,"hasRanges",!1),ce(this,"order",0),ce(this,"pinPage",!1),ce(this,"maxRepeatSpan",0),ce(this,"locale");const{dates:r}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=++gN),this.locale=s,n.normalizeGlyphs(this),this.ranges=s.ranges(r??[]),this.hasRanges=!!Wn(this.ranges),this.maxRepeatSpan=this.ranges.filter(i=>i.hasRepeat).map(i=>i.daySpan).reduce((i,o)=>Math.max(i,o),0)}intersectsRange({start:e,end:n}){if(e==null||n==null)return!1;const s=this.ranges.filter(o=>!o.hasRepeat);for(const o of s)if(o.intersectsDayRange(e.dayIndex,n.dayIndex))return!0;const r=this.ranges.filter(o=>o.hasRepeat);if(!r.length)return!1;let i=e;for(this.maxRepeatSpan>1&&(i=this.locale.getDateParts(At(i.date,-this.maxRepeatSpan)));i.dayIndex<=n.dayIndex;){for(const o of r)if(o.startsOnDay(i))return!0;i=this.locale.getDateParts(At(i.date,1))}return!1}}function Zc(t){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:t}))}function io(t){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:t}))}function pg(t){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:t}))}function mg(t){const{visibility:e}=t,n=e==="click",s=e==="hover",r=e==="hover-focus",i=e==="focus";t.autoHide=!n;let o=!1,a=!1;const l=v=>{n&&(pg({...t,target:t.target||v.currentTarget}),v.stopPropagation())},c=v=>{o||(o=!0,(s||r)&&Zc({...t,target:t.target||v.currentTarget}))},u=()=>{o&&(o=!1,(s||r&&!a)&&io(t))},d=v=>{a||(a=!0,(i||r)&&Zc({...t,target:t.target||v.currentTarget}))},f=v=>{a&&!oa(v.currentTarget,v.relatedTarget)&&(a=!1,(i||r&&!o)&&io(t))},h={};switch(t.visibility){case"click":h.click=l;break;case"hover":h.mousemove=c,h.mouseleave=u;break;case"focus":h.focusin=d,h.focusout=f;break;case"hover-focus":h.mousemove=c,h.mouseleave=u,h.focusin=d,h.focusout=f;break}return h}const Pp=t=>{const e=wa(t);if(e==null)return;const n=e.popoverHandlers;!n||!n.length||(n.forEach(s=>s()),delete e.popoverHandlers)},kp=(t,e)=>{const n=wa(t);if(n==null)return;const s=[],r=mg(e);Object.entries(r).forEach(([i,o])=>{s.push(vs(n,i,o))}),n.popoverHandlers=s},vg={mounted(t,e){const{value:n}=e;n&&kp(t,n)},updated(t,e){const{oldValue:n,value:s}=e,r=n==null?void 0:n.visibility,i=s==null?void 0:s.visibility;r!==i&&(r&&(Pp(t),i||io(n)),i&&kp(t,s))},unmounted(t){Pp(t)}},yN=(t,e,{maxSwipeTime:n,minHorizontalSwipeDistance:s,maxVerticalSwipeDistance:r})=>{if(!t||!t.addEventListener||!_r(e))return null;let i=0,o=0,a=null,l=!1;function c(d){const f=d.changedTouches[0];i=f.screenX,o=f.screenY,a=new Date().getTime(),l=!0}function u(d){if(!l||!a)return;l=!1;const f=d.changedTouches[0],h=f.screenX-i,v=f.screenY-o;if(new Date().getTime()-a<n&&Math.abs(h)>=s&&Math.abs(v)<=r){const w={toLeft:!1,toRight:!1};h<0?w.toLeft=!0:w.toRight=!0,e(w)}}return vs(t,"touchstart",c,{passive:!0}),vs(t,"touchend",u,{passive:!0}),()=>{ms(t,"touchstart",c),ms(t,"touchend",u)}},ca={},bN=(t,e=10)=>{ca[t]=Date.now()+e},wN=(t,e)=>{if(t in ca){const n=ca[t];if(Date.now()<n)return;delete ca[t]}e()};function _g(){return typeof window<"u"}function CN(t){return _g()&&t in window}function EN(t){const e=Ce(!1),n=S(()=>e.value?"dark":"light");let s,r;function i(h){e.value=h.matches}function o(){CN("matchMedia")&&(s=window.matchMedia("(prefers-color-scheme: dark)"),s.addEventListener("change",i),e.value=s.matches)}function a(){const{selector:h=":root",darkClass:v="dark"}=t.value,y=document.querySelector(h);e.value=y.classList.contains(v)}function l(h){const{selector:v=":root",darkClass:y="dark"}=h;if(_g()&&v&&y){const w=document.querySelector(v);w&&(r=new MutationObserver(a),r.observe(w,{attributes:!0,attributeFilter:["class"]}),e.value=w.classList.contains(y))}}function c(){d();const h=typeof t.value;h==="string"&&t.value.toLowerCase()==="system"?o():h==="object"?l(t.value):e.value=!!t.value}const u=ot(()=>t.value,()=>c(),{immediate:!0});function d(){s&&(s.removeEventListener("change",i),s=void 0),r&&(r.disconnect(),r=void 0)}function f(){d(),u()}return Co(()=>f()),{isDark:e,displayMode:n,cleanup:f}}const SN=["base","start","end","startEnd"],DN=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],TN={base:{},start:{},end:{}};function Dd(t,e,n=TN){let s=t,r={};e===!0||In(e)?(s=In(e)?e:s,r={...n}):qn(e)&&(up(e,SN)?r={...e}:r={base:{...e},start:{...e},end:{...e}});const i=Gr(r,{start:r.startEnd,end:r.startEnd},n);return Object.entries(i).forEach(([o,a])=>{let l=s;a===!0||In(a)?(l=In(a)?a:l,i[o]={color:l}):qn(a)&&(up(a,DN)?i[o]={...a}:i[o]={}),Gr(i[o],{color:l})}),i}class IN{constructor(){ce(this,"type","highlight")}normalizeConfig(e,n){return Dd(e,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:n,onEnd:s},r){const{key:i,highlight:o}=e;if(!o)return;const{highlights:a}=r,{base:l,start:c,end:u}=o;n&&s?a.push({...c,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]}):n?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...c,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):s?(a.push({...l,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),a.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):a.push({...l,key:`${i}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class Td{constructor(e,n){ce(this,"type",""),ce(this,"collectionType",""),this.type=e,this.collectionType=n}normalizeConfig(e,n){return Dd(e,n)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:n,onEnd:s},r){const{key:i}=e,o=e[this.type];if(!i||!o)return;const a=r[this.collectionType],{base:l,start:c,end:u}=o;n?a.push({...c,key:i,class:[`vc-${this.type} vc-${this.type}-start vc-${c.color} vc-attr`,c.class]}):s?a.push({...u,key:i,class:[`vc-${this.type} vc-${this.type}-end vc-${u.color} vc-attr`,u.class]}):a.push({...l,key:i,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class $N extends Td{constructor(){super("content","content")}normalizeConfig(e,n){return Dd("base",n)}}class PN extends Td{constructor(){super("dot","dots")}}class kN extends Td{constructor(){super("bar","bars")}}class AN{constructor(e){ce(this,"color"),ce(this,"renderers",[new $N,new IN,new PN,new kN]),this.color=e}normalizeGlyphs(e){this.renderers.forEach(n=>{const s=n.type;e[s]!=null&&(e[s]=n.normalizeConfig(this.color,e[s]))})}prepareRender(e={}){return this.renderers.forEach(n=>{n.prepareRender(e)}),e}render(e,n){this.renderers.forEach(s=>{s.render(e,n)})}}const gg=Symbol("__vc_base_context__"),yg={color:{type:String,default:()=>As("color")},isDark:{type:[Boolean,String,Object],default:()=>As("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function bg(t){const e=S(()=>t.color??""),n=S(()=>t.isDark??!1),{displayMode:s}=EN(n),r=S(()=>new AN(e.value)),i=S(()=>{if(t.locale instanceof Ia)return t.locale;const f=qn(t.locale)?t.locale:{id:t.locale,firstDayOfWeek:t.firstDayOfWeek,masks:t.masks};return new Ia(f,t.timezone)}),o=S(()=>i.value.masks),a=S(()=>t.minDate),l=S(()=>t.maxDate),c=S(()=>{const f=t.disabledDates?[...t.disabledDates]:[];return a.value!=null&&f.push({start:null,end:At(i.value.toDate(a.value),-1)}),l.value!=null&&f.push({start:At(i.value.toDate(l.value),1),end:null}),i.value.ranges(f)}),u=S(()=>new hg({key:"disabled",dates:c.value,order:100},r.value,i.value)),d={color:e,isDark:n,displayMode:s,theme:r,locale:i,masks:o,minDate:a,maxDate:l,disabledDates:c,disabledAttribute:u};return Un(gg,d),d}function ON(t){return Mt(gg,()=>bg(t),!0)}function wg(t){return`__vc_slot_${t}__`}function Cg(t,e={}){Object.keys(t).forEach(n=>{Un(wg(e[n]??n),t[n])})}function Eg(t){return Mt(wg(t),null)}const xN={...yg,view:{type:String,default:"monthly",validator(t){return["daily","weekly","monthly"].includes(t)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>As("titlePosition")},navVisibility:{type:String,default:()=>As("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},MN=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],Sg=Symbol("__vc_calendar_context__");function RN(t,{slots:e,emit:n}){const s=Ce(null),r=Ce(null),i=Ce(new Date().getDate()),o=Ce(!1),a=Ce(Symbol()),l=Ce(Symbol()),c=Ce(t.view),u=Ce([]),d=Ce("");let f=null,h=null;Cg(e);const{theme:v,color:y,displayMode:w,locale:b,masks:A,minDate:N,maxDate:P,disabledAttribute:O,disabledDates:Y}=ON(t),V=S(()=>t.rows*t.columns),k=S(()=>t.step||V.value),H=S(()=>z_(u.value)??null),Z=S(()=>Pr(u.value)??null),ie=S(()=>t.minPage||(N.value?te(N.value):null)),I=S(()=>t.maxPage||(P.value?te(P.value):null)),Q=S(()=>t.navVisibility),me=S(()=>!!t.showWeeknumbers),ne=S(()=>!!t.showIsoWeeknumbers),re=S(()=>c.value==="monthly"),le=S(()=>c.value==="weekly"),fe=S(()=>c.value==="daily"),Ae=()=>{o.value=!0,n("transition-start")},W=()=>{o.value=!1,n("transition-end"),f&&(f.resolve(!0),f=null)},ve=(x,_,M=c.value)=>X_(x,_,M,b.value),te=x=>J_(x,c.value,b.value),We=x=>{!O.value||!G.value||(x.isDisabled=G.value.cellExists(O.value.key,x.dayIndex))},$e=x=>{x.isFocusable=x.inMonth&&x.day===i.value},Ze=(x,_)=>{for(const M of x)for(const X of M.days)if(_(X)===!1)return},Oe=S(()=>u.value.reduce((x,_)=>(x.push(..._.viewDays),x),[])),E=S(()=>{const x=[];return(t.attributes||[]).forEach((_,M)=>{!_||!_.dates||x.push(new hg({..._,order:_.order||0},v.value,b.value))}),O.value&&x.push(O.value),x}),K=S(()=>Wn(E.value)),G=S(()=>{const x=new mR;return E.value.forEach(_=>{_.ranges.forEach(M=>{x.render(_,M,Oe.value)})}),x}),se=S(()=>Oe.value.reduce((x,_)=>(x[_.dayIndex]={day:_,cells:[]},x[_.dayIndex].cells.push(...G.value.getCells(_)),x),{})),ye=(x,_)=>{const M=t.showWeeknumbers||t.showIsoWeeknumbers;return M==null?"":YA(M)?M?"left":"":M.startsWith("right")?_>1?"right":M:x>1?"left":M},Pe=()=>{var x,_;if(!K.value)return null;const M=E.value.find(st=>st.pinPage)||E.value[0];if(!M||!M.hasRanges)return null;const[X]=M.ranges,be=((x=X.start)==null?void 0:x.date)||((_=X.end)==null?void 0:_.date);return be?te(be):null},p=()=>{if($n(H.value))return H.value;const x=Pe();return $n(x)?x:te(new Date)},g=(x,_={})=>{const{view:M=c.value,position:X=1,force:be}=_,st=X>0?1-X:-(V.value+X);let Pt=ve(x,st,M),zt=ve(Pt,V.value-1,M);return be||(qc(Pt,ie.value)?Pt=ie.value:Ta(zt,I.value)&&(Pt=ve(I.value,1-V.value)),zt=ve(Pt,V.value-1)),{fromPage:Pt,toPage:zt}},C=(x,_,M="")=>{if(M==="none"||M==="fade")return M;if((x==null?void 0:x.view)!==(_==null?void 0:_.view))return"fade";const X=Ta(_,x),be=qc(_,x);return!X&&!be?"fade":M==="slide-v"?be?"slide-down":"slide-up":be?"slide-right":"slide-left"},$=(x={})=>new Promise((_,M)=>{const{position:X=1,force:be=!1,transition:st}=x,Pt=$n(x.page)?x.page:p(),{fromPage:zt}=g(Pt,{position:X,force:be}),Er=[];for(let Sr=0;Sr<V.value;Sr++){const zl=ve(zt,Sr),Nt=Sr+1,Gl=Math.ceil(Nt/t.columns),Fo=t.rows-Gl+1,yi=Nt%t.columns||t.columns,bi=t.columns-yi+1,Lb=ye(yi,bi);Er.push(b.value.getPage({...zl,view:c.value,titlePosition:t.titlePosition,trimWeeks:t.trimWeeks,position:Nt,row:Gl,rowFromEnd:Fo,column:yi,columnFromEnd:bi,showWeeknumbers:me.value,showIsoWeeknumbers:ne.value,weeknumberPosition:Lb}))}d.value=C(u.value[0],Er[0],st),u.value=Er,d.value&&d.value!=="none"?f={resolve:_,reject:M}:_(!0)}),T=x=>{const _=H.value??te(new Date);return ve(_,x)},j=(x,_={})=>{const M=$n(x)?x:te(x);return Object.assign(_,g(M,{..._,force:!0})),fR(_.fromPage,_.toPage,c.value,b.value).map(be=>uR(be,ie.value,I.value)).some(be=>be)},q=(x,_={})=>j(T(x),_),B=S(()=>q(-k.value)),z=S(()=>q(k.value)),L=async(x,_={})=>!_.force&&!j(x,_)?!1:(_.fromPage&&!dR(_.fromPage,H.value)&&(io({id:a.value,hideDelay:0}),_.view&&(bN("view",10),c.value=_.view),await $({..._,page:_.fromPage,position:1,force:!0}),n("did-move",u.value)),!0),J=(x,_={})=>L(T(x),_),ae=()=>J(-k.value),oe=()=>J(k.value),de=x=>{const _=re.value?".in-month":"",M=`.id-${b.value.getDayId(x)}${_}`,X=`${M}.vc-focusable, ${M} .vc-focusable`,be=s.value;if(be){const st=be.querySelector(X);if(st)return st.focus(),!0}return!1},_e=async(x,_={})=>de(x)?!0:(await L(x,_),de(x)),ke=(x,_)=>{i.value=x.day,n("dayclick",x,_)},Fe=(x,_)=>{n("daymouseenter",x,_)},tt=(x,_)=>{n("daymouseleave",x,_)},$t=(x,_)=>{i.value=x.day,r.value=x,x.isFocused=!0,n("dayfocusin",x,_)},pn=(x,_)=>{r.value=null,x.isFocused=!1,n("dayfocusout",x,_)},Hs=(x,_)=>{n("daykeydown",x,_);const M=x.noonDate;let X=null;switch(_.key){case"ArrowLeft":{X=At(M,-1);break}case"ArrowRight":{X=At(M,1);break}case"ArrowUp":{X=At(M,-7);break}case"ArrowDown":{X=At(M,7);break}case"Home":{X=At(M,-x.weekdayPosition+1);break}case"End":{X=At(M,x.weekdayPositionFromEnd);break}case"PageUp":{_.altKey?X=bp(M,-1):X=Da(M,-1);break}case"PageDown":{_.altKey?X=bp(M,1):X=Da(M,1);break}}X&&(_.preventDefault(),_e(X).catch())},Fn=x=>{const _=r.value;_!=null&&Hs(_,x)},js=(x,_)=>{n("weeknumberclick",x,_)};$({page:t.initialPage,position:t.initialPagePosition}),ri(()=>{!t.disablePageSwipe&&s.value&&(h=yN(s.value,({toLeft:x=!1,toRight:_=!1})=>{x?oe():_&&ae()},As("touch")))}),Co(()=>{u.value=[],h&&h()}),ot(()=>b.value,()=>{$()}),ot(()=>V.value,()=>$()),ot(()=>t.view,()=>c.value=t.view),ot(()=>c.value,()=>{wN("view",()=>{$()}),n("update:view",c.value)}),ot(()=>i.value,()=>{Ze(u.value,x=>$e(x))}),Pv(()=>{n("update:pages",u.value),Ze(u.value,x=>{We(x),$e(x)})});const pt={emit:n,containerRef:s,focusedDay:r,inTransition:o,navPopoverId:a,dayPopoverId:l,view:c,pages:u,transitionName:d,theme:v,color:y,displayMode:w,locale:b,masks:A,attributes:E,disabledAttribute:O,disabledDates:Y,attributeContext:G,days:Oe,dayCells:se,count:V,step:k,firstPage:H,lastPage:Z,canMovePrev:B,canMoveNext:z,minPage:ie,maxPage:I,isMonthly:re,isWeekly:le,isDaily:fe,navVisibility:Q,showWeeknumbers:me,showIsoWeeknumbers:ne,getDateAddress:te,canMove:j,canMoveBy:q,move:L,moveBy:J,movePrev:ae,moveNext:oe,onTransitionBeforeEnter:Ae,onTransitionAfterEnter:W,tryFocusDate:de,focusDate:_e,onKeydown:Fn,onDayKeydown:Hs,onDayClick:ke,onDayMouseenter:Fe,onDayMouseleave:tt,onDayFocusin:$t,onDayFocusout:pn,onWeeknumberClick:js};return Un(Sg,pt),pt}function yr(){const t=Mt(Sg);if(t)return t;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const NN=ht({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(t,{emit:e}){let n;const s=Ce();let r=null,i=null;const o=Xn({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function a(W){W&&(o.direction=W.split("-")[0])}function l({placement:W,options:ve}){a(W||(ve==null?void 0:ve.placement))}const c=S(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...o.modifiers||[]],onFirstUpdate:l})),u=S(()=>{const W=o.direction==="left"||o.direction==="right";let ve="";if(o.placement){const te=o.placement.split("-");te.length>1&&(ve=te[1])}return["start","top","left"].includes(ve)?W?"top":"left":["end","bottom","right"].includes(ve)?W?"bottom":"right":W?"middle":"center"});function d(){i&&(i.destroy(),i=null)}function f(){Bn(()=>{const W=wa(o.target);!W||!s.value||(i&&i.state.elements.reference!==W&&d(),i?i.update():i=$0(W,s.value,c.value))})}function h(W){Object.assign(o,K_(W,"force"))}function v(W,ve){clearTimeout(n),W>0?n=setTimeout(ve,W):ve()}function y(W){return!W||!i?!1:wa(W)===i.state.elements.reference}async function w(W={}){o.force||(W.force&&(o.force=!0),v(W.showDelay??t.showDelay,()=>{o.isVisible&&(o.force=!1),h({...W,isVisible:!0}),f()}))}function b(W={}){i&&(W.target&&!y(W.target)||o.force||(W.force&&(o.force=!0),v(W.hideDelay??t.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function A(W={}){W.target!=null&&(o.isVisible&&y(W.target)?b(W):w(W))}function N(W){if(!i)return;const ve=i.state.elements.reference;if(!s.value||!ve)return;const te=W.target;oa(s.value,te)||oa(ve,te)||b({force:!0})}function P(W){(W.key==="Esc"||W.key==="Escape")&&b()}function O({detail:W}){!W.id||W.id!==t.id||w(W)}function Y({detail:W}){!W.id||W.id!==t.id||b(W)}function V({detail:W}){!W.id||W.id!==t.id||A(W)}function k(){vs(document,"keydown",P),vs(document,"click",N),vs(document,"show-popover",O),vs(document,"hide-popover",Y),vs(document,"toggle-popover",V)}function H(){ms(document,"keydown",P),ms(document,"click",N),ms(document,"show-popover",O),ms(document,"hide-popover",Y),ms(document,"toggle-popover",V)}function Z(W){e("before-show",W)}function ie(W){o.force=!1,e("after-show",W)}function I(W){e("before-hide",W)}function Q(W){o.force=!1,d(),e("after-hide",W)}function me(W){W.stopPropagation()}function ne(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&w()}function re(){if(o.isHovered=!1,!i)return;const W=i.state.elements.reference;o.autoHide&&!o.isFocused&&(!W||W!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&b()}function le(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&w()}function fe(W){["focus","hover-focus"].includes(o.visibility)&&(!W.relatedTarget||!oa(s.value,W.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&b())}function Ae(){r!=null&&(r.disconnect(),r=null)}return ot(()=>s.value,W=>{Ae(),W&&(r=new ResizeObserver(()=>{i&&i.update()}),r.observe(W))}),ot(()=>o.placement,a,{immediate:!0}),ri(()=>{k()}),Co(()=>{d(),Ae(),H()}),{...wv(o),popoverRef:s,alignment:u,hide:b,setupPopper:f,beforeEnter:Z,afterEnter:ie,beforeLeave:I,afterLeave:Q,onClick:me,onMouseOver:ne,onMouseLeave:re,onFocusIn:le,onFocusOut:fe}}}),Bs=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n};function LN(t,e,n,s,r,i){return D(),F("div",{class:Ge(["vc-popover-content-wrapper",{"is-interactive":t.isInteractive}]),ref:"popoverRef",onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o)),onMouseover:e[1]||(e[1]=(...o)=>t.onMouseOver&&t.onMouseOver(...o)),onMouseleave:e[2]||(e[2]=(...o)=>t.onMouseLeave&&t.onMouseLeave(...o)),onFocusin:e[3]||(e[3]=(...o)=>t.onFocusIn&&t.onFocusIn(...o)),onFocusout:e[4]||(e[4]=(...o)=>t.onFocusOut&&t.onFocusOut(...o))},[ee(ol,{name:`vc-${t.transition}`,appear:"",onBeforeEnter:t.beforeEnter,onAfterEnter:t.afterEnter,onBeforeLeave:t.beforeLeave,onAfterLeave:t.afterLeave},{default:De(()=>[t.isVisible?(D(),F("div",vr({key:0,tabindex:"-1",class:`vc-popover-content direction-${t.direction}`},t.$attrs),[Eo(t.$slots,"default",{direction:t.direction,alignment:t.alignment,data:t.data,hide:t.hide},()=>[He(we(t.data),1)]),m("span",{class:Ge(["vc-popover-caret",`direction-${t.direction}`,`align-${t.alignment}`])},null,2)],16)):Ke("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const Id=Bs(NN,[["render",LN]]),FN={class:"vc-day-popover-row"},YN={key:0,class:"vc-day-popover-row-indicator"},BN={class:"vc-day-popover-row-label"},WN=ht({__name:"PopoverRow",props:{attribute:null},setup(t){const e=t,n=S(()=>{const{content:s,highlight:r,dot:i,bar:o,popover:a}=e.attribute;return a&&a.hideIndicator?null:s?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${s.base.color}`}:r?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${r.base.color}`}:i?{class:`vc-dot vc-attr vc-${i.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(s,r)=>(D(),F("div",FN,[R(n)?(D(),F("div",YN,[m("span",{class:Ge(R(n).class)},null,2)])):Ke("",!0),m("div",BN,[Eo(s.$slots,"default",{},()=>[He(we(t.attribute.popover?t.attribute.popover.label:"No content provided"),1)])])]))}}),HN={inheritAttrs:!1},sn=ht({...HN,__name:"CalendarSlot",props:{name:null},setup(t){const n=Eg(t.name);return(s,r)=>R(n)?(D(),lt(Vu(R(n)),Mi(vr({key:0},s.$attrs)),null,16)):Eo(s.$slots,"default",{key:1})}}),jN={class:"vc-day-popover-container"},UN={key:0,class:"vc-day-popover-header"},VN=ht({__name:"CalendarDayPopover",setup(t){const{dayPopoverId:e,displayMode:n,color:s,masks:r,locale:i}=yr();function o(l,c){return i.value.formatDate(l,c)}function a(l){return i.value.formatDate(l.date,r.value.dayPopover)}return(l,c)=>(D(),lt(Id,{id:R(e),class:Ge([`vc-${R(s)}`,`vc-${R(n)}`])},{default:De(({data:{day:u,attributes:d},hide:f})=>[ee(sn,{name:"day-popover",day:u,"day-title":a(u),attributes:d,format:o,masks:R(r),hide:f},{default:De(()=>[m("div",jN,[R(r).dayPopover?(D(),F("div",UN,we(a(u)),1)):Ke("",!0),(D(!0),F(Te,null,at(d,h=>(D(),lt(WN,{key:h.key,attribute:h},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),zN={},GN={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},KN=m("polyline",{points:"9 18 15 12 9 6"},null,-1),qN=[KN];function QN(t,e){return D(),F("svg",GN,qN)}const ZN=Bs(zN,[["render",QN]]),JN={},XN={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},eL=m("polyline",{points:"15 18 9 12 15 6"},null,-1),tL=[eL];function nL(t,e){return D(),F("svg",XN,tL)}const sL=Bs(JN,[["render",nL]]),rL={},iL={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},oL=m("polyline",{points:"6 9 12 15 18 9"},null,-1),aL=[oL];function lL(t,e){return D(),F("svg",iL,aL)}const cL=Bs(rL,[["render",lL]]),uL={},dL={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},fL=m("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),hL=[fL];function pL(t,e){return D(),F("svg",dL,hL)}const mL=Bs(uL,[["render",pL]]),vL=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:cL,IconChevronLeft:sL,IconChevronRight:ZN,IconClock:mL},Symbol.toStringTag,{value:"Module"})),Kr=ht({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(t){const e=t,n=S(()=>e.width||e.size),s=S(()=>e.height||e.size),r=S(()=>vL[`Icon${e.name}`]);return(i,o)=>(D(),lt(Vu(R(r)),{width:R(n),height:R(s),class:"vc-base-icon"},null,8,["width","height"]))}}),_L=["disabled"],gL={key:1,class:"vc-title-wrapper"},yL={type:"button",class:"vc-title"},bL=["disabled"],Dg=ht({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(t){const e=t,{navPopoverId:n,navVisibility:s,canMovePrev:r,movePrev:i,canMoveNext:o,moveNext:a}=yr(),l=S(()=>{switch(e.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),c=S(()=>{const{page:y}=e;return{id:n.value,visibility:s.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:y},isInteractive:!0}}),u=S(()=>e.page.titlePosition.includes("left")),d=S(()=>e.page.titlePosition.includes("right")),f=S(()=>e.layout?e.layout:u.value?"tu-pn":d.value?"pn-tu":"p-tu-n;"),h=S(()=>({prev:f.value.includes("p")&&!e.hideArrows,title:f.value.includes("t")&&!e.hideTitle,next:f.value.includes("n")&&!e.hideArrows})),v=S(()=>({gridTemplateColumns:f.value.split("").map(w=>{switch(w){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(y,w)=>(D(),F("div",{class:Ge(["vc-header",{"is-lg":t.isLg,"is-xl":t.isXl,"is-2xl":t.is2xl}]),style:qt(R(v))},[R(h).prev?(D(),F("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!R(r),onClick:w[0]||(w[0]=(...b)=>R(i)&&R(i)(...b)),onKeydown:w[1]||(w[1]=ch((...b)=>R(i)&&R(i)(...b),["space","enter"]))},[ee(sn,{name:"header-prev-button",disabled:!R(r)},{default:De(()=>[ee(Kr,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,_L)):Ke("",!0),R(h).title?(D(),F("div",gL,[ee(sn,{name:"header-title-wrapper"},{default:De(()=>[Ft((D(),F("button",yL,[ee(sn,{name:"header-title",title:t.page.title},{default:De(()=>[m("span",null,we(t.page.title),1)]),_:1},8,["title"])])),[[R(vg),R(c)]])]),_:1})])):Ke("",!0),R(h).next?(D(),F("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!R(o),onClick:w[2]||(w[2]=(...b)=>R(a)&&R(a)(...b)),onKeydown:w[3]||(w[3]=ch((...b)=>R(a)&&R(a)(...b),["space","enter"]))},[ee(sn,{name:"header-next-button",disabled:!R(o)},{default:De(()=>[ee(Kr,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,bL)):Ke("",!0)],6))}}),Tg=Symbol("__vc_page_context__");function wL(t){const{locale:e,getDateAddress:n,canMove:s}=yr();function r(a,l){const{month:c,year:u}=n(new Date);return fg().map((d,f)=>{const h=f+1;return{month:h,year:a,id:cR(h,a),label:e.value.formatDate(d,l),ariaLabel:e.value.formatDate(d,"MMMM"),isActive:h===t.value.month&&a===t.value.year,isCurrent:h===c&&a===u,isDisabled:!s({month:h,year:a},{position:t.value.position})}})}function i(a,l){const{year:c}=n(new Date),{position:u}=t.value,d=[];for(let f=a;f<=l;f+=1){const h=[...Array(12).keys()].some(v=>s({month:v+1,year:f},{position:u}));d.push({year:f,id:f.toString(),label:f.toString(),ariaLabel:f.toString(),isActive:f===t.value.year,isCurrent:f===c,isDisabled:!h})}return d}const o={page:t,getMonthItems:r,getYearItems:i};return Un(Tg,o),o}function Ig(){const t=Mt(Tg);if(t)return t;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const CL={class:"vc-nav-header"},EL=["disabled"],SL=["disabled"],DL={class:"vc-nav-items"},TL=["data-id","aria-label","disabled","onClick","onKeydown"],IL=ht({__name:"CalendarNav",setup(t){const{masks:e,move:n}=yr(),{page:s,getMonthItems:r,getYearItems:i}=Ig(),o=Ce(!0),a=12,l=Ce(s.value.year),c=Ce(f(s.value.year)),u=Ce(null);function d(){setTimeout(()=>{if(u.value==null)return;const te=u.value.querySelector(".vc-nav-item:not(:disabled)");te&&te.focus()},10)}function f(te){return Math.floor(te/a)}function h(){o.value=!o.value}function v(te){return te*a}function y(te){return a*(te+1)-1}function w(){le.value&&(o.value&&A(),P())}function b(){fe.value&&(o.value&&N(),O())}function A(){l.value--}function N(){l.value++}function P(){c.value--}function O(){c.value++}const Y=S(()=>r(l.value,e.value.navMonths).map(te=>({...te,click:()=>n({month:te.month,year:te.year},{position:s.value.position})}))),V=S(()=>r(l.value-1,e.value.navMonths)),k=S(()=>V.value.some(te=>!te.isDisabled)),H=S(()=>r(l.value+1,e.value.navMonths)),Z=S(()=>H.value.some(te=>!te.isDisabled)),ie=S(()=>i(v(c.value),y(c.value)).map(te=>({...te,click:()=>{l.value=te.year,o.value=!0,d()}}))),I=S(()=>i(v(c.value-1),y(c.value-1))),Q=S(()=>I.value.some(te=>!te.isDisabled)),me=S(()=>i(v(c.value+1),y(c.value+1))),ne=S(()=>me.value.some(te=>!te.isDisabled)),re=S(()=>o.value?Y.value:ie.value),le=S(()=>o.value?k.value:Q.value),fe=S(()=>o.value?Z.value:ne.value),Ae=S(()=>z_(ie.value.map(te=>te.year))),W=S(()=>Pr(ie.value.map(te=>te.year))),ve=S(()=>o.value?l.value:`${Ae.value} - ${W.value}`);return Pv(()=>{l.value=s.value.year,d()}),ot(()=>l.value,te=>c.value=f(te)),ri(()=>d()),(te,We)=>(D(),F("div",{class:"vc-nav-container",ref_key:"navContainer",ref:u},[m("div",CL,[m("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!R(le),onClick:w,onKeydown:We[0]||(We[0]=$e=>R(qo)($e,w))},[ee(sn,{name:"nav-prev-button",move:w,disabled:!R(le)},{default:De(()=>[ee(Kr,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,EL),m("button",{type:"button",class:"vc-nav-title vc-focus",onClick:h,onKeydown:We[1]||(We[1]=$e=>R(qo)($e,h))},we(R(ve)),33),m("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!R(fe),onClick:b,onKeydown:We[2]||(We[2]=$e=>R(qo)($e,b))},[ee(sn,{name:"nav-next-button",move:b,disabled:!R(fe)},{default:De(()=>[ee(Kr,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,SL)]),m("div",DL,[(D(!0),F(Te,null,at(R(re),$e=>(D(),F("button",{key:$e.label,type:"button","data-id":$e.id,"aria-label":$e.ariaLabel,class:Ge(["vc-nav-item vc-focus",[$e.isActive?"is-active":$e.isCurrent?"is-current":""]]),disabled:$e.isDisabled,onClick:$e.click,onKeydown:Ze=>R(qo)(Ze,$e.click)},we($e.label),43,TL))),128))])],512))}}),$g=ht({__name:"CalendarPageProvider",props:{page:null},setup(t){return wL(na(t,"page")),(n,s)=>Eo(n.$slots,"default")}}),$L=ht({__name:"CalendarNavPopover",setup(t){const{navPopoverId:e,color:n,displayMode:s}=yr();return(r,i)=>(D(),lt(Id,{id:R(e),class:Ge(["vc-nav-popover-container",`vc-${R(n)}`,`vc-${R(s)}`])},{default:De(({data:o})=>[ee($g,{page:o.page},{default:De(()=>[ee(sn,{name:"nav"},{default:De(()=>[ee(IL)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),PL=ht({directives:{popover:vg},components:{CalendarSlot:sn},props:{day:{type:Object,required:!0}},setup(t){const{locale:e,theme:n,attributeContext:s,dayPopoverId:r,onDayClick:i,onDayMouseenter:o,onDayMouseleave:a,onDayFocusin:l,onDayFocusout:c,onDayKeydown:u}=yr(),d=S(()=>t.day),f=S(()=>s.value.getCells(d.value)),h=S(()=>f.value.map(ne=>ne.data)),v=S(()=>({...d.value,attributes:h.value,attributeCells:f.value}));function y({data:ne},{popovers:re}){const{key:le,customData:fe,popover:Ae}=ne;if(!Ae)return;const W=np({key:le,customData:fe,attribute:ne},{...Ae},{visibility:Ae.label?"hover":"click",placement:"bottom",isInteractive:!Ae.label});re.splice(0,0,W)}const w=S(()=>{const ne={...n.value.prepareRender({}),popovers:[]};return f.value.forEach(re=>{n.value.render(re,ne),y(re,ne)}),ne}),b=S(()=>w.value.highlights),A=S(()=>!!Wn(b.value)),N=S(()=>w.value.content),P=S(()=>w.value.dots),O=S(()=>!!Wn(P.value)),Y=S(()=>w.value.bars),V=S(()=>!!Wn(Y.value)),k=S(()=>w.value.popovers),H=S(()=>k.value.map(ne=>ne.attribute)),Z=Eg("day-content"),ie=S(()=>["vc-day",...d.value.classes,{"vc-day-box-center-center":!Z},{"is-not-in-month":!t.day.inMonth}]),I=S(()=>{let ne;d.value.isFocusable?ne="0":ne="-1";const re=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":d.value.isDisabled},er(Pr(b.value),"contentClass"),er(Pr(N.value),"class")||""],le={...er(Pr(b.value),"contentStyle"),...er(Pr(N.value),"style")};return{class:re,style:le,tabindex:ne,"aria-label":d.value.ariaLabel,"aria-disabled":!!d.value.isDisabled,role:"button"}}),Q=S(()=>({click(ne){i(v.value,ne)},mouseenter(ne){o(v.value,ne)},mouseleave(ne){a(v.value,ne)},focusin(ne){l(v.value,ne)},focusout(ne){c(v.value,ne)},keydown(ne){u(v.value,ne)}})),me=S(()=>Wn(k.value)?np({id:r.value,data:{day:d,attributes:H.value}},...k.value):null);return{attributes:h,attributeCells:f,bars:Y,dayClasses:ie,dayContentProps:I,dayContentEvents:Q,dayPopover:me,glyphs:w,dots:P,hasDots:O,hasBars:V,highlights:b,hasHighlights:A,locale:e,popovers:k}}}),kL={key:0,class:"vc-highlights vc-day-layer"},AL={key:1,class:"vc-day-layer vc-day-box-center-bottom"},OL={class:"vc-dots"},xL={key:2,class:"vc-day-layer vc-day-box-center-bottom"},ML={class:"vc-bars"};function RL(t,e,n,s,r,i){const o=ct("CalendarSlot"),a=Nw("popover");return D(),F("div",{class:Ge(t.dayClasses)},[t.hasHighlights?(D(),F("div",kL,[(D(!0),F(Te,null,at(t.highlights,({key:l,wrapperClass:c,class:u,style:d})=>(D(),F("div",{key:l,class:Ge(c)},[m("div",{class:Ge(u),style:qt(d)},null,6)],2))),128))])):Ke("",!0),ee(o,{name:"day-content",day:t.day,attributes:t.attributes,"attribute-cells":t.attributeCells,dayProps:t.dayContentProps,dayEvents:t.dayContentEvents,locale:t.locale},{default:De(()=>[Ft((D(),F("div",vr(t.dayContentProps,tC(t.dayContentEvents,!0)),[He(we(t.day.label),1)],16)),[[a,t.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),t.hasDots?(D(),F("div",AL,[m("div",OL,[(D(!0),F(Te,null,at(t.dots,({key:l,class:c,style:u})=>(D(),F("span",{key:l,class:Ge(c),style:qt(u)},null,6))),128))])])):Ke("",!0),t.hasBars?(D(),F("div",xL,[m("div",ML,[(D(!0),F(Te,null,at(t.bars,({key:l,class:c,style:u})=>(D(),F("span",{key:l,class:Ge(c),style:qt(u)},null,6))),128))])])):Ke("",!0)],2)}const NL=Bs(PL,[["render",RL]]),LL={class:"vc-weekdays"},FL=["onClick"],YL={inheritAttrs:!1},BL=ht({...YL,__name:"CalendarPage",setup(t){const{page:e}=Ig(),{onWeeknumberClick:n}=yr();return(s,r)=>(D(),F("div",{class:Ge(["vc-pane",`row-${R(e).row}`,`row-from-end-${R(e).rowFromEnd}`,`column-${R(e).column}`,`column-from-end-${R(e).columnFromEnd}`]),ref:"pane"},[ee(Dg,{page:R(e),"is-lg":"","hide-arrows":""},null,8,["page"]),m("div",{class:Ge(["vc-weeks",{[`vc-show-weeknumbers-${R(e).weeknumberPosition}`]:R(e).weeknumberPosition}])},[m("div",LL,[(D(!0),F(Te,null,at(R(e).weekdays,({weekday:i,label:o},a)=>(D(),F("div",{key:a,class:Ge(`vc-weekday vc-weekday-${i}`)},we(o),3))),128))]),(D(!0),F(Te,null,at(R(e).viewWeeks,i=>(D(),F("div",{key:`weeknumber-${i.weeknumber}`,class:"vc-week"},[R(e).weeknumberPosition?(D(),F("div",{key:0,class:Ge(["vc-weeknumber",`is-${R(e).weeknumberPosition}`])},[m("span",{class:Ge(["vc-weeknumber-content"]),onClick:o=>R(n)(i,o)},we(i.weeknumberDisplay),9,FL)],2)):Ke("",!0),(D(!0),F(Te,null,at(i.days,o=>(D(),lt(NL,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),WL=ht({components:{CalendarHeader:Dg,CalendarPage:BL,CalendarNavPopover:$L,CalendarDayPopover:VN,CalendarPageProvider:$g,CalendarSlot:sn},props:xN,emit:MN,setup(t,{emit:e,slots:n}){return RN(t,{emit:e,slots:n})}}),HL={class:"vc-pane-header-wrapper"};function jL(t,e,n,s,r,i){const o=ct("CalendarHeader"),a=ct("CalendarPage"),l=ct("CalendarSlot"),c=ct("CalendarPageProvider"),u=ct("CalendarDayPopover"),d=ct("CalendarNavPopover");return D(),F(Te,null,[m("div",vr({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},t.$attrs,{class:["vc-container",`vc-${t.view}`,`vc-${t.color}`,`vc-${t.displayMode}`,{"vc-expanded":t.expanded,"vc-bordered":!t.borderless,"vc-transparent":t.transparent}],onMouseup:e[0]||(e[0]=to(()=>{},["prevent"])),ref:"containerRef"}),[m("div",{class:Ge(["vc-pane-container",{"in-transition":t.inTransition}])},[m("div",HL,[t.firstPage?(D(),lt(o,{key:0,page:t.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):Ke("",!0)]),ee(ol,{name:`vc-${t.transitionName}`,onBeforeEnter:t.onTransitionBeforeEnter,onAfterEnter:t.onTransitionAfterEnter},{default:De(()=>[(D(),F("div",{key:t.pages[0].id,class:"vc-pane-layout",style:qt({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(D(!0),F(Te,null,at(t.pages,f=>(D(),lt(c,{key:f.id,page:f},{default:De(()=>[ee(l,{name:"page",page:f},{default:De(()=>[ee(a)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),ee(l,{name:"footer"})],2)],16),ee(u),ee(d)],64)}const Pg=Bs(WL,[["render",jL]]),kg=Symbol("__vc_date_picker_context__"),UL={...yg,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>As("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>As("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},VL=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function zL(t,{emit:e,slots:n}){Cg(n,{footer:"dp-footer"});const s=bg(t),{locale:r,masks:i,disabledAttribute:o}=s,a=Ce(!1),l=Ce(Symbol()),c=Ce(null),u=Ce(null),d=Ce(["",""]),f=Ce(null),h=Ce(null);let v,y,w=!0;const b=S(()=>t.isRange||t.modelModifiers.range===!0),A=S(()=>b.value&&c.value!=null?c.value.start:null),N=S(()=>b.value&&c.value!=null?c.value.end:null),P=S(()=>t.mode.toLowerCase()==="date"),O=S(()=>t.mode.toLowerCase()==="datetime"),Y=S(()=>t.mode.toLowerCase()==="time"),V=S(()=>!!u.value),k=S(()=>{let _="date";t.modelModifiers.number&&(_="number"),t.modelModifiers.string&&(_="string");const M=i.value.modelValue||"iso";return We({type:_,mask:M})}),H=S(()=>q(u.value??c.value)),Z=S(()=>Y.value?t.is24hr?i.value.inputTime24hr:i.value.inputTime:O.value?t.is24hr?i.value.inputDateTime24hr:i.value.inputDateTime:i.value.input),ie=S(()=>/[Hh]/g.test(Z.value)),I=S(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(Z.value)),Q=S(()=>{if(ie.value&&I.value)return"dateTime";if(I.value)return"date";if(ie.value)return"time"}),me=S(()=>{var _;const M=((_=f.value)==null?void 0:_.$el.previousElementSibling)??void 0;return Gr({},t.popover,As("datePicker.popover"),{target:M})}),ne=S(()=>mg({...me.value,id:l.value})),re=S(()=>b.value?{start:d.value[0],end:d.value[1]}:d.value[0]),le=S(()=>{const _=["start","end"].map(M=>({input:$(M),change:T(M),keyup:j,...t.popover&&ne.value}));return b.value?{start:_[0],end:_[1]}:_[0]}),fe=S(()=>{if(!E(c.value))return null;const _={key:"select-drag",...t.selectAttribute,dates:c.value,pinPage:!0},{dot:M,bar:X,highlight:be,content:st}=_;return!M&&!X&&!be&&!st&&(_.highlight=!0),_}),Ae=S(()=>{if(!b.value||!E(u.value))return null;const _={key:"select-drag",...t.dragAttribute,dates:u.value},{dot:M,bar:X,highlight:be,content:st}=_;return!M&&!X&&!be&&!st&&(_.highlight={startEnd:{fillMode:"outline"}}),_}),W=S(()=>{const _=un(t.attributes)?[...t.attributes]:[];return Ae.value?_.unshift(Ae.value):fe.value&&_.unshift(fe.value),_}),ve=S(()=>We(t.rules==="auto"?te():t.rules??{}));function te(){const _={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},M=P.value?0:t.timeAccuracy;return[0,1].map(X=>{switch(M){case 0:return{hours:_.hr[X],minutes:_.min[X],seconds:_.sec[X],milliseconds:_.ms[X]};case 1:return{minutes:_.min[X],seconds:_.sec[X],milliseconds:_.ms[X]};case 3:return{milliseconds:_.ms[X]};case 4:return{};default:return{seconds:_.sec[X],milliseconds:_.ms[X]}}})}function We(_){return un(_)?_.length===1?[_[0],_[0]]:_:[_,_]}function $e(_){return We(_).map((M,X)=>({...M,rules:ve.value[X]}))}function Ze(_){return _==null?!1:yn(_)?!isNaN(_):Mr(_)?!isNaN(_.getTime()):In(_)?_!=="":Ed(_)}function Oe(_){return qn(_)&&"start"in _&&"end"in _&&Ze(_.start??null)&&Ze(_.end??null)}function E(_){return Oe(_)||Ze(_)}function K(_,M){if(_==null&&M==null)return!0;if(_==null||M==null)return!1;const X=Mr(_),be=Mr(M);return X&&be?_.getTime()===M.getTime():X||be?!1:K(_.start,M.start)&&K(_.end,M.end)}function G(_){return!E(_)||!o.value?!1:o.value.intersectsRange(r.value.range(_))}function se(_,M,X,be){if(!E(_))return null;if(Oe(_)){const st=r.value.toDate(_.start,{...M[0],fillDate:A.value??void 0,patch:X}),Pt=r.value.toDate(_.end,{...M[1],fillDate:N.value??void 0,patch:X});return pn({start:st,end:Pt},be)}return r.value.toDateOrNull(_,{...M[0],fillDate:c.value,patch:X})}function ye(_,M){return Oe(_)?{start:r.value.fromDate(_.start,M[0]),end:r.value.fromDate(_.end,M[1])}:b.value?null:r.value.fromDate(_,M[0])}function Pe(_,M={}){return clearTimeout(v),new Promise(X=>{const{debounce:be=0,...st}=M;be>0?v=window.setTimeout(()=>{X(p(_,st))},be):X(p(_,st))})}function p(_,{config:M=k.value,patch:X="dateTime",clearIfEqual:be=!1,formatInput:st=!0,hidePopover:Pt=!1,dragging:zt=V.value,targetPriority:Er,moveToValue:Sr=!1}={}){const zl=$e(M);let Nt=se(_,zl,X,Er);if(G(Nt)){if(zt)return null;Nt=c.value,Pt=!1}else Nt==null&&t.isRequired?Nt=c.value:Nt!=null&&K(c.value,Nt)&&be&&(Nt=null);const Fo=zt?u:c,yi=!K(Fo.value,Nt);Fo.value=Nt,zt||(u.value=null);const bi=ye(Nt,k.value);return yi&&(w=!1,e(zt?"drag":"update:modelValue",bi),Bn(()=>w=!0)),Pt&&!zt&&tt(),st&&g(),Sr&&Bn(()=>js(Er??"start")),bi}function g(){Bn(()=>{const _=$e({type:"string",mask:Z.value}),M=ye(u.value??c.value,_);b.value?d.value=[M&&M.start,M&&M.end]:d.value=[M,""]})}function C(_,M,X){d.value.splice(M==="start"?0:1,1,_);const be=b.value?{start:d.value[0],end:d.value[1]||d.value[0]}:_,st={type:"string",mask:Z.value};Pe(be,{...X,config:st,patch:Q.value,targetPriority:M,moveToValue:!0})}function $(_){return M=>{t.updateOnInput&&C(M.currentTarget.value,_,{formatInput:!1,hidePopover:!1,debounce:t.inputDebounce})}}function T(_){return M=>{C(M.currentTarget.value,_,{formatInput:!0,hidePopover:!1})}}function j(_){_.key==="Escape"&&Pe(c.value,{formatInput:!0,hidePopover:!0})}function q(_){return b.value?[_&&_.start?r.value.getDateParts(_.start):null,_&&_.end?r.value.getDateParts(_.end):null]:[_?r.value.getDateParts(_):null]}function B(){u.value=null,g()}function z(_){e("popover-will-show",_)}function L(_){e("popover-did-show",_)}function J(_){B(),e("popover-will-hide",_)}function ae(_){e("popover-did-hide",_)}function oe(_){const M={patch:"date",formatInput:!0,hidePopover:!0};if(b.value){const X=!V.value;X?y={start:_.startDate,end:_.endDate}:y!=null&&(y.end=_.date),Pe(y,{...M,dragging:X})}else Pe(_.date,{...M,clearIfEqual:!t.isRequired})}function de(_,M){oe(_),e("dayclick",_,M)}function _e(_,M){switch(M.key){case" ":case"Enter":{oe(_),M.preventDefault();break}case"Escape":tt()}e("daykeydown",_,M)}function ke(_,M){!V.value||y==null||(y.end=_.date,Pe(pn(y),{patch:"date",formatInput:!0}))}function Fe(_={}){Zc({...me.value,..._,isInteractive:!0,id:l.value})}function tt(_={}){io({hideDelay:10,force:!0,...me.value,..._,id:l.value})}function $t(_){pg({...me.value,..._,isInteractive:!0,id:l.value})}function pn(_,M){const{start:X,end:be}=_;if(X>be)switch(M){case"start":return{start:X,end:X};case"end":return{start:be,end:be};default:return{start:be,end:X}}return{start:X,end:be}}async function Hs(_,M={}){return h.value==null?!1:h.value.move(_,M)}async function Fn(_,M={}){return h.value==null?!1:h.value.moveBy(_,M)}async function js(_,M={}){const X=c.value;if(h.value==null||!E(X))return!1;const be=_!=="end",st=be?1:-1,Pt=Oe(X)?be?X.start:X.end:X,zt=J_(Pt,"monthly",r.value);return h.value.move(zt,{position:st,...M})}ot(()=>t.isRange,_=>{_&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),ot(()=>b.value,()=>{p(null,{formatInput:!0})}),ot(()=>Z.value,()=>g()),ot(()=>t.modelValue,_=>{w&&p(_,{formatInput:!0,hidePopover:!1})}),ot(()=>ve.value,()=>{qn(t.rules)&&p(t.modelValue,{formatInput:!0,hidePopover:!1})}),ot(()=>t.timezone,()=>{p(c.value,{formatInput:!0})});const pt=We(k.value);c.value=se(t.modelValue??null,pt,"dateTime"),ri(()=>{p(t.modelValue,{formatInput:!0,hidePopover:!1})}),Bn(()=>a.value=!0);const x={...s,showCalendar:a,datePickerPopoverId:l,popoverRef:f,popoverEvents:ne,calendarRef:h,isRange:b,isTimeMode:Y,isDateTimeMode:O,is24hr:na(t,"is24hr"),hideTimeHeader:na(t,"hideTimeHeader"),timeAccuracy:na(t,"timeAccuracy"),isDragging:V,inputValue:re,inputEvents:le,dateParts:H,attributes:W,rules:ve,move:Hs,moveBy:Fn,moveToValue:js,updateValue:Pe,showPopover:Fe,hidePopover:tt,togglePopover:$t,onDayClick:de,onDayKeydown:_e,onDayMouseEnter:ke,onPopoverBeforeShow:z,onPopoverAfterShow:L,onPopoverBeforeHide:J,onPopoverAfterHide:ae};return Un(kg,x),x}function $d(){const t=Mt(kg);if(t)return t;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const GL=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],KL=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function qL(t){const e=$d(),{locale:n,isRange:s,isTimeMode:r,dateParts:i,rules:o,is24hr:a,hideTimeHeader:l,timeAccuracy:c,updateValue:u}=e;function d(I){I=Object.assign(h.value,I);let Q=null;if(s.value){const me=f.value?I:i.value[0],ne=f.value?i.value[1]:I;Q={start:me,end:ne}}else Q=I;u(Q,{patch:"time",targetPriority:f.value?"start":"end",moveToValue:!0})}const f=S(()=>t.position===0),h=S(()=>i.value[t.position]||{isValid:!1}),v=S(()=>Ed(h.value)),y=S(()=>!!h.value.isValid),w=S(()=>!l.value&&y.value),b=S(()=>{if(!v.value)return null;let I=n.value.toDate(h.value);return h.value.hours===24&&(I=new Date(I.getTime()-1)),I}),A=S({get(){return h.value.hours},set(I){d({hours:I})}}),N=S({get(){return h.value.minutes},set(I){d({minutes:I})}}),P=S({get(){return h.value.seconds},set(I){d({seconds:I})}}),O=S({get(){return h.value.milliseconds},set(I){d({milliseconds:I})}}),Y=S({get(){return h.value.hours<12},set(I){I=String(I).toLowerCase()=="true";let Q=A.value;I&&Q>=12?Q-=12:!I&&Q<12&&(Q+=12),d({hours:Q})}}),V=S(()=>pN(h.value,o.value[t.position])),k=S(()=>GL.filter(I=>V.value.hours.some(Q=>Q.value===I.value))),H=S(()=>KL.filter(I=>V.value.hours.some(Q=>Q.value===I.value))),Z=S(()=>a.value?V.value.hours:Y.value?k.value:H.value),ie=S(()=>{const I=[];return Wn(k.value)&&I.push({value:!0,label:"AM"}),Wn(H.value)&&I.push({value:!1,label:"PM"}),I});return{...e,showHeader:w,timeAccuracy:c,parts:h,isValid:y,date:b,hours:A,minutes:N,seconds:P,milliseconds:O,options:V,hourOptions:Z,isAM:Y,isAMOptions:ie,is24hr:a}}const QL=["value"],ZL=["value","disabled"],JL={key:1,class:"vc-base-sizer","aria-hidden":"true"},XL={inheritAttrs:!1},Di=ht({...XL,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(t){const e=t,n=S(()=>{const s=e.options.find(r=>r.value===e.modelValue);return s==null?void 0:s.label});return(s,r)=>(D(),F("div",{class:Ge(["vc-base-select",{"vc-fit-content":t.fitContent,"vc-has-icon":t.showIcon}])},[m("select",vr(s.$attrs,{value:t.modelValue,class:["vc-focus",{"vc-align-right":t.alignRight,"vc-align-left":t.alignLeft}],onChange:r[0]||(r[0]=i=>s.$emit("update:modelValue",i.target.value))}),[(D(!0),F(Te,null,at(t.options,i=>(D(),F("option",{key:i.value,value:i.value,disabled:i.disabled},we(i.label),9,ZL))),128))],16,QL),t.showIcon?(D(),lt(Kr,{key:0,name:"ChevronDown",size:"18"})):Ke("",!0),t.fitContent?(D(),F("div",JL,we(R(n)),1)):Ke("",!0)],2))}}),eF={key:0,class:"vc-time-header"},tF={class:"vc-time-weekday"},nF={class:"vc-time-month"},sF={class:"vc-time-day"},rF={class:"vc-time-year"},iF={class:"vc-time-select-group"},oF=m("span",{class:"vc-time-colon"},":",-1),aF=m("span",{class:"vc-time-colon"},":",-1),lF=m("span",{class:"vc-time-decimal"},".",-1),Ap=ht({__name:"TimePicker",props:{position:null},setup(t,{expose:e}){const s=qL(t);e(s);const{locale:r,isValid:i,date:o,hours:a,minutes:l,seconds:c,milliseconds:u,options:d,hourOptions:f,isTimeMode:h,isAM:v,isAMOptions:y,is24hr:w,showHeader:b,timeAccuracy:A}=s;return(N,P)=>(D(),F("div",{class:Ge(["vc-time-picker",[{"vc-invalid":!R(i),"vc-attached":!R(h)}]])},[ee(sn,{name:"time-header"},{default:De(()=>[R(b)&&R(o)?(D(),F("div",eF,[m("span",tF,we(R(r).formatDate(R(o),"WWW")),1),m("span",nF,we(R(r).formatDate(R(o),"MMM")),1),m("span",sF,we(R(r).formatDate(R(o),"D")),1),m("span",rF,we(R(r).formatDate(R(o),"YYYY")),1)])):Ke("",!0)]),_:1}),m("div",iF,[ee(Kr,{name:"Clock",size:"17"}),ee(Di,{modelValue:R(a),"onUpdate:modelValue":P[0]||(P[0]=O=>et(a)?a.value=O:null),modelModifiers:{number:!0},options:R(f),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),R(A)>1?(D(),F(Te,{key:0},[oF,ee(Di,{modelValue:R(l),"onUpdate:modelValue":P[1]||(P[1]=O=>et(l)?l.value=O:null),modelModifiers:{number:!0},options:R(d).minutes,class:"vc-time-select-minutes","align-left":R(A)===2},null,8,["modelValue","options","align-left"])],64)):Ke("",!0),R(A)>2?(D(),F(Te,{key:1},[aF,ee(Di,{modelValue:R(c),"onUpdate:modelValue":P[2]||(P[2]=O=>et(c)?c.value=O:null),modelModifiers:{number:!0},options:R(d).seconds,class:"vc-time-select-seconds","align-left":R(A)===3},null,8,["modelValue","options","align-left"])],64)):Ke("",!0),R(A)>3?(D(),F(Te,{key:2},[lF,ee(Di,{modelValue:R(u),"onUpdate:modelValue":P[3]||(P[3]=O=>et(u)?u.value=O:null),modelModifiers:{number:!0},options:R(d).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):Ke("",!0),R(w)?Ke("",!0):(D(),lt(Di,{key:3,modelValue:R(v),"onUpdate:modelValue":P[4]||(P[4]=O=>et(v)?v.value=O:null),options:R(y)},null,8,["modelValue","options"]))])],2))}}),Ag=ht({__name:"DatePickerBase",setup(t){const{attributes:e,calendarRef:n,color:s,displayMode:r,isDateTimeMode:i,isTimeMode:o,isRange:a,onDayClick:l,onDayMouseEnter:c,onDayKeydown:u}=$d(),d=a.value?[0,1]:[0];return(f,h)=>R(o)?(D(),F("div",{key:0,class:Ge(`vc-container vc-bordered vc-${R(s)} vc-${R(r)}`)},[(D(!0),F(Te,null,at(R(d),v=>(D(),lt(Ap,{key:v,position:v},null,8,["position"]))),128))],2)):(D(),lt(Pg,{key:1,attributes:R(e),ref_key:"calendarRef",ref:n,onDayclick:R(l),onDaymouseenter:R(c),onDaykeydown:R(u)},{footer:De(()=>[R(i)?(D(!0),F(Te,{key:0},at(R(d),v=>(D(),lt(Ap,{key:v,position:v},null,8,["position"]))),128)):Ke("",!0),ee(sn,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),cF={inheritAttrs:!1},uF=ht({...cF,__name:"DatePickerPopover",setup(t){const{datePickerPopoverId:e,color:n,displayMode:s,popoverRef:r,onPopoverBeforeShow:i,onPopoverAfterShow:o,onPopoverBeforeHide:a,onPopoverAfterHide:l}=$d();return(c,u)=>(D(),lt(Id,{id:R(e),placement:"bottom-start",class:Ge(`vc-date-picker-content vc-${R(n)} vc-${R(s)}`),ref_key:"popoverRef",ref:r,onBeforeShow:R(i),onAfterShow:R(o),onBeforeHide:R(a),onAfterHide:R(l)},{default:De(()=>[ee(Ag,Mi(va(c.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),dF=ht({inheritAttrs:!1,emits:VL,props:UL,components:{DatePickerBase:Ag,DatePickerPopover:uF},setup(t,e){const n=zL(t,e),s=Xn(K_(n,"calendarRef","popoverRef"));return{...n,slotCtx:s}}});function fF(t,e,n,s,r,i){const o=ct("DatePickerPopover"),a=ct("DatePickerBase");return t.$slots.default?(D(),F(Te,{key:0},[Eo(t.$slots,"default",Mi(va(t.slotCtx))),ee(o,Mi(va(t.$attrs)),null,16)],64)):(D(),lt(a,Mi(vr({key:1},t.$attrs)),null,16))}const Og=Bs(dF,[["render",fF]]),hF="modulepreload",pF=function(t){return"/"+t},Op={},mF=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");r=Promise.all(n.map(o=>{if(o=pF(o),o in Op)return;Op[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":hF,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return r.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function vF(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:r,onRegisteredSW:i,onRegisterError:o}=t;let a,l,c;const u=async(f=!0)=>{await l,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await mF(()=>import("./workbox-window.prod.es5-prqDwDSL.js"),__vite__mapDeps([])).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let f=!1;const h=()=>{f=!0,a==null||a.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",v=>{typeof v.isUpdate>"u"?typeof v.isExternal<"u"?v.isExternal?h():!f&&(s==null||s()):v.isExternal?window.location.reload():!f&&(s==null||s()):v.isUpdate||s==null||s()}),a.addEventListener("waiting",h),a.addEventListener("externalwaiting",h)}a.register({immediate:e}).then(f=>{i?i("/sw.js",f):r==null||r(f)}).catch(f=>{o==null||o(f)})}}return l=d(),u}const Qe=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},vl=t=>(Dt("data-v-998d6d13"),t=t(),Tt(),t),_F={class:"friend-list container mt-5"},gF={class:"mb-3"},yF={class:"list-group"},bF=["onClick"],wF=["onClick"],CF=["src"],EF={class:"buttons"},SF=["onClick"],DF={class:"modal-background"},TF={class:"modal-dialog modal-dialog-centered",role:"document"},IF={class:"modal-content"},$F=vl(()=>m("h5",{class:"modal-title"}," ",-1)),PF=vl(()=>m("span",null,"",-1)),kF=[PF],AF={class:"modal-body"},OF=vl(()=>m("strong",null,":",-1)),xF=vl(()=>m("strong",null,":",-1)),MF={__name:"Friend",setup(t){const e=Ce(""),n=Ce([{id:1,name:"",age:25},{id:2,name:"",age:30},{id:3,name:"",age:28},{id:4,name:"",age:25},{id:5,name:"",age:30},{id:6,name:"",age:28},{id:7,name:"",age:25},{id:8,name:"",age:30},{id:9,name:"",age:28}]),s=Ce(null),r=S(()=>n.value.filter(l=>l.name.toLowerCase().includes(e.value.toLowerCase()))),i=l=>{s.value=l},o=()=>{s.value=null},a=l=>{console.log(" :",l.name)};return(l,c)=>(D(),F("div",_F,[m("div",gF,[Ft(m("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>e.value=u),type:"text",class:"form-control",placeholder:" "},null,512),[[Cs,e.value]])]),m("ul",yF,[(D(!0),F(Te,null,at(r.value,u=>(D(),F("li",{key:u.id,class:"list-group-item",onClick:d=>i(u)},[m("div",{class:"friend-item",onClick:d=>i(u)},[m("img",{src:u.profilePicture,alt:" ",class:"profile-image mr-2"},null,8,CF),m("span",null,we(u.name),1)],8,wF),m("div",EF,[m("button",{class:"btn btn-primary btn-sm",onClick:to(d=>a(u),["stop"])},"",8,SF)])],8,bF))),128))]),s.value?(D(),F("div",{key:0,class:"modal fade show",tabindex:"-1",role:"dialog",onClick:o},[m("div",DF,[m("div",TF,[m("div",IF,[m("div",{class:"modal-header"},[$F,m("button",{type:"button",class:"close","data-dismiss":"modal",onClick:o},kF)]),m("div",AF,[m("p",null,[OF,He(" "+we(s.value.name),1)]),m("p",null,[xF,He(" "+we(s.value.age),1)])])])])])])):Ke("",!0)]))}},RF=Qe(MF,[["__scopeId","data-v-998d6d13"]]),NF={data(){return{notifications:[{id:1,message:"  1"},{id:2,message:"  2"}]}}},LF=t=>(Dt("data-v-dd0c139d"),t=t(),Tt(),t),FF={class:"notifications"},YF=LF(()=>m("div",{class:"notifications-title"},"",-1));function BF(t,e,n,s,r,i){return D(),F("div",FF,[YF,m("ul",null,[(D(!0),F(Te,null,at(r.notifications,o=>(D(),F("li",{key:o.id},we(o.message),1))),128))])])}const WF=Qe(NF,[["render",BF],["__scopeId","data-v-dd0c139d"]]),Rt=t=>(Dt("data-v-0711383d"),t=t(),Tt(),t),HF={class:"navbar bg-body-tertiary fixed-top"},jF={class:"container-fluid d-flex justify-content-between align-items-center"},UF=Rt(()=>m("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"},[m("span",{class:"navbar-toggler-icon"})],-1)),VF=Rt(()=>m("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNotifications","aria-controls":"offcanvasNotifications"},"  ",-1)),zF={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel","data-bs-toggle":"offcanvas"},GF=Rt(()=>m("div",{class:"offcanvas-header"},[m("h5",{class:"offcanvas-title",id:"offcanvasNavbarLabel"}," "),m("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),KF={class:"offcanvas-body"},qF=Rt(()=>m("span",{class:"emoji"},"",-1)),QF=Rt(()=>m("span",{class:"emoji"},"",-1)),ZF=Rt(()=>m("span",{class:"emoji"},"",-1)),JF=Rt(()=>m("span",{class:"emoji"},"",-1)),XF=Rt(()=>m("span",{class:"emoji"},"",-1)),e2=Rt(()=>m("span",{class:"emoji"},"",-1)),t2=Rt(()=>m("span",{class:"emoji"},"",-1)),n2=Rt(()=>m("span",{class:"emoji"},"",-1)),s2=Rt(()=>m("p",{style:{color:"red"}},"       !!",-1)),r2=Rt(()=>m("span",{class:"emoji"},null,-1)),i2=Rt(()=>m("span",{class:"emoji"},null,-1)),o2={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasNotifications","aria-labelledby":"offcanvasNotificationsLabel","data-bs-toggle":"offcanvas"},a2=Rt(()=>m("div",{class:"offcanvas-header"},[m("h5",{class:"offcanvas-title",id:"offcanvasNotificationsLabel"},""),m("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),l2={class:"offcanvas-body"},c2={__name:"Sidebar",setup(t){return(e,n)=>{const s=ct("router-link");return D(),F("div",null,[m("nav",HF,[m("div",jF,[UF,ee(s,{to:"/",class:"navbar-brand mx-auto"},{default:De(()=>[He("Todak Todak")]),_:1}),VF,m("div",zF,[GF,m("div",KF,[ee(s,{to:"/goal",class:"nav-link"},{default:De(()=>[qF,He("  ")]),_:1}),ee(s,{to:"/calendar",class:"nav-link"},{default:De(()=>[QF,He(" ")]),_:1}),ee(s,{to:"/meeting",class:"nav-link"},{default:De(()=>[ZF,He(" ")]),_:1}),ee(s,{to:"/board",class:"nav-link"},{default:De(()=>[JF,He(" ")]),_:1}),ee(s,{to:"/Friend",class:"nav-link"},{default:De(()=>[XF,He(" ")]),_:1}),ee(s,{to:"/habit",class:"nav-link"},{default:De(()=>[e2,He(" ")]),_:1}),ee(s,{to:"/voice",class:"nav-link"},{default:De(()=>[t2,He(" ")]),_:1}),ee(s,{to:"/mypage",class:"nav-link"},{default:De(()=>[n2,He(" ")]),_:1}),s2,ee(s,{to:"/subscribe",class:"nav-link",style:{color:"red"}},{default:De(()=>[r2,He(" subscribe")]),_:1}),ee(s,{to:"/pushnotify",class:"nav-link",style:{color:"red"}},{default:De(()=>[i2,He(" pushnotify")]),_:1})])])])]),m("div",o2,[a2,m("div",l2,[ee(WF)])])])}}},u2=Qe(c2,[["__scopeId","data-v-0711383d"]]),d2={setup(){return{}}};function f2(t,e,n,s,r,i){return D(),F("div")}const xg=Qe(d2,[["render",f2]]),kr=Ju({id:"goals",state:()=>({goals:[],nextId:1}),actions:{addGoal(t){const e={id:this.nextId++,...t};this.goals.push(e)},logGoals(){this.goals.forEach(t=>{console.log(`id: ${t.id}, goalContent: ${t.goalContent}, color: ${t.color}`)})},resetGoals(){this.goals=[],this.nextId=1}},persist:{enabled:!0,strategies:[{key:"my_goals",storage:localStorage}]}}),Jc=Ju({id:"todos",state:()=>({todos:[],nextId:1}),actions:{addTodo(t){const e={id:this.nextId++,...t};this.todos.push(e),console.log("todoWithId",e.id)},logTodos(){this.todos.forEach(t=>{console.log(`id: ${t.id}, todoTitle: ${t.todoTitle}, todoContent: ${t.todoContent}, todoDate: ${t.eightDigitDate}, isImportant: ${t.isImportant}`)})},findId(t){let e=null;const n=this.todos;for(let s=0;s<=n.length;s++)if(n[s]&&n[s].todoTitle===t){e=s;break}return n[e].id},resetTodos(){this.todos=[],this.nextId=1}},persist:{enabled:!0,strategies:[{key:"my_todos",storage:localStorage}]}}),Mg=Ju({id:"alarms",state:()=>({alarms:[],nextAlarmId:1}),actions:{addAlarm(t){const e={id:this.nextAlarmId++,...t};this.alarms.push(e),console.log(this.alarms)},resetAlarms(){this.alarms=[],this.nextAlarmId=1},sendPush(t){const e=t.todoTitle||t.habitTitle||"Default Title",n=t.todoContent||"Default message",s=JSON.stringify({pTitle:e,pMsg:n});fetch("https://us-central1-c210-67728.cloudfunctions.net/storePushData",{method:"POST",headers:{"Content-type":"application/json"},body:s}).then(r=>{if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return r.json()}).then(r=>{console.log(r.message)}).catch(r=>console.log("!"+r.message))}},persist:{enabled:!0,strategies:[{key:"my_alarms",storage:localStorage}]}}),h2={components:{Calendar:Pg,DatePicker:Og},data(){return{date:new Date}},methods:{handleDateClick(t){console.log("Selected date:",t),this.$router.push({name:"CalendarDetail",params:{date:t}})}}};function p2(t,e,n,s,r,i){const o=ct("DatePicker");return D(),lt(o,{expanded:"",modelValue:r.date,"onUpdate:modelValue":e[0]||(e[0]=a=>r.date=a),"onClick:date":i.handleDateClick},null,8,["modelValue","onClick:date"])}const Rg=Qe(h2,[["render",p2],["__scopeId","data-v-6f6e2f48"]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const $r=typeof window<"u";function m2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Le=Object.assign;function dc(t,e){const n={};for(const s in e){const r=e[s];n[s]=bn(r)?r.map(t):t(r)}return n}const Wi=()=>{},bn=Array.isArray,v2=/\/$/,_2=t=>t.replace(v2,"");function fc(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=w2(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function g2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function xp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function y2(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&qr(e.matched[s],n.matched[r])&&Ng(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function qr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ng(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!b2(t[n],e[n]))return!1;return!0}function b2(t,e){return bn(t)?Mp(t,e):bn(e)?Mp(e,t):t===e}function Mp(t,e){return bn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function w2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var oo;(function(t){t.pop="pop",t.push="push"})(oo||(oo={}));var Hi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Hi||(Hi={}));function C2(t){if(!t)if($r){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),_2(t)}const E2=/^[^#]+#/;function S2(t,e){return t.replace(E2,"#")+e}function D2(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const _l=()=>({left:window.pageXOffset,top:window.pageYOffset});function T2(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=D2(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Rp(t,e){return(history.state?history.state.position-e:-1)+t}const Xc=new Map;function I2(t,e){Xc.set(t,e)}function $2(t){const e=Xc.get(t);return Xc.delete(t),e}let P2=()=>location.protocol+"//"+location.host;function Lg(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),xp(l,"")}return xp(n,t)+s+r}function k2(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const h=Lg(t,location),v=n.value,y=e.value;let w=0;if(f){if(n.value=h,e.value=f,o&&o===v){o=null;return}w=y?f.position-y.position:0}else s(h);r.forEach(b=>{b(n.value,v,{delta:w,type:oo.pop,direction:w?w>0?Hi.forward:Hi.back:Hi.unknown})})};function l(){o=n.value}function c(f){r.push(f);const h=()=>{const v=r.indexOf(f);v>-1&&r.splice(v,1)};return i.push(h),h}function u(){const{history:f}=window;f.state&&f.replaceState(Le({},f.state,{scroll:_l()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function Np(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?_l():null}}function A2(t){const{history:e,location:n}=window,s={value:Lg(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:P2()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(h){console.error(h),n[u?"replace":"assign"](f)}}function o(l,c){const u=Le({},e.state,Np(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=Le({},r.value,e.state,{forward:l,scroll:_l()});i(u.current,u,!0);const d=Le({},Np(s.value,l,null),{position:u.position+1},c);i(l,d,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function O2(t){t=C2(t);const e=A2(t),n=k2(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Le({location:"",base:t,go:s,createHref:S2.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function x2(t){return typeof t=="string"||t&&typeof t=="object"}function Fg(t){return typeof t=="string"||typeof t=="symbol"}const as={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Yg=Symbol("");var Lp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Lp||(Lp={}));function Qr(t,e){return Le(new Error,{type:t,[Yg]:!0},e)}function Yn(t,e){return t instanceof Error&&Yg in t&&(e==null||!!(t.type&e))}const Fp="[^/]+?",M2={sensitive:!1,strict:!1,start:!0,end:!0},R2=/[.+*?^${}()[\]/\\]/g;function N2(t,e){const n=Le({},M2,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(R2,"\\$&"),h+=40;else if(f.type===1){const{value:v,repeatable:y,optional:w,regexp:b}=f;i.push({name:v,repeatable:y,optional:w});const A=b||Fp;if(A!==Fp){h+=10;try{new RegExp(`(${A})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${v}" (${A}): `+P.message)}}let N=y?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(N=w&&c.length<2?`(?:/${N})`:"/"+N),w&&(N+="?"),r+=N,h+=20,w&&(h+=-8),y&&(h+=-20),A===".*"&&(h+=-50)}u.push(h)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const h=u[f]||"",v=i[f-1];d[v.name]=h&&v.repeatable?h.split("/"):h}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const h of f)if(h.type===0)u+=h.value;else if(h.type===1){const{value:v,repeatable:y,optional:w}=h,b=v in c?c[v]:"";if(bn(b)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const A=bn(b)?b.join("/"):b;if(!A)if(w)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${v}"`);u+=A}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function L2(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function F2(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=L2(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Yp(s))return 1;if(Yp(r))return-1}return r.length-s.length}function Yp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Y2={type:0,value:""},B2=/[a-zA-Z0-9_]/;function W2(t){if(!t)return[[]];if(t==="/")return[[Y2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:B2.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function H2(t,e,n){const s=N2(W2(t.path),n),r=Le(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function j2(t,e){const n=[],s=new Map;e=Hp({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,d,f){const h=!f,v=U2(u);v.aliasOf=f&&f.record;const y=Hp(e,u),w=[v];if("alias"in u){const N=typeof u.alias=="string"?[u.alias]:u.alias;for(const P of N)w.push(Le({},v,{components:f?f.record.components:v.components,path:P,aliasOf:f?f.record:v}))}let b,A;for(const N of w){const{path:P}=N;if(d&&P[0]!=="/"){const O=d.record.path,Y=O[O.length-1]==="/"?"":"/";N.path=d.record.path+(P&&Y+P)}if(b=H2(N,d,y),f?f.alias.push(b):(A=A||b,A!==b&&A.alias.push(b),h&&u.name&&!Wp(b)&&o(u.name)),v.children){const O=v.children;for(let Y=0;Y<O.length;Y++)i(O[Y],b,f&&f.children[Y])}f=f||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return A?()=>{o(A)}:Wi}function o(u){if(Fg(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&F2(u,n[d])>=0&&(u.record.path!==n[d].record.path||!Bg(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!Wp(u)&&s.set(u.record.name,u)}function c(u,d){let f,h={},v,y;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw Qr(1,{location:u});y=f.record.name,h=Le(Bp(d.params,f.keys.filter(A=>!A.optional).map(A=>A.name)),u.params&&Bp(u.params,f.keys.map(A=>A.name))),v=f.stringify(h)}else if("path"in u)v=u.path,f=n.find(A=>A.re.test(v)),f&&(h=f.parse(v),y=f.record.name);else{if(f=d.name?s.get(d.name):n.find(A=>A.re.test(d.path)),!f)throw Qr(1,{location:u,currentLocation:d});y=f.record.name,h=Le({},d.params,u.params),v=f.stringify(h)}const w=[];let b=f;for(;b;)w.unshift(b.record),b=b.parent;return{name:y,path:v,params:h,matched:w,meta:z2(w)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Bp(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function U2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:V2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function V2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function Wp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function z2(t){return t.reduce((e,n)=>Le(e,n.meta),{})}function Hp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Bg(t,e){return e.children.some(n=>n===t||Bg(t,n))}const Wg=/#/g,G2=/&/g,K2=/\//g,q2=/=/g,Q2=/\?/g,Hg=/\+/g,Z2=/%5B/g,J2=/%5D/g,jg=/%5E/g,X2=/%60/g,Ug=/%7B/g,eY=/%7C/g,Vg=/%7D/g,tY=/%20/g;function Pd(t){return encodeURI(""+t).replace(eY,"|").replace(Z2,"[").replace(J2,"]")}function nY(t){return Pd(t).replace(Ug,"{").replace(Vg,"}").replace(jg,"^")}function eu(t){return Pd(t).replace(Hg,"%2B").replace(tY,"+").replace(Wg,"%23").replace(G2,"%26").replace(X2,"`").replace(Ug,"{").replace(Vg,"}").replace(jg,"^")}function sY(t){return eu(t).replace(q2,"%3D")}function rY(t){return Pd(t).replace(Wg,"%23").replace(Q2,"%3F")}function iY(t){return t==null?"":rY(t).replace(K2,"%2F")}function Pa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function oY(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Hg," "),o=i.indexOf("="),a=Pa(o<0?i:i.slice(0,o)),l=o<0?null:Pa(i.slice(o+1));if(a in e){let c=e[a];bn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function jp(t){let e="";for(let n in t){const s=t[n];if(n=sY(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(bn(s)?s.map(i=>i&&eu(i)):[s&&eu(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function aY(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=bn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const lY=Symbol(""),Up=Symbol(""),kd=Symbol(""),zg=Symbol(""),tu=Symbol("");function Ti(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function hs(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Qr(4,{from:n,to:e})):d instanceof Error?a(d):x2(d)?a(Qr(2,{from:e,to:d})):(i&&s.enterCallbacks[r]===i&&typeof d=="function"&&i.push(d),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function hc(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(cY(a)){const c=(a.__vccOpts||a)[e];c&&r.push(hs(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=m2(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&hs(f,n,s,i,o)()}))}}return r}function cY(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Vp(t){const e=Mt(kd),n=Mt(zg),s=S(()=>e.resolve(R(t.to))),r=S(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(qr.bind(null,u));if(f>-1)return f;const h=zp(l[c-2]);return c>1&&zp(u)===h&&d[d.length-1].path!==h?d.findIndex(qr.bind(null,l[c-2])):f}),i=S(()=>r.value>-1&&fY(n.params,s.value.params)),o=S(()=>r.value>-1&&r.value===n.matched.length-1&&Ng(n.params,s.value.params));function a(l={}){return dY(l)?e[R(t.replace)?"replace":"push"](R(t.to)).catch(Wi):Promise.resolve()}return{route:s,href:S(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const uY=ht({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Vp,setup(t,{slots:e}){const n=Xn(Vp(t)),{options:s}=Mt(kd),r=S(()=>({[Gp(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Gp(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Zu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),Ad=uY;function dY(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function fY(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!bn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function zp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Gp=(t,e,n)=>t??e??n,hY=ht({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Mt(tu),r=S(()=>t.route||s.value),i=Mt(Up,0),o=S(()=>{let c=R(i);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=S(()=>r.value.matched[o.value]);Un(Up,S(()=>o.value+1)),Un(lY,a),Un(tu,r);const l=Ce();return ot(()=>[l.value,a.value,t.name],([c,u,d],[f,h,v])=>{u&&(u.instances[d]=c,h&&h!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!qr(u,h)||!f)&&(u.enterCallbacks[d]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return Kp(n.default,{Component:f,route:c});const h=d.props[u],v=h?h===!0?c.params:typeof h=="function"?h(c):h:null,w=Zu(f,Le({},v,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Kp(n.default,{Component:w,route:c})||w}}});function Kp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Od=hY;function pY(t){const e=j2(t.routes,t),n=t.parseQuery||oY,s=t.stringifyQuery||jp,r=t.history,i=Ti(),o=Ti(),a=Ti(),l=bw(as);let c=as;$r&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=dc.bind(null,E=>""+E),d=dc.bind(null,iY),f=dc.bind(null,Pa);function h(E,K){let G,se;return Fg(E)?(G=e.getRecordMatcher(E),se=K):se=E,e.addRoute(se,G)}function v(E){const K=e.getRecordMatcher(E);K&&e.removeRoute(K)}function y(){return e.getRoutes().map(E=>E.record)}function w(E){return!!e.getRecordMatcher(E)}function b(E,K){if(K=Le({},K||l.value),typeof E=="string"){const g=fc(n,E,K.path),C=e.resolve({path:g.path},K),$=r.createHref(g.fullPath);return Le(g,C,{params:f(C.params),hash:Pa(g.hash),redirectedFrom:void 0,href:$})}let G;if("path"in E)G=Le({},E,{path:fc(n,E.path,K.path).path});else{const g=Le({},E.params);for(const C in g)g[C]==null&&delete g[C];G=Le({},E,{params:d(g)}),K.params=d(K.params)}const se=e.resolve(G,K),ye=E.hash||"";se.params=u(f(se.params));const Pe=g2(s,Le({},E,{hash:nY(ye),path:se.path})),p=r.createHref(Pe);return Le({fullPath:Pe,hash:ye,query:s===jp?aY(E.query):E.query||{}},se,{redirectedFrom:void 0,href:p})}function A(E){return typeof E=="string"?fc(n,E,l.value.path):Le({},E)}function N(E,K){if(c!==E)return Qr(8,{from:K,to:E})}function P(E){return V(E)}function O(E){return P(Le(A(E),{replace:!0}))}function Y(E){const K=E.matched[E.matched.length-1];if(K&&K.redirect){const{redirect:G}=K;let se=typeof G=="function"?G(E):G;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=A(se):{path:se},se.params={}),Le({query:E.query,hash:E.hash,params:"path"in se?{}:E.params},se)}}function V(E,K){const G=c=b(E),se=l.value,ye=E.state,Pe=E.force,p=E.replace===!0,g=Y(G);if(g)return V(Le(A(g),{state:typeof g=="object"?Le({},ye,g.state):ye,force:Pe,replace:p}),K||G);const C=G;C.redirectedFrom=K;let $;return!Pe&&y2(s,se,G)&&($=Qr(16,{to:C,from:se}),ve(se,se,!0,!1)),($?Promise.resolve($):Z(C,se)).catch(T=>Yn(T)?Yn(T,2)?T:W(T):fe(T,C,se)).then(T=>{if(T){if(Yn(T,2))return V(Le({replace:p},A(T.to),{state:typeof T.to=="object"?Le({},ye,T.to.state):ye,force:Pe}),K||C)}else T=I(C,se,!0,p,ye);return ie(C,se,T),T})}function k(E,K){const G=N(E,K);return G?Promise.reject(G):Promise.resolve()}function H(E){const K=$e.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(E):E()}function Z(E,K){let G;const[se,ye,Pe]=mY(E,K);G=hc(se.reverse(),"beforeRouteLeave",E,K);for(const g of se)g.leaveGuards.forEach(C=>{G.push(hs(C,E,K))});const p=k.bind(null,E,K);return G.push(p),Oe(G).then(()=>{G=[];for(const g of i.list())G.push(hs(g,E,K));return G.push(p),Oe(G)}).then(()=>{G=hc(ye,"beforeRouteUpdate",E,K);for(const g of ye)g.updateGuards.forEach(C=>{G.push(hs(C,E,K))});return G.push(p),Oe(G)}).then(()=>{G=[];for(const g of Pe)if(g.beforeEnter)if(bn(g.beforeEnter))for(const C of g.beforeEnter)G.push(hs(C,E,K));else G.push(hs(g.beforeEnter,E,K));return G.push(p),Oe(G)}).then(()=>(E.matched.forEach(g=>g.enterCallbacks={}),G=hc(Pe,"beforeRouteEnter",E,K),G.push(p),Oe(G))).then(()=>{G=[];for(const g of o.list())G.push(hs(g,E,K));return G.push(p),Oe(G)}).catch(g=>Yn(g,8)?g:Promise.reject(g))}function ie(E,K,G){a.list().forEach(se=>H(()=>se(E,K,G)))}function I(E,K,G,se,ye){const Pe=N(E,K);if(Pe)return Pe;const p=K===as,g=$r?history.state:{};G&&(se||p?r.replace(E.fullPath,Le({scroll:p&&g&&g.scroll},ye)):r.push(E.fullPath,ye)),l.value=E,ve(E,K,G,p),W()}let Q;function me(){Q||(Q=r.listen((E,K,G)=>{if(!Ze.listening)return;const se=b(E),ye=Y(se);if(ye){V(Le(ye,{replace:!0}),se).catch(Wi);return}c=se;const Pe=l.value;$r&&I2(Rp(Pe.fullPath,G.delta),_l()),Z(se,Pe).catch(p=>Yn(p,12)?p:Yn(p,2)?(V(p.to,se).then(g=>{Yn(g,20)&&!G.delta&&G.type===oo.pop&&r.go(-1,!1)}).catch(Wi),Promise.reject()):(G.delta&&r.go(-G.delta,!1),fe(p,se,Pe))).then(p=>{p=p||I(se,Pe,!1),p&&(G.delta&&!Yn(p,8)?r.go(-G.delta,!1):G.type===oo.pop&&Yn(p,20)&&r.go(-1,!1)),ie(se,Pe,p)}).catch(Wi)}))}let ne=Ti(),re=Ti(),le;function fe(E,K,G){W(E);const se=re.list();return se.length?se.forEach(ye=>ye(E,K,G)):console.error(E),Promise.reject(E)}function Ae(){return le&&l.value!==as?Promise.resolve():new Promise((E,K)=>{ne.add([E,K])})}function W(E){return le||(le=!E,me(),ne.list().forEach(([K,G])=>E?G(E):K()),ne.reset()),E}function ve(E,K,G,se){const{scrollBehavior:ye}=t;if(!$r||!ye)return Promise.resolve();const Pe=!G&&$2(Rp(E.fullPath,0))||(se||!G)&&history.state&&history.state.scroll||null;return Bn().then(()=>ye(E,K,Pe)).then(p=>p&&T2(p)).catch(p=>fe(p,E,K))}const te=E=>r.go(E);let We;const $e=new Set,Ze={currentRoute:l,listening:!0,addRoute:h,removeRoute:v,hasRoute:w,getRoutes:y,resolve:b,options:t,push:P,replace:O,go:te,back:()=>te(-1),forward:()=>te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:re.add,isReady:Ae,install(E){const K=this;E.component("RouterLink",Ad),E.component("RouterView",Od),E.config.globalProperties.$router=K,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>R(l)}),$r&&!We&&l.value===as&&(We=!0,P(r.location).catch(ye=>{}));const G={};for(const ye in as)Object.defineProperty(G,ye,{get:()=>l.value[ye],enumerable:!0});E.provide(kd,K),E.provide(zg,pv(G)),E.provide(tu,l);const se=E.unmount;$e.add(E),E.unmount=function(){$e.delete(E),$e.size<1&&(c=as,Q&&Q(),Q=null,l.value=as,We=!1,le=!1),se()}}};function Oe(E){return E.reduce((K,G)=>K.then(()=>H(G)),Promise.resolve())}return Ze}function mY(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>qr(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>qr(c,l))||r.push(l))}return[n,s,r]}const vY={name:"Sidebar",components:{Calendar:Rg,RouterView:Od,RouterLink:Ad},methods:{closeSidebar(){console.log("closeSidebar method called"),this.$root.$emit("bv::toggle::offcanvas","offcanvasNavbar")}}},gl=t=>(Dt("data-v-a03a9931"),t=t(),Tt(),t),_Y={class:"navbar bg-body-tertiary fixed-top"},gY={class:"container-fluid d-flex justify-content-between align-items-center"},yY=gl(()=>m("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"},[m("span",{class:"navbar-toggler-icon"})],-1)),bY=gl(()=>m("a",{class:"navbar-brand mx-auto",href:"#"},"",-1)),wY=gl(()=>m("button",{type:"button",class:"btn btn-primary","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNotifications","aria-controls":"offcanvasNotifications"},"  ",-1)),CY={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel"},EY=gl(()=>m("div",{class:"offcanvas-header"},[m("h5",{class:"offcanvas-title",id:"offcanvasNavbarLabel"},"Todak"),m("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),SY={class:"offcanvas-body"},DY={class:"navbar-nav justify-content-end flex-grow-1 pe-3"},TY={class:"nav-item"},IY=EC('<li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931></a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931></a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931></a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931></a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931></a></li><li class="nav-item" data-v-a03a9931><a class="nav-link" href="#" data-v-a03a9931></a></li>',6);function $Y(t,e,n,s,r,i){const o=ct("RouterLink");return D(),F("div",null,[m("nav",_Y,[m("div",gY,[yY,bY,wY,m("div",CY,[EY,m("div",SY,[m("ul",DY,[m("li",TY,[ee(o,{onClick:i.closeSidebar,to:"/calendar"},{default:De(()=>[He("")]),_:1},8,["onClick"])]),IY])])])])])])}const PY=Qe(vY,[["render",$Y],["__scopeId","data-v-a03a9931"]]),kY={props:{item:{type:Object,required:!0}},methods:{closeModal(){this.$emit("close-modal")}}},Gg=t=>(Dt("data-v-e83fff5e"),t=t(),Tt(),t),AY={class:"modal-content"},OY=Gg(()=>m("h4",null,"TodoDetail ",-1)),xY=Gg(()=>m("p",null,"TodoDetail ",-1));function MY(t,e,n,s,r,i){return D(),F("div",AY,[m("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))}),OY,xY,m("p",null," : "+we(n.item.todoTitle),1),m("p",null," : "+we(n.item.todoContent),1),m("p",null,"  : "+we(n.item.isOutside),1),m("p",null,"  : "+we(n.item.time),1)])}const RY=Qe(kY,[["render",MY],["__scopeId","data-v-e83fff5e"]]),NY={setup(){return{}}};function LY(t,e,n,s,r,i){return D(),F("div")}const FY=Qe(NY,[["render",LY]]),YY={props:{item:{type:Object,required:!0}},methods:{closeModal(){this.$emit("close-modal")}}},BY=t=>(Dt("data-v-4a71277d"),t=t(),Tt(),t),WY={class:"modal-content"},HY=BY(()=>m("p",null," :",-1));function jY(t,e,n,s,r,i){return D(),F("div",WY,[m("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))}),m("p",null,": "+we(n.item.goalContent),1),HY])}const UY=Qe(YY,[["render",jY],["__scopeId","data-v-4a71277d"]]),VY={data(){return{selectedGoal:"",todoId:"",todoTitle:"",todoContent:"",todoDate:"",isImportant:!1,isAlarmed:!1,day:"",time:"",isOutside:!1,isChecked:!1,isCompleted:!1}},computed:{goals(){return kr().goals}},methods:{closeModal(){this.$emit("close-modal")},eightDigitDate(t){const e=new Date,n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${n}${s}${r}`},fourDigitTime(t){const[e,n]=t.split(":");return e+n},submitTodo(){const t=Jc(),e=Mg(),n=new Date,s=this.time;if(t.addTodo({goalId:this.selectedGoal.id,todoTitle:this.todoTitle,todoContent:this.todoContent,todoDate:this.eightDigitDate(n),isImportant:this.isImportant}),this.todoId=t.findId(this.todoTitle),this.day=(n.getDay()+6)%7,this.closeModal(),this.isAlarmed){const r=this.fourDigitTime(s);this.time=r}e.addAlarm({todoId:this.todoId,day:this.day,time:this.time,isOutside:this.isOutside,isAlarmed:this.isAlarmed,isChecked:this.isChecked,isCompleted:this.isCompleted})}}},Ln=t=>(Dt("data-v-97745203"),t=t(),Tt(),t),zY={class:"modal-content",style:{"border-radius":"10px"}},GY={class:"modal-title"},KY={class:"form-group"},qY=Ln(()=>m("label",{for:"selectedGoal"},":",-1)),QY=["value"],ZY={class:"form-group"},JY=Ln(()=>m("label",{for:"todoTitle"},":",-1)),XY={class:"form-group"},eB=Ln(()=>m("label",{for:"todoContent"},":",-1)),tB={class:"form-group"},nB=Ln(()=>m("label",null,":",-1)),sB={class:"form-check form-switch"},rB=Ln(()=>m("label",{class:"form-check-label",for:"importantSwitch"},null,-1)),iB={class:"form-group"},oB=Ln(()=>m("label",null," :",-1)),aB={class:"form-check form-switch"},lB=Ln(()=>m("label",{class:"form-check-label",for:"outsideSwitch"},null,-1)),cB={class:"form-group"},uB=Ln(()=>m("label",null," :",-1)),dB={class:"custom-control custom-switch"},fB={class:"form-check form-switch"},hB=Ln(()=>m("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1)),pB={key:0,class:"form-group"},mB=Ln(()=>m("label",{for:"time"}," :",-1));function vB(t,e,n,s,r,i){return D(),F("div",zY,[m("div",GY,[m("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...o)=>i.closeModal&&i.closeModal(...o))})]),m("form",null,[m("div",KY,[qY,Ft(m("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.selectedGoal=o),id:"selectedGoal",class:"form-control"},[(D(!0),F(Te,null,at(i.goals,o=>(D(),F("option",{key:o.id,value:o},we(o.goalContent),9,QY))),128))],512),[[o1,r.selectedGoal]])]),m("div",ZY,[JY,Ft(m("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.todoTitle=o),type:"text",id:"todoTitle",class:"form-control",required:""},null,512),[[Cs,r.todoTitle]])]),m("div",XY,[eB,Ft(m("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.todoContent=o),id:"todoContent",class:"form-control",rows:"3"},null,512),[[Cs,r.todoContent]])]),m("div",tB,[nB,m("div",sB,[Ft(m("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>r.isImportant=o),class:"form-check-input",type:"checkbox",role:"switch",id:"importantSwitch"},null,512),[[nc,r.isImportant]]),rB])]),m("div",iB,[oB,m("div",aB,[Ft(m("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>r.isOutside=o),class:"form-check-input",type:"checkbox",role:"switch",id:"outsideSwitch"},null,512),[[nc,r.isOutside]]),lB])]),m("div",cB,[uB,m("div",dB,[m("div",fB,[Ft(m("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r.isAlarmed=o),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,512),[[nc,r.isAlarmed]]),hB])])]),r.isAlarmed?(D(),F("div",pB,[mB,Ft(m("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>r.time=o),type:"time",id:"time",class:"form-control"},null,512),[[Cs,r.time]])])):Ke("",!0),m("button",{type:"submit",class:"btn btn-primary",onClick:e[8]||(e[8]=(...o)=>i.submitTodo&&i.submitTodo(...o))},"")])])}const _B=Qe(VY,[["render",vB],["__scopeId","data-v-97745203"]]),gB={name:"App",computed:{goals(){return kr().goals},todos(){return Jc().todos}},data(){return{is_modal_valid:!1,activeModal:null,today:"",currentItem:null}},components:{Sidebar:PY,GoalList:FY,GoalDetail:UY,TodoList:xg,TodoDetail:RY,AddTodo:_B},methods:{openModal(t,e=null){if(t==="AddTodo"&&kr().goals.length===0){alert("      :)");return}this.is_modal_valid=!0,this.activeModal=t,this.currentItem=e},closeModal(){this.is_modal_valid=!1,this.activeModal=null},updateToday(){const t=new Date,e={month:"2-digit",day:"2-digit",weekday:"long"};this.today=t.toLocaleDateString("ko-KR",e)},getGoalColor(t){const n=kr().goals.find(s=>s.id===t.goalId);return n?n.color:"defaultColor"},clearGoals(){const t=kr(),e=Jc(),n=Mg();t.resetGoals(),e.resetTodos(),n.resetAlarms(),localStorage.removeItem("my_goals"),localStorage.removeItem("my_todos"),localStorage.removeItem("my_alarms")}},mounted(){this.updateToday()}},yl=t=>(Dt("data-v-b1fc3de8"),t=t(),Tt(),t),yB={key:0,class:"black-bg"},bB=yl(()=>m("div",{class:"top-bar"},[m("div",{class:"quote"},'"   "'),m("div",null," ")],-1)),wB={class:"todo-section"},CB={class:"todo-date"},EB={class:"todo-items"},SB=["onClick"],DB=yl(()=>m("input",{type:"checkbox"},null,-1)),TB={class:"todo-section"},IB=yl(()=>m("div",{class:"todo-date"},[m("div",{style:{"margin-bottom":"5px","margin-top":"5px"}},"")],-1)),$B=["onClick"],PB=yl(()=>m("input",{type:"checkbox"},null,-1));function kB(t,e,n,s,r,i){return D(),F("div",null,[r.is_modal_valid?(D(),F("div",yB,[(D(),lt(Vu(r.activeModal),{item:r.currentItem,onCloseModal:i.closeModal},null,40,["item","onCloseModal"]))])):Ke("",!0),bB,m("div",wB,[m("div",CB,[m("span",null,we(r.today),1),m("button",{class:"add-button",onClick:e[0]||(e[0]=o=>i.openModal("AddTodo"))},"+")]),m("div",EB,[(D(!0),F(Te,null,at(i.todos,o=>(D(),F("div",{class:"todo-item",key:o.id},[m("div",{class:"color-bar",style:qt({backgroundColor:i.getGoalColor(o)})},null,4),m("span",{onClick:a=>i.openModal("TodoDetail",o),class:"goal-content"},we(o.todoTitle),9,SB),DB]))),128))])]),m("div",TB,[IB,(D(!0),F(Te,null,at(i.goals,o=>(D(),F("div",{class:"todo-item",key:o.id},[m("div",{class:"color-circle",style:qt({backgroundColor:o.color})},null,4),m("span",{onClick:a=>i.openModal("GoalDetail",o),class:"goal-content"},we(o.goalContent),9,$B),PB]))),128)),m("button",{onClick:e[1]||(e[1]=(...o)=>i.clearGoals&&i.clearGoals(...o))},"      ")])])}const nu=Qe(gB,[["render",kB],["__scopeId","data-v-b1fc3de8"]]),AB={key:0,class:"user-data"},OB={class:"user-photo"},xB=["src"],MB={class:"user-profile"},RB={__name:"UserInfo",setup(t){const e=Ce({name:"",memo:" ",profilePicture:"/src/assets/damgom.png"});return(n,s)=>(D(),F("div",null,[e.value?(D(),F("div",AB,[m("div",OB,[m("img",{src:e.value.profilePicture,alt:" ",class:"profile-image mr-2"},null,8,xB)]),m("div",MB,[m("h3",null,[m("strong",null,we(e.value.name),1)]),m("p",null,[m("strong",null,we(e.value.memo),1)])])])):Ke("",!0)]))}},NB=Qe(RB,[["__scopeId","data-v-f43aac50"]]),Kg=t=>(Dt("data-v-f33e9107"),t=t(),Tt(),t),LB={class:"success-rate"},FB=Kg(()=>m("p",{class:"success-rate-title"},"Success Rate",-1)),YB={class:"progress-circle-container"},BB=Kg(()=>m("div",{class:"rate-container"},[m("div",{class:"unsuccessful-rate"},"Unsuccessful"),m("div",{class:"successful-rate"},"Successful")],-1)),WB={__name:"SuccessRate",setup(t){const e={completionRate:Number},n=()=>e.completionRate/100*360,s=()=>`hsl(${e.completionRate*1.2}, 70%, 50%)`;return(r,i)=>(D(),F("div",LB,[FB,m("div",YB,[m("div",{class:"progress-circle",style:qt({background:s()})},[m("div",{class:"progress-fill",style:qt({transform:`rotate(${n()}deg)`})},null,4)],4)]),BB]))}},HB=Qe(WB,[["__scopeId","data-v-f33e9107"]]),jB=t=>(Dt("data-v-08c51cfb"),t=t(),Tt(),t),UB={class:"goal-success-rate"},VB=jB(()=>m("p",{class:"goal-success-rate-title"}," ",-1)),zB={class:"goal-name"},GB={class:"success-rate"},KB={__name:"GoalSuccessRate",setup(t){const e=Ce([{name:" 1",successRate:80},{name:" 2",successRate:60}]);return(n,s)=>(D(),F("div",UB,[VB,(D(!0),F(Te,null,at(e.value,(r,i)=>(D(),F("div",{key:i,class:"goal-item"},[m("p",zB,we(r.name),1),m("p",GB,we(r.successRate)+"%",1)]))),128))]))}},qB=Qe(KB,[["__scopeId","data-v-08c51cfb"]]),QB={components:{UserInfo:NB,SuccessRate:HB,GoalSuccessRate:qB},data(){return{userData:null,successRate:null,goalRate:null}},mounted(){this.fetchUserData()},methods:{async fetchUserData(){}}},ZB={class:"mt-5"};function JB(t,e,n,s,r,i){const o=ct("UserInfo"),a=ct("SuccessRate"),l=ct("GoalSuccessRate");return D(),F("div",ZB,[ee(o,{userData:r.userData},null,8,["userData"]),ee(a,{successRate:r.successRate},null,8,["successRate"]),ee(l,{goalRate:r.goalRate},null,8,["goalRate"])])}const qg=Qe(QB,[["render",JB]]);let XB=new Date;console.log(XB);const eW={name:"App",data(){return{is_modal_valid:!1}},components:{Sidebar:u2,TodoList:xg,Main:nu,MyPage:qg,RouterView:Od,RouterLink:Ad},methods:{closeModal(){this.is_modal_valid=!1}}},tW={id:"app"},nW={class:"bottom-nav"};function sW(t,e,n,s,r,i){const o=ct("Sidebar"),a=ct("RouterLink"),l=ct("RouterView");return D(),F("div",tW,[ee(o),m("div",nW,[ee(a,{to:"/Main"},{default:De(()=>[He("Home")]),_:1}),ee(a,{to:"/Calendar"},{default:De(()=>[He("Calendar")]),_:1}),ee(a,{to:"/Friend"},{default:De(()=>[He("Friends")]),_:1}),ee(a,{to:"/Meeting"},{default:De(()=>[He("Meeting")]),_:1}),ee(a,{to:"/mypage"},{default:De(()=>[He("MyPage")]),_:1})]),ee(l)])}const rW=Qe(eW,[["render",sW]]),iW={data(){return{goalContent:"",color:""}},methods:{submitGoal(){kr().addGoal({goalContent:this.goalContent,color:this.color}),this.$router.push("/Main")}}},xd=t=>(Dt("data-v-95d1c88e"),t=t(),Tt(),t),oW={class:"modal-content",style:{"border-radius":"10px"}},aW={class:"form-group"},lW=xd(()=>m("label",{for:"goalContent"}," :",-1)),cW={class:"form-group"},uW=xd(()=>m("label",{for:"color"}," :",-1)),dW=xd(()=>m("button",{type:"submit",class:"btn btn-primary"},"",-1));function fW(t,e,n,s,r,i){return D(),F("div",oW,[m("form",{onSubmit:e[2]||(e[2]=to((...o)=>i.submitGoal&&i.submitGoal(...o),["prevent"]))},[m("div",aW,[lW,Ft(m("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.goalContent=o),type:"text",id:"goalContent",class:"form-control",required:""},null,512),[[Cs,r.goalContent]])]),m("div",cW,[uW,Ft(m("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.color=o),type:"text",id:"color",class:"form-control",required:""},null,512),[[Cs,r.color]])]),dW],32)])}const hW=Qe(iW,[["render",fW],["__scopeId","data-v-95d1c88e"]]),pW={};function mW(t,e){return D(),F("div")}const vW=Qe(pW,[["render",mW]]),Qg=t=>(Dt("data-v-8e2fbff8"),t=t(),Tt(),t),_W={class:"room-card"},gW=Qg(()=>m("hr",null,null,-1)),yW=Qg(()=>m("hr",null,null,-1)),bW={__name:"RoomCard",props:["room"],setup(t){const e=t,n=S(()=>{const s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return new Date(e.room.creationTime).toLocaleDateString("ko-KR",s)});return(s,r)=>(D(),F("div",_W,[m("h4",null,we(t.room.title),1),gW,m("p",null,"   : "+we(t.room.currentMembers),1),yW,m("p",null,"  : "+we(n.value),1)]))}},wW=Qe(bW,[["__scopeId","data-v-8e2fbff8"]]),CW={data(){return{newRoom:{title:""}}},methods:{createRoom(){this.$emit("create",this.newRoom)}}},bl=t=>(Dt("data-v-7f7dfe79"),t=t(),Tt(),t),EW={class:"modal-dialog"},SW={class:"modal-content"},DW={class:"modal-header"},TW=bl(()=>m("h5",{class:"modal-title"},"  ",-1)),IW=bl(()=>m("span",{"aria-hidden":"true"},"",-1)),$W=[IW],PW={class:"modal-body"},kW={class:"form-group"},AW=bl(()=>m("label",{for:"roomTitle"}," :",-1)),OW=bl(()=>m("button",{type:"submit",class:"btn btn-primary"},"",-1));function xW(t,e,n,s,r,i){return D(),F("div",{class:"modal",onClick:e[3]||(e[3]=to(o=>t.$emit("close"),["self"]))},[m("div",EW,[m("div",SW,[m("div",DW,[TW,m("button",{type:"button",class:"close",onClick:e[0]||(e[0]=o=>t.$emit("close"))},$W)]),m("div",PW,[m("form",{onSubmit:e[2]||(e[2]=to((...o)=>i.createRoom&&i.createRoom(...o),["prevent"]))},[m("div",kW,[AW,Ft(m("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.newRoom.title=o),type:"text",class:"form-control",id:"roomTitle",required:""},null,512),[[Cs,r.newRoom.title]])]),OW],32)])])])])}const MW=Qe(CW,[["render",xW],["__scopeId","data-v-7f7dfe79"]]),RW={class:"container mt-5"},NW={class:"form-group"},LW={key:0},FW={key:1},YW=m("p",null,"  .",-1),BW=[YW],WW={__name:"Meeting",setup(t){const e=Ce([{id:1,title:" ",currentMembers:5,creationTime:new Date},{id:2,title:" ",currentMembers:3,creationTime:new Date},{id:3,title:"study with me",currentMembers:4,creationTime:new Date}]),n=Xn({title:""}),s=Ce(!1),r=Ce(""),i=Ce([]),o=()=>{s.value=!0},a=()=>{s.value=!1},l=()=>{e.value.push({id:e.value.length+1,title:n.title,currentMembers:0,creationTime:new Date}),n.title="",a()},c=()=>{const u=r.value.toLowerCase();i.value=e.value.filter(d=>d.title.toLowerCase().includes(u))};return c(),ot(r,()=>{c()}),(u,d)=>(D(),F("div",RW,[m("div",NW,[Ft(m("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),type:"text",class:"form-control",placeholder:"  "},null,512),[[Cs,r.value]])]),i.value.length>0?(D(),F("div",LW,[(D(!0),F(Te,null,at(i.value,f=>(D(),lt(wW,{key:f.id,room:f},null,8,["room"]))),128))])):(D(),F("div",FW,BW)),m("button",{class:"btn btn-primary mt-3",onClick:o},"  "),s.value?(D(),lt(MW,{key:2,onClose:a,onCreate:l})):Ke("",!0)]))}},HW={};function jW(t,e){return D(),F("div")}const UW=Qe(HW,[["render",jW]]),Md=t=>(Dt("data-v-1eeb0a48"),t=t(),Tt(),t),VW={class:"app mt-5"},zW={class:"word-voice-edit"},GW=Md(()=>m("p",{class:"voice-title"}," ",-1)),KW={class:"voice-box"},qW={class:"material-switch"},QW=["id"],ZW=["for"],JW=Md(()=>m("br",null,null,-1)),XW=Md(()=>m("p",{class:"voice-title"},"  ",-1)),eH={class:"voice-box"},tH={class:"material-switch"},nH=["id"],sH=["for"],rH={__name:"Voice",setup(t){const e=Ce([]),n=Ce([]);for(let s=1;s<=15;s++)e.value.push({id:`usable-${s}`,name:"  "+s}),n.value.push({id:`training-${s}`,name:"  "+s});return(s,r)=>{const i=ct("router-link");return D(),F("div",VW,[m("p",zW,[He(" "),ee(i,{to:{name:"VoiceTrainer"},style:{"font-size":"40px"}},{default:De(()=>[He("+")]),_:1})]),GW,m("div",KW,[m("dl",null,[(D(!0),F(Te,null,at(e.value,o=>(D(),F("div",{key:o.id,class:"voice"},[m("dt",null,we(o.name),1),m("dd",null,[m("div",qW,[m("input",{id:`switch-${o.id}`,name:"s`switch-${voice.id}`",type:"checkbox"},null,8,QW),m("label",{for:`switch-${o.id}`,class:"default-color"},null,8,ZW)])])]))),128))])]),JW,XW,m("div",eH,[m("dl",null,[(D(!0),F(Te,null,at(n.value,o=>(D(),F("div",{key:o.id,class:"voice"},[m("dt",null,we(o.name),1),m("dd",null,[m("div",tH,[m("input",{id:`switch-${o.id}`,name:"s`switch-${voice.id}`",type:"checkbox"},null,8,nH),m("label",{for:`switch-${o.id}`,class:"default-color"},null,8,sH)])])]))),128))])])])}}},iH=Qe(rH,[["__scopeId","data-v-1eeb0a48"]]);let oH=Ce([{id:1,name:".  ."},{id:2,name:".  ."},{id:3,name:".  ."}]),aH=Ce(1);const lH={name:"App",data(){return{sentences:oH,currentSentenceId:aH}},computed:{currentSentence(){return this.sentences[this.currentSentenceId]}},methods:{prevSentence(){this.currentSentenceId>0&&this.currentSentenceId--},nextSentence(){this.currentSentenceId<this.sentences.length-1&&this.currentSentenceId++}}},wl=t=>(Dt("data-v-bc3a8459"),t=t(),Tt(),t),cH={class:"app mt-5"},uH={class:"voice-title"},dH={class:"sentence-box"},fH=wl(()=>m("p",null,"   .",-1)),hH={p:""},pH={class:"buttons"},mH=["disabled"],vH=["disabled"],_H=wl(()=>m("br",null,null,-1)),gH=wl(()=>m("p",{class:"voice-title"},"  ",-1)),yH=wl(()=>m("div",{class:"voice-box"},null,-1));function bH(t,e,n,s,r,i){return D(),F("div",cH,[m("p",uH,[He("  "),m("button",{onClick:e[0]||(e[0]=o=>t.$router.back())},"back")]),m("div",dH,[fH,m("p",null,we(i.currentSentence.name),1),m("p",hH,we(i.currentSentence.id)+" / "+we(r.sentences.length),1),m("div",pH,[m("button",{onClick:e[1]||(e[1]=(...o)=>i.prevSentence&&i.prevSentence(...o)),disabled:t.currentSentenceIndex===0},"<",8,mH),m("button",{onClick:e[2]||(e[2]=(...o)=>i.nextSentence&&i.nextSentence(...o)),disabled:t.currentSentenceIndex===r.sentences.length-1},">",8,vH)])]),_H,gH,yH])}const wH=Qe(lH,[["render",bH],["__scopeId","data-v-bc3a8459"]]);var qp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U=function(t,e){if(!t)throw hi(e)},hi=function(t){return new Error("Firebase Database ("+Zg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},CH=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Rd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),s.push(n[u],n[d],n[f],n[h])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||d==null)throw new EH;const f=i<<2|a>>4;if(s.push(f),c!==64){const h=a<<4&240|c>>2;if(s.push(h),d!==64){const v=c<<6&192|d;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xg=function(t){const e=Jg(t);return Rd.encodeByteArray(e,!0)},ka=function(t){return Xg(t).replace(/\./g,"")},su=function(t){try{return Rd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SH(t){return ao(void 0,t)}function ao(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!DH(n)||(t[n]=ao(t[n],e[n]));return t}function DH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=()=>TH().__FIREBASE_DEFAULTS__,$H=()=>{if(typeof process>"u"||typeof qp>"u")return;const t=qp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&su(t[1]);return e&&JSON.parse(e)},kH=()=>{try{return IH()||$H()||PH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ey=()=>{var t;return(t=kH())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ka(JSON.stringify(n)),ka(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ty(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(OH())}function xH(){return typeof self=="object"&&self.self===self}function MH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ny(){return Zg.NODE_ADMIN===!0}function RH(){try{return typeof indexedDB=="object"}catch{return!1}}function NH(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH="FirebaseError";class pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=LH,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cl.prototype.create)}}class Cl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?FH(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new pi(r,a,s)}}function FH(t,e){return t.replace(YH,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const YH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){return JSON.parse(t)}function dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=function(t){let e={},n={},s={},r="";try{const i=t.split(".");e=lo(su(i[0])||""),n=lo(su(i[1])||""),r=i[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:r}},BH=function(t){const e=sy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},WH=function(t){const e=sy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ru(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Aa(t,e,n){const s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=e.call(n,t[r],r,t));return s}function iu(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Qp(i)&&Qp(o)){if(!iu(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Qp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HH(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(r<<5|r>>>27)+c+l+u+s[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=s;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<n;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let r=0;r<5;r++)for(let i=24;i>=0;i-=8)e[s]=this.chain_[r]>>i&255,++s;return e}}function UH(t,e){const n=new VH(t,e);return n.subscribe.bind(n)}class VH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zH(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=pc),r.error===void 0&&(r.error=pc),r.complete===void 0&&(r.complete=pc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pc(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe=function(t,e,n,s){let r;if(s<e?r="at least "+e:s>n&&(r=n===0?"none":"no more than "+n),r){const i=t+" failed: Was called with "+s+(s===1?" argument.":" arguments.")+" Expects "+r+".";throw new Error(i)}};function jt(t,e){return`${t} failed: ${e} argument `}function vt(t,e,n,s){if(!(s&&!n)&&typeof n!="function")throw new Error(jt(t,e)+"must be a valid function.")}function Zp(t,e,n,s){if(!(s&&!n)&&(typeof n!="object"||n===null))throw new Error(jt(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);if(r>=55296&&r<=56319){const i=r-55296;s++,U(s<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(s)-56320;r=65536+(i<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},El=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class Zn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Yt;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qH(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KH(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KH(t){return t===qs?void 0:t}function qH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ou(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=[];var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const iy={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},QH=je.INFO,ZH={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},JH=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=ZH[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sl{constructor(e){this.name=e,this._logLevel=QH,this._logHandler=JH,this._userLogHandler=null,Nd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function XH(t){Nd.forEach(e=>{e.setLogLevel(t)})}function e3(t,e){for(const n of Nd){let s=null;e&&e.level&&(s=iy[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(r,i,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");i>=(s??r.logLevel)&&t({level:je[i].toLowerCase(),message:a,args:o,type:r.name})}}}const t3=(t,e)=>e.some(n=>t instanceof n);let Jp,Xp;function n3(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s3(){return Xp||(Xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oy=new WeakMap,au=new WeakMap,ay=new WeakMap,mc=new WeakMap,Ld=new WeakMap;function r3(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Es(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&oy.set(n,t)}).catch(()=>{}),Ld.set(e,t),e}function i3(t){if(au.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});au.set(t,e)}let lu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return au.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ay.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o3(t){lu=t(lu)}function a3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(vc(this),e,...n);return ay.set(s,e.sort?e.sort():[e]),Es(s)}:s3().includes(t)?function(...e){return t.apply(vc(this),e),Es(oy.get(this))}:function(...e){return Es(t.apply(vc(this),e))}}function l3(t){return typeof t=="function"?a3(t):(t instanceof IDBTransaction&&i3(t),t3(t,n3())?new Proxy(t,lu):t)}function Es(t){if(t instanceof IDBRequest)return r3(t);if(mc.has(t))return mc.get(t);const e=l3(t);return e!==t&&(mc.set(t,e),Ld.set(e,t)),e}const vc=t=>Ld.get(t);function c3(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Es(o);return s&&o.addEventListener("upgradeneeded",l=>{s(Es(o.result),l.oldVersion,l.newVersion,Es(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const u3=["get","getKey","getAll","getAllKeys","count"],d3=["put","add","delete","clear"],_c=new Map;function em(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_c.get(e))return _c.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=d3.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||u3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return _c.set(e,i),i}o3(t=>({...t,get:(e,n,s)=>em(e,n)||t.get(e,n,s),has:(e,n)=>!!em(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h3(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function h3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cu="@firebase/app",tm="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Sl("@firebase/app"),p3="@firebase/app-compat",m3="@firebase/analytics-compat",v3="@firebase/analytics",_3="@firebase/app-check-compat",g3="@firebase/app-check",y3="@firebase/auth",b3="@firebase/auth-compat",w3="@firebase/database",C3="@firebase/database-compat",E3="@firebase/functions",S3="@firebase/functions-compat",D3="@firebase/installations",T3="@firebase/installations-compat",I3="@firebase/messaging",$3="@firebase/messaging-compat",P3="@firebase/performance",k3="@firebase/performance-compat",A3="@firebase/remote-config",O3="@firebase/remote-config-compat",x3="@firebase/storage",M3="@firebase/storage-compat",R3="@firebase/firestore",N3="@firebase/firestore-compat",L3="firebase",F3="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]",Y3={[cu]:"fire-core",[p3]:"fire-core-compat",[v3]:"fire-analytics",[m3]:"fire-analytics-compat",[g3]:"fire-app-check",[_3]:"fire-app-check-compat",[y3]:"fire-auth",[b3]:"fire-auth-compat",[w3]:"fire-rtdb",[C3]:"fire-rtdb-compat",[E3]:"fire-fn",[S3]:"fire-fn-compat",[D3]:"fire-iid",[T3]:"fire-iid-compat",[I3]:"fire-fcm",[$3]:"fire-fcm-compat",[P3]:"fire-perf",[k3]:"fire-perf-compat",[A3]:"fire-rc",[O3]:"fire-rc-compat",[x3]:"fire-gcs",[M3]:"fire-gcs-compat",[R3]:"fire-fst",[N3]:"fire-fst-compat","fire-js":"fire-js",[L3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Map,co=new Map;function Oa(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ly(t,e){t.container.addOrOverwriteComponent(e)}function Zr(t){const e=t.name;if(co.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;co.set(e,t);for(const n of xs.values())Oa(n,t);return!0}function cy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function B3(t,e,n=Os){cy(t,e).clearInstance(n)}function W3(){co.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zn=new Cl("app","Firebase",H3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j3=class{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=F3;function Yd(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Os,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw zn.create("bad-app-name",{appName:String(r)});if(n||(n=ey()),!n)throw zn.create("no-options");const i=xs.get(r);if(i){if(iu(n,i.options)&&iu(s,i.config))return i;throw zn.create("duplicate-app",{appName:r})}const o=new ry(r);for(const l of co.values())o.addComponent(l);const a=new j3(n,s,o);return xs.set(r,a),a}function U3(t=Os){const e=xs.get(t);if(!e&&t===Os&&ey())return Yd();if(!e)throw zn.create("no-app",{appName:t});return e}function V3(){return Array.from(xs.values())}async function uy(t){const e=t.name;xs.has(e)&&(xs.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Ss(t,e,n){var s;let r=(s=Y3[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(a.join(" "));return}Zr(new Zn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function dy(t,e){if(t!==null&&typeof t!="function")throw zn.create("invalid-log-argument");e3(t,e)}function fy(t){XH(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3="firebase-heartbeat-database",G3=1,uo="firebase-heartbeat-store";let gc=null;function hy(){return gc||(gc=c3(z3,G3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uo)}catch(n){console.warn(n)}}}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),gc}async function K3(t){try{return await(await hy()).transaction(uo).objectStore(uo).get(py(t))}catch(e){if(e instanceof pi)cr.warn(e.message);else{const n=zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function nm(t,e){try{const s=(await hy()).transaction(uo,"readwrite");await s.objectStore(uo).put(e,py(t)),await s.done}catch(n){if(n instanceof pi)cr.warn(n.message);else{const s=zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(s.message)}}}function py(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=1024,Q3=30*24*60*60*1e3;class Z3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X3(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sm();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Q3}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sm(),{heartbeatsToSend:s,unsentEntries:r}=J3(this._heartbeatsCache.heartbeats),i=ka(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function sm(){return new Date().toISOString().substring(0,10)}function J3(t,e=q3){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),rm(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),rm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class X3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RH()?NH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rm(t){return ka(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t){Zr(new Zn("platform-logger",e=>new f3(e),"PRIVATE")),Zr(new Zn("heartbeat",e=>new Z3(e),"PRIVATE")),Ss(cu,tm,t),Ss(cu,tm,"esm2017"),Ss("fire-js","")}ej("");const tj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:pi,SDK_VERSION:Fd,_DEFAULT_ENTRY_NAME:Os,_addComponent:Oa,_addOrOverwriteComponent:ly,_apps:xs,_clearComponents:W3,_components:co,_getProvider:cy,_registerComponent:Zr,_removeServiceInstance:B3,deleteApp:uy,getApp:U3,getApps:V3,initializeApp:Yd,onLog:dy,registerVersion:Ss,setLogLevel:fy},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this._delegate=e,this.firebase=n,Oa(e,new Zn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),uy(this._delegate)))}_getService(e,n=Os){var s;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((s=r.getComponent())===null||s===void 0?void 0:s.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Os){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Oa(this._delegate,e)}_addOrOverwriteComponent(e){ly(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},im=new Cl("app-compat","Firebase",sj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t){const e={},n={__esModule:!0,initializeApp:i,app:r,registerVersion:Ss,setLogLevel:fy,onLog:dy,apps:null,SDK_VERSION:Fd,INTERNAL:{registerComponent:a,removeApp:s,useAsService:l,modularAPIs:tj}};n.default=n,Object.defineProperty(n,"apps",{get:o});function s(c){delete e[c]}function r(c){if(c=c||Os,!Zt(e,c))throw im.create("no-app",{appName:c});return e[c]}r.App=t;function i(c,u={}){const d=Yd(c,u);if(Zt(e,d.name))return e[d.name];const f=new t(d,n);return e[d.name]=f,f}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(Zr(c)&&c.type==="PUBLIC"){const f=(h=r())=>{if(typeof h[d]!="function")throw im.create("invalid-app-argument",{appName:u});return h[d]()};c.serviceProps!==void 0&&ao(f,c.serviceProps),n[d]=f,t.prototype[d]=function(...h){return this._getService.bind(this,u).apply(this,c.multipleInstances?h:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(){const t=rj(nj);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:my,extendNamespace:e,createSubscribe:UH,ErrorFactory:Cl,deepExtend:ao});function e(n){ao(t,n)}return t}const ij=my();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new Sl("@firebase/app-compat"),oj="@firebase/app-compat",aj="0.2.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){Ss(oj,aj,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(xH()&&self.firebase!==void 0){om.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&om.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Bd=ij;lj();var cj="firebase",uj="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bd.registerVersion(cj,uj,"app-compat");var am={};const lm="@firebase/database",cm="1.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy="";function _y(t){vy=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:lo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new dj(e)}}catch{}return new fj},tr=gy("localStorage"),uu=gy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Sl("@firebase/database"),yy=function(){let t=1;return function(){return t++}}(),by=function(t){const e=GH(t),n=new jH;n.update(e);const s=n.digest();return Rd.encodeByteArray(s)},$o=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=$o.apply(null,s):typeof s=="object"?e+=dt(s):e+=s,e+=" "}return e};let ir=null,um=!0;const wy=function(t,e){U(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Lr.logLevel=je.VERBOSE,ir=Lr.log.bind(Lr),e&&uu.set("logging_enabled",!0)):typeof t=="function"?ir=t:(ir=null,uu.remove("logging_enabled"))},gt=function(...t){if(um===!0&&(um=!1,ir===null&&uu.get("logging_enabled")===!0&&wy(!0)),ir){const e=$o.apply(null,t);ir(e)}},Po=function(t){return function(...e){gt(t,...e)}},du=function(...t){const e="FIREBASE INTERNAL ERROR: "+$o(...t);Lr.error(e)},xn=function(...t){const e=`FIREBASE FATAL ERROR: ${$o(...t)}`;throw Lr.error(e),new Error(e)},St=function(...t){const e="FIREBASE WARNING: "+$o(...t);Lr.warn(e)},hj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Dl=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ms="[MIN_NAME]",Jn="[MAX_NAME]",br=function(t,e){if(t===e)return 0;if(t===Ms||e===Jn)return-1;if(e===Ms||t===Jn)return 1;{const n=dm(t),s=dm(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},mj=function(t,e){return t===e?0:t<e?-1:1},Ii=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dt(e))},Wd=function(t){if(typeof t!="object"||t===null)return dt(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=dt(e[s]),n+=":",n+=Wd(t[e[s]]);return n+="}",n},Cy=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let r=0;r<n;r+=e)r+e>n?s.push(t.substring(r,n)):s.push(t.substring(r,r+e));return s};function bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Ey=function(t){U(!Dl(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let r,i,o,a,l;t===0?(i=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),i=a+s,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},vj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_j=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function gj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const yj=new RegExp("^-?(0*)\\d{1,10}$"),bj=-2147483648,wj=2147483647,dm=function(t){if(yj.test(t)){const e=Number(t);if(e>=bj&&e<=wj)return e}return null},mi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw St("Exception was thrown by user callback.",n),e},Math.floor(0))}},Cj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ji=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}}class Fr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="5",Sy="v",Dy="s",Ty="r",Iy="f",$y=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Py="ls",ky="p",fu="ac",Ay="websocket",Oy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,s,r,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&tr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Dj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function My(t,e,n){U(typeof e=="string","typeof type must == string"),U(typeof n=="object","typeof params must == object");let s;if(e===Ay)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Oy)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Dj(t)&&(n.ns=t.namespace);const r=[];return bt(n,(i,o)=>{r.push(i+"="+o)}),s+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.counters_={}}incrementCounter(e,n=1){Zt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return SH(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc={},bc={};function jd(t){const e=t.toString();return yc[e]||(yc[e]=new Tj),yc[e]}function Ij(t,e){const n=t.toString();return bc[n]||(bc[n]=e()),bc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&mi(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="start",Pj="close",kj="pLPCommand",Aj="pRTLPCB",Ry="id",Ny="pw",Ly="ser",Oj="cb",xj="seg",Mj="ts",Rj="d",Nj="dframe",Fy=1870,Yy=30,Lj=Fy-Yy,Fj=25e3,Yj=3e4;class _s{constructor(e,n,s,r,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Po(e),this.stats_=jd(n),this.urlFn=l=>(this.appCheckToken&&(l[fu]=this.appCheckToken),My(n,Oy,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $j(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Yj)),pj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ud((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===fm)this.id=a,this.password=l;else if(o===Pj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[fm]="t",s[Ly]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[Oj]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Sy]=Hd,this.transportSessionId&&(s[Dy]=this.transportSessionId),this.lastSessionId&&(s[Py]=this.lastSessionId),this.applicationId&&(s[ky]=this.applicationId),this.appCheckToken&&(s[fu]=this.appCheckToken),typeof location<"u"&&location.hostname&&$y.test(location.hostname)&&(s[Ty]=Iy);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_s.forceAllow_=!0}static forceDisallow(){_s.forceDisallow_=!0}static isAvailable(){return _s.forceAllow_?!0:!_s.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vj()&&!_j()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Xg(n),r=Cy(s,Lj);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[Nj]="t",s[Ry]=e,s[Ny]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ud{constructor(e,n,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=yy(),window[kj+this.uniqueCallbackIdentifier]=e,window[Aj+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ud.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){gt("frame writing exception"),a.stack&&gt(a.stack),gt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ry]=this.myID,e[Ny]=this.myPW,e[Ly]=this.currentSerial;let n=this.urlFn(e),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Yy+s.length<=Fy;){const o=this.pendingSegs.shift();s=s+"&"+xj+r+"="+o.seg+"&"+Mj+r+"="+o.ts+"&"+Rj+r+"="+o.d,r++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(s,Math.floor(Fj)),i=()=>{clearTimeout(r),s()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=16384,Wj=45e3;let xa=null;typeof MozWebSocket<"u"?xa=MozWebSocket:typeof WebSocket<"u"&&(xa=WebSocket);class tn{constructor(e,n,s,r,i,o,a){this.connId=e,this.applicationId=s,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Po(this.connId),this.stats_=jd(n),this.connURL=tn.connectionURL_(n,o,a,r,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,r,i){const o={};return o[Sy]=Hd,typeof location<"u"&&location.hostname&&$y.test(location.hostname)&&(o[Ty]=Iy),n&&(o[Dy]=n),s&&(o[Py]=s),r&&(o[fu]=r),i&&(o[ky]=i),My(e,Ay,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tr.set("previous_websocket_failure",!0);try{let s;ny(),this.mySock=new xa(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&xa!==null&&!tn.forceDisallow_}static previouslyFailed(){return tr.isInMemoryStorage||tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){tr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=lo(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(U(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Cy(n,Bj);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Wj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[_s,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=tn&&tn.isAvailable();let s=n&&!tn.previouslyFailed();if(e.webSocketOnly&&(n||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[tn];else{const r=this.transports_=[];for(const i of Jr.ALL_TRANSPORTS)i&&i.isAvailable()&&r.push(i);Jr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=6e4,jj=5e3,Uj=10*1024,Vj=100*1024,wc="t",hm="d",zj="s",pm="r",Gj="e",mm="o",vm="a",_m="n",gm="p",Kj="h";class qj{constructor(e,n,s,r,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Po("c:"+this.id+":"),this.transportManager_=new Jr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ji(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Vj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Uj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wc in e){const n=e[wc];n===vm?this.upgradeIfSecondaryHealthy_():n===pm?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mm&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ii("t",e),s=Ii("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:gm,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vm,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:_m,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ii("t",e),s=Ii("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ii(wc,e);if(hm in e){const s=e[hm];if(n===Kj){const r=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===_m){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zj?this.onConnectionShutdown_(s):n===pm?this.onReset_(s):n===Gj?du("Server Error: "+s):n===mm?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):du("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hd!==s&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),ji(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Hj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ji(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:gm,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{put(e,n,s,r){}merge(e,n,s,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this.allowedEvents_=e,this.listeners_={},U(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const r=this.getInitialEvent(e);r&&n.apply(s,r)}off(e,n,s){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===n&&(!s||s===r[i].context)){r.splice(i,1);return}}validateEventType_(e){U(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Wy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ty()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ma}getInitialEvent(e){return U(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=32,bm=768;class Ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Re(){return new Ne("")}function Ee(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Rs(t){return t.pieces_.length-t.pieceNum_}function Ue(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ne(t.pieces_,e)}function Vd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Qj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function fo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Hy(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ne(e,0)}function nt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof Ne)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&n.push(s[r])}return new Ne(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function xt(t,e){const n=Ee(t),s=Ee(e);if(n===null)return e;if(n===s)return xt(Ue(t),Ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Zj(t,e){const n=fo(t,0),s=fo(e,0);for(let r=0;r<n.length&&r<s.length;r++){const i=br(n[r],s[r]);if(i!==0)return i}return n.length===s.length?0:n.length<s.length?-1:1}function zd(t,e){if(Rs(t)!==Rs(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function rn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Rs(t)>Rs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class Jj{constructor(e,n){this.errorPrefix_=n,this.parts_=fo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=El(this.parts_[s]);jy(this)}}function Xj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=El(e),jy(t)}function eU(t){const e=t.parts_.pop();t.byteLength_-=El(e),t.parts_.length>0&&(t.byteLength_-=1)}function jy(t){if(t.byteLength_>bm)throw new Error(t.errorPrefix_+"has a key path longer than "+bm+" bytes ("+t.byteLength_+").");if(t.parts_.length>ym)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ym+") or object contains a cycle "+Qs(t))}function Qs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends Wy{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Gd}getInitialEvent(e){return U(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=1e3,tU=60*5*1e3,wm=30*1e3,nU=1.3,sU=3e4,rU="server_kill",Cm=3;class Gn extends By{constructor(e,n,s,r,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Gn.nextPersistentConnectionId_++,this.log_=Po("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$i,this.maxReconnectDelay_=tU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ny())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ma.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const r=++this.requestNumber_,i={r,a:e,b:n};this.log_(dt(i)),U(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),s&&(this.requestCBHash_[r]=s)}get(e){this.initConnection_();const n=new Yt,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,s,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),U(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:s};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+s+" for "+r);const i={p:s},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Gn.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Zt(e,"w")){const s=lr(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||WH(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=wm)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=BH(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,r=>{const i=r.s,o=r.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),U(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,e._queryObject,n)}sendUnlisten_(e,n,s,r){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";r&&(i.q=s,i.t=r),this.sendRequest(o,i)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,r){const i={p:n,d:s};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,s,r){this.putInternal("p",e,n,s,r)}merge(e,n,s,r){this.putInternal("m",e,n,s,r)}putInternal(e,n,s,r,i){this.initConnection_();const o={p:n,d:s};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const i=s.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):du("Unrecognized action received from server: "+dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){U(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>sU&&(this.reconnectDelay_=$i),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Gn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,s())},c=function(d){U(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new qj(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,h=>{St(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(rU)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&St(d),l())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ru(this.interruptReasons_)&&(this.reconnectDelay_=$i,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(i=>Wd(i)).join("$"):s="default";const r=this.removeListen_(e,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const s=new Ne(e).toString();let r;if(this.listens.has(s)){const i=this.listens.get(s);r=i.get(n),i.delete(n),i.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(e,n){gt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Cm&&(this.reconnectDelay_=wm,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){gt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Cm&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+vy.replace(/\./g,"-")]=1,ty()?e["framework.cordova"]=1:MH()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ma.getInstance().currentlyOnline();return ru(this.interruptReasons_)&&e}}Gn.nextPersistentConnectionId_=0;Gn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Ie(Ms,e),r=new Ie(Ms,n);return this.compare(s,r)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class Uy extends Tl{static get __EMPTY_NODE(){return Qo}static set __EMPTY_NODE(e){Qo=e}compare(e,n){return br(e.name,n.name)}isDefinedOn(e){throw hi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(Jn,Qo)}makePost(e,n){return U(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,Qo)}toString(){return".key"}}const kn=new Uy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,s,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?s(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class _t{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??_t.RED,this.left=r??Bt.EMPTY_NODE,this.right=i??Bt.EMPTY_NODE}copy(e,n,s,r,i){return new _t(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return i<0?r=r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,r;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}_t.RED=!0;_t.BLACK=!1;class iU{copy(e,n,s,r,i){return this}insert(e,n,s){return new _t(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Bt{constructor(e,n=Bt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Bt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,_t.BLACK,null,null))}remove(e){return new Bt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_t.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,r=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zo(this.root_,null,this.comparator_,!0,e)}}Bt.EMPTY_NODE=new iU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e){return br(t.name,e.name)}function Kd(t,e){return br(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;function aU(t){hu=t}const Vy=function(t){return typeof t=="number"?"number:"+Ey(t):"string:"+t},zy=function(t){if(t.isLeafNode()){const e=t.val();U(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zt(e,".sv"),"Priority must be a string or number.")}else U(t===hu||t.isEmpty(),"priority of unexpected type.");U(t===hu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em;class mt{constructor(e,n=mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,U(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),zy(this.priorityNode_)}static set __childrenNodeConstructor(e){Em=e}static get __childrenNodeConstructor(){return Em}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new mt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:Ee(e)===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Ee(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(U(s!==".priority"||Rs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Vy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Ey(this.value_):e+=this.value_,this.lazyHash_=by(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===mt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof mt.__childrenNodeConstructor?-1:(U(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,r=mt.VALUE_TYPE_ORDER.indexOf(n),i=mt.VALUE_TYPE_ORDER.indexOf(s);return U(r>=0,"Unknown leaf type: "+n),U(i>=0,"Unknown leaf type: "+s),r===i?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gy,Ky;function lU(t){Gy=t}function cU(t){Ky=t}class uU extends Tl{compare(e,n){const s=e.node.getPriority(),r=n.node.getPriority(),i=s.compareTo(r);return i===0?br(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(Jn,new mt("[PRIORITY-POST]",Ky))}makePost(e,n){const s=Gy(e);return new Ie(n,new mt("[PRIORITY-POST]",s))}toString(){return".priority"}}const qe=new uU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=Math.log(2);class fU{constructor(e){const n=i=>parseInt(Math.log(i)/dU,10),s=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=s(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ra=function(t,e,n,s){t.sort(e);const r=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new _t(f,d.node,_t.BLACK,null,null);{const h=parseInt(u/2,10)+l,v=r(l,h),y=r(h+1,c);return d=t[h],f=n?n(d):d,new _t(f,d.node,_t.BLACK,v,y)}},i=function(l){let c=null,u=null,d=t.length;const f=function(v,y){const w=d-v,b=d;d-=v;const A=r(w+1,b),N=t[w],P=n?n(N):N;h(new _t(P,N.node,y,null,A))},h=function(v){c?(c.left=v,c=v):(u=v,c=v)};for(let v=0;v<l.count;++v){const y=l.nextBitIsOne(),w=Math.pow(2,l.count-(v+1));y?f(w,_t.BLACK):(f(w,_t.BLACK),f(w,_t.RED))}return u},o=new fU(t.length),a=i(o);return new Bt(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;const Tr={};class Hn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return U(Tr&&qe,"ChildrenNode.ts has not been loaded"),Cc=Cc||new Hn({".priority":Tr},{".priority":qe}),Cc}get(e){const n=lr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Bt?n:null}hasIndex(e){return Zt(this.indexSet_,e.toString())}addIndex(e,n){U(e!==kn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const i=n.getIterator(Ie.Wrap);let o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),s.push(o),o=i.getNext();let a;r?a=Ra(s,e.getCompare()):a=Tr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Hn(u,c)}addToIndexes(e,n){const s=Aa(this.indexes_,(r,i)=>{const o=lr(this.indexSet_,i);if(U(o,"Missing index implementation for "+i),r===Tr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ie.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ra(a,o.getCompare())}else return Tr;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new Ie(e.name,a))),l.insert(e,e.node)}});return new Hn(s,this.indexSet_)}removeFromIndexes(e,n){const s=Aa(this.indexes_,r=>{if(r===Tr)return r;{const i=n.get(e.name);return i?r.remove(new Ie(e.name,i)):r}});return new Hn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi;class he{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&zy(this.priorityNode_),this.children_.isEmpty()&&U(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Pi||(Pi=new he(new Bt(Kd),null,Hn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pi}updatePriority(e){return this.children_.isEmpty()?this:new he(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Pi:n}}getChild(e){const n=Ee(e);return n===null?this:this.getImmediateChild(n).getChild(Ue(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(U(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Ie(e,n);let r,i;n.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(s,this.children_));const o=r.isEmpty()?Pi:this.priorityNode_;return new he(r,o,i)}}updateChild(e,n){const s=Ee(e);if(s===null)return n;{U(Ee(e)!==".priority"||Rs(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(Ue(e),n);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,r=0,i=!0;if(this.forEachChild(qe,(o,a)=>{n[o]=a.val(e),s++,i&&he.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&r<2*s){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Vy(this.getPriority().val())+":"),this.forEachChild(qe,(n,s)=>{const r=s.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":by(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const r=this.resolveIndex_(s);if(r){const i=r.getPredecessorKey(new Ie(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ie(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Ie.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)<0;)r.getNext(),i=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let i=r.peek();for(;i!=null&&n.compare(i,e)>0;)r.getNext(),i=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ko?-1:0}withIndex(e){if(e===kn||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new he(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===kn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(qe),r=n.getIterator(qe);let i=s.getNext(),o=r.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=s.getNext(),o=r.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===kn?null:this.indexMap_.get(e.toString())}}he.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class hU extends he{constructor(){super(new Bt(Kd),he.EMPTY_NODE,Hn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return he.EMPTY_NODE}isEmpty(){return!1}}const ko=new hU;Object.defineProperties(Ie,{MIN:{value:new Ie(Ms,he.EMPTY_NODE)},MAX:{value:new Ie(Jn,ko)}});Uy.__EMPTY_NODE=he.EMPTY_NODE;mt.__childrenNodeConstructor=he;aU(ko);cU(ko);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=!0;function rt(t,e=null){if(t===null)return he.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),U(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new mt(n,rt(e))}if(!(t instanceof Array)&&pU){const n=[];let s=!1;if(bt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=rt(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new Ie(o,l)))}}),n.length===0)return he.EMPTY_NODE;const i=Ra(n,oU,o=>o.name,Kd);if(s){const o=Ra(n,qe.getCompare());return new he(i,rt(e),new Hn({".priority":o},{".priority":qe}))}else return new he(i,rt(e),Hn.Default)}else{let n=he.EMPTY_NODE;return bt(t,(s,r)=>{if(Zt(t,s)&&s.substring(0,1)!=="."){const i=rt(r);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(s,i))}}),n.updatePriority(rt(e))}}lU(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Tl{constructor(e){super(),this.indexPath_=e,U(!Se(e)&&Ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),r=this.extractChild(n.node),i=s.compareTo(r);return i===0?br(e.name,n.name):i}makePost(e,n){const s=rt(e),r=he.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ie(n,r)}maxPost(){const e=he.EMPTY_NODE.updateChild(this.indexPath_,ko);return new Ie(Jn,e)}toString(){return fo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU extends Tl{compare(e,n){const s=e.node.compareTo(n.node);return s===0?br(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,n){const s=rt(e);return new Ie(n,s)}toString(){return".value"}}const Qd=new mU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){return{type:"value",snapshotNode:t}}function Xr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ho(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function po(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function vU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.index_=e}updateChild(e,n,s,r,i,o){U(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(s.getChild(r))&&a.isEmpty()===s.isEmpty()||(o!=null&&(s.isEmpty()?e.hasChild(n)?o.trackChildChange(ho(n,a)):U(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Xr(n,s)):o.trackChildChange(po(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(qe,(r,i)=>{n.hasChild(r)||s.trackChildChange(ho(r,i))}),n.isLeafNode()||n.forEachChild(qe,(r,i)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(i)||s.trackChildChange(po(r,i,o))}else s.trackChildChange(Xr(r,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?he.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.indexedFilter_=new Zd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=mo.getStartPost_(e),this.endPost_=mo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,r,i,o){return this.matches(new Ie(n,s))||(s=he.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,r,i,o)}updateFullNode(e,n,s){n.isLeafNode()&&(n=he.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(he.EMPTY_NODE);const i=this;return n.forEachChild(qe,(o,a)=>{i.matches(new Ie(o,a))||(r=r.updateImmediateChild(o,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new mo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,r,i,o){return this.rangedFilter_.matches(new Ie(n,s))||(s=he.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,r,i,o):this.fullLimitUpdateChild_(e,n,s,i,o)}updateFullNode(e,n,s){let r;if(n.isLeafNode()||n.isEmpty())r=he.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=he.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(he.EMPTY_NODE);let i;this.reverse_?i=r.getReverseIterator(this.index_):i=r.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,r,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;U(a.numChildren()===this.limit_,"");const l=new Ie(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=r.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(u&&!s.isEmpty()&&h>=0)return i!=null&&i.trackChildChange(po(n,s,d)),a.updateImmediateChild(n,s);{i!=null&&i.trackChildChange(ho(n,d));const y=a.updateImmediateChild(n,he.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(Xr(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return s.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(ho(c.name,c.node)),i.trackChildChange(Xr(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,he.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return U(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return U(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ms}hasEnd(){return this.endSet_}getIndexEndValue(){return U(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return U(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return U(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const e=new Il;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function gU(t){return t.loadsAllData()?new Zd(t.getIndex()):t.hasLimit()?new _U(t):new mo(t)}function yU(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function bU(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function pu(t,e,n){const s=t.copy();return s.startSet_=!0,e===void 0&&(e=null),s.indexStartValue_=e,n!=null?(s.startNameSet_=!0,s.indexStartName_=n):(s.startNameSet_=!1,s.indexStartName_=""),s}function wU(t,e,n){let s;return t.index_===kn||n?s=pu(t,e,n):s=pu(t,e,Jn),s.startAfterSet_=!0,s}function mu(t,e,n){const s=t.copy();return s.endSet_=!0,e===void 0&&(e=null),s.indexEndValue_=e,n!==void 0?(s.endNameSet_=!0,s.indexEndName_=n):(s.endNameSet_=!1,s.indexEndName_=""),s}function CU(t,e,n){let s;return t.index_===kn||n?s=mu(t,e,n):s=mu(t,e,Ms),s.endBeforeSet_=!0,s}function $l(t,e){const n=t.copy();return n.index_=e,n}function Sm(t){const e={};if(t.isDefault())return e;let n;if(t.index_===qe?n="$priority":t.index_===Qd?n="$value":t.index_===kn?n="$key":(U(t.index_ instanceof qd,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dt(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=dt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+dt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=dt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Dm(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==qe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends By{constructor(e,n,s,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=Po("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(U(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Na.getListenId_(e,s),a={};this.listens_[o]=a;const l=Sm(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,s),lr(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",r(f,null)}})}unlisten(e,n){const s=Na.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Sm(e._queryParams),s=e._path.toString(),r=new Yt;return this.restRequest_(s+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(s,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(n.auth=r.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+HH(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=lo(a.responseText)}catch{St("Failed to parse JSON response for "+o+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&St("Got unsuccessful REST response for "+o+" Status: "+a.status),s(a.status);s=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(){this.rootNode_=he.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(){return{value:null,children:new Map}}function vi(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Ee(e);t.children.has(s)||t.children.set(s,La());const r=t.children.get(s);e=Ue(e),vi(r,e,n)}}function vu(t,e){if(Se(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(qe,(s,r)=>{vi(t,new Ne(s),r)}),vu(t,e)}}else if(t.children.size>0){const n=Ee(e);return e=Ue(e),t.children.has(n)&&vu(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function _u(t,e,n){t.value!==null?n(e,t.value):SU(t,(s,r)=>{const i=new Ne(e.toString()+"/"+s);_u(r,i,n)})}function SU(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&bt(this.last_,(s,r)=>{n[s]=n[s]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=10*1e3,TU=30*1e3,IU=5*60*1e3;class $U{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new DU(e);const s=Tm+(TU-Tm)*Math.random();ji(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;bt(e,(r,i)=>{i>0&&Zt(this.statsToReport_,r)&&(n[r]=i,s=!0)}),s&&this.server_.reportStats(n),ji(this.reportStats_.bind(this),Math.floor(Math.random()*2*IU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_n||(_n={}));function Jd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ef(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=_n.ACK_USER_WRITE,this.source=Jd()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return U(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ne(e));return new Fa(Re(),n,this.revert)}}else return U(Ee(this.path)===e,"operationForChild called for unrelated child."),new Fa(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.source=e,this.path=n,this.type=_n.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new vo(this.source,Re()):new vo(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=_n.OVERWRITE}operationForChild(e){return Se(this.path)?new ur(this.source,Re(),this.snap.getImmediateChild(e)):new ur(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=_n.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new Ne(e));return n.isEmpty()?null:n.value?new ur(this.source,Re(),n.value):new ei(this.source,Re(),n)}else return U(Ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ei(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ee(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function kU(t,e,n,s){const r=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(vU(o.childName,o.snapshotNode))}),ki(t,r,"child_removed",e,s,n),ki(t,r,"child_added",e,s,n),ki(t,r,"child_moved",i,s,n),ki(t,r,"child_changed",e,s,n),ki(t,r,"value",e,s,n),r}function ki(t,e,n,s,r,i){const o=s.filter(a=>a.type===n);o.sort((a,l)=>OU(t,a,l)),o.forEach(a=>{const l=AU(t,a,i);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function AU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function OU(t,e,n){if(e.childName==null||n.childName==null)throw hi("Should only compare child_ events.");const s=new Ie(e.childName,e.snapshotNode),r=new Ie(n.childName,n.snapshotNode);return t.index_.compare(s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e){return{eventCache:t,serverCache:e}}function Ui(t,e,n,s){return Pl(new Ns(e,n,s),t.serverCache)}function Qy(t,e,n,s){return Pl(t.eventCache,new Ns(e,n,s))}function Ya(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function dr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec;const xU=()=>(Ec||(Ec=new Bt(mj)),Ec);class ze{constructor(e,n=xU()){this.value=e,this.children=n}static fromObject(e){let n=new ze(null);return bt(e,(s,r)=>{n=n.set(new Ne(s),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Re(),value:this.value};if(Se(e))return null;{const s=Ee(e),r=this.children.get(s);if(r!==null){const i=r.findRootMostMatchingPathAndValue(Ue(e),n);return i!=null?{path:nt(new Ne(s),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=Ee(e),s=this.children.get(n);return s!==null?s.subtree(Ue(e)):new ze(null)}}set(e,n){if(Se(e))return new ze(n,this.children);{const s=Ee(e),i=(this.children.get(s)||new ze(null)).set(Ue(e),n),o=this.children.insert(s,i);return new ze(this.value,o)}}remove(e){if(Se(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=Ee(e),s=this.children.get(n);if(s){const r=s.remove(Ue(e));let i;return r.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,r),this.value===null&&i.isEmpty()?new ze(null):new ze(this.value,i)}else return this}}get(e){if(Se(e))return this.value;{const n=Ee(e),s=this.children.get(n);return s?s.get(Ue(e)):null}}setTree(e,n){if(Se(e))return n;{const s=Ee(e),i=(this.children.get(s)||new ze(null)).setTree(Ue(e),n);let o;return i.isEmpty()?o=this.children.remove(s):o=this.children.insert(s,i),new ze(this.value,o)}}fold(e){return this.fold_(Re(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((r,i)=>{s[r]=i.fold_(nt(e,r),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Re(),n)}findOnPath_(e,n,s){const r=this.value?s(n,this.value):!1;if(r)return r;if(Se(e))return null;{const i=Ee(e),o=this.children.get(i);return o?o.findOnPath_(Ue(e),nt(n,i),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Re(),n)}foreachOnPath_(e,n,s){if(Se(e))return this;{this.value&&s(n,this.value);const r=Ee(e),i=this.children.get(r);return i?i.foreachOnPath_(Ue(e),nt(n,r),s):new ze(null)}}foreach(e){this.foreach_(Re(),e)}foreach_(e,n){this.children.inorderTraversal((s,r)=>{r.foreach_(nt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.writeTree_=e}static empty(){return new gn(new ze(null))}}function Vi(t,e,n){if(Se(e))return new gn(new ze(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const r=s.path;let i=s.value;const o=xt(r,e);return i=i.updateChild(o,n),new gn(t.writeTree_.set(r,i))}else{const r=new ze(n),i=t.writeTree_.setTree(e,r);return new gn(i)}}}function gu(t,e,n){let s=t;return bt(n,(r,i)=>{s=Vi(s,nt(e,r),i)}),s}function Im(t,e){if(Se(e))return gn.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new gn(n)}}function yu(t,e){return wr(t,e)!=null}function wr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(xt(n.path,e)):null}function $m(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qe,(s,r)=>{e.push(new Ie(s,r))}):t.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&e.push(new Ie(s,r.value))}),e}function Ds(t,e){if(Se(e))return t;{const n=wr(t,e);return n!=null?new gn(new ze(n)):new gn(t.writeTree_.subtree(e))}}function bu(t){return t.writeTree_.isEmpty()}function ti(t,e){return Zy(Re(),t.writeTree_,e)}function Zy(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((r,i)=>{r===".priority"?(U(i.value!==null,"Priority writes must always be leaf nodes"),s=i.value):n=Zy(nt(t,r),i,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(nt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t,e){return tb(e,t)}function MU(t,e,n,s,r){U(s>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:r}),r&&(t.visibleWrites=Vi(t.visibleWrites,e,n)),t.lastWriteId=s}function RU(t,e,n,s){U(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=gu(t.visibleWrites,e,n),t.lastWriteId=s}function NU(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function LU(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);U(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let r=s.visible,i=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&FU(a,s.path)?r=!1:rn(s.path,a.path)&&(i=!0)),o--}if(r){if(i)return YU(t),!0;if(s.snap)t.visibleWrites=Im(t.visibleWrites,s.path);else{const a=s.children;bt(a,l=>{t.visibleWrites=Im(t.visibleWrites,nt(s.path,l))})}return!0}else return!1}function FU(t,e){if(t.snap)return rn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&rn(nt(t.path,n),e))return!0;return!1}function YU(t){t.visibleWrites=Jy(t.allWrites,BU,Re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function BU(t){return t.visible}function Jy(t,e,n){let s=gn.empty();for(let r=0;r<t.length;++r){const i=t[r];if(e(i)){const o=i.path;let a;if(i.snap)rn(n,o)?(a=xt(n,o),s=Vi(s,a,i.snap)):rn(o,n)&&(a=xt(o,n),s=Vi(s,Re(),i.snap.getChild(a)));else if(i.children){if(rn(n,o))a=xt(n,o),s=gu(s,a,i.children);else if(rn(o,n))if(a=xt(o,n),Se(a))s=gu(s,Re(),i.children);else{const l=lr(i.children,Ee(a));if(l){const c=l.getChild(Ue(a));s=Vi(s,Re(),c)}}}else throw hi("WriteRecord should have .snap or .children")}}return s}function Xy(t,e,n,s,r){if(!s&&!r){const i=wr(t.visibleWrites,e);if(i!=null)return i;{const o=Ds(t.visibleWrites,e);if(bu(o))return n;if(n==null&&!yu(o,Re()))return null;{const a=n||he.EMPTY_NODE;return ti(o,a)}}}else{const i=Ds(t.visibleWrites,e);if(!r&&bu(i))return n;if(!r&&n==null&&!yu(i,Re()))return null;{const o=function(c){return(c.visible||r)&&(!s||!~s.indexOf(c.writeId))&&(rn(c.path,e)||rn(e,c.path))},a=Jy(t.allWrites,o,e),l=n||he.EMPTY_NODE;return ti(a,l)}}}function WU(t,e,n){let s=he.EMPTY_NODE;const r=wr(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(qe,(i,o)=>{s=s.updateImmediateChild(i,o)}),s;if(n){const i=Ds(t.visibleWrites,e);return n.forEachChild(qe,(o,a)=>{const l=ti(Ds(i,new Ne(o)),a);s=s.updateImmediateChild(o,l)}),$m(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}else{const i=Ds(t.visibleWrites,e);return $m(i).forEach(o=>{s=s.updateImmediateChild(o.name,o.node)}),s}}function HU(t,e,n,s,r){U(s||r,"Either existingEventSnap or existingServerSnap must exist");const i=nt(e,n);if(yu(t.visibleWrites,i))return null;{const o=Ds(t.visibleWrites,i);return bu(o)?r.getChild(n):ti(o,r.getChild(n))}}function jU(t,e,n,s){const r=nt(e,n),i=wr(t.visibleWrites,r);if(i!=null)return i;if(s.isCompleteForChild(n)){const o=Ds(t.visibleWrites,r);return ti(o,s.getNode().getImmediateChild(n))}else return null}function UU(t,e){return wr(t.visibleWrites,e)}function VU(t,e,n,s,r,i,o){let a;const l=Ds(t.visibleWrites,e),c=wr(l,Re());if(c!=null)a=c;else if(n!=null)a=ti(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=i?a.getReverseIteratorFrom(s,o):a.getIteratorFrom(s,o);let h=f.getNext();for(;h&&u.length<r;)d(h,s)!==0&&u.push(h),h=f.getNext();return u}else return[]}function zU(){return{visibleWrites:gn.empty(),allWrites:[],lastWriteId:-1}}function Ba(t,e,n,s){return Xy(t.writeTree,t.treePath,e,n,s)}function tf(t,e){return WU(t.writeTree,t.treePath,e)}function Pm(t,e,n,s){return HU(t.writeTree,t.treePath,e,n,s)}function Wa(t,e){return UU(t.writeTree,nt(t.treePath,e))}function GU(t,e,n,s,r,i){return VU(t.writeTree,t.treePath,e,n,s,r,i)}function nf(t,e,n){return jU(t.writeTree,t.treePath,e,n)}function eb(t,e){return tb(nt(t.treePath,e),t.writeTree)}function tb(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;U(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),U(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const i=r.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(s,po(s,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(s,ho(s,r.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(s,Xr(s,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(s,po(s,e.snapshotNode,r.oldSnap));else throw hi("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const nb=new qU;class sf{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ns(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nf(this.writes_,e,s)}}getChildAfterChild(e,n,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:dr(this.viewCache_),i=GU(this.writes_,r,n,1,s,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){return{filter:t}}function ZU(t,e){U(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),U(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function JU(t,e,n,s,r){const i=new KU;let o,a;if(n.type===_n.OVERWRITE){const c=n;c.source.fromUser?o=wu(t,e,c.path,c.snap,s,r,i):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Se(c.path),o=Ha(t,e,c.path,c.snap,s,r,a,i))}else if(n.type===_n.MERGE){const c=n;c.source.fromUser?o=eV(t,e,c.path,c.children,s,r,i):(U(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Cu(t,e,c.path,c.children,s,r,a,i))}else if(n.type===_n.ACK_USER_WRITE){const c=n;c.revert?o=sV(t,e,c.path,s,r,i):o=tV(t,e,c.path,c.affectedTree,s,r,i)}else if(n.type===_n.LISTEN_COMPLETE)o=nV(t,e,n.path,s,i);else throw hi("Unknown operation type: "+n.type);const l=i.getChanges();return XU(e,o,l),{viewCache:o,changes:l}}function XU(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),i=Ya(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!s.getNode().equals(i)||!s.getNode().getPriority().equals(i.getPriority()))&&n.push(qy(Ya(e)))}}function sb(t,e,n,s,r,i){const o=e.eventCache;if(Wa(s,n)!=null)return e;{let a,l;if(Se(n))if(U(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=dr(e),u=c instanceof he?c:he.EMPTY_NODE,d=tf(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Ba(s,dr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Ee(n);if(c===".priority"){U(Rs(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=Pm(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ue(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=Pm(s,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=nf(s,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,i):a=o.getNode()}}return Ui(e,a,o.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function Ha(t,e,n,s,r,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Se(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),h,null)}else{const h=Ee(n);if(!l.isCompleteForPath(n)&&Rs(n)>1)return e;const v=Ue(n),w=l.getNode().getImmediateChild(h).updateChild(v,s);h===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),h,w,v,nb,null)}const d=Qy(e,c,l.isFullyInitialized()||Se(n),u.filtersNodes()),f=new sf(r,d,i);return sb(t,d,n,r,f,a)}function wu(t,e,n,s,r,i,o){const a=e.eventCache;let l,c;const u=new sf(r,e,i);if(Se(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,o),l=Ui(e,c,!0,t.filter.filtersNodes());else{const d=Ee(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Ui(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Ue(n),h=a.getNode().getImmediateChild(d);let v;if(Se(f))v=s;else{const y=u.getCompleteChild(d);y!=null?Vd(f)===".priority"&&y.getChild(Hy(f)).isEmpty()?v=y:v=y.updateChild(f,s):v=he.EMPTY_NODE}if(h.equals(v))l=e;else{const y=t.filter.updateChild(a.getNode(),d,v,f,u,o);l=Ui(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function km(t,e){return t.eventCache.isCompleteForChild(e)}function eV(t,e,n,s,r,i,o){let a=e;return s.foreach((l,c)=>{const u=nt(n,l);km(e,Ee(u))&&(a=wu(t,a,u,c,r,i,o))}),s.foreach((l,c)=>{const u=nt(n,l);km(e,Ee(u))||(a=wu(t,a,u,c,r,i,o))}),a}function Am(t,e,n){return n.foreach((s,r)=>{e=e.updateChild(s,r)}),e}function Cu(t,e,n,s,r,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Se(n)?c=s:c=new ze(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),v=Am(t,h,f);l=Ha(t,l,new Ne(d),v,r,i,o,a)}}),c.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){const v=e.serverCache.getNode().getImmediateChild(d),y=Am(t,v,f);l=Ha(t,l,new Ne(d),y,r,i,o,a)}}),l}function tV(t,e,n,s,r,i,o){if(Wa(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(Se(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ha(t,e,n,l.getNode().getChild(n),r,i,a,o);if(Se(n)){let c=new ze(null);return l.getNode().forEachChild(kn,(u,d)=>{c=c.set(new Ne(u),d)}),Cu(t,e,n,c,r,i,a,o)}else return e}else{let c=new ze(null);return s.foreach((u,d)=>{const f=nt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Cu(t,e,n,c,r,i,a,o)}}function nV(t,e,n,s,r){const i=e.serverCache,o=Qy(e,i.getNode(),i.isFullyInitialized()||Se(n),i.isFiltered());return sb(t,o,n,s,nb,r)}function sV(t,e,n,s,r,i){let o;if(Wa(s,n)!=null)return e;{const a=new sf(s,e,r),l=e.eventCache.getNode();let c;if(Se(n)||Ee(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ba(s,dr(e));else{const d=e.serverCache.getNode();U(d instanceof he,"serverChildren would be complete if leaf node"),u=tf(s,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=Ee(n);let d=nf(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ue(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,he.EMPTY_NODE,Ue(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ba(s,dr(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Wa(s,Re())!=null,Ui(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,r=new Zd(s.getIndex()),i=gU(s);this.processor_=QU(i);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(he.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(he.EMPTY_NODE,a.getNode(),null),u=new Ns(l,o.isFullyInitialized(),r.filtersNodes()),d=new Ns(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Pl(d,u),this.eventGenerator_=new PU(this.query_)}get query(){return this.query_}}function iV(t){return t.viewCache_.serverCache.getNode()}function oV(t){return Ya(t.viewCache_)}function aV(t,e){const n=dr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(Ee(e)).isEmpty())?n.getChild(e):null}function Om(t){return t.eventRegistrations_.length===0}function lV(t,e){t.eventRegistrations_.push(e)}function xm(t,e,n){const s=[];if(n){U(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,r);o&&s.push(o)})}if(e){let r=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return s}function Mm(t,e,n,s){e.type===_n.MERGE&&e.source.queryId!==null&&(U(dr(t.viewCache_),"We should always have a full cache before handling merges"),U(Ya(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,i=JU(t.processor_,r,e,n,s);return ZU(t.processor_,i.viewCache),U(i.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,rb(t,i.changes,i.viewCache.eventCache.getNode(),null)}function cV(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qe,(i,o)=>{s.push(Xr(i,o))}),n.isFullyInitialized()&&s.push(qy(n.getNode())),rb(t,s,n.getNode(),e)}function rb(t,e,n,s){const r=s?[s]:t.eventRegistrations_;return kU(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja;class ib{constructor(){this.views=new Map}}function uV(t){U(!ja,"__referenceConstructor has already been defined"),ja=t}function dV(){return U(ja,"Reference.ts has not been loaded"),ja}function fV(t){return t.views.size===0}function rf(t,e,n,s){const r=e.source.queryId;if(r!==null){const i=t.views.get(r);return U(i!=null,"SyncTree gave us an op for an invalid query."),Mm(i,e,n,s)}else{let i=[];for(const o of t.views.values())i=i.concat(Mm(o,e,n,s));return i}}function ob(t,e,n,s,r){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Ba(n,r?s:null),l=!1;a?l=!0:s instanceof he?(a=tf(n,s),l=!1):(a=he.EMPTY_NODE,l=!1);const c=Pl(new Ns(a,l,!1),new Ns(s,r,!1));return new rV(e,c)}return o}function hV(t,e,n,s,r,i){const o=ob(t,e,s,r,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),lV(o,n),cV(o,n)}function pV(t,e,n,s){const r=e._queryIdentifier,i=[];let o=[];const a=Ls(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(xm(c,n,s)),Om(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(xm(l,n,s)),Om(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!Ls(t)&&i.push(new(dV())(e._repo,e._path)),{removed:i,events:o}}function ab(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ts(t,e){let n=null;for(const s of t.views.values())n=n||aV(s,e);return n}function lb(t,e){if(e._queryParams.loadsAllData())return Al(t);{const s=e._queryIdentifier;return t.views.get(s)}}function cb(t,e){return lb(t,e)!=null}function Ls(t){return Al(t)!=null}function Al(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;function mV(t){U(!Ua,"__referenceConstructor has already been defined"),Ua=t}function vV(){return U(Ua,"Reference.ts has not been loaded"),Ua}let _V=1;class Rm{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=zU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function of(t,e,n,s,r){return MU(t.pendingWriteTree_,e,n,s,r),r?_i(t,new ur(Jd(),e,n)):[]}function gV(t,e,n,s){RU(t.pendingWriteTree_,e,n,s);const r=ze.fromObject(n);return _i(t,new ei(Jd(),e,r))}function gs(t,e,n=!1){const s=NU(t.pendingWriteTree_,e);if(LU(t.pendingWriteTree_,e)){let i=new ze(null);return s.snap!=null?i=i.set(Re(),!0):bt(s.children,o=>{i=i.set(new Ne(o),!0)}),_i(t,new Fa(s.path,i,n))}else return[]}function Ao(t,e,n){return _i(t,new ur(Xd(),e,n))}function yV(t,e,n){const s=ze.fromObject(n);return _i(t,new ei(Xd(),e,s))}function bV(t,e){return _i(t,new vo(Xd(),e))}function wV(t,e,n){const s=af(t,n);if(s){const r=lf(s),i=r.path,o=r.queryId,a=xt(i,e),l=new vo(ef(o),a);return cf(t,i,l)}else return[]}function Va(t,e,n,s,r=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||cb(o,e))){const l=pV(o,e,n,s);fV(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,h)=>Ls(h));if(u&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const h=SV(f);for(let v=0;v<h.length;++v){const y=h[v],w=y.query,b=hb(t,y);t.listenProvider_.startListening(zi(w),_o(t,w),b.hashFn,b.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(zi(e),null):c.forEach(f=>{const h=t.queryToTagMap.get(xl(f));t.listenProvider_.stopListening(zi(f),h)}))}DV(t,c)}return a}function ub(t,e,n,s){const r=af(t,s);if(r!=null){const i=lf(r),o=i.path,a=i.queryId,l=xt(o,e),c=new ur(ef(a),l,n);return cf(t,o,c)}else return[]}function CV(t,e,n,s){const r=af(t,s);if(r){const i=lf(r),o=i.path,a=i.queryId,l=xt(o,e),c=ze.fromObject(n),u=new ei(ef(a),l,c);return cf(t,o,u)}else return[]}function Eu(t,e,n,s=!1){const r=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(r,(f,h)=>{const v=xt(f,r);i=i||Ts(h,v),o=o||Ls(h)});let a=t.syncPointTree_.get(r);a?(o=o||Ls(a),i=i||Ts(a,Re())):(a=new ib,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;i!=null?l=!0:(l=!1,i=he.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((h,v)=>{const y=Ts(v,Re());y&&(i=i.updateImmediateChild(h,y))}));const c=cb(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=xl(e);U(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=TV();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const u=kl(t.pendingWriteTree_,r);let d=hV(a,e,n,u,i,l);if(!c&&!o&&!s){const f=lb(a,e);d=d.concat(IV(t,e,f))}return d}function Ol(t,e,n){const r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=xt(o,e),c=Ts(a,l);if(c)return c});return Xy(r,e,i,n,!0)}function EV(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=xt(c,n);s=s||Ts(u,d)});let r=t.syncPointTree_.get(n);r?s=s||Ts(r,Re()):(r=new ib,t.syncPointTree_=t.syncPointTree_.set(n,r));const i=s!=null,o=i?new Ns(s,!0,!1):null,a=kl(t.pendingWriteTree_,e._path),l=ob(r,e,a,i?o.getNode():he.EMPTY_NODE,i);return oV(l)}function _i(t,e){return db(e,t.syncPointTree_,null,kl(t.pendingWriteTree_,Re()))}function db(t,e,n,s){if(Se(t.path))return fb(t,e,n,s);{const r=e.get(Re());n==null&&r!=null&&(n=Ts(r,Re()));let i=[];const o=Ee(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=eb(s,o);i=i.concat(db(a,l,c,u))}return r&&(i=i.concat(rf(r,t,s,n))),i}}function fb(t,e,n,s){const r=e.get(Re());n==null&&r!=null&&(n=Ts(r,Re()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=eb(s,o),u=t.operationForChild(o);u&&(i=i.concat(fb(u,a,l,c)))}),r&&(i=i.concat(rf(r,t,s,n))),i}function hb(t,e){const n=e.query,s=_o(t,n);return{hashFn:()=>(iV(e)||he.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return s?wV(t,n._path,s):bV(t,n._path);{const i=gj(r,n);return Va(t,n,null,i)}}}}function _o(t,e){const n=xl(e);return t.queryToTagMap.get(n)}function xl(t){return t._path.toString()+"$"+t._queryIdentifier}function af(t,e){return t.tagToQueryMap.get(e)}function lf(t){const e=t.indexOf("$");return U(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ne(t.substr(0,e))}}function cf(t,e,n){const s=t.syncPointTree_.get(e);U(s,"Missing sync point for query tag that we're tracking");const r=kl(t.pendingWriteTree_,e);return rf(s,n,r,null)}function SV(t){return t.fold((e,n,s)=>{if(n&&Ls(n))return[Al(n)];{let r=[];return n&&(r=ab(n)),bt(s,(i,o)=>{r=r.concat(o)}),r}})}function zi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(vV())(t._repo,t._path):t}function DV(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const r=xl(s),i=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(i)}}}function TV(){return _V++}function IV(t,e,n){const s=e._path,r=_o(t,e),i=hb(t,n),o=t.listenProvider_.startListening(zi(e),r,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(s);if(r)U(!Ls(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Se(c)&&u&&Ls(u))return[Al(u).query];{let f=[];return u&&(f=f.concat(ab(u).map(h=>h.query))),bt(d,(h,v)=>{f=f.concat(v)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(zi(u),_o(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new uf(n)}node(){return this.node_}}class df{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new df(this.syncTree_,n)}node(){return Ol(this.syncTree_,this.path_)}}const $V=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Nm=function(t,e,n){if(!t||typeof t!="object")return t;if(U(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return PV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kV(t[".sv"],e);U(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},PV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:U(!1,"Unexpected server value: "+t)}},kV=function(t,e,n){t.hasOwnProperty("increment")||U(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&U(!1,"Unexpected increment value: "+s);const r=e.node();if(U(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const o=r.getValue();return typeof o!="number"?s:o+s},pb=function(t,e,n,s){return hf(e,new df(n,t),s)},ff=function(t,e,n){return hf(t,new uf(e),n)};function hf(t,e,n){const s=t.getPriority().val(),r=Nm(s,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=Nm(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new mt(a,rt(r)):t}else{const o=t;return i=o,r!==o.getPriority().val()&&(i=i.updatePriority(new mt(r))),o.forEachChild(qe,(a,l)=>{const c=hf(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Ml(t,e){let n=e instanceof Ne?e:new Ne(e),s=t,r=Ee(n);for(;r!==null;){const i=lr(s.node.children,r)||{children:{},childCount:0};s=new pf(r,s,i),n=Ue(n),r=Ee(n)}return s}function Cr(t){return t.node.value}function mf(t,e){t.node.value=e,Su(t)}function mb(t){return t.node.childCount>0}function AV(t){return Cr(t)===void 0&&!mb(t)}function Rl(t,e){bt(t.node.children,(n,s)=>{e(new pf(n,t,s))})}function vb(t,e,n,s){n&&!s&&e(t),Rl(t,r=>{vb(r,e,!0,s)}),n&&s&&e(t)}function OV(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Oo(t){return new Ne(t.parent===null?t.name:Oo(t.parent)+"/"+t.name)}function Su(t){t.parent!==null&&xV(t.parent,t.name,t)}function xV(t,e,n){const s=AV(n),r=Zt(t.node.children,e);s&&r?(delete t.node.children[e],t.node.childCount--,Su(t)):!s&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Su(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=/[\[\].#$\/\u0000-\u001F\u007F]/,RV=/[\[\].#$\u0000-\u001F\u007F]/,Sc=10*1024*1024,Nl=function(t){return typeof t=="string"&&t.length!==0&&!MV.test(t)},_b=function(t){return typeof t=="string"&&t.length!==0&&!RV.test(t)},NV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_b(t)},go=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Dl(t)||t&&typeof t=="object"&&Zt(t,".sv")},Mn=function(t,e,n,s){s&&e===void 0||xo(jt(t,"value"),e,n)},xo=function(t,e,n){const s=n instanceof Ne?new Jj(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Qs(s));if(typeof e=="function")throw new Error(t+"contains a function "+Qs(s)+" with contents = "+e.toString());if(Dl(e))throw new Error(t+"contains "+e.toString()+" "+Qs(s));if(typeof e=="string"&&e.length>Sc/3&&El(e)>Sc)throw new Error(t+"contains a string greater than "+Sc+" utf8 bytes "+Qs(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,i=!1;if(bt(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Nl(o)))throw new Error(t+" contains an invalid key ("+o+") "+Qs(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Xj(s,o),xo(t,a,s),eU(s)}),r&&i)throw new Error(t+' contains ".value" child '+Qs(s)+" in addition to actual children.")}},LV=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const i=fo(s);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!Nl(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Zj);let r=null;for(n=0;n<e.length;n++){if(s=e[n],r!==null&&rn(r,s))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+s.toString());r=s}},gb=function(t,e,n,s){if(s&&e===void 0)return;const r=jt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const i=[];bt(e,(o,a)=>{const l=new Ne(o);if(xo(r,a,nt(n,l)),Vd(l)===".priority"&&!go(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),LV(r,i)},vf=function(t,e,n){if(!(n&&e===void 0)){if(Dl(e))throw new Error(jt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!go(e))throw new Error(jt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Mo=function(t,e,n,s){if(!(s&&n===void 0)&&!Nl(n))throw new Error(jt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},yo=function(t,e,n,s){if(!(s&&n===void 0)&&!_b(n))throw new Error(jt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FV=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yo(t,e,n,s)},on=function(t,e){if(Ee(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},yb=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Nl(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!NV(n))throw new Error(jt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ll(t,e){let n=null;for(let s=0;s<e.length;s++){const r=e[s],i=r.getPath();n!==null&&!zd(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(r)}n&&t.eventLists_.push(n)}function bb(t,e,n){Ll(t,n),wb(t,s=>zd(s,e))}function Jt(t,e,n){Ll(t,n),wb(t,s=>rn(s,e)||rn(e,s))}function wb(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const r=t.eventLists_[s];if(r){const i=r.path;e(i)?(BV(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function BV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();ir&&gt("event: "+n.toString()),mi(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="repo_interrupt",WV=25;class HV{constructor(e,n,s,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=La(),this.transactionQueueTree_=new pf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jV(t,e,n){if(t.stats_=jd(t.repoInfo_),t.forceRestClient_||Cj())t.server_=new Na(t.repoInfo_,(s,r,i,o)=>{Lm(t,s,r,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Fm(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Gn(t.repoInfo_,e,(s,r,i,o)=>{Lm(t,s,r,i,o)},s=>{Fm(t,s)},s=>{UV(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=Ij(t.repoInfo_,()=>new $U(t.stats_,t.server_)),t.infoData_=new EU,t.infoSyncTree_=new Rm({startListening:(s,r,i,o)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Ao(t.infoSyncTree_,s._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),_f(t,"connected",!1),t.serverSyncTree_=new Rm({startListening:(s,r,i,o)=>(t.server_.listen(s,i,r,(a,l)=>{const c=o(a,l);Jt(t.eventQueue_,s._path,c)}),[]),stopListening:(s,r)=>{t.server_.unlisten(s,r)}})}function Eb(t){const n=t.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ro(t){return $V({timestamp:Eb(t)})}function Lm(t,e,n,s,r){t.dataUpdateCount++;const i=new Ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(s){const l=Aa(n,c=>rt(c));o=CV(t.serverSyncTree_,i,l,r)}else{const l=rt(n);o=ub(t.serverSyncTree_,i,l,r)}else if(s){const l=Aa(n,c=>rt(c));o=yV(t.serverSyncTree_,i,l)}else{const l=rt(n);o=Ao(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=ni(t,i)),Jt(t.eventQueue_,a,o)}function Fm(t,e){_f(t,"connected",e),e===!1&&GV(t)}function UV(t,e){bt(e,(n,s)=>{_f(t,n,s)})}function _f(t,e,n){const s=new Ne("/.info/"+e),r=rt(n);t.infoData_.updateSnapshot(s,r);const i=Ao(t.infoSyncTree_,s,r);Jt(t.eventQueue_,s,i)}function Fl(t){return t.nextWriteId_++}function VV(t,e,n){const s=EV(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(r=>{const i=rt(r).withIndex(e._queryParams.getIndex());Eu(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ao(t.serverSyncTree_,e._path,i);else{const a=_o(t.serverSyncTree_,e);o=ub(t.serverSyncTree_,e._path,i,a)}return Jt(t.eventQueue_,e._path,o),Va(t.serverSyncTree_,e,n,null,!0),i},r=>(gi(t,"get for query "+dt(e)+" failed: "+r),Promise.reject(new Error(r))))}function gf(t,e,n,s,r){gi(t,"set",{path:e.toString(),value:n,priority:s});const i=Ro(t),o=rt(n,s),a=Ol(t.serverSyncTree_,e),l=ff(o,a,i),c=Fl(t),u=of(t.serverSyncTree_,e,l,c,!0);Ll(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const v=f==="ok";v||St("set at "+e+" failed: "+f);const y=gs(t.serverSyncTree_,c,!v);Jt(t.eventQueue_,e,y),Fs(t,r,f,h)});const d=bf(t,e);ni(t,d),Jt(t.eventQueue_,d,[])}function zV(t,e,n,s){gi(t,"update",{path:e.toString(),value:n});let r=!0;const i=Ro(t),o={};if(bt(n,(a,l)=>{r=!1,o[a]=pb(nt(e,a),rt(l),t.serverSyncTree_,i)}),r)gt("update() called with empty data.  Don't do anything."),Fs(t,s,"ok",void 0);else{const a=Fl(t),l=gV(t.serverSyncTree_,e,o,a);Ll(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||St("update at "+e+" failed: "+c);const f=gs(t.serverSyncTree_,a,!d),h=f.length>0?ni(t,e):e;Jt(t.eventQueue_,h,f),Fs(t,s,c,u)}),bt(n,c=>{const u=bf(t,nt(e,c));ni(t,u)}),Jt(t.eventQueue_,e,[])}}function GV(t){gi(t,"onDisconnectEvents");const e=Ro(t),n=La();_u(t.onDisconnect_,Re(),(r,i)=>{const o=pb(r,i,t.serverSyncTree_,e);vi(n,r,o)});let s=[];_u(n,Re(),(r,i)=>{s=s.concat(Ao(t.serverSyncTree_,r,i));const o=bf(t,r);ni(t,o)}),t.onDisconnect_=La(),Jt(t.eventQueue_,Re(),s)}function KV(t,e,n){t.server_.onDisconnectCancel(e.toString(),(s,r)=>{s==="ok"&&vu(t.onDisconnect_,e),Fs(t,n,s,r)})}function Ym(t,e,n,s){const r=rt(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(i,o)=>{i==="ok"&&vi(t.onDisconnect_,e,r),Fs(t,s,i,o)})}function qV(t,e,n,s,r){const i=rt(n,s);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,a)=>{o==="ok"&&vi(t.onDisconnect_,e,i),Fs(t,r,o,a)})}function QV(t,e,n,s){if(ru(n)){gt("onDisconnect().update() called with empty data.  Don't do anything."),Fs(t,s,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(r,i)=>{r==="ok"&&bt(n,(o,a)=>{const l=rt(a);vi(t.onDisconnect_,nt(e,o),l)}),Fs(t,s,r,i)})}function ZV(t,e,n){let s;Ee(e._path)===".info"?s=Eu(t.infoSyncTree_,e,n):s=Eu(t.serverSyncTree_,e,n),bb(t.eventQueue_,e._path,s)}function Du(t,e,n){let s;Ee(e._path)===".info"?s=Va(t.infoSyncTree_,e,n):s=Va(t.serverSyncTree_,e,n),bb(t.eventQueue_,e._path,s)}function Sb(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Cb)}function JV(t){t.persistentConnection_&&t.persistentConnection_.resume(Cb)}function gi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),gt(n,...e)}function Fs(t,e,n,s){e&&mi(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let i=r;s&&(i+=": "+s);const o=new Error(i);o.code=r,e(o)}})}function XV(t,e,n,s,r,i){gi(t,"transaction on "+e);const o={path:e,update:n,onComplete:s,status:null,order:yy(),applyLocally:i,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=yf(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{xo("transaction failed: Data returned ",l,o.path),o.status=0;const c=Ml(t.transactionQueueTree_,e),u=Cr(c)||[];u.push(o),mf(c,u);let d;typeof l=="object"&&l!==null&&Zt(l,".priority")?(d=lr(l,".priority"),U(go(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Ol(t.serverSyncTree_,e)||he.EMPTY_NODE).getPriority().val();const f=Ro(t),h=rt(l,d),v=ff(h,a,f);o.currentOutputSnapshotRaw=h,o.currentOutputSnapshotResolved=v,o.currentWriteId=Fl(t);const y=of(t.serverSyncTree_,e,v,o.currentWriteId,o.applyLocally);Jt(t.eventQueue_,e,y),Yl(t,t.transactionQueueTree_)}}function yf(t,e,n){return Ol(t.serverSyncTree_,e,n)||he.EMPTY_NODE}function Yl(t,e=t.transactionQueueTree_){if(e||Bl(t,e),Cr(e)){const n=Tb(t,e);U(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&e4(t,Oo(e),n)}else mb(e)&&Rl(e,n=>{Yl(t,n)})}function e4(t,e,n){const s=n.map(c=>c.currentWriteId),r=yf(t,e,s);let i=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];U(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=xt(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{gi(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(gs(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Bl(t,Ml(t.transactionQueueTree_,e)),Yl(t,t.transactionQueueTree_),Jt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)mi(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{St("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ni(t,e)}},o)}function ni(t,e){const n=Db(t,e),s=Oo(n),r=Tb(t,n);return t4(t,r,s),s}function t4(t,e,n){if(e.length===0)return;const s=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=xt(n,l.path);let u=!1,d;if(U(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(gs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=WV)u=!0,d="maxretry",r=r.concat(gs(t.serverSyncTree_,l.currentWriteId,!0));else{const f=yf(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){xo("transaction failed: Data returned ",h,l.path);let v=rt(h);typeof h=="object"&&h!=null&&Zt(h,".priority")||(v=v.updatePriority(f.getPriority()));const w=l.currentWriteId,b=Ro(t),A=ff(v,f,b);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=A,l.currentWriteId=Fl(t),o.splice(o.indexOf(w),1),r=r.concat(of(t.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),r=r.concat(gs(t.serverSyncTree_,w,!0))}else u=!0,d="nodata",r=r.concat(gs(t.serverSyncTree_,l.currentWriteId,!0))}Jt(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}Bl(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)mi(s[a]);Yl(t,t.transactionQueueTree_)}function Db(t,e){let n,s=t.transactionQueueTree_;for(n=Ee(e);n!==null&&Cr(s)===void 0;)s=Ml(s,n),e=Ue(e),n=Ee(e);return s}function Tb(t,e){const n=[];return Ib(t,e,n),n.sort((s,r)=>s.order-r.order),n}function Ib(t,e,n){const s=Cr(e);if(s)for(let r=0;r<s.length;r++)n.push(s[r]);Rl(e,r=>{Ib(t,r,n)})}function Bl(t,e){const n=Cr(e);if(n){let s=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[s]=n[r],s++);n.length=s,mf(e,n.length>0?n:void 0)}Rl(e,s=>{Bl(t,s)})}function bf(t,e){const n=Oo(Db(t,e)),s=Ml(t.transactionQueueTree_,e);return OV(s,r=>{Dc(t,r)}),Dc(t,s),vb(s,r=>{Dc(t,r)}),n}function Dc(t,e){const n=Cr(e);if(n){const s=[];let r=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(U(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(U(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(gs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&s.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?mf(e,void 0):n.length=i+1,Jt(t.eventQueue_,Oo(e),r);for(let o=0;o<s.length;o++)mi(s[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let r=n[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function s4(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):St(`Invalid query segment '${n}' in query '${t}'`)}return e}const Tu=function(t,e){const n=r4(t),s=n.namespace;n.domain==="firebase.com"&&xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hj();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new xy(n.host,n.secure,s,r,e,"",s!==n.subdomain),path:new Ne(n.pathString)}},r4=function(t){let e="",n="",s="",r="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=n4(t.substring(u,d)));const f=s4(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const v=e.indexOf(".");s=e.substring(0,v).toLowerCase(),n=e.substring(v+1),i=s}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:o,scheme:a,pathString:r,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",i4=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let r;const i=new Array(8);for(r=7;r>=0;r--)i[r]=Bm.charAt(n%64),n=Math.floor(n/64);U(n===0,"Cannot push at time == 0");let o=i.join("");if(s){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=Bm.charAt(e[r]);return U(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,s,r){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class Pb{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return U(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o4=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Yt;return KV(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){on("OnDisconnect.remove",this._path);const e=new Yt;return Ym(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){on("OnDisconnect.set",this._path),Mn("OnDisconnect.set",e,this._path,!1);const n=new Yt;return Ym(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){on("OnDisconnect.setWithPriority",this._path),Mn("OnDisconnect.setWithPriority",e,this._path,!1),vf("OnDisconnect.setWithPriority",n,!1);const s=new Yt;return qV(this._repo,this._path,e,n,s.wrapCallback(()=>{})),s.promise}update(e){on("OnDisconnect.update",this._path),gb("OnDisconnect.update",e,this._path,!1);const n=new Yt;return QV(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,s,r){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=r}get key(){return Se(this._path)?null:Vd(this._path)}get ref(){return new hn(this._repo,this._path)}get _queryIdentifier(){const e=Dm(this._queryParams),n=Wd(e);return n==="{}"?"default":n}get _queryObject(){return Dm(this._queryParams)}isEqual(e){if(e=Xt(e),!(e instanceof Vt))return!1;const n=this._repo===e._repo,s=zd(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Qj(this._path)}}function Wl(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ws(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===kn){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ms)throw new Error(s);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==Jn)throw new Error(s);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===qe){if(e!=null&&!go(e)||n!=null&&!go(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(U(t.getIndex()instanceof qd||t.getIndex()===Qd,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Hl(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hn extends Vt{constructor(e,n){super(e,n,new Il,!1)}get parent(){const e=Hy(this._path);return e===null?null:new hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let jl=class Iu{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ne(e),s=fr(this.ref,e);return new Iu(this._node.getChild(n),s,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,r)=>e(new Iu(r,fr(this.ref,s),qe)))}hasChild(e){const n=new Ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function kb(t,e){return t=Xt(t),t._checkNotDeleted("ref"),e!==void 0?fr(t._root,e):t._root}function Wm(t,e){t=Xt(t),t._checkNotDeleted("refFromURL");const n=Tu(e,t._repo.repoInfo_.nodeAdmin);yb("refFromURL",n);const s=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&s.host!==t._repo.repoInfo_.host&&xn("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+t._repo.repoInfo_.host+")"),kb(t,n.path.toString())}function fr(t,e){return t=Xt(t),Ee(t._path)===null?FV("child","path",e,!1):yo("child","path",e,!1),new hn(t._repo,nt(t._path,e))}function a4(t,e){t=Xt(t),on("push",t._path),Mn("push",e,t._path,!0);const n=Eb(t._repo),s=i4(n),r=fr(t,s),i=fr(t,s);let o;return e!=null?o=Cf(i,e).then(()=>i):o=Promise.resolve(i),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function l4(t){return on("remove",t._path),Cf(t,null)}function Cf(t,e){t=Xt(t),on("set",t._path),Mn("set",e,t._path,!1);const n=new Yt;return gf(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function c4(t,e){t=Xt(t),on("setPriority",t._path),vf("setPriority",e,!1);const n=new Yt;return gf(t._repo,nt(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function u4(t,e,n){if(on("setWithPriority",t._path),Mn("setWithPriority",e,t._path,!1),vf("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const s=new Yt;return gf(t._repo,t._path,e,n,s.wrapCallback(()=>{})),s.promise}function d4(t,e){gb("update",e,t._path,!1);const n=new Yt;return zV(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function f4(t){t=Xt(t);const e=new wf(()=>{}),n=new No(e);return VV(t._repo,t,n).then(s=>new jl(s,new hn(t._repo,t._path),t._queryParams.getIndex()))}class No{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new $b("value",this,new jl(e.snapshotNode,new hn(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Pb(this,e,n):null}matches(e){return e instanceof No?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ul{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Pb(this,e,n):null}createEvent(e,n){U(e.childName!=null,"Child events should have a childName.");const s=fr(new hn(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new $b(e.type,this,new jl(e.snapshotNode,s,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ul?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Lo(t,e,n,s,r){let i;if(typeof s=="object"&&(i=void 0,r=s),typeof s=="function"&&(i=s),r&&r.onlyOnce){const l=n,c=(u,d)=>{Du(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new wf(n,i||void 0),a=e==="value"?new No(o):new Ul(e,o);return ZV(t._repo,t,a),()=>Du(t._repo,t,a)}function $u(t,e,n,s){return Lo(t,"value",e,n,s)}function Hm(t,e,n,s){return Lo(t,"child_added",e,n,s)}function jm(t,e,n,s){return Lo(t,"child_changed",e,n,s)}function Um(t,e,n,s){return Lo(t,"child_moved",e,n,s)}function Vm(t,e,n,s){return Lo(t,"child_removed",e,n,s)}function zm(t,e,n){let s=null;const r=n?new wf(n):null;e==="value"?s=new No(r):e&&(s=new Ul(e,r)),Du(t._repo,t,s)}class En{}class Ab extends En{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Mn("endAt",this._value,e._path,!0);const n=mu(e._queryParams,this._value,this._key);if(Hl(n),Ws(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vt(e._repo,e._path,n,e._orderByCalled)}}function h4(t,e){return Mo("endAt","key",e,!0),new Ab(t,e)}class p4 extends En{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Mn("endBefore",this._value,e._path,!1);const n=CU(e._queryParams,this._value,this._key);if(Hl(n),Ws(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Vt(e._repo,e._path,n,e._orderByCalled)}}function m4(t,e){return Mo("endBefore","key",e,!0),new p4(t,e)}class Ob extends En{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Mn("startAt",this._value,e._path,!0);const n=pu(e._queryParams,this._value,this._key);if(Hl(n),Ws(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Vt(e._repo,e._path,n,e._orderByCalled)}}function v4(t=null,e){return Mo("startAt","key",e,!0),new Ob(t,e)}class _4 extends En{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Mn("startAfter",this._value,e._path,!1);const n=wU(e._queryParams,this._value,this._key);if(Hl(n),Ws(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Vt(e._repo,e._path,n,e._orderByCalled)}}function g4(t,e){return Mo("startAfter","key",e,!0),new _4(t,e)}class y4 extends En{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vt(e._repo,e._path,yU(e._queryParams,this._limit),e._orderByCalled)}}function b4(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new y4(t)}class w4 extends En{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Vt(e._repo,e._path,bU(e._queryParams,this._limit),e._orderByCalled)}}function C4(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new w4(t)}class E4 extends En{constructor(e){super(),this._path=e}_apply(e){Wl(e,"orderByChild");const n=new Ne(this._path);if(Se(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new qd(n),r=$l(e._queryParams,s);return Ws(r),new Vt(e._repo,e._path,r,!0)}}function S4(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return yo("orderByChild","path",t,!1),new E4(t)}class D4 extends En{_apply(e){Wl(e,"orderByKey");const n=$l(e._queryParams,kn);return Ws(n),new Vt(e._repo,e._path,n,!0)}}function T4(){return new D4}class I4 extends En{_apply(e){Wl(e,"orderByPriority");const n=$l(e._queryParams,qe);return Ws(n),new Vt(e._repo,e._path,n,!0)}}function $4(){return new I4}class P4 extends En{_apply(e){Wl(e,"orderByValue");const n=$l(e._queryParams,Qd);return Ws(n),new Vt(e._repo,e._path,n,!0)}}function k4(){return new P4}class A4 extends En{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Mn("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ab(this._value,this._key)._apply(new Ob(this._value,this._key)._apply(e))}}function O4(t,e){return Mo("equalTo","key",e,!0),new A4(t,e)}function mn(t,...e){let n=Xt(t);for(const s of e)n=s._apply(n);return n}uV(hn);mV(hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="FIREBASE_DATABASE_EMULATOR_HOST",Pu={};let M4=!1;function R4(t,e,n,s){t.repoInfo_=new xy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function xb(t,e,n,s,r){let i=s||t.options.databaseURL;i===void 0&&(t.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Tu(i,r),a=o.repoInfo,l,c;typeof process<"u"&&am&&(c=am[x4]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=Tu(i,r),a=o.repoInfo):l=!o.repoInfo.secure;const u=r&&l?new Fr(Fr.OWNER):new Sj(t.name,t.options,e);yb("Invalid Firebase Database URL",o),Se(o.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=L4(a,t,u,new Ej(t.name,n));return new F4(d,t)}function N4(t,e){const n=Pu[e];(!n||n[t.key]!==t)&&xn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Sb(t),delete n[t.key]}function L4(t,e,n,s){let r=Pu[e.name];r||(r={},Pu[e.name]=r);let i=r[t.toURLString()];return i&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new HV(t,M4,n,s),r[t.toURLString()]=i,i}let F4=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hn(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(N4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xn("Cannot call "+e+" on a deleted database.")}};function Mb(){Jr.IS_TRANSPORT_INITIALIZED&&St("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Y4(){Mb(),_s.forceDisallow()}function B4(){Mb(),tn.forceDisallow(),_s.forceAllow()}function W4(t,e,n,s={}){t=Xt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&xn("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let i;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Fr(Fr.OWNER);else if(s.mockUserToken){const o=typeof s.mockUserToken=="string"?s.mockUserToken:AH(s.mockUserToken,t.app.options.projectId);i=new Fr(o)}R4(r,e,n,i)}function H4(t){t=Xt(t),t._checkNotDeleted("goOffline"),Sb(t._repo)}function j4(t){t=Xt(t),t._checkNotDeleted("goOnline"),JV(t._repo)}function U4(t,e){wy(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){_y(Fd),Zr(new Zn("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return xb(s,r,i,n)},"PUBLIC").setMultipleInstances(!0)),Ss(lm,cm,t),Ss(lm,cm,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4={".sv":"timestamp"};function G4(){return z4}function K4(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q4=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Q4(t,e,n){var s;if(t=Xt(t),on("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const r=(s=n==null?void 0:n.applyLocally)!==null&&s!==void 0?s:!0,i=new Yt,o=(l,c,u)=>{let d=null;l?i.reject(l):(d=new jl(u,new hn(t._repo,t._path),qe),i.resolve(new q4(c,d)))},a=$u(t,()=>{});return XV(t._repo,t._path,e,o,a,r),i.promise}Gn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};V4();const Z4="@firebase/database-compat",J4="1.0.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Sl("@firebase/database-compat"),Rb=function(t){const e="FIREBASE WARNING: "+t;X4.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=function(t,e,n,s){if(!(s&&n===void 0)&&typeof n!="boolean")throw new Error(jt(t,e)+"must be a boolean.")},t6=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(jt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this._delegate=e}cancel(e){pe("OnDisconnect.cancel",0,1,arguments.length),vt("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),s=>e(s)),n}remove(e){pe("OnDisconnect.remove",0,1,arguments.length),vt("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),s=>e(s)),n}set(e,n){pe("OnDisconnect.set",1,2,arguments.length),vt("OnDisconnect.set","onComplete",n,!0);const s=this._delegate.set(e);return n&&s.then(()=>n(null),r=>n(r)),s}setWithPriority(e,n,s){pe("OnDisconnect.setWithPriority",2,3,arguments.length),vt("OnDisconnect.setWithPriority","onComplete",s,!0);const r=this._delegate.setWithPriority(e,n);return s&&r.then(()=>s(null),i=>s(i)),r}update(e,n){if(pe("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let i=0;i<e.length;++i)r[""+i]=e[i];e=r,Rb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vt("OnDisconnect.update","onComplete",n,!0);const s=this._delegate.update(e);return n&&s.then(()=>n(null),r=>n(r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return pe("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this._database=e,this._delegate=n}val(){return pe("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return pe("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return pe("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return pe("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return pe("DataSnapshot.child",0,1,arguments.length),e=String(e),yo("DataSnapshot.child","path",e,!1),new Is(this._database,this._delegate.child(e))}hasChild(e){return pe("DataSnapshot.hasChild",1,1,arguments.length),yo("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return pe("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return pe("DataSnapshot.forEach",1,1,arguments.length),vt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Is(this._database,n)))}hasChildren(){return pe("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return pe("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return pe("DataSnapshot.ref",0,0,arguments.length),new Kt(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class wt{constructor(e,n){this.database=e,this._delegate=n}on(e,n,s,r){var i;pe("Query.on",2,4,arguments.length),vt("Query.on","callback",n,!1);const o=wt.getCancelAndContextArgs_("Query.on",s,r),a=(c,u)=>{n.call(o.context,new Is(this.database,c),u)};a.userCallback=n,a.context=o.context;const l=(i=o.cancel)===null||i===void 0?void 0:i.bind(o.context);switch(e){case"value":return $u(this._delegate,a,l),n;case"child_added":return Hm(this._delegate,a,l),n;case"child_removed":return Vm(this._delegate,a,l),n;case"child_changed":return jm(this._delegate,a,l),n;case"child_moved":return Um(this._delegate,a,l),n;default:throw new Error(jt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,s){if(pe("Query.off",0,3,arguments.length),t6("Query.off",e,!0),vt("Query.off","callback",n,!0),Zp("Query.off","context",s,!0),n){const r=()=>{};r.userCallback=n,r.context=s,zm(this._delegate,e,r)}else zm(this._delegate,e)}get(){return f4(this._delegate).then(e=>new Is(this.database,e))}once(e,n,s,r){pe("Query.once",1,4,arguments.length),vt("Query.once","callback",n,!0);const i=wt.getCancelAndContextArgs_("Query.once",s,r),o=new Yt,a=(c,u)=>{const d=new Is(this.database,c);n&&n.call(i.context,d,u),o.resolve(d)};a.userCallback=n,a.context=i.context;const l=c=>{i.cancel&&i.cancel.call(i.context,c),o.reject(c)};switch(e){case"value":$u(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Hm(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Vm(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":jm(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Um(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(jt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return pe("Query.limitToFirst",1,1,arguments.length),new wt(this.database,mn(this._delegate,b4(e)))}limitToLast(e){return pe("Query.limitToLast",1,1,arguments.length),new wt(this.database,mn(this._delegate,C4(e)))}orderByChild(e){return pe("Query.orderByChild",1,1,arguments.length),new wt(this.database,mn(this._delegate,S4(e)))}orderByKey(){return pe("Query.orderByKey",0,0,arguments.length),new wt(this.database,mn(this._delegate,T4()))}orderByPriority(){return pe("Query.orderByPriority",0,0,arguments.length),new wt(this.database,mn(this._delegate,$4()))}orderByValue(){return pe("Query.orderByValue",0,0,arguments.length),new wt(this.database,mn(this._delegate,k4()))}startAt(e=null,n){return pe("Query.startAt",0,2,arguments.length),new wt(this.database,mn(this._delegate,v4(e,n)))}startAfter(e=null,n){return pe("Query.startAfter",0,2,arguments.length),new wt(this.database,mn(this._delegate,g4(e,n)))}endAt(e=null,n){return pe("Query.endAt",0,2,arguments.length),new wt(this.database,mn(this._delegate,h4(e,n)))}endBefore(e=null,n){return pe("Query.endBefore",0,2,arguments.length),new wt(this.database,mn(this._delegate,m4(e,n)))}equalTo(e,n){return pe("Query.equalTo",1,2,arguments.length),new wt(this.database,mn(this._delegate,O4(e,n)))}toString(){return pe("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return pe("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(pe("Query.isEqual",1,1,arguments.length),!(e instanceof wt)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,s){const r={cancel:void 0,context:void 0};if(n&&s)r.cancel=n,vt(e,"cancel",r.cancel,!0),r.context=s,Zp(e,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(jt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Kt(this.database,new hn(this._delegate._repo,this._delegate._path))}}class Kt extends wt{constructor(e,n){super(e,new Vt(n._repo,n._path,new Il,!1)),this.database=e,this._delegate=n}getKey(){return pe("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return pe("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new Kt(this.database,fr(this._delegate,e))}getParent(){pe("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Kt(this.database,e):null}getRoot(){return pe("Reference.root",0,0,arguments.length),new Kt(this.database,this._delegate.root)}set(e,n){pe("Reference.set",1,2,arguments.length),vt("Reference.set","onComplete",n,!0);const s=Cf(this._delegate,e);return n&&s.then(()=>n(null),r=>n(r)),s}update(e,n){if(pe("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let i=0;i<e.length;++i)r[""+i]=e[i];e=r,Rb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}on("Reference.update",this._delegate._path),vt("Reference.update","onComplete",n,!0);const s=d4(this._delegate,e);return n&&s.then(()=>n(null),r=>n(r)),s}setWithPriority(e,n,s){pe("Reference.setWithPriority",2,3,arguments.length),vt("Reference.setWithPriority","onComplete",s,!0);const r=u4(this._delegate,e,n);return s&&r.then(()=>s(null),i=>s(i)),r}remove(e){pe("Reference.remove",0,1,arguments.length),vt("Reference.remove","onComplete",e,!0);const n=l4(this._delegate);return e&&n.then(()=>e(null),s=>e(s)),n}transaction(e,n,s){pe("Reference.transaction",1,3,arguments.length),vt("Reference.transaction","transactionUpdate",e,!1),vt("Reference.transaction","onComplete",n,!0),e6("Reference.transaction","applyLocally",s,!0);const r=Q4(this._delegate,e,{applyLocally:s}).then(i=>new s6(i.committed,new Is(this.database,i.snapshot)));return n&&r.then(i=>n(null,i.committed,i.snapshot),i=>n(i,!1,null)),r}setPriority(e,n){pe("Reference.setPriority",1,2,arguments.length),vt("Reference.setPriority","onComplete",n,!0);const s=c4(this._delegate,e);return n&&s.then(()=>n(null),r=>n(r)),s}push(e,n){pe("Reference.push",0,2,arguments.length),vt("Reference.push","onComplete",n,!0);const s=a4(this._delegate,e),r=s.then(o=>new Kt(this.database,o));n&&r.then(()=>n(null),o=>n(o));const i=new Kt(this.database,s);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return on("Reference.onDisconnect",this._delegate._path),new n6(new o4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Y4,forceLongPolling:B4}}useEmulator(e,n,s={}){W4(this._delegate,e,n,s)}ref(e){if(pe("database.ref",0,1,arguments.length),e instanceof Kt){const n=Wm(this._delegate,e.toString());return new Kt(this,n)}else{const n=kb(this._delegate,e);return new Kt(this,n)}}refFromURL(e){pe("database.refFromURL",1,1,arguments.length);const s=Wm(this._delegate,e);return new Kt(this,s)}goOffline(){return pe("database.goOffline",0,0,arguments.length),H4(this._delegate)}goOnline(){return pe("database.goOnline",0,0,arguments.length),j4(this._delegate)}}bo.ServerValue={TIMESTAMP:G4(),increment:t=>K4(t)};function r6({app:t,url:e,version:n,customAuthImpl:s,customAppCheckImpl:r,namespace:i,nodeAdmin:o=!1}){_y(n);const a=new ry("database-standalone"),l=new ou("auth-internal",a);l.setComponent(new Zn("auth-internal",()=>s,"PRIVATE"));let c;return r&&(c=new ou("app-check-internal",a),c.setComponent(new Zn("app-check-internal",()=>r,"PRIVATE"))),{instance:new bo(xb(t,l,c,e,o),t),namespace:i}}var i6=Object.freeze({__proto__:null,initStandalone:r6});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=bo.ServerValue;function a6(t){t.INTERNAL.registerComponent(new Zn("database-compat",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new bo(r,s)},"PUBLIC").setServiceProps({Reference:Kt,Query:wt,Database:bo,DataSnapshot:Is,enableLogging:U4,INTERNAL:i6,ServerValue:o6}).setMultipleInstances(!0)),t.registerVersion(Z4,J4)}a6(Bd);const l6=Bd.initializeApp({databaseURL:"https://c210-67728-default-rtdb.firebaseio.com"}),c6=l6.database(),u6=c6.ref("subscriptions"),d6="/assets/push-image-yHULhPDY.jpg",f6={data(){return{bMsg:!1}},methods:{fnPushSubscribe(){let t=this;Notification.requestPermission(function(e){e!=="granted"?console.log("   !"):t.fnConfigurePushSub()})},fnConfigurePushSub(){let t=this;if(!("serviceWorker"in navigator)){console.log("  !");return}navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){e===null?(t.fnNewSubscription(),t.fnDisplayNotification()):console.log("  !")})},fnNewSubscription(){let t=this;navigator.serviceWorker.ready.then(function(e){const s=t.urlBase64ToUint8Array("BEUb-27a0ug58aSI7yEXKqicaaA7qLI_Pzro-wOWOFY2lD30Z6J1NaZTaSbnPjY2r_P-9Z9YaXyDo9or4IFQjrQ");return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s}).then(function(r){const i=JSON.parse(JSON.stringify(r));var o={endpoint:i.endpoint,keys:{p256dh:i.keys.p256dh,auth:i.keys.auth}};return u6.push(o)})})},fnUnSubscription(){let t=this;navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){t.bMsg=!0,e.unsubscribe()}).catch(e=>console.log(e))},fnDisplayNotification(){const t="C210",e={body:"   ",icon:"/img/push-noti.png",badge:"/img/push-badge-icon.png",image:"/img/push-image.jpg",actions:[{action:"like",title:" ?",icon:"/img/push-coffee.png"}],vibrate:[500,100,500]};navigator.serviceWorker.ready.then(function(n){n.showNotification(t,e)})},urlBase64ToUint8Array(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=window.atob(n);return Uint8Array.from([...s].map(r=>r.charCodeAt(0)))}}},h6={class:"card"},p6=m("img",{src:d6,alt:"Push Image",class:"card-img-top"},null,-1),m6={class:"card-body"},v6=m("h1",{class:"card-title"},"C210",-1),_6=m("p",{class:"card-text"},"   . []       .",-1),g6={key:0,class:"alert alert-info"};function y6(t,e,n,s,r,i){return D(),F("div",h6,[p6,m("div",m6,[v6,_6,m("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...o)=>i.fnPushSubscribe&&i.fnPushSubscribe(...o))}," "),m("button",{class:"btn btn-secondary",onClick:e[1]||(e[1]=(...o)=>i.fnUnSubscription&&i.fnUnSubscription(...o))}," ")]),r.bMsg?(D(),F("div",g6,[He("  . "),m("button",{onClick:e[2]||(e[2]=o=>r.bMsg=!1)},"")])):Ke("",!0)])}const b6=Qe(f6,[["render",y6]]),w6={methods:{fnSendPush(){const t=this.$refs.title.value,e=this.$refs.message.value,n=JSON.stringify({pTitle:t,pMsg:e});console.log(n),fetch("https://us-central1-c210-67728.cloudfunctions.net/storePushData",{method:"POST",headers:{"Content-type":"application/json"},body:n}).then(s=>{if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}).then(s=>{console.log(s.message)}).catch(s=>console.log("!"+s.message))}}},C6={class:"container"},E6={class:"row justify-content-center"},S6=m("div",{class:"col-12 text-center"},[m("h1",{class:"display-1"}," ")],-1),D6={class:"col-10 my-3"},T6={class:"card bg-dark text-white"},I6={class:"card-body"},$6={id:"messageForm"},P6={class:"mb-3"},k6={type:"text",class:"form-control",ref:"title",placeholder:" "},A6={textarea:"",class:"form-control",ref:"message",rows:"3",placeholder:" "};function O6(t,e,n,s,r,i){return D(),F("div",C6,[m("div",E6,[S6,m("div",D6,[m("div",T6,[m("div",I6,[m("form",$6,[m("div",P6,[m("input",k6,null,512),m("textarea",A6,null,512)]),m("button",{type:"button",class:"btn btn-block btn-large btn-orange",onClick:e[0]||(e[0]=(...o)=>i.fnSendPush&&i.fnSendPush(...o))}," ")])])])])])])}const x6=Qe(w6,[["render",O6]]),M6={components:{DatePicker:Og},data(){return{date:new Date,showModal:!1,selectedDate:null}},methods:{openModal(t){this.showModal=!0,this.selectedDate=t},closeModal(){this.showModal=!1,this.selectedDate=null}}},R6=t=>(Dt("data-v-270781f8"),t=t(),Tt(),t),N6={key:0,class:"modal"},L6={class:"modal-content"},F6=R6(()=>m("h2",null,"Calendar Detail",-1));function Y6(t,e,n,s,r,i){const o=ct("DatePicker");return D(),F("div",null,[r.showModal?(D(),F("div",N6,[m("div",L6,[m("span",{class:"close",onClick:e[0]||(e[0]=(...a)=>i.closeModal&&i.closeModal(...a))},""),F6,m("p",null,"Date: "+we(r.selectedDate),1)])])):Ke("",!0),ee(o,{expanded:"",modelValue:r.date,"onUpdate:modelValue":e[1]||(e[1]=a=>r.date=a),"onClick:date":i.openModal},null,8,["modelValue","onClick:date"])])}const B6=Qe(M6,[["render",Y6],["__scopeId","data-v-270781f8"]]),W6=pY({history:O2("/"),routes:[{name:"",path:"/",component:nu},{name:"main",path:"/main",component:nu},{name:"goal",path:"/goal",component:hW},{name:"board",path:"/board",component:vW},{name:"calendar",path:"/calendar",component:Rg},{name:"friend",path:"/friend",component:RF},{name:"meeting",path:"/meeting",component:WW},{name:"habit",path:"/habit",component:UW},{name:"mypage",path:"/mypage",component:qg},{path:"/voice",name:"Voice",component:iH},{path:"/voice/trainer",name:"VoiceTrainer",component:wH},{path:"/subscribe",name:"subscribe",component:b6},{path:"/pushnotify",name:"pushnotify",component:x6},{path:"/calendar/calendarDetail",name:"CalendarDetail",component:B6}]}),Nb=v1();Nb.use(C1);const Vl=f1(rW);Vl.use(Nb);Vl.use(W6);Vl.use(LR,{});Vl.mount("#app");vF({immediate:!0});
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
