var MC=Object.defineProperty;var TC=(t,e,n)=>e in t?MC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ee=(t,e,n)=>(TC(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function cp(t,e){const n=new Set(t.split(","));return e?s=>n.has(s.toLowerCase()):s=>n.has(s)}const dt={},qo=[],Tn=()=>{},DC=()=>!1,vu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),up=t=>t.startsWith("onUpdate:"),zt=Object.assign,dp=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},IC=Object.prototype.hasOwnProperty,Ve=(t,e)=>IC.call(t,e),pe=Array.isArray,Qo=t=>Sr(t)==="[object Map]",Ar=t=>Sr(t)==="[object Set]",Im=t=>Sr(t)==="[object Date]",RC=t=>Sr(t)==="[object RegExp]",we=t=>typeof t=="function",Ct=t=>typeof t=="string",Mi=t=>typeof t=="symbol",ot=t=>t!==null&&typeof t=="object",l0=t=>(ot(t)||we(t))&&we(t.then)&&we(t.catch),c0=Object.prototype.toString,Sr=t=>c0.call(t),OC=t=>Sr(t).slice(8,-1),u0=t=>Sr(t)==="[object Object]",hp=t=>Ct(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_a=cp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},PC=/-(\w)/g,ds=wu(t=>t.replace(PC,(e,n)=>n?n.toUpperCase():"")),NC=/\B([A-Z])/g,Eo=wu(t=>t.replace(NC,"-$1").toLowerCase()),Au=wu(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hd=wu(t=>t?`on${Au(t)}`:""),Ti=(t,e)=>!Object.is(t,e),Xo=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Pc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Na=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Rm;const d0=()=>Rm||(Rm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Di(t){if(pe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Ct(s)?BC(s):Di(s);if(i)for(const o in i)e[o]=i[o]}return e}else if(Ct(t)||ot(t))return t}const LC=/;(?![^(]*\))/g,FC=/:([^]+)/,$C=/\/\*[^]*?\*\//g;function BC(t){const e={};return t.replace($C,"").split(LC).forEach(n=>{if(n){const s=n.split(FC);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ii(t){let e="";if(Ct(t))e=t;else if(pe(t))for(let n=0;n<t.length;n++){const s=Ii(t[n]);s&&(e+=s+" ")}else if(ot(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const YC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",UC=cp(YC);function h0(t){return!!t||t===""}function VC(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=ml(t[s],e[s]);return n}function ml(t,e){if(t===e)return!0;let n=Im(t),s=Im(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Mi(t),s=Mi(e),n||s)return t===e;if(n=pe(t),s=pe(e),n||s)return n&&s?VC(t,e):!1;if(n=ot(t),s=ot(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const r in t){const a=t.hasOwnProperty(r),l=e.hasOwnProperty(r);if(a&&!l||!a&&l||!ml(t[r],e[r]))return!1}}return String(t)===String(e)}function fp(t,e){return t.findIndex(n=>ml(n,e))}const oe=t=>Ct(t)?t:t==null?"":pe(t)||ot(t)&&(t.toString===c0||!we(t.toString))?JSON.stringify(t,f0,2):String(t),f0=(t,e)=>e&&e.__v_isRef?f0(t,e.value):Qo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],o)=>(n[jd(s,o)+" =>"]=i,n),{})}:Ar(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>jd(n))}:Mi(e)?jd(e):ot(e)&&!pe(e)&&!u0(e)?String(e):e,jd=(t,e="")=>{var n;return Mi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _n;class p0{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_n,!e&&_n&&(this.index=(_n.scopes||(_n.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=_n;try{return _n=this,e()}finally{_n=n}}}on(){_n=this}off(){_n=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function g0(t){return new p0(t)}function WC(t,e=_n){e&&e.active&&e.effects.push(t)}function m0(){return _n}function HC(t){_n&&_n.cleanups.push(t)}let ho;class pp{constructor(e,n,s,i){this.fn=e,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,WC(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Mo();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(jC(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),To()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=bi,n=ho;try{return bi=!0,ho=this,this._runnings++,Om(this),this.fn()}finally{Pm(this),this._runnings--,ho=n,bi=e}}stop(){var e;this.active&&(Om(this),Pm(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function jC(t){return t.value}function Om(t){t._trackId++,t._depsLength=0}function Pm(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)_0(t.deps[e],t);t.deps.length=t._depsLength}}function _0(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let bi=!0,Fh=0;const y0=[];function Mo(){y0.push(bi),bi=!1}function To(){const t=y0.pop();bi=t===void 0?!0:t}function gp(){Fh++}function mp(){for(Fh--;!Fh&&$h.length;)$h.shift()()}function b0(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const s=t.deps[t._depsLength];s!==e?(s&&_0(s,t),t.deps[t._depsLength++]=e):t._depsLength++}}const $h=[];function v0(t,e,n){gp();for(const s of t.keys()){let i;s._dirtyLevel<e&&(i??(i=t.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=e),s._shouldSchedule&&(i??(i=t.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&$h.push(s.scheduler)))}mp()}const w0=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Nc=new WeakMap,fo=Symbol(""),Bh=Symbol("");function dn(t,e,n){if(bi&&ho){let s=Nc.get(t);s||Nc.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=w0(()=>s.delete(n))),b0(ho,i)}}function Ns(t,e,n,s,i,o){const r=Nc.get(t);if(!r)return;let a=[];if(e==="clear")a=[...r.values()];else if(n==="length"&&pe(t)){const l=Number(s);r.forEach((c,u)=>{(u==="length"||!Mi(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(r.get(n)),e){case"add":pe(t)?hp(n)&&a.push(r.get("length")):(a.push(r.get(fo)),Qo(t)&&a.push(r.get(Bh)));break;case"delete":pe(t)||(a.push(r.get(fo)),Qo(t)&&a.push(r.get(Bh)));break;case"set":Qo(t)&&a.push(r.get(fo));break}gp();for(const l of a)l&&v0(l,4);mp()}function zC(t,e){var n;return(n=Nc.get(t))==null?void 0:n.get(e)}const GC=cp("__proto__,__v_isRef,__isVue"),A0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mi)),Nm=KC();function KC(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=$e(this);for(let o=0,r=this.length;o<r;o++)dn(s,"get",o+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map($e)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Mo(),gp();const s=$e(this)[e].apply(this,n);return mp(),To(),s}}),t}function qC(t){const e=$e(this);return dn(e,"has",t),e.hasOwnProperty(t)}class S0{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,s){const i=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(i?o?lk:E0:o?k0:C0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const r=pe(e);if(!i){if(r&&Ve(Nm,n))return Reflect.get(Nm,n,s);if(n==="hasOwnProperty")return qC}const a=Reflect.get(e,n,s);return(Mi(n)?A0.has(n):GC(n))||(i||dn(e,"get",n),o)?a:kt(a)?r&&hp(n)?a:a.value:ot(a)?i?T0(a):Ui(a):a}}class x0 extends S0{constructor(e=!1){super(!1,e)}set(e,n,s,i){let o=e[n];if(!this._shallow){const l=rr(o);if(!Lc(s)&&!rr(s)&&(o=$e(o),s=$e(s)),!pe(e)&&kt(o)&&!kt(s))return l?!1:(o.value=s,!0)}const r=pe(e)&&hp(n)?Number(n)<e.length:Ve(e,n),a=Reflect.set(e,n,s,i);return e===$e(i)&&(r?Ti(s,o)&&Ns(e,"set",n,s):Ns(e,"add",n,s)),a}deleteProperty(e,n){const s=Ve(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&Ns(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Mi(n)||!A0.has(n))&&dn(e,"has",n),s}ownKeys(e){return dn(e,"iterate",pe(e)?"length":fo),Reflect.ownKeys(e)}}class QC extends S0{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const XC=new x0,JC=new QC,ZC=new x0(!0),_p=t=>t,Su=t=>Reflect.getPrototypeOf(t);function Vl(t,e,n=!1,s=!1){t=t.__v_raw;const i=$e(t),o=$e(e);n||(Ti(e,o)&&dn(i,"get",e),dn(i,"get",o));const{has:r}=Su(i),a=s?_p:n?vp:La;if(r.call(i,e))return a(t.get(e));if(r.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Wl(t,e=!1){const n=this.__v_raw,s=$e(n),i=$e(t);return e||(Ti(t,i)&&dn(s,"has",t),dn(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Hl(t,e=!1){return t=t.__v_raw,!e&&dn($e(t),"iterate",fo),Reflect.get(t,"size",t)}function Lm(t){t=$e(t);const e=$e(this);return Su(e).has.call(e,t)||(e.add(t),Ns(e,"add",t,t)),this}function Fm(t,e){e=$e(e);const n=$e(this),{has:s,get:i}=Su(n);let o=s.call(n,t);o||(t=$e(t),o=s.call(n,t));const r=i.call(n,t);return n.set(t,e),o?Ti(e,r)&&Ns(n,"set",t,e):Ns(n,"add",t,e),this}function $m(t){const e=$e(this),{has:n,get:s}=Su(e);let i=n.call(e,t);i||(t=$e(t),i=n.call(e,t)),s&&s.call(e,t);const o=e.delete(t);return i&&Ns(e,"delete",t,void 0),o}function Bm(){const t=$e(this),e=t.size!==0,n=t.clear();return e&&Ns(t,"clear",void 0,void 0),n}function jl(t,e){return function(s,i){const o=this,r=o.__v_raw,a=$e(r),l=e?_p:t?vp:La;return!t&&dn(a,"iterate",fo),r.forEach((c,u)=>s.call(i,l(c),l(u),o))}}function zl(t,e,n){return function(...s){const i=this.__v_raw,o=$e(i),r=Qo(o),a=t==="entries"||t===Symbol.iterator&&r,l=t==="keys"&&r,c=i[t](...s),u=n?_p:e?vp:La;return!e&&dn(o,"iterate",l?Bh:fo),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function ni(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ek(){const t={get(o){return Vl(this,o)},get size(){return Hl(this)},has:Wl,add:Lm,set:Fm,delete:$m,clear:Bm,forEach:jl(!1,!1)},e={get(o){return Vl(this,o,!1,!0)},get size(){return Hl(this)},has:Wl,add:Lm,set:Fm,delete:$m,clear:Bm,forEach:jl(!1,!0)},n={get(o){return Vl(this,o,!0)},get size(){return Hl(this,!0)},has(o){return Wl.call(this,o,!0)},add:ni("add"),set:ni("set"),delete:ni("delete"),clear:ni("clear"),forEach:jl(!0,!1)},s={get(o){return Vl(this,o,!0,!0)},get size(){return Hl(this,!0)},has(o){return Wl.call(this,o,!0)},add:ni("add"),set:ni("set"),delete:ni("delete"),clear:ni("clear"),forEach:jl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=zl(o,!1,!1),n[o]=zl(o,!0,!1),e[o]=zl(o,!1,!0),s[o]=zl(o,!0,!0)}),[t,n,e,s]}const[tk,nk,sk,ik]=ek();function yp(t,e){const n=e?t?ik:sk:t?nk:tk;return(s,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(Ve(n,i)&&i in s?n:s,i,o)}const ok={get:yp(!1,!1)},rk={get:yp(!1,!0)},ak={get:yp(!0,!1)},C0=new WeakMap,k0=new WeakMap,E0=new WeakMap,lk=new WeakMap;function ck(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uk(t){return t.__v_skip||!Object.isExtensible(t)?0:ck(OC(t))}function Ui(t){return rr(t)?t:bp(t,!1,XC,ok,C0)}function M0(t){return bp(t,!1,ZC,rk,k0)}function T0(t){return bp(t,!0,JC,ak,E0)}function bp(t,e,n,s,i){if(!ot(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const r=uk(t);if(r===0)return t;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function Ls(t){return rr(t)?Ls(t.__v_raw):!!(t&&t.__v_isReactive)}function rr(t){return!!(t&&t.__v_isReadonly)}function Lc(t){return!!(t&&t.__v_isShallow)}function D0(t){return Ls(t)||rr(t)}function $e(t){const e=t&&t.__v_raw;return e?$e(e):t}function xu(t){return Object.isExtensible(t)&&Pc(t,"__v_skip",!0),t}const La=t=>ot(t)?Ui(t):t,vp=t=>ot(t)?T0(t):t;class I0{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new pp(()=>e(this._value),()=>gc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=$e(this);return(!e._cacheable||e.effect.dirty)&&Ti(e._value,e._value=e.effect.run())&&gc(e,4),R0(e),e.effect._dirtyLevel>=2&&gc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function dk(t,e,n=!1){let s,i;const o=we(t);return o?(s=t,i=Tn):(s=t.get,i=t.set),new I0(s,i,o||!i,n)}function R0(t){var e;bi&&ho&&(t=$e(t),b0(ho,(e=t.dep)!=null?e:t.dep=w0(()=>t.dep=void 0,t instanceof I0?t:void 0)))}function gc(t,e=4,n){t=$e(t);const s=t.dep;s&&v0(s,e)}function kt(t){return!!(t&&t.__v_isRef===!0)}function ie(t){return O0(t,!1)}function hk(t){return O0(t,!0)}function O0(t,e){return kt(t)?t:new fk(t,e)}class fk{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:$e(e),this._value=n?e:La(e)}get value(){return R0(this),this._value}set value(e){const n=this.__v_isShallow||Lc(e)||rr(e);e=n?e:$e(e),Ti(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:La(e),gc(this,4))}}function on(t){return kt(t)?t.value:t}const pk={get:(t,e,n)=>on(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return kt(i)&&!kt(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function P0(t){return Ls(t)?t:new Proxy(t,pk)}function N0(t){const e=pe(t)?new Array(t.length):{};for(const n in t)e[n]=L0(t,n);return e}class gk{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return zC($e(this._object),this._key)}}class mk{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function _k(t,e,n){return kt(t)?t:we(t)?new mk(t):ot(t)&&arguments.length>1?L0(t,e,n):ie(t)}function L0(t,e,n){const s=t[e];return kt(s)?s:new gk(t,e,n)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vi(t,e,n,s){try{return s?t(...s):t()}catch(i){Cu(i,e,n)}}function jn(t,e,n,s){if(we(t)){const o=vi(t,e,n,s);return o&&l0(o)&&o.catch(r=>{Cu(r,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(jn(t[o],e,n,s));return i}function Cu(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const r=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,r,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){vi(l,null,10,[t,r,a]);return}}yk(t,n,i,s)}function yk(t,e,n,s=!0){console.error(t)}let Fa=!1,Yh=!1;const Kt=[];let is=0;const Jo=[];let ri=null,ro=0;const F0=Promise.resolve();let wp=null;function ku(t){const e=wp||F0;return t?e.then(this?t.bind(this):t):e}function bk(t){let e=is+1,n=Kt.length;for(;e<n;){const s=e+n>>>1,i=Kt[s],o=$a(i);o<t||o===t&&i.pre?e=s+1:n=s}return e}function Ap(t){(!Kt.length||!Kt.includes(t,Fa&&t.allowRecurse?is+1:is))&&(t.id==null?Kt.push(t):Kt.splice(bk(t.id),0,t),$0())}function $0(){!Fa&&!Yh&&(Yh=!0,wp=F0.then(Y0))}function vk(t){const e=Kt.indexOf(t);e>is&&Kt.splice(e,1)}function wk(t){pe(t)?Jo.push(...t):(!ri||!ri.includes(t,t.allowRecurse?ro+1:ro))&&Jo.push(t),$0()}function Ym(t,e,n=Fa?is+1:0){for(;n<Kt.length;n++){const s=Kt[n];if(s&&s.pre){if(t&&s.id!==t.uid)continue;Kt.splice(n,1),n--,s()}}}function B0(t){if(Jo.length){const e=[...new Set(Jo)].sort((n,s)=>$a(n)-$a(s));if(Jo.length=0,ri){ri.push(...e);return}for(ri=e,ro=0;ro<ri.length;ro++)ri[ro]();ri=null,ro=0}}const $a=t=>t.id==null?1/0:t.id,Ak=(t,e)=>{const n=$a(t)-$a(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Y0(t){Yh=!1,Fa=!0,Kt.sort(Ak);try{for(is=0;is<Kt.length;is++){const e=Kt[is];e&&e.active!==!1&&vi(e,null,14)}}finally{is=0,Kt.length=0,B0(),Fa=!1,wp=null,(Kt.length||Jo.length)&&Y0()}}function Sk(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||dt;let i=n;const o=e.startsWith("update:"),r=o&&e.slice(7);if(r&&r in s){const u=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:h}=s[u]||dt;h&&(i=n.map(p=>Ct(p)?p.trim():p)),d&&(i=n.map(Na))}let a,l=s[a=Hd(e)]||s[a=Hd(ds(e))];!l&&o&&(l=s[a=Hd(Eo(e))]),l&&jn(l,t,6,i);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,jn(c,t,6,i)}}function U0(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const o=t.emits;let r={},a=!1;if(!we(t)){const l=c=>{const u=U0(c,e,!0);u&&(a=!0,zt(r,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(ot(t)&&s.set(t,null),null):(pe(o)?o.forEach(l=>r[l]=null):zt(r,o),ot(t)&&s.set(t,r),r)}function Eu(t,e){return!t||!vu(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ve(t,e[0].toLowerCase()+e.slice(1))||Ve(t,Eo(e))||Ve(t,e))}let qt=null,Mu=null;function Fc(t){const e=qt;return qt=t,Mu=t&&t.type.__scopeId||null,e}function Ne(t){Mu=t}function Le(){Mu=null}function vt(t,e=qt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Xm(-1);const o=Fc(e);let r;try{r=t(...i)}finally{Fc(o),s._d&&Xm(1)}return r};return s._n=!0,s._c=!0,s._d=!0,s}function zd(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:o,propsOptions:[r],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:h,setupState:p,ctx:g,inheritAttrs:m}=t;let _,w;const A=Fc(t);try{if(n.shapeFlag&4){const C=i||s,E=C;_=ss(u.call(E,C,d,o,p,h,g)),w=l}else{const C=e;_=ss(C.length>1?C(o,{attrs:l,slots:a,emit:c}):C(o,null)),w=e.props?l:xk(l)}}catch(C){va.length=0,Cu(C,t,1),_=be(yo)}let x=_;if(w&&m!==!1){const C=Object.keys(w),{shapeFlag:E}=x;C.length&&E&7&&(r&&C.some(up)&&(w=Ck(w,r)),x=bo(x,w))}return n.dirs&&(x=bo(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),_=x,Fc(A),_}const xk=t=>{let e;for(const n in t)(n==="class"||n==="style"||vu(n))&&((e||(e={}))[n]=t[n]);return e},Ck=(t,e)=>{const n={};for(const s in t)(!up(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function kk(t,e,n){const{props:s,children:i,component:o}=t,{props:r,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Um(s,r,c):!!r;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(r[h]!==s[h]&&!Eu(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===r?!1:s?r?Um(s,r,c):!0:!!r;return!1}function Um(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const o=s[i];if(e[o]!==t[o]&&!Eu(n,o))return!0}return!1}function Ek({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Sp="components";function rs(t,e){return W0(Sp,t,!0,e)||t}const V0=Symbol.for("v-ndc");function xr(t){return Ct(t)?W0(Sp,t,!1)||t:t||V0}function W0(t,e,n=!0,s=!1){const i=qt||Bt;if(i){const o=i.type;if(t===Sp){const a=Gh(o,!1);if(a&&(a===e||a===ds(e)||a===Au(ds(e))))return o}const r=Vm(i[t]||o[t],e)||Vm(i.appContext[t],e);return!r&&s?o:r}}function Vm(t,e){return t&&(t[e]||t[ds(e)]||t[Au(ds(e))])}const H0=t=>t.__isSuspense;function Mk(t,e){e&&e.pendingBranch?pe(t)?e.effects.push(...t):e.effects.push(t):wk(t)}const Tk=Symbol.for("v-scx"),Dk=()=>Rn(Tk),Gl={};function ls(t,e,n){return j0(t,e,n)}function j0(t,e,{immediate:n,deep:s,flush:i,once:o,onTrack:r,onTrigger:a}=dt){if(e&&o){const D=e;e=(...R)=>{D(...R),E()}}const l=Bt,c=D=>s===!0?D:ao(D,s===!1?1:void 0);let u,d=!1,h=!1;if(kt(t)?(u=()=>t.value,d=Lc(t)):Ls(t)?(u=()=>c(t),d=!0):pe(t)?(h=!0,d=t.some(D=>Ls(D)||Lc(D)),u=()=>t.map(D=>{if(kt(D))return D.value;if(Ls(D))return c(D);if(we(D))return vi(D,l,2)})):we(t)?e?u=()=>vi(t,l,2):u=()=>(p&&p(),jn(t,l,3,[g])):u=Tn,e&&s){const D=u;u=()=>ao(D())}let p,g=D=>{p=x.onStop=()=>{vi(D,l,4),p=x.onStop=void 0}},m;if(Ru)if(g=Tn,e?n&&jn(e,l,3,[u(),h?[]:void 0,g]):u(),i==="sync"){const D=Dk();m=D.__watcherHandles||(D.__watcherHandles=[])}else return Tn;let _=h?new Array(t.length).fill(Gl):Gl;const w=()=>{if(!(!x.active||!x.dirty))if(e){const D=x.run();(s||d||(h?D.some((R,b)=>Ti(R,_[b])):Ti(D,_)))&&(p&&p(),jn(e,l,3,[D,_===Gl?void 0:h&&_[0]===Gl?[]:_,g]),_=D)}else x.run()};w.allowRecurse=!!e;let A;i==="sync"?A=w:i==="post"?A=()=>jt(w,l&&l.suspense):(w.pre=!0,l&&(w.id=l.uid),A=()=>Ap(w));const x=new pp(u,Tn,A),C=m0(),E=()=>{x.stop(),C&&dp(C.effects,x)};return e?n?w():_=x.run():i==="post"?jt(x.run.bind(x),l&&l.suspense):x.run(),m&&m.push(E),E}function Ik(t,e,n){const s=this.proxy,i=Ct(t)?t.includes(".")?z0(s,t):()=>s[t]:t.bind(s,s);let o;we(e)?o=e:(o=e.handler,n=e);const r=_l(this),a=j0(i,o.bind(s),n);return r(),a}function z0(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function ao(t,e,n=0,s){if(!ot(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(s=s||new Set,s.has(t))return t;if(s.add(t),kt(t))ao(t.value,e,n,s);else if(pe(t))for(let i=0;i<t.length;i++)ao(t[i],e,n,s);else if(Ar(t)||Qo(t))t.forEach(i=>{ao(i,e,n,s)});else if(u0(t))for(const i in t)ao(t[i],e,n,s);return t}function le(t,e){if(qt===null)return t;const n=Ou(qt)||qt.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,r,a,l=dt]=e[i];o&&(we(o)&&(o={mounted:o,updated:o}),o.deep&&ao(r),s.push({dir:o,instance:n,value:r,oldValue:void 0,arg:a,modifiers:l}))}return t}function Gi(t,e,n,s){const i=t.dirs,o=e&&e.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[s];l&&(Mo(),jn(l,n,8,[t.el,a,t,e]),To())}}function G0(t,e){t.shapeFlag&6&&t.component?G0(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function K0(t,e){return we(t)?zt({name:t.name},e,{setup:t}):t}const ya=t=>!!t.type.__asyncLoader,q0=t=>t.type.__isKeepAlive,Rk={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=gE(),s=n.ctx;if(!s.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const i=new Map,o=new Set;let r=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=s,h=d("div");s.activate=(A,x,C,E,D)=>{const R=A.component;c(A,x,C,0,a),l(R.vnode,A,x,C,R,a,E,A.slotScopeIds,D),jt(()=>{R.isDeactivated=!1,R.a&&Xo(R.a);const b=A.props&&A.props.onVnodeMounted;b&&kn(b,R.parent,A)},a)},s.deactivate=A=>{const x=A.component;c(A,h,null,1,a),jt(()=>{x.da&&Xo(x.da);const C=A.props&&A.props.onVnodeUnmounted;C&&kn(C,x.parent,A),x.isDeactivated=!0},a)};function p(A){Gd(A),u(A,n,a,!0)}function g(A){i.forEach((x,C)=>{const E=Gh(x.type);E&&(!A||!A(E))&&m(C)})}function m(A){const x=i.get(A);!r||!Ho(x,r)?p(x):r&&Gd(r),i.delete(A),o.delete(A)}ls(()=>[t.include,t.exclude],([A,x])=>{A&&g(C=>ca(A,C)),x&&g(C=>!ca(x,C))},{flush:"post",deep:!0});let _=null;const w=()=>{_!=null&&i.set(_,Kd(n.subTree))};return Nn(w),X0(w),J0(()=>{i.forEach(A=>{const{subTree:x,suspense:C}=n,E=Kd(x);if(A.type===E.type&&A.key===E.key){Gd(E);const D=E.component.da;D&&jt(D,C);return}p(A)})}),()=>{if(_=null,!e.default)return null;const A=e.default(),x=A[0];if(A.length>1)return r=null,A;if(!Bc(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return r=null,x;let C=Kd(x);const E=C.type,D=Gh(ya(C)?C.type.__asyncResolved||{}:E),{include:R,exclude:b,max:v}=t;if(R&&(!D||!ca(R,D))||b&&D&&ca(b,D))return r=C,x;const M=C.key==null?E:C.key,F=i.get(M);return C.el&&(C=bo(C),x.shapeFlag&128&&(x.ssContent=C)),_=M,F?(C.el=F.el,C.component=F.component,C.transition&&G0(C,C.transition),C.shapeFlag|=512,o.delete(M),o.add(M)):(o.add(M),v&&o.size>parseInt(v,10)&&m(o.values().next().value)),C.shapeFlag|=256,r=C,H0(x.type)?x:C}}},Joe=Rk;function ca(t,e){return pe(t)?t.some(n=>ca(n,e)):Ct(t)?t.split(",").includes(e):RC(t)?t.test(e):!1}function Ok(t,e){Q0(t,"a",e)}function Pk(t,e){Q0(t,"da",e)}function Q0(t,e,n=Bt){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Tu(e,s,n),n){let i=n.parent;for(;i&&i.parent;)q0(i.parent.vnode)&&Nk(s,e,n,i),i=i.parent}}function Nk(t,e,n,s){const i=Tu(e,t,s,!0);Z0(()=>{dp(s[e],i)},n)}function Gd(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Kd(t){return t.shapeFlag&128?t.ssContent:t}function Tu(t,e,n=Bt,s=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;Mo();const a=_l(n),l=jn(e,n,t,r);return a(),To(),l});return s?i.unshift(o):i.push(o),o}}const qs=t=>(e,n=Bt)=>(!Ru||t==="sp")&&Tu(t,(...s)=>e(...s),n),Lk=qs("bm"),Nn=qs("m"),Fk=qs("bu"),X0=qs("u"),J0=qs("bum"),Z0=qs("um"),$k=qs("sp"),Bk=qs("rtg"),Yk=qs("rtc");function Uk(t,e=Bt){Tu("ec",t,e)}function Ze(t,e,n,s){let i;const o=n&&n[s];if(pe(t)||Ct(t)){i=new Array(t.length);for(let r=0,a=t.length;r<a;r++)i[r]=e(t[r],r,void 0,o&&o[r])}else if(typeof t=="number"){i=new Array(t);for(let r=0;r<t;r++)i[r]=e(r+1,r,void 0,o&&o[r])}else if(ot(t))if(t[Symbol.iterator])i=Array.from(t,(r,a)=>e(r,a,void 0,o&&o[a]));else{const r=Object.keys(t);i=new Array(r.length);for(let a=0,l=r.length;a<l;a++){const c=r[a];i[a]=e(t[c],c,a,o&&o[a])}}else i=[];return n&&(n[s]=i),i}const Uh=t=>t?dw(t)?Ou(t)||t.proxy:Uh(t.parent):null,ba=zt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Uh(t.parent),$root:t=>Uh(t.root),$emit:t=>t.emit,$options:t=>xp(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Ap(t.update)}),$nextTick:t=>t.n||(t.n=ku.bind(t.proxy)),$watch:t=>Ik.bind(t)}),qd=(t,e)=>t!==dt&&!t.__isScriptSetup&&Ve(t,e),Vk={get({_:t},e){const{ctx:n,setupState:s,data:i,props:o,accessCache:r,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=r[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(qd(s,e))return r[e]=1,s[e];if(i!==dt&&Ve(i,e))return r[e]=2,i[e];if((c=t.propsOptions[0])&&Ve(c,e))return r[e]=3,o[e];if(n!==dt&&Ve(n,e))return r[e]=4,n[e];Vh&&(r[e]=0)}}const u=ba[e];let d,h;if(u)return e==="$attrs"&&dn(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==dt&&Ve(n,e))return r[e]=4,n[e];if(h=l.config.globalProperties,Ve(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:o}=t;return qd(i,e)?(i[e]=n,!0):s!==dt&&Ve(s,e)?(s[e]=n,!0):Ve(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:o}},r){let a;return!!n[r]||t!==dt&&Ve(t,r)||qd(e,r)||(a=o[0])&&Ve(a,r)||Ve(s,r)||Ve(ba,r)||Ve(i.config.globalProperties,r)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ve(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Wm(t){return pe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Vh=!0;function Wk(t){const e=xp(t),n=t.proxy,s=t.ctx;Vh=!1,e.beforeCreate&&Hm(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:p,updated:g,activated:m,deactivated:_,beforeDestroy:w,beforeUnmount:A,destroyed:x,unmounted:C,render:E,renderTracked:D,renderTriggered:R,errorCaptured:b,serverPrefetch:v,expose:M,inheritAttrs:F,components:U,directives:ne,filters:de}=e;if(c&&Hk(c,s,null),r)for(const Y in r){const ae=r[Y];we(ae)&&(s[Y]=ae.bind(n))}if(i){const Y=i.call(n,n);ot(Y)&&(t.data=Ui(Y))}if(Vh=!0,o)for(const Y in o){const ae=o[Y],se=we(ae)?ae.bind(n,n):we(ae.get)?ae.get.bind(n,n):Tn,tt=!we(ae)&&we(ae.set)?ae.set.bind(n):Tn,He=Mt({get:se,set:tt});Object.defineProperty(s,Y,{enumerable:!0,configurable:!0,get:()=>He.value,set:Z=>He.value=Z})}if(a)for(const Y in a)ew(a[Y],s,n,Y);if(l){const Y=we(l)?l.call(n):l;Reflect.ownKeys(Y).forEach(ae=>{mc(ae,Y[ae])})}u&&Hm(u,t,"c");function te(Y,ae){pe(ae)?ae.forEach(se=>Y(se.bind(n))):ae&&Y(ae.bind(n))}if(te(Lk,d),te(Nn,h),te(Fk,p),te(X0,g),te(Ok,m),te(Pk,_),te(Uk,b),te(Yk,D),te(Bk,R),te(J0,A),te(Z0,C),te($k,v),pe(M))if(M.length){const Y=t.exposed||(t.exposed={});M.forEach(ae=>{Object.defineProperty(Y,ae,{get:()=>n[ae],set:se=>n[ae]=se})})}else t.exposed||(t.exposed={});E&&t.render===Tn&&(t.render=E),F!=null&&(t.inheritAttrs=F),U&&(t.components=U),ne&&(t.directives=ne)}function Hk(t,e,n=Tn){pe(t)&&(t=Wh(t));for(const s in t){const i=t[s];let o;ot(i)?"default"in i?o=Rn(i.from||s,i.default,!0):o=Rn(i.from||s):o=Rn(i),kt(o)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):e[s]=o}}function Hm(t,e,n){jn(pe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function ew(t,e,n,s){const i=s.includes(".")?z0(n,s):()=>n[s];if(Ct(t)){const o=e[t];we(o)&&ls(i,o)}else if(we(t))ls(i,t.bind(n));else if(ot(t))if(pe(t))t.forEach(o=>ew(o,e,n,s));else{const o=we(t.handler)?t.handler.bind(n):e[t.handler];we(o)&&ls(i,o,t)}}function xp(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!s?l=e:(l={},i.length&&i.forEach(c=>$c(l,c,r,!0)),$c(l,e,r)),ot(e)&&o.set(e,l),l}function $c(t,e,n,s=!1){const{mixins:i,extends:o}=e;o&&$c(t,o,n,!0),i&&i.forEach(r=>$c(t,r,n,!0));for(const r in e)if(!(s&&r==="expose")){const a=jk[r]||n&&n[r];t[r]=a?a(t[r],e[r]):e[r]}return t}const jk={data:jm,props:zm,emits:zm,methods:ua,computed:ua,beforeCreate:en,created:en,beforeMount:en,mounted:en,beforeUpdate:en,updated:en,beforeDestroy:en,beforeUnmount:en,destroyed:en,unmounted:en,activated:en,deactivated:en,errorCaptured:en,serverPrefetch:en,components:ua,directives:ua,watch:Gk,provide:jm,inject:zk};function jm(t,e){return e?t?function(){return zt(we(t)?t.call(this,this):t,we(e)?e.call(this,this):e)}:e:t}function zk(t,e){return ua(Wh(t),Wh(e))}function Wh(t){if(pe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function en(t,e){return t?[...new Set([].concat(t,e))]:e}function ua(t,e){return t?zt(Object.create(null),t,e):e}function zm(t,e){return t?pe(t)&&pe(e)?[...new Set([...t,...e])]:zt(Object.create(null),Wm(t),Wm(e??{})):e}function Gk(t,e){if(!t)return e;if(!e)return t;const n=zt(Object.create(null),t);for(const s in e)n[s]=en(t[s],e[s]);return n}function tw(){return{app:null,config:{isNativeTag:DC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kk=0;function qk(t,e){return function(s,i=null){we(s)||(s=zt({},s)),i!=null&&!ot(i)&&(i=null);const o=tw(),r=new WeakSet;let a=!1;const l=o.app={_uid:Kk++,_component:s,_props:i,_container:null,_context:o,_instance:null,version:wE,get config(){return o.config},set config(c){},use(c,...u){return r.has(c)||(c&&we(c.install)?(r.add(c),c.install(l,...u)):we(c)&&(r.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,d){if(!a){const h=be(s,i);return h.appContext=o,d===!0?d="svg":d===!1&&(d=void 0),u&&e?e(h,c):t(h,c,d),a=!0,l._container=c,c.__vue_app__=l,Ou(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){const u=Zo;Zo=l;try{return c()}finally{Zo=u}}};return l}}let Zo=null;function mc(t,e){if(Bt){let n=Bt.provides;const s=Bt.parent&&Bt.parent.provides;s===n&&(n=Bt.provides=Object.create(s)),n[t]=e}}function Rn(t,e,n=!1){const s=Bt||qt;if(s||Zo){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Zo._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&we(e)?e.call(s&&s.proxy):e}}function Qk(){return!!(Bt||qt||Zo)}function Xk(t,e,n,s=!1){const i={},o={};Pc(o,Iu,1),t.propsDefaults=Object.create(null),nw(t,e,i,o);for(const r in t.propsOptions[0])r in i||(i[r]=void 0);n?t.props=s?i:M0(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function Jk(t,e,n,s){const{props:i,attrs:o,vnode:{patchFlag:r}}=t,a=$e(i),[l]=t.propsOptions;let c=!1;if((s||r>0)&&!(r&16)){if(r&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Eu(t.emitsOptions,h))continue;const p=e[h];if(l)if(Ve(o,h))p!==o[h]&&(o[h]=p,c=!0);else{const g=ds(h);i[g]=Hh(l,a,g,p,t,!1)}else p!==o[h]&&(o[h]=p,c=!0)}}}else{nw(t,e,i,o)&&(c=!0);let u;for(const d in a)(!e||!Ve(e,d)&&((u=Eo(d))===d||!Ve(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Hh(l,a,d,void 0,t,!0)):delete i[d]);if(o!==a)for(const d in o)(!e||!Ve(e,d))&&(delete o[d],c=!0)}c&&Ns(t,"set","$attrs")}function nw(t,e,n,s){const[i,o]=t.propsOptions;let r=!1,a;if(e)for(let l in e){if(_a(l))continue;const c=e[l];let u;i&&Ve(i,u=ds(l))?!o||!o.includes(u)?n[u]=c:(a||(a={}))[u]=c:Eu(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,r=!0)}if(o){const l=$e(n),c=a||dt;for(let u=0;u<o.length;u++){const d=o[u];n[d]=Hh(i,l,d,c[d],t,!Ve(c,d))}}return r}function Hh(t,e,n,s,i,o){const r=t[n];if(r!=null){const a=Ve(r,"default");if(a&&s===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&we(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=_l(i);s=c[n]=l.call(null,e),u()}}else s=l}r[0]&&(o&&!a?s=!1:r[1]&&(s===""||s===Eo(n))&&(s=!0))}return s}function sw(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const o=t.props,r={},a=[];let l=!1;if(!we(t)){const u=d=>{l=!0;const[h,p]=sw(d,e,!0);zt(r,h),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return ot(t)&&s.set(t,qo),qo;if(pe(o))for(let u=0;u<o.length;u++){const d=ds(o[u]);Gm(d)&&(r[d]=dt)}else if(o)for(const u in o){const d=ds(u);if(Gm(d)){const h=o[u],p=r[d]=pe(h)||we(h)?{type:h}:zt({},h);if(p){const g=Qm(Boolean,p.type),m=Qm(String,p.type);p[0]=g>-1,p[1]=m<0||g<m,(g>-1||Ve(p,"default"))&&a.push(d)}}}const c=[r,a];return ot(t)&&s.set(t,c),c}function Gm(t){return t[0]!=="$"&&!_a(t)}function Km(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function qm(t,e){return Km(t)===Km(e)}function Qm(t,e){return pe(e)?e.findIndex(n=>qm(n,t)):we(e)&&qm(e,t)?0:-1}const iw=t=>t[0]==="_"||t==="$stable",Cp=t=>pe(t)?t.map(ss):[ss(t)],Zk=(t,e,n)=>{if(e._n)return e;const s=vt((...i)=>Cp(e(...i)),n);return s._c=!1,s},ow=(t,e,n)=>{const s=t._ctx;for(const i in t){if(iw(i))continue;const o=t[i];if(we(o))e[i]=Zk(i,o,s);else if(o!=null){const r=Cp(o);e[i]=()=>r}}},rw=(t,e)=>{const n=Cp(e);t.slots.default=()=>n},eE=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=$e(e),Pc(e,"_",n)):ow(e,t.slots={})}else t.slots={},e&&rw(t,e);Pc(t.slots,Iu,1)},tE=(t,e,n)=>{const{vnode:s,slots:i}=t;let o=!0,r=dt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(zt(i,e),!n&&a===1&&delete i._):(o=!e.$stable,ow(e,i)),r=e}else e&&(rw(t,e),r={default:1});if(o)for(const a in i)!iw(a)&&r[a]==null&&delete i[a]};function jh(t,e,n,s,i=!1){if(pe(t)){t.forEach((h,p)=>jh(h,e&&(pe(e)?e[p]:e),n,s,i));return}if(ya(s)&&!i)return;const o=s.shapeFlag&4?Ou(s.component)||s.component.proxy:s.el,r=i?null:o,{i:a,r:l}=t,c=e&&e.r,u=a.refs===dt?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(Ct(c)?(u[c]=null,Ve(d,c)&&(d[c]=null)):kt(c)&&(c.value=null)),we(l))vi(l,a,12,[r,u]);else{const h=Ct(l),p=kt(l);if(h||p){const g=()=>{if(t.f){const m=h?Ve(d,l)?d[l]:u[l]:l.value;i?pe(m)&&dp(m,o):pe(m)?m.includes(o)||m.push(o):h?(u[l]=[o],Ve(d,l)&&(d[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else h?(u[l]=r,Ve(d,l)&&(d[l]=r)):p&&(l.value=r,t.k&&(u[t.k]=r))};r?(g.id=-1,jt(g,n)):g()}}}const jt=Mk;function nE(t){return sE(t)}function sE(t,e){const n=d0();n.__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:p=Tn,insertStaticContent:g}=t,m=(y,S,k,O=null,N=null,W=null,X=void 0,H=null,z=!!S.dynamicChildren)=>{if(y===S)return;y&&!Ho(y,S)&&(O=P(y),Z(y,N,W,!0),y=null),S.patchFlag===-2&&(z=!1,S.dynamicChildren=null);const{type:$,ref:q,shapeFlag:ue}=S;switch($){case Du:_(y,S,k,O);break;case yo:w(y,S,k,O);break;case _c:y==null&&A(S,k,O,X);break;case ke:U(y,S,k,O,N,W,X,H,z);break;default:ue&1?E(y,S,k,O,N,W,X,H,z):ue&6?ne(y,S,k,O,N,W,X,H,z):(ue&64||ue&128)&&$.process(y,S,k,O,N,W,X,H,z,K)}q!=null&&N&&jh(q,y&&y.ref,W,S||y,!S)},_=(y,S,k,O)=>{if(y==null)s(S.el=a(S.children),k,O);else{const N=S.el=y.el;S.children!==y.children&&c(N,S.children)}},w=(y,S,k,O)=>{y==null?s(S.el=l(S.children||""),k,O):S.el=y.el},A=(y,S,k,O)=>{[y.el,y.anchor]=g(y.children,S,k,O,y.el,y.anchor)},x=({el:y,anchor:S},k,O)=>{let N;for(;y&&y!==S;)N=h(y),s(y,k,O),y=N;s(S,k,O)},C=({el:y,anchor:S})=>{let k;for(;y&&y!==S;)k=h(y),i(y),y=k;i(S)},E=(y,S,k,O,N,W,X,H,z)=>{S.type==="svg"?X="svg":S.type==="math"&&(X="mathml"),y==null?D(S,k,O,N,W,X,H,z):v(y,S,N,W,X,H,z)},D=(y,S,k,O,N,W,X,H)=>{let z,$;const{props:q,shapeFlag:ue,transition:J,dirs:ge}=y;if(z=y.el=r(y.type,W,q&&q.is,q),ue&8?u(z,y.children):ue&16&&b(y.children,z,null,O,N,Qd(y,W),X,H),ge&&Gi(y,null,O,"created"),R(z,y,y.scopeId,X,O),q){for(const Re in q)Re!=="value"&&!_a(Re)&&o(z,Re,null,q[Re],W,y.children,O,N,Ae);"value"in q&&o(z,"value",null,q.value,W),($=q.onVnodeBeforeMount)&&kn($,O,y)}ge&&Gi(y,null,O,"beforeMount");const ye=iE(N,J);ye&&J.beforeEnter(z),s(z,S,k),(($=q&&q.onVnodeMounted)||ye||ge)&&jt(()=>{$&&kn($,O,y),ye&&J.enter(z),ge&&Gi(y,null,O,"mounted")},N)},R=(y,S,k,O,N)=>{if(k&&p(y,k),O)for(let W=0;W<O.length;W++)p(y,O[W]);if(N){let W=N.subTree;if(S===W){const X=N.vnode;R(y,X,X.scopeId,X.slotScopeIds,N.parent)}}},b=(y,S,k,O,N,W,X,H,z=0)=>{for(let $=z;$<y.length;$++){const q=y[$]=H?ai(y[$]):ss(y[$]);m(null,q,S,k,O,N,W,X,H)}},v=(y,S,k,O,N,W,X)=>{const H=S.el=y.el;let{patchFlag:z,dynamicChildren:$,dirs:q}=S;z|=y.patchFlag&16;const ue=y.props||dt,J=S.props||dt;let ge;if(k&&Ki(k,!1),(ge=J.onVnodeBeforeUpdate)&&kn(ge,k,S,y),q&&Gi(S,y,k,"beforeUpdate"),k&&Ki(k,!0),$?M(y.dynamicChildren,$,H,k,O,Qd(S,N),W):X||ae(y,S,H,null,k,O,Qd(S,N),W,!1),z>0){if(z&16)F(H,S,ue,J,k,O,N);else if(z&2&&ue.class!==J.class&&o(H,"class",null,J.class,N),z&4&&o(H,"style",ue.style,J.style,N),z&8){const ye=S.dynamicProps;for(let Re=0;Re<ye.length;Re++){const Ue=ye[Re],nt=ue[Ue],Et=J[Ue];(Et!==nt||Ue==="value")&&o(H,Ue,nt,Et,N,y.children,k,O,Ae)}}z&1&&y.children!==S.children&&u(H,S.children)}else!X&&$==null&&F(H,S,ue,J,k,O,N);((ge=J.onVnodeUpdated)||q)&&jt(()=>{ge&&kn(ge,k,S,y),q&&Gi(S,y,k,"updated")},O)},M=(y,S,k,O,N,W,X)=>{for(let H=0;H<S.length;H++){const z=y[H],$=S[H],q=z.el&&(z.type===ke||!Ho(z,$)||z.shapeFlag&70)?d(z.el):k;m(z,$,q,null,O,N,W,X,!0)}},F=(y,S,k,O,N,W,X)=>{if(k!==O){if(k!==dt)for(const H in k)!_a(H)&&!(H in O)&&o(y,H,k[H],null,X,S.children,N,W,Ae);for(const H in O){if(_a(H))continue;const z=O[H],$=k[H];z!==$&&H!=="value"&&o(y,H,$,z,X,S.children,N,W,Ae)}"value"in O&&o(y,"value",k.value,O.value,X)}},U=(y,S,k,O,N,W,X,H,z)=>{const $=S.el=y?y.el:a(""),q=S.anchor=y?y.anchor:a("");let{patchFlag:ue,dynamicChildren:J,slotScopeIds:ge}=S;ge&&(H=H?H.concat(ge):ge),y==null?(s($,k,O),s(q,k,O),b(S.children||[],k,q,N,W,X,H,z)):ue>0&&ue&64&&J&&y.dynamicChildren?(M(y.dynamicChildren,J,k,N,W,X,H),(S.key!=null||N&&S===N.subTree)&&aw(y,S,!0)):ae(y,S,k,q,N,W,X,H,z)},ne=(y,S,k,O,N,W,X,H,z)=>{S.slotScopeIds=H,y==null?S.shapeFlag&512?N.ctx.activate(S,k,O,X,z):de(S,k,O,N,W,X,z):ce(y,S,z)},de=(y,S,k,O,N,W,X)=>{const H=y.component=pE(y,O,N);if(q0(y)&&(H.ctx.renderer=K),mE(H),H.asyncDep){if(N&&N.registerDep(H,te),!y.el){const z=H.subTree=be(yo);w(null,z,S,k)}}else te(H,y,S,k,N,W,X)},ce=(y,S,k)=>{const O=S.component=y.component;if(kk(y,S,k))if(O.asyncDep&&!O.asyncResolved){Y(O,S,k);return}else O.next=S,vk(O.update),O.effect.dirty=!0,O.update();else S.el=y.el,O.vnode=S},te=(y,S,k,O,N,W,X)=>{const H=()=>{if(y.isMounted){let{next:q,bu:ue,u:J,parent:ge,vnode:ye}=y;{const Dt=lw(y);if(Dt){q&&(q.el=ye.el,Y(y,q,X)),Dt.asyncDep.then(()=>{y.isUnmounted||H()});return}}let Re=q,Ue;Ki(y,!1),q?(q.el=ye.el,Y(y,q,X)):q=ye,ue&&Xo(ue),(Ue=q.props&&q.props.onVnodeBeforeUpdate)&&kn(Ue,ge,q,ye),Ki(y,!0);const nt=zd(y),Et=y.subTree;y.subTree=nt,m(Et,nt,d(Et.el),P(Et),y,N,W),q.el=nt.el,Re===null&&Ek(y,nt.el),J&&jt(J,N),(Ue=q.props&&q.props.onVnodeUpdated)&&jt(()=>kn(Ue,ge,q,ye),N)}else{let q;const{el:ue,props:J}=S,{bm:ge,m:ye,parent:Re}=y,Ue=ya(S);if(Ki(y,!1),ge&&Xo(ge),!Ue&&(q=J&&J.onVnodeBeforeMount)&&kn(q,Re,S),Ki(y,!0),ue&&ve){const nt=()=>{y.subTree=zd(y),ve(ue,y.subTree,y,N,null)};Ue?S.type.__asyncLoader().then(()=>!y.isUnmounted&&nt()):nt()}else{const nt=y.subTree=zd(y);m(null,nt,k,O,y,N,W),S.el=nt.el}if(ye&&jt(ye,N),!Ue&&(q=J&&J.onVnodeMounted)){const nt=S;jt(()=>kn(q,Re,nt),N)}(S.shapeFlag&256||Re&&ya(Re.vnode)&&Re.vnode.shapeFlag&256)&&y.a&&jt(y.a,N),y.isMounted=!0,S=k=O=null}},z=y.effect=new pp(H,Tn,()=>Ap($),y.scope),$=y.update=()=>{z.dirty&&z.run()};$.id=y.uid,Ki(y,!0),$()},Y=(y,S,k)=>{S.component=y;const O=y.vnode.props;y.vnode=S,y.next=null,Jk(y,S.props,O,k),tE(y,S.children,k),Mo(),Ym(y),To()},ae=(y,S,k,O,N,W,X,H,z=!1)=>{const $=y&&y.children,q=y?y.shapeFlag:0,ue=S.children,{patchFlag:J,shapeFlag:ge}=S;if(J>0){if(J&128){tt($,ue,k,O,N,W,X,H,z);return}else if(J&256){se($,ue,k,O,N,W,X,H,z);return}}ge&8?(q&16&&Ae($,N,W),ue!==$&&u(k,ue)):q&16?ge&16?tt($,ue,k,O,N,W,X,H,z):Ae($,N,W,!0):(q&8&&u(k,""),ge&16&&b(ue,k,O,N,W,X,H,z))},se=(y,S,k,O,N,W,X,H,z)=>{y=y||qo,S=S||qo;const $=y.length,q=S.length,ue=Math.min($,q);let J;for(J=0;J<ue;J++){const ge=S[J]=z?ai(S[J]):ss(S[J]);m(y[J],ge,k,null,N,W,X,H,z)}$>q?Ae(y,N,W,!0,!1,ue):b(S,k,O,N,W,X,H,z,ue)},tt=(y,S,k,O,N,W,X,H,z)=>{let $=0;const q=S.length;let ue=y.length-1,J=q-1;for(;$<=ue&&$<=J;){const ge=y[$],ye=S[$]=z?ai(S[$]):ss(S[$]);if(Ho(ge,ye))m(ge,ye,k,null,N,W,X,H,z);else break;$++}for(;$<=ue&&$<=J;){const ge=y[ue],ye=S[J]=z?ai(S[J]):ss(S[J]);if(Ho(ge,ye))m(ge,ye,k,null,N,W,X,H,z);else break;ue--,J--}if($>ue){if($<=J){const ge=J+1,ye=ge<q?S[ge].el:O;for(;$<=J;)m(null,S[$]=z?ai(S[$]):ss(S[$]),k,ye,N,W,X,H,z),$++}}else if($>J)for(;$<=ue;)Z(y[$],N,W,!0),$++;else{const ge=$,ye=$,Re=new Map;for($=ye;$<=J;$++){const Wt=S[$]=z?ai(S[$]):ss(S[$]);Wt.key!=null&&Re.set(Wt.key,$)}let Ue,nt=0;const Et=J-ye+1;let Dt=!1,zi=0;const Pt=new Array(Et);for($=0;$<Et;$++)Pt[$]=0;for($=ge;$<=ue;$++){const Wt=y[$];if(nt>=Et){Z(Wt,N,W,!0);continue}let es;if(Wt.key!=null)es=Re.get(Wt.key);else for(Ue=ye;Ue<=J;Ue++)if(Pt[Ue-ye]===0&&Ho(Wt,S[Ue])){es=Ue;break}es===void 0?Z(Wt,N,W,!0):(Pt[es-ye]=$+1,es>=zi?zi=es:Dt=!0,m(Wt,S[es],k,null,N,W,X,H,z),nt++)}const zr=Dt?oE(Pt):qo;for(Ue=zr.length-1,$=Et-1;$>=0;$--){const Wt=ye+$,es=S[Wt],Dm=Wt+1<q?S[Wt+1].el:O;Pt[$]===0?m(null,es,k,Dm,N,W,X,H,z):Dt&&(Ue<0||$!==zr[Ue]?He(es,k,Dm,2):Ue--)}}},He=(y,S,k,O,N=null)=>{const{el:W,type:X,transition:H,children:z,shapeFlag:$}=y;if($&6){He(y.component.subTree,S,k,O);return}if($&128){y.suspense.move(S,k,O);return}if($&64){X.move(y,S,k,K);return}if(X===ke){s(W,S,k);for(let ue=0;ue<z.length;ue++)He(z[ue],S,k,O);s(y.anchor,S,k);return}if(X===_c){x(y,S,k);return}if(O!==2&&$&1&&H)if(O===0)H.beforeEnter(W),s(W,S,k),jt(()=>H.enter(W),N);else{const{leave:ue,delayLeave:J,afterLeave:ge}=H,ye=()=>s(W,S,k),Re=()=>{ue(W,()=>{ye(),ge&&ge()})};J?J(W,ye,Re):Re()}else s(W,S,k)},Z=(y,S,k,O=!1,N=!1)=>{const{type:W,props:X,ref:H,children:z,dynamicChildren:$,shapeFlag:q,patchFlag:ue,dirs:J}=y;if(H!=null&&jh(H,null,k,y,!0),q&256){S.ctx.deactivate(y);return}const ge=q&1&&J,ye=!ya(y);let Re;if(ye&&(Re=X&&X.onVnodeBeforeUnmount)&&kn(Re,S,y),q&6)Ye(y.component,k,O);else{if(q&128){y.suspense.unmount(k,O);return}ge&&Gi(y,null,S,"beforeUnmount"),q&64?y.type.remove(y,S,k,N,K,O):$&&(W!==ke||ue>0&&ue&64)?Ae($,S,k,!1,!0):(W===ke&&ue&384||!N&&q&16)&&Ae(z,S,k),O&&Ie(y)}(ye&&(Re=X&&X.onVnodeUnmounted)||ge)&&jt(()=>{Re&&kn(Re,S,y),ge&&Gi(y,null,S,"unmounted")},k)},Ie=y=>{const{type:S,el:k,anchor:O,transition:N}=y;if(S===ke){Ke(k,O);return}if(S===_c){C(y);return}const W=()=>{i(k),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(y.shapeFlag&1&&N&&!N.persisted){const{leave:X,delayLeave:H}=N,z=()=>X(k,W);H?H(y.el,W,z):z()}else W()},Ke=(y,S)=>{let k;for(;y!==S;)k=h(y),i(y),y=k;i(S)},Ye=(y,S,k)=>{const{bum:O,scope:N,update:W,subTree:X,um:H}=y;O&&Xo(O),N.stop(),W&&(W.active=!1,Z(X,y,S,k)),H&&jt(H,S),jt(()=>{y.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},Ae=(y,S,k,O=!1,N=!1,W=0)=>{for(let X=W;X<y.length;X++)Z(y[X],S,k,O,N)},P=y=>y.shapeFlag&6?P(y.component.subTree):y.shapeFlag&128?y.suspense.next():h(y.anchor||y.el);let Q=!1;const L=(y,S,k)=>{y==null?S._vnode&&Z(S._vnode,null,null,!0):m(S._vnode||null,y,S,null,null,null,k),Q||(Q=!0,Ym(),B0(),Q=!1),S._vnode=y},K={p:m,um:Z,m:He,r:Ie,mt:de,mc:b,pc:ae,pbc:M,n:P,o:t};let fe,ve;return e&&([fe,ve]=e(K)),{render:L,hydrate:fe,createApp:qk(L,fe)}}function Qd({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ki({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function iE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function aw(t,e,n=!1){const s=t.children,i=e.children;if(pe(s)&&pe(i))for(let o=0;o<s.length;o++){const r=s[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=ai(i[o]),a.el=r.el),n||aw(r,a)),a.type===Du&&(a.el=r.el)}}function oE(t){const e=t.slice(),n=[0];let s,i,o,r,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(o=0,r=n.length-1;o<r;)a=o+r>>1,t[n[a]]<c?o=a+1:r=a;c<t[n[o]]&&(o>0&&(e[s]=n[o-1]),n[o]=s)}}for(o=n.length,r=n[o-1];o-- >0;)n[o]=r,r=e[r];return n}function lw(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:lw(e)}const rE=t=>t.__isTeleport,ke=Symbol.for("v-fgt"),Du=Symbol.for("v-txt"),yo=Symbol.for("v-cmt"),_c=Symbol.for("v-stc"),va=[];let Un=null;function T(t=!1){va.push(Un=t?null:[])}function aE(){va.pop(),Un=va[va.length-1]||null}let Ba=1;function Xm(t){Ba+=t}function cw(t){return t.dynamicChildren=Ba>0?Un||qo:null,aE(),Ba>0&&Un&&Un.push(t),t}function I(t,e,n,s,i,o){return cw(f(t,e,n,s,i,o,!0))}function Ws(t,e,n,s,i){return cw(be(t,e,n,s,i,!0))}function Bc(t){return t?t.__v_isVNode===!0:!1}function Ho(t,e){return t.type===e.type&&t.key===e.key}const Iu="__vInternal",uw=({key:t})=>t??null,yc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ct(t)||kt(t)||we(t)?{i:qt,r:t,k:e,f:!!n}:t:null);function f(t,e=null,n=null,s=0,i=null,o=t===ke?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&uw(e),ref:e&&yc(e),scopeId:Mu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qt};return a?(kp(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Ct(n)?8:16),Ba>0&&!r&&Un&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Un.push(l),l}const be=lE;function lE(t,e=null,n=null,s=0,i=null,o=!1){if((!t||t===V0)&&(t=yo),Bc(t)){const a=bo(t,e,!0);return n&&kp(a,n),Ba>0&&!o&&Un&&(a.shapeFlag&6?Un[Un.indexOf(t)]=a:Un.push(a)),a.patchFlag|=-2,a}if(vE(t)&&(t=t.__vccOpts),e){e=cE(e);let{class:a,style:l}=e;a&&!Ct(a)&&(e.class=Ii(a)),ot(l)&&(D0(l)&&!pe(l)&&(l=zt({},l)),e.style=Di(l))}const r=Ct(t)?1:H0(t)?128:rE(t)?64:ot(t)?4:we(t)?2:0;return f(t,e,n,s,i,r,o,!0)}function cE(t){return t?D0(t)||Iu in t?zt({},t):t:null}function bo(t,e,n=!1){const{props:s,ref:i,patchFlag:o,children:r}=t,a=e?dE(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&uw(a),ref:e&&e.ref?n&&i?pe(i)?i.concat(yc(e)):[i,yc(e)]:yc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ke?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&bo(t.ssContent),ssFallback:t.ssFallback&&bo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function lt(t=" ",e=0){return be(Du,null,t,e)}function uE(t,e){const n=be(_c,null,t);return n.staticCount=e,n}function Je(t="",e=!1){return e?(T(),Ws(yo,null,t)):be(yo,null,t)}function ss(t){return t==null||typeof t=="boolean"?be(yo):pe(t)?be(ke,null,t.slice()):typeof t=="object"?ai(t):be(Du,null,String(t))}function ai(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:bo(t)}function kp(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(pe(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),kp(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Iu in e)?e._ctx=qt:i===3&&qt&&(qt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else we(e)?(e={default:e,_ctx:qt},n=32):(e=String(e),s&64?(n=16,e=[lt(e)]):n=8);t.children=e,t.shapeFlag|=n}function dE(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ii([e.class,s.class]));else if(i==="style")e.style=Di([e.style,s.style]);else if(vu(i)){const o=e[i],r=s[i];r&&o!==r&&!(pe(o)&&o.includes(r))&&(e[i]=o?[].concat(o,r):r)}else i!==""&&(e[i]=s[i])}return e}function kn(t,e,n,s=null){jn(t,e,7,[n,s])}const hE=tw();let fE=0;function pE(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||hE,o={uid:fE++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new p0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sw(s,i),emitsOptions:U0(s,i),emit:null,emitted:null,propsDefaults:dt,inheritAttrs:s.inheritAttrs,ctx:dt,data:dt,props:dt,attrs:dt,slots:dt,refs:dt,setupState:dt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Sk.bind(null,o),t.ce&&t.ce(o),o}let Bt=null;const gE=()=>Bt||qt;let Yc,zh;{const t=d0(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};Yc=e("__VUE_INSTANCE_SETTERS__",n=>Bt=n),zh=e("__VUE_SSR_SETTERS__",n=>Ru=n)}const _l=t=>{const e=Bt;return Yc(t),t.scope.on(),()=>{t.scope.off(),Yc(e)}},Jm=()=>{Bt&&Bt.scope.off(),Yc(null)};function dw(t){return t.vnode.shapeFlag&4}let Ru=!1;function mE(t,e=!1){e&&zh(e);const{props:n,children:s}=t.vnode,i=dw(t);Xk(t,n,i,e),eE(t,s);const o=i?_E(t,e):void 0;return e&&zh(!1),o}function _E(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=xu(new Proxy(t.ctx,Vk));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?bE(t):null,o=_l(t);Mo();const r=vi(s,t,0,[t.props,i]);if(To(),o(),l0(r)){if(r.then(Jm,Jm),e)return r.then(a=>{Zm(t,a,e)}).catch(a=>{Cu(a,t,0)});t.asyncDep=r}else Zm(t,r,e)}else hw(t,e)}function Zm(t,e,n){we(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ot(e)&&(t.setupState=P0(e)),hw(t,n)}let e_;function hw(t,e,n){const s=t.type;if(!t.render){if(!e&&e_&&!s.render){const i=s.template||xp(t).template;if(i){const{isCustomElement:o,compilerOptions:r}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=zt(zt({isCustomElement:o,delimiters:a},r),l);s.render=e_(i,c)}}t.render=s.render||Tn}{const i=_l(t);Mo();try{Wk(t)}finally{To(),i()}}}function yE(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return dn(t,"get","$attrs"),e[n]}}))}function bE(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return yE(t)},slots:t.slots,emit:t.emit,expose:e}}function Ou(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(P0(xu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ba)return ba[n](t)},has(e,n){return n in e||n in ba}}))}function Gh(t,e=!0){return we(t)?t.displayName||t.name:t.name||e&&t.__name}function vE(t){return we(t)&&"__vccOpts"in t}const Mt=(t,e)=>dk(t,e,Ru);function fw(t,e,n){const s=arguments.length;return s===2?ot(e)&&!pe(e)?Bc(e)?be(t,null,[e]):be(t,e):be(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Bc(n)&&(n=[n]),be(t,e,n))}const wE="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const AE="http://www.w3.org/2000/svg",SE="http://www.w3.org/1998/Math/MathML",li=typeof document<"u"?document:null,t_=li&&li.createElement("template"),xE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?li.createElementNS(AE,t):e==="mathml"?li.createElementNS(SE,t):li.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>li.createTextNode(t),createComment:t=>li.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>li.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,o){const r=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{t_.innerHTML=s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t;const a=t_.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},CE=Symbol("_vtc");function kE(t,e,n){const s=t[CE];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ya=Symbol("_vod"),Ep={beforeMount(t,{value:e},{transition:n}){t[Ya]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Gr(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e==!n&&(t.style.display===t[Ya]||!e)||(s?e?(s.beforeEnter(t),Gr(t,!0),s.enter(t)):s.leave(t,()=>{Gr(t,!1)}):Gr(t,e))},beforeUnmount(t,{value:e}){Gr(t,e)}};function Gr(t,e){t.style.display=e?t[Ya]:"none"}const EE=Symbol(""),ME=/(^|;)\s*display\s*:/;function TE(t,e,n){const s=t.style,i=Ct(n),o=s.display;let r=!1;if(n&&!i){if(e&&!Ct(e))for(const a in e)n[a]==null&&Kh(s,a,"");for(const a in n)a==="display"&&(r=!0),Kh(s,a,n[a])}else if(i){if(e!==n){const a=s[EE];a&&(n+=";"+a),s.cssText=n,r=ME.test(n)}}else e&&t.removeAttribute("style");Ya in t&&(t[Ya]=r?s.display:"",s.display=o)}const n_=/\s*!important$/;function Kh(t,e,n){if(pe(n))n.forEach(s=>Kh(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=DE(t,e);n_.test(n)?t.setProperty(Eo(s),n.replace(n_,""),"important"):t[s]=n}}const s_=["Webkit","Moz","ms"],Xd={};function DE(t,e){const n=Xd[e];if(n)return n;let s=ds(e);if(s!=="filter"&&s in t)return Xd[e]=s;s=Au(s);for(let i=0;i<s_.length;i++){const o=s_[i]+s;if(o in t)return Xd[e]=o}return e}const i_="http://www.w3.org/1999/xlink";function IE(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(i_,e.slice(6,e.length)):t.setAttributeNS(i_,e,n);else{const o=UC(e);n==null||o&&!h0(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function RE(t,e,n,s,i,o,r){if(e==="innerHTML"||e==="textContent"){s&&r(s,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=h0(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function ui(t,e,n,s){t.addEventListener(e,n,s)}function OE(t,e,n,s){t.removeEventListener(e,n,s)}const o_=Symbol("_vei");function PE(t,e,n,s,i=null){const o=t[o_]||(t[o_]={}),r=o[e];if(s&&r)r.value=s;else{const[a,l]=NE(e);if(s){const c=o[e]=$E(s,i);ui(t,a,c,l)}else r&&(OE(t,a,r,l),o[e]=void 0)}}const r_=/(?:Once|Passive|Capture)$/;function NE(t){let e;if(r_.test(t)){e={};let s;for(;s=t.match(r_);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Eo(t.slice(2)),e]}let Jd=0;const LE=Promise.resolve(),FE=()=>Jd||(LE.then(()=>Jd=0),Jd=Date.now());function $E(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;jn(BE(s,n.value),e,5,[s])};return n.value=t,n.attached=FE(),n}function BE(t,e){if(pe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const a_=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,YE=(t,e,n,s,i,o,r,a,l)=>{const c=i==="svg";e==="class"?kE(t,s,c):e==="style"?TE(t,n,s):vu(e)?up(e)||PE(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):UE(t,e,s,c))?RE(t,e,s,o,r,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),IE(t,e,s,c))};function UE(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&a_(e)&&we(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return a_(e)&&Ct(n)?!1:e in t}const ar=t=>{const e=t.props["onUpdate:modelValue"]||!1;return pe(e)?n=>Xo(e,n):e};function VE(t){t.target.composing=!0}function l_(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Fs=Symbol("_assign"),Ce={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[Fs]=ar(i);const o=s||i.props&&i.props.type==="number";ui(t,e?"change":"input",r=>{if(r.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=Na(a)),t[Fs](a)}),n&&ui(t,"change",()=>{t.value=t.value.trim()}),e||(ui(t,"compositionstart",VE),ui(t,"compositionend",l_),ui(t,"change",l_))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},o){if(t[Fs]=ar(o),t.composing)return;const r=i||t.type==="number"?Na(t.value):t.value,a=e??"";r!==a&&(document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===a)||(t.value=a))}},ln={deep:!0,created(t,e,n){t[Fs]=ar(n),ui(t,"change",()=>{const s=t._modelValue,i=Ua(t),o=t.checked,r=t[Fs];if(pe(s)){const a=fp(s,i),l=a!==-1;if(o&&!l)r(s.concat(i));else if(!o&&l){const c=[...s];c.splice(a,1),r(c)}}else if(Ar(s)){const a=new Set(s);o?a.add(i):a.delete(i),r(a)}else r(pw(t,o))})},mounted:c_,beforeUpdate(t,e,n){t[Fs]=ar(n),c_(t,e,n)}};function c_(t,{value:e,oldValue:n},s){t._modelValue=e,pe(e)?t.checked=fp(e,s.props.value)>-1:Ar(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=ml(e,pw(t,!0)))}const yl={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=Ar(e);ui(t,"change",()=>{const o=Array.prototype.filter.call(t.options,r=>r.selected).map(r=>n?Na(Ua(r)):Ua(r));t[Fs](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,ku(()=>{t._assigning=!1})}),t[Fs]=ar(s)},mounted(t,{value:e,oldValue:n,modifiers:{number:s}}){u_(t,e,n,s)},beforeUpdate(t,e,n){t[Fs]=ar(n)},updated(t,{value:e,oldValue:n,modifiers:{number:s}}){t._assigning||u_(t,e,n,s)}};function u_(t,e,n,s){const i=t.multiple,o=pe(e);if(!(i&&!o&&!Ar(e))){for(let r=0,a=t.options.length;r<a;r++){const l=t.options[r],c=Ua(l);if(i)if(o){const u=typeof c;u==="string"||u==="number"?l.selected=e.includes(s?Na(c):c):l.selected=fp(e,c)>-1}else l.selected=e.has(c);else if(ml(Ua(l),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ua(t){return"_value"in t?t._value:t.value}function pw(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const WE=["ctrl","shift","alt","meta"],HE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>WE.some(n=>t[`${n}Key`]&&!e.includes(n))},hn=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(i,...o)=>{for(let r=0;r<e.length;r++){const a=HE[e[r]];if(a&&a(i,e))return}return t(i,...o)})},jE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zE=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const o=Eo(i.key);if(e.some(r=>r===o||jE[r]===o))return t(i)})},GE=zt({patchProp:YE},xE);let d_;function KE(){return d_||(d_=nE(GE))}const qE=(...t)=>{const e=KE().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=XE(s);if(!i)return;const o=e._component;!we(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=n(i,!1,QE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e};function QE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function XE(t){return Ct(t)?document.querySelector(t):t}var JE=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let gw;const Pu=t=>gw=t,mw=Symbol();function qh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var wa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(wa||(wa={}));function ZE(){const t=g0(!0),e=t.run(()=>ie({}));let n=[],s=[];const i=xu({install(o){Pu(i),i._a=o,o.provide(mw,i),o.config.globalProperties.$pinia=i,s.forEach(r=>n.push(r)),s=[]},use(o){return!this._a&&!JE?s.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const _w=()=>{};function h_(t,e,n,s=_w){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),s())};return!n&&m0()&&HC(i),i}function Bo(t,...e){t.slice().forEach(n=>{n(...e)})}const eM=t=>t();function Qh(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,s)=>t.set(s,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];qh(i)&&qh(s)&&t.hasOwnProperty(n)&&!kt(s)&&!Ls(s)?t[n]=Qh(i,s):t[n]=s}return t}const tM=Symbol();function nM(t){return!qh(t)||!t.hasOwnProperty(tM)}const{assign:oi}=Object;function sM(t){return!!(kt(t)&&t.effect)}function iM(t,e,n,s){const{state:i,actions:o,getters:r}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=i?i():{});const u=N0(n.state.value[t]);return oi(u,o,Object.keys(r||{}).reduce((d,h)=>(d[h]=xu(Mt(()=>{Pu(n);const p=n._s.get(t);return r[h].call(p,p)})),d),{}))}return l=yw(t,c,e,n,s,!0),l}function yw(t,e,n={},s,i,o){let r;const a=oi({actions:{}},n),l={deep:!0};let c,u,d=[],h=[],p;const g=s.state.value[t];!o&&!g&&(s.state.value[t]={}),ie({});let m;function _(b){let v;c=u=!1,typeof b=="function"?(b(s.state.value[t]),v={type:wa.patchFunction,storeId:t,events:p}):(Qh(s.state.value[t],b),v={type:wa.patchObject,payload:b,storeId:t,events:p});const M=m=Symbol();ku().then(()=>{m===M&&(c=!0)}),u=!0,Bo(d,v,s.state.value[t])}const w=o?function(){const{state:v}=n,M=v?v():{};this.$patch(F=>{oi(F,M)})}:_w;function A(){r.stop(),d=[],h=[],s._s.delete(t)}function x(b,v){return function(){Pu(s);const M=Array.from(arguments),F=[],U=[];function ne(te){F.push(te)}function de(te){U.push(te)}Bo(h,{args:M,name:b,store:E,after:ne,onError:de});let ce;try{ce=v.apply(this&&this.$id===t?this:E,M)}catch(te){throw Bo(U,te),te}return ce instanceof Promise?ce.then(te=>(Bo(F,te),te)).catch(te=>(Bo(U,te),Promise.reject(te))):(Bo(F,ce),ce)}}const C={_p:s,$id:t,$onAction:h_.bind(null,h),$patch:_,$reset:w,$subscribe(b,v={}){const M=h_(d,b,v.detached,()=>F()),F=r.run(()=>ls(()=>s.state.value[t],U=>{(v.flush==="sync"?u:c)&&b({storeId:t,type:wa.direct,events:p},U)},oi({},l,v)));return M},$dispose:A},E=Ui(C);s._s.set(t,E);const R=(s._a&&s._a.runWithContext||eM)(()=>s._e.run(()=>(r=g0()).run(e)));for(const b in R){const v=R[b];if(kt(v)&&!sM(v)||Ls(v))o||(g&&nM(v)&&(kt(v)?v.value=g[b]:Qh(v,g[b])),s.state.value[t][b]=v);else if(typeof v=="function"){const M=x(b,v);R[b]=M,a.actions[b]=v}}return oi(E,R),oi($e(E),R),Object.defineProperty(E,"$state",{get:()=>s.state.value[t],set:b=>{_(v=>{oi(v,b)})}}),s._p.forEach(b=>{oi(E,r.run(()=>b({store:E,app:s._a,pinia:s,options:a})))}),g&&o&&n.hydrate&&n.hydrate(E.$state,g),c=!0,u=!0,E}function Nu(t,e,n){let s,i;const o=typeof e=="function";typeof t=="string"?(s=t,i=o?n:e):(i=t,s=t.id);function r(a,l){const c=Qk();return a=a||(c?Rn(mw,null):null),a&&Pu(a),a=gw,a._s.has(s)||(o?yw(s,e,i,a):iM(s,i,a)),a._s.get(s)}return r.$id=s,r}function oM(t){{t=$e(t);const e={};for(const n in t){const s=t[n];(kt(s)||Ls(s))&&(e[n]=_k(t,n))}return e}}const f_=(t,e)=>{const n=t.storage||sessionStorage,s=t.key||e.$id;if(t.paths){const i=t.paths.reduce((o,r)=>(o[r]=e.$state[r],o),{});n.setItem(s,JSON.stringify(i))}else n.setItem(s,JSON.stringify(e.$state))};var rM=({options:t,store:e})=>{var n,s,i,o;if((n=t.persist)!=null&&n.enabled){const r=[{key:e.$id,storage:sessionStorage}],a=(i=(s=t.persist)==null?void 0:s.strategies)!=null&&i.length?(o=t.persist)==null?void 0:o.strategies:r;a.forEach(l=>{const c=l.storage||sessionStorage,u=l.key||e.$id,d=c.getItem(u);d&&(e.$patch(JSON.parse(d)),f_(l,e))}),e.$subscribe(()=>{a.forEach(l=>{f_(l,e)})})}},Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aM=Array.isArray,Qs=aM,lM=typeof Kl=="object"&&Kl&&Kl.Object===Object&&Kl,bw=lM,cM=bw,uM=typeof self=="object"&&self&&self.Object===Object&&self,dM=cM||uM||Function("return this")(),_s=dM,hM=_s,fM=hM.Symbol,Lu=fM,p_=Lu,vw=Object.prototype,pM=vw.hasOwnProperty,gM=vw.toString,Kr=p_?p_.toStringTag:void 0;function mM(t){var e=pM.call(t,Kr),n=t[Kr];try{t[Kr]=void 0;var s=!0}catch{}var i=gM.call(t);return s&&(e?t[Kr]=n:delete t[Kr]),i}var _M=mM,yM=Object.prototype,bM=yM.toString;function vM(t){return bM.call(t)}var wM=vM,g_=Lu,AM=_M,SM=wM,xM="[object Null]",CM="[object Undefined]",m_=g_?g_.toStringTag:void 0;function kM(t){return t==null?t===void 0?CM:xM:m_&&m_ in Object(t)?AM(t):SM(t)}var Cr=kM;function EM(t){return t!=null&&typeof t=="object"}var Do=EM,MM=Cr,TM=Do,DM="[object Symbol]";function IM(t){return typeof t=="symbol"||TM(t)&&MM(t)==DM}var Mp=IM,RM=Qs,OM=Mp,PM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NM=/^\w*$/;function LM(t,e){if(RM(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||OM(t)?!0:NM.test(t)||!PM.test(t)||e!=null&&t in Object(e)}var Tp=LM;function FM(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xs=FM,$M=Cr,BM=Xs,YM="[object AsyncFunction]",UM="[object Function]",VM="[object GeneratorFunction]",WM="[object Proxy]";function HM(t){if(!BM(t))return!1;var e=$M(t);return e==UM||e==VM||e==YM||e==WM}var Dp=HM,jM=_s,zM=jM["__core-js_shared__"],GM=zM,Zd=GM,__=function(){var t=/[^.]+$/.exec(Zd&&Zd.keys&&Zd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function KM(t){return!!__&&__ in t}var qM=KM,QM=Function.prototype,XM=QM.toString;function JM(t){if(t!=null){try{return XM.call(t)}catch{}try{return t+""}catch{}}return""}var ww=JM,ZM=Dp,eT=qM,tT=Xs,nT=ww,sT=/[\\^$.*+?()[\]{}|]/g,iT=/^\[object .+?Constructor\]$/,oT=Function.prototype,rT=Object.prototype,aT=oT.toString,lT=rT.hasOwnProperty,cT=RegExp("^"+aT.call(lT).replace(sT,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uT(t){if(!tT(t)||eT(t))return!1;var e=ZM(t)?cT:iT;return e.test(nT(t))}var dT=uT;function hT(t,e){return t==null?void 0:t[e]}var fT=hT,pT=dT,gT=fT;function mT(t,e){var n=gT(t,e);return pT(n)?n:void 0}var Io=mT,_T=Io,yT=_T(Object,"create"),Fu=yT,y_=Fu;function bT(){this.__data__=y_?y_(null):{},this.size=0}var vT=bT;function wT(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var AT=wT,ST=Fu,xT="__lodash_hash_undefined__",CT=Object.prototype,kT=CT.hasOwnProperty;function ET(t){var e=this.__data__;if(ST){var n=e[t];return n===xT?void 0:n}return kT.call(e,t)?e[t]:void 0}var MT=ET,TT=Fu,DT=Object.prototype,IT=DT.hasOwnProperty;function RT(t){var e=this.__data__;return TT?e[t]!==void 0:IT.call(e,t)}var OT=RT,PT=Fu,NT="__lodash_hash_undefined__";function LT(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=PT&&e===void 0?NT:e,this}var FT=LT,$T=vT,BT=AT,YT=MT,UT=OT,VT=FT;function kr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}kr.prototype.clear=$T;kr.prototype.delete=BT;kr.prototype.get=YT;kr.prototype.has=UT;kr.prototype.set=VT;var WT=kr;function HT(){this.__data__=[],this.size=0}var jT=HT;function zT(t,e){return t===e||t!==t&&e!==e}var Er=zT,GT=Er;function KT(t,e){for(var n=t.length;n--;)if(GT(t[n][0],e))return n;return-1}var $u=KT,qT=$u,QT=Array.prototype,XT=QT.splice;function JT(t){var e=this.__data__,n=qT(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():XT.call(e,n,1),--this.size,!0}var ZT=JT,eD=$u;function tD(t){var e=this.__data__,n=eD(e,t);return n<0?void 0:e[n][1]}var nD=tD,sD=$u;function iD(t){return sD(this.__data__,t)>-1}var oD=iD,rD=$u;function aD(t,e){var n=this.__data__,s=rD(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}var lD=aD,cD=jT,uD=ZT,dD=nD,hD=oD,fD=lD;function Mr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Mr.prototype.clear=cD;Mr.prototype.delete=uD;Mr.prototype.get=dD;Mr.prototype.has=hD;Mr.prototype.set=fD;var Bu=Mr,pD=Io,gD=_s,mD=pD(gD,"Map"),Ip=mD,b_=WT,_D=Bu,yD=Ip;function bD(){this.size=0,this.__data__={hash:new b_,map:new(yD||_D),string:new b_}}var vD=bD;function wD(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var AD=wD,SD=AD;function xD(t,e){var n=t.__data__;return SD(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Yu=xD,CD=Yu;function kD(t){var e=CD(this,t).delete(t);return this.size-=e?1:0,e}var ED=kD,MD=Yu;function TD(t){return MD(this,t).get(t)}var DD=TD,ID=Yu;function RD(t){return ID(this,t).has(t)}var OD=RD,PD=Yu;function ND(t,e){var n=PD(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}var LD=ND,FD=vD,$D=ED,BD=DD,YD=OD,UD=LD;function Tr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Tr.prototype.clear=FD;Tr.prototype.delete=$D;Tr.prototype.get=BD;Tr.prototype.has=YD;Tr.prototype.set=UD;var Rp=Tr,Aw=Rp,VD="Expected a function";function Op(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(VD);var n=function(){var s=arguments,i=e?e.apply(this,s):s[0],o=n.cache;if(o.has(i))return o.get(i);var r=t.apply(this,s);return n.cache=o.set(i,r)||o,r};return n.cache=new(Op.Cache||Aw),n}Op.Cache=Aw;var WD=Op,HD=WD,jD=500;function zD(t){var e=HD(t,function(s){return n.size===jD&&n.clear(),s}),n=e.cache;return e}var GD=zD,KD=GD,qD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QD=/\\(\\)?/g,XD=KD(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(qD,function(n,s,i,o){e.push(i?o.replace(QD,"$1"):s||n)}),e}),JD=XD;function ZD(t,e){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=e(t[n],n,t);return i}var eI=ZD,v_=Lu,tI=eI,nI=Qs,sI=Mp,iI=1/0,w_=v_?v_.prototype:void 0,A_=w_?w_.toString:void 0;function Sw(t){if(typeof t=="string")return t;if(nI(t))return tI(t,Sw)+"";if(sI(t))return A_?A_.call(t):"";var e=t+"";return e=="0"&&1/t==-iI?"-0":e}var oI=Sw,rI=oI;function aI(t){return t==null?"":rI(t)}var lI=aI,cI=Qs,uI=Tp,dI=JD,hI=lI;function fI(t,e){return cI(t)?t:uI(t,e)?[t]:dI(hI(t))}var xw=fI,pI=Cr,gI=Do,mI="[object Arguments]";function _I(t){return gI(t)&&pI(t)==mI}var yI=_I,S_=yI,bI=Do,Cw=Object.prototype,vI=Cw.hasOwnProperty,wI=Cw.propertyIsEnumerable,AI=S_(function(){return arguments}())?S_:function(t){return bI(t)&&vI.call(t,"callee")&&!wI.call(t,"callee")},Pp=AI,SI=9007199254740991,xI=/^(?:0|[1-9]\d*)$/;function CI(t,e){var n=typeof t;return e=e??SI,!!e&&(n=="number"||n!="symbol"&&xI.test(t))&&t>-1&&t%1==0&&t<e}var Np=CI,kI=9007199254740991;function EI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kI}var Lp=EI,MI=Mp,TI=1/0;function DI(t){if(typeof t=="string"||MI(t))return t;var e=t+"";return e=="0"&&1/t==-TI?"-0":e}var Uu=DI,II=xw,RI=Pp,OI=Qs,PI=Np,NI=Lp,LI=Uu;function FI(t,e,n){e=II(e,t);for(var s=-1,i=e.length,o=!1;++s<i;){var r=LI(e[s]);if(!(o=t!=null&&n(t,r)))break;t=t[r]}return o||++s!=i?o:(i=t==null?0:t.length,!!i&&NI(i)&&PI(r,i)&&(OI(t)||RI(t)))}var $I=FI;function BI(t){return function(e){return t(e)}}var YI=BI,Va={},UI={get exports(){return Va},set exports(t){Va=t}};(function(t,e){var n=bw,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,r=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||r&&r.binding&&r.binding("util")}catch{}}();t.exports=a})(UI,Va);var x_=Va;x_&&x_.isDate;function VI(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}var WI=VI,HI=Bu;function jI(){this.__data__=new HI,this.size=0}var zI=jI;function GI(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var KI=GI;function qI(t){return this.__data__.get(t)}var QI=qI;function XI(t){return this.__data__.has(t)}var JI=XI,ZI=Bu,eR=Ip,tR=Rp,nR=200;function sR(t,e){var n=this.__data__;if(n instanceof ZI){var s=n.__data__;if(!eR||s.length<nR-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new tR(s)}return n.set(t,e),this.size=n.size,this}var iR=sR,oR=Bu,rR=zI,aR=KI,lR=QI,cR=JI,uR=iR;function Dr(t){var e=this.__data__=new oR(t);this.size=e.size}Dr.prototype.clear=rR;Dr.prototype.delete=aR;Dr.prototype.get=lR;Dr.prototype.has=cR;Dr.prototype.set=uR;var Fp=Dr,dR="__lodash_hash_undefined__";function hR(t){return this.__data__.set(t,dR),this}var fR=hR;function pR(t){return this.__data__.has(t)}var gR=pR,mR=Rp,_R=fR,yR=gR;function Uc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new mR;++e<n;)this.add(t[e])}Uc.prototype.add=Uc.prototype.push=_R;Uc.prototype.has=yR;var bR=Uc;function vR(t,e){return t.has(e)}var wR=vR,AR=bR,SR=WI,xR=wR,CR=1,kR=2;function ER(t,e,n,s,i,o){var r=n&CR,a=t.length,l=e.length;if(a!=l&&!(r&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,p=n&kR?new AR:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var g=t[d],m=e[d];if(s)var _=r?s(m,g,d,e,t,o):s(g,m,d,t,e,o);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!SR(e,function(w,A){if(!xR(p,A)&&(g===w||i(g,w,n,s,o)))return p.push(A)})){h=!1;break}}else if(!(g===m||i(g,m,n,s,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var kw=ER,MR=_s,TR=MR.Uint8Array,Ew=TR;function DR(t){var e=-1,n=Array(t.size);return t.forEach(function(s,i){n[++e]=[i,s]}),n}var IR=DR;function RR(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var OR=RR,C_=Lu,k_=Ew,PR=Er,NR=kw,LR=IR,FR=OR,$R=1,BR=2,YR="[object Boolean]",UR="[object Date]",VR="[object Error]",WR="[object Map]",HR="[object Number]",jR="[object RegExp]",zR="[object Set]",GR="[object String]",KR="[object Symbol]",qR="[object ArrayBuffer]",QR="[object DataView]",E_=C_?C_.prototype:void 0,eh=E_?E_.valueOf:void 0;function XR(t,e,n,s,i,o,r){switch(n){case QR:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case qR:return!(t.byteLength!=e.byteLength||!o(new k_(t),new k_(e)));case YR:case UR:case HR:return PR(+t,+e);case VR:return t.name==e.name&&t.message==e.message;case jR:case GR:return t==e+"";case WR:var a=LR;case zR:var l=s&$R;if(a||(a=FR),t.size!=e.size&&!l)return!1;var c=r.get(t);if(c)return c==e;s|=BR,r.set(t,e);var u=NR(a(t),a(e),s,i,o,r);return r.delete(t),u;case KR:if(eh)return eh.call(t)==eh.call(e)}return!1}var JR=XR;function ZR(t,e){for(var n=-1,s=e.length,i=t.length;++n<s;)t[i+n]=e[n];return t}var eO=ZR,tO=eO,nO=Qs;function sO(t,e,n){var s=e(t);return nO(t)?s:tO(s,n(t))}var iO=sO;function oO(t,e){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var r=t[n];e(r,n,t)&&(o[i++]=r)}return o}var rO=oO;function aO(){return[]}var lO=aO,cO=rO,uO=lO,dO=Object.prototype,hO=dO.propertyIsEnumerable,M_=Object.getOwnPropertySymbols,fO=M_?function(t){return t==null?[]:(t=Object(t),cO(M_(t),function(e){return hO.call(t,e)}))}:uO,pO=fO;function gO(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var mO=gO,lr={},_O={get exports(){return lr},set exports(t){lr=t}};function yO(){return!1}var bO=yO;(function(t,e){var n=_s,s=bO,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,r=o&&o.exports===i,a=r?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||s;t.exports=c})(_O,lr);var vO=Cr,wO=Lp,AO=Do,SO="[object Arguments]",xO="[object Array]",CO="[object Boolean]",kO="[object Date]",EO="[object Error]",MO="[object Function]",TO="[object Map]",DO="[object Number]",IO="[object Object]",RO="[object RegExp]",OO="[object Set]",PO="[object String]",NO="[object WeakMap]",LO="[object ArrayBuffer]",FO="[object DataView]",$O="[object Float32Array]",BO="[object Float64Array]",YO="[object Int8Array]",UO="[object Int16Array]",VO="[object Int32Array]",WO="[object Uint8Array]",HO="[object Uint8ClampedArray]",jO="[object Uint16Array]",zO="[object Uint32Array]",ut={};ut[$O]=ut[BO]=ut[YO]=ut[UO]=ut[VO]=ut[WO]=ut[HO]=ut[jO]=ut[zO]=!0;ut[SO]=ut[xO]=ut[LO]=ut[CO]=ut[FO]=ut[kO]=ut[EO]=ut[MO]=ut[TO]=ut[DO]=ut[IO]=ut[RO]=ut[OO]=ut[PO]=ut[NO]=!1;function GO(t){return AO(t)&&wO(t.length)&&!!ut[vO(t)]}var KO=GO,qO=KO,QO=YI,T_=Va,D_=T_&&T_.isTypedArray,XO=D_?QO(D_):qO,$p=XO,JO=mO,ZO=Pp,eP=Qs,tP=lr,nP=Np,sP=$p,iP=Object.prototype,oP=iP.hasOwnProperty;function rP(t,e){var n=eP(t),s=!n&&ZO(t),i=!n&&!s&&tP(t),o=!n&&!s&&!i&&sP(t),r=n||s||i||o,a=r?JO(t.length,String):[],l=a.length;for(var c in t)(e||oP.call(t,c))&&!(r&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||nP(c,l)))&&a.push(c);return a}var Mw=rP,aP=Object.prototype;function lP(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||aP;return t===n}var Bp=lP;function cP(t,e){return function(n){return t(e(n))}}var Tw=cP,uP=Tw,dP=uP(Object.keys,Object),hP=dP,fP=Bp,pP=hP,gP=Object.prototype,mP=gP.hasOwnProperty;function _P(t){if(!fP(t))return pP(t);var e=[];for(var n in Object(t))mP.call(t,n)&&n!="constructor"&&e.push(n);return e}var yP=_P,bP=Dp,vP=Lp;function wP(t){return t!=null&&vP(t.length)&&!bP(t)}var Vu=wP,AP=Mw,SP=yP,xP=Vu;function CP(t){return xP(t)?AP(t):SP(t)}var Yp=CP,kP=iO,EP=pO,MP=Yp;function TP(t){return kP(t,MP,EP)}var DP=TP,I_=DP,IP=1,RP=Object.prototype,OP=RP.hasOwnProperty;function PP(t,e,n,s,i,o){var r=n&IP,a=I_(t),l=a.length,c=I_(e),u=c.length;if(l!=u&&!r)return!1;for(var d=l;d--;){var h=a[d];if(!(r?h in e:OP.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var m=!0;o.set(t,e),o.set(e,t);for(var _=r;++d<l;){h=a[d];var w=t[h],A=e[h];if(s)var x=r?s(A,w,h,e,t,o):s(w,A,h,t,e,o);if(!(x===void 0?w===A||i(w,A,n,s,o):x)){m=!1;break}_||(_=h=="constructor")}if(m&&!_){var C=t.constructor,E=e.constructor;C!=E&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof E=="function"&&E instanceof E)&&(m=!1)}return o.delete(t),o.delete(e),m}var NP=PP,LP=Io,FP=_s,$P=LP(FP,"DataView"),BP=$P,YP=Io,UP=_s,VP=YP(UP,"Promise"),WP=VP,HP=Io,jP=_s,zP=HP(jP,"Set"),GP=zP,KP=Io,qP=_s,QP=KP(qP,"WeakMap"),XP=QP,Xh=BP,Jh=Ip,Zh=WP,ef=GP,tf=XP,Dw=Cr,Ir=ww,R_="[object Map]",JP="[object Object]",O_="[object Promise]",P_="[object Set]",N_="[object WeakMap]",L_="[object DataView]",ZP=Ir(Xh),eN=Ir(Jh),tN=Ir(Zh),nN=Ir(ef),sN=Ir(tf),eo=Dw;(Xh&&eo(new Xh(new ArrayBuffer(1)))!=L_||Jh&&eo(new Jh)!=R_||Zh&&eo(Zh.resolve())!=O_||ef&&eo(new ef)!=P_||tf&&eo(new tf)!=N_)&&(eo=function(t){var e=Dw(t),n=e==JP?t.constructor:void 0,s=n?Ir(n):"";if(s)switch(s){case ZP:return L_;case eN:return R_;case tN:return O_;case nN:return P_;case sN:return N_}return e});var iN=eo,th=Fp,oN=kw,rN=JR,aN=NP,F_=iN,$_=Qs,B_=lr,lN=$p,cN=1,Y_="[object Arguments]",U_="[object Array]",ql="[object Object]",uN=Object.prototype,V_=uN.hasOwnProperty;function dN(t,e,n,s,i,o){var r=$_(t),a=$_(e),l=r?U_:F_(t),c=a?U_:F_(e);l=l==Y_?ql:l,c=c==Y_?ql:c;var u=l==ql,d=c==ql,h=l==c;if(h&&B_(t)){if(!B_(e))return!1;r=!0,u=!1}if(h&&!u)return o||(o=new th),r||lN(t)?oN(t,e,n,s,i,o):rN(t,e,l,n,s,i,o);if(!(n&cN)){var p=u&&V_.call(t,"__wrapped__"),g=d&&V_.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,_=g?e.value():e;return o||(o=new th),i(m,_,n,s,o)}}return h?(o||(o=new th),aN(t,e,n,s,i,o)):!1}var hN=dN,fN=hN,W_=Do;function Iw(t,e,n,s,i){return t===e?!0:t==null||e==null||!W_(t)&&!W_(e)?t!==t&&e!==e:fN(t,e,n,s,Iw,i)}var Rw=Iw,pN=Fp,gN=Rw,mN=1,_N=2;function yN(t,e,n,s){var i=n.length,o=i,r=!s;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(r&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(r&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new pN;if(s)var h=s(c,u,l,t,e,d);if(!(h===void 0?gN(u,c,mN|_N,s,d):h))return!1}}return!0}var bN=yN,vN=Xs;function wN(t){return t===t&&!vN(t)}var Ow=wN,AN=Ow,SN=Yp;function xN(t){for(var e=SN(t),n=e.length;n--;){var s=e[n],i=t[s];e[n]=[s,i,AN(i)]}return e}var CN=xN;function kN(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Pw=kN,EN=bN,MN=CN,TN=Pw;function DN(t){var e=MN(t);return e.length==1&&e[0][2]?TN(e[0][0],e[0][1]):function(n){return n===t||EN(n,t,e)}}var IN=DN,RN=xw,ON=Uu;function PN(t,e){e=RN(e,t);for(var n=0,s=e.length;t!=null&&n<s;)t=t[ON(e[n++])];return n&&n==s?t:void 0}var Nw=PN,NN=Nw;function LN(t,e,n){var s=t==null?void 0:NN(t,e);return s===void 0?n:s}var FN=LN;function $N(t,e){return t!=null&&e in Object(t)}var BN=$N,YN=BN,UN=$I;function VN(t,e){return t!=null&&UN(t,e,YN)}var WN=VN,HN=Rw,jN=FN,zN=WN,GN=Tp,KN=Ow,qN=Pw,QN=Uu,XN=1,JN=2;function ZN(t,e){return GN(t)&&KN(e)?qN(QN(t),e):function(n){var s=jN(n,t);return s===void 0&&s===e?zN(n,t):HN(e,s,XN|JN)}}var eL=ZN;function tL(t){return t}var Up=tL;function nL(t){return function(e){return e==null?void 0:e[t]}}var sL=nL,iL=Nw;function oL(t){return function(e){return iL(e,t)}}var rL=oL,aL=sL,lL=rL,cL=Tp,uL=Uu;function dL(t){return cL(t)?aL(uL(t)):lL(t)}var hL=dL,fL=IN,pL=eL,gL=Up,mL=Qs,_L=hL;function yL(t){return typeof t=="function"?t:t==null?gL:typeof t=="object"?mL(t)?pL(t[0],t[1]):fL(t):_L(t)}var bL=yL;function vL(t){return function(e,n,s){for(var i=-1,o=Object(e),r=s(e),a=r.length;a--;){var l=r[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var wL=vL,AL=wL,SL=AL(),Lw=SL,xL=Lw,CL=Yp;function kL(t,e){return t&&xL(t,e,CL)}var EL=kL,ML=Er,TL=Vu,DL=Np,IL=Xs;function RL(t,e,n){if(!IL(n))return!1;var s=typeof e;return(s=="number"?TL(n)&&DL(e,n.length):s=="string"&&e in n)?ML(n[e],t):!1}var Fw=RL,OL=Io,PL=function(){try{var t=OL(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$w=PL,H_=$w;function NL(t,e,n){e=="__proto__"&&H_?H_(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Wu=NL,LL=Wu,FL=Er,$L=Object.prototype,BL=$L.hasOwnProperty;function YL(t,e,n){var s=t[e];(!(BL.call(t,e)&&FL(s,n))||n===void 0&&!(e in t))&&LL(t,e,n)}var UL=YL,VL=Wu,WL=EL,HL=bL;function jL(t,e){var n={};return e=HL(e),WL(t,function(s,i,o){VL(n,i,e(s,i,o))}),n}var zL=jL;function GL(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Bw=GL,KL=Bw,j_=Math.max;function qL(t,e,n){return e=j_(e===void 0?t.length-1:e,0),function(){for(var s=arguments,i=-1,o=j_(s.length-e,0),r=Array(o);++i<o;)r[i]=s[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=s[i];return a[e]=n(r),KL(t,this,a)}}var QL=qL;function XL(t){return function(){return t}}var JL=XL,ZL=JL,z_=$w,eF=Up,tF=z_?function(t,e){return z_(t,"toString",{configurable:!0,enumerable:!1,value:ZL(e),writable:!0})}:eF,nF=tF,sF=800,iF=16,oF=Date.now;function rF(t){var e=0,n=0;return function(){var s=oF(),i=iF-(s-n);if(n=s,i>0){if(++e>=sF)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var aF=rF,lF=nF,cF=aF,uF=cF(lF),dF=uF,hF=Up,fF=QL,pF=dF;function gF(t,e){return pF(fF(t,e,hF),t+"")}var Vp=gF;function mF(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var _F=mF,yF=Xs,bF=Bp,vF=_F,wF=Object.prototype,AF=wF.hasOwnProperty;function SF(t){if(!yF(t))return vF(t);var e=bF(t),n=[];for(var s in t)s=="constructor"&&(e||!AF.call(t,s))||n.push(s);return n}var xF=SF,CF=Mw,kF=xF,EF=Vu;function MF(t){return EF(t)?CF(t,!0):kF(t)}var Wp=MF,TF=Vp,DF=Er,IF=Fw,RF=Wp,Yw=Object.prototype,OF=Yw.hasOwnProperty;TF(function(t,e){t=Object(t);var n=-1,s=e.length,i=s>2?e[2]:void 0;for(i&&IF(e[0],e[1],i)&&(s=1);++n<s;)for(var o=e[n],r=RF(o),a=-1,l=r.length;++a<l;){var c=r[a],u=t[c];(u===void 0||DF(u,Yw[c])&&!OF.call(t,c))&&(t[c]=o[c])}return t});var PF=Wu,NF=Er;function LF(t,e,n){(n!==void 0&&!NF(t[e],n)||n===void 0&&!(e in t))&&PF(t,e,n)}var Uw=LF,Vc={},FF={get exports(){return Vc},set exports(t){Vc=t}};(function(t,e){var n=_s,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,r=o?n.Buffer:void 0,a=r?r.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,h=a?a(d):new c.constructor(d);return c.copy(h),h}t.exports=l})(FF,Vc);var G_=Ew;function $F(t){var e=new t.constructor(t.byteLength);return new G_(e).set(new G_(t)),e}var BF=$F,YF=BF;function UF(t,e){var n=e?YF(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var VF=UF;function WF(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var HF=WF,jF=Xs,K_=Object.create,zF=function(){function t(){}return function(e){if(!jF(e))return{};if(K_)return K_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),GF=zF,KF=Tw,qF=KF(Object.getPrototypeOf,Object),Vw=qF,QF=GF,XF=Vw,JF=Bp;function ZF(t){return typeof t.constructor=="function"&&!JF(t)?QF(XF(t)):{}}var e$=ZF,t$=Vu,n$=Do;function s$(t){return n$(t)&&t$(t)}var i$=s$,o$=Cr,r$=Vw,a$=Do,l$="[object Object]",c$=Function.prototype,u$=Object.prototype,Ww=c$.toString,d$=u$.hasOwnProperty,h$=Ww.call(Object);function f$(t){if(!a$(t)||o$(t)!=l$)return!1;var e=r$(t);if(e===null)return!0;var n=d$.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ww.call(n)==h$}var p$=f$;function g$(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Hw=g$,m$=UL,_$=Wu;function y$(t,e,n,s){var i=!n;n||(n={});for(var o=-1,r=e.length;++o<r;){var a=e[o],l=s?s(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?_$(n,a,l):m$(n,a,l)}return n}var b$=y$,v$=b$,w$=Wp;function A$(t){return v$(t,w$(t))}var S$=A$,q_=Uw,x$=Vc,C$=VF,k$=HF,E$=e$,Q_=Pp,X_=Qs,M$=i$,T$=lr,D$=Dp,I$=Xs,R$=p$,O$=$p,J_=Hw,P$=S$;function N$(t,e,n,s,i,o,r){var a=J_(t,n),l=J_(e,n),c=r.get(l);if(c){q_(t,n,c);return}var u=o?o(a,l,n+"",t,e,r):void 0,d=u===void 0;if(d){var h=X_(l),p=!h&&T$(l),g=!h&&!p&&O$(l);u=l,h||p||g?X_(a)?u=a:M$(a)?u=k$(a):p?(d=!1,u=x$(l,!0)):g?(d=!1,u=C$(l,!0)):u=[]:R$(l)||Q_(l)?(u=a,Q_(a)?u=P$(a):(!I$(a)||D$(a))&&(u=E$(l))):d=!1}d&&(r.set(l,u),i(u,l,s,o,r),r.delete(l)),q_(t,n,u)}var L$=N$,F$=Fp,$$=Uw,B$=Lw,Y$=L$,U$=Xs,V$=Wp,W$=Hw;function jw(t,e,n,s,i){t!==e&&B$(e,function(o,r){if(i||(i=new F$),U$(o))Y$(t,e,r,n,jw,s,i);else{var a=s?s(W$(t,r),o,r+"",t,e,i):void 0;a===void 0&&(a=o),$$(t,r,a)}},V$)}var zw=jw,H$=zw,Z_=Xs;function Gw(t,e,n,s,i,o){return Z_(t)&&Z_(e)&&(o.set(e,t),H$(t,e,void 0,Gw,o),o.delete(e)),t}var j$=Gw,z$=Vp,G$=Fw;function K$(t){return z$(function(e,n){var s=-1,i=n.length,o=i>1?n[i-1]:void 0,r=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,r&&G$(n[0],n[1],r)&&(o=i<3?void 0:o,i=1),e=Object(e);++s<i;){var a=n[s];a&&t(e,a,s,o)}return e})}var q$=K$,Q$=zw,X$=q$,J$=X$(function(t,e,n,s){Q$(t,e,n,s)}),Z$=J$,e2=Bw,t2=Vp,n2=j$,s2=Z$,i2=t2(function(t){return t.push(void 0,n2),e2(s2,void 0,t)}),Kw=i2,nf={},o2={get exports(){return nf},set exports(t){nf=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(s){if(s===null||s===!0||s===!1)return NaN;var i=Number(s);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default})(o2,nf);var sf={},r2={get exports(){return sf},set exports(t){sf=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(s){var i=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return i.setUTCFullYear(s.getFullYear()),s.getTime()-i.getTime()}t.exports=e.default})(r2,sf);const Hs={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Hs.en=Hs["en-US"];Hs.es=Hs["es-ES"];Hs.no=Hs.nb;Hs.zh=Hs["zh-CN"];const a2=Object.entries(Hs).reduce((t,[e,{dow:n,L:s}])=>(t[e]={id:e,firstDayOfWeek:n,masks:{L:s}},t),{}),l2="MMMM YYYY",c2="W",u2="MMM",d2="h A",h2=["L","YYYY-MM-DD","YYYY/MM/DD"],f2=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],p2=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],g2=["h:mm A"],m2=["HH:mm"],_2="WWW, MMM D, YYYY",y2=["L","YYYY-MM-DD","YYYY/MM/DD"],b2="iso",v2="YYYY-MM-DDTHH:mm:ss.SSSZ",w2={title:l2,weekdays:c2,navMonths:u2,hours:d2,input:h2,inputDateTime:f2,inputDateTime24hr:p2,inputTime:g2,inputTime24hr:m2,dayPopover:_2,data:y2,model:b2,iso:v2},A2=300,S2=60,x2=80,C2={maxSwipeTime:A2,minHorizontalSwipeDistance:S2,maxVerticalSwipeDistance:x2},k2={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:C2,masks:w2,locales:a2,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},Aa=Ui(k2);Mt(()=>zL(Aa.locales,t=>(t.masks=Kw(t.masks,Aa.masks),t)));const E2=(t,e)=>(t.config.globalProperties.$VCalendar=Aa,Object.assign(Aa,Kw(e,Aa))),M2="modulepreload",T2=function(t){return"/"+t},ey={},jo=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link");i=Promise.all(n.map(r=>{if(r=T2(r),r in ey)return;ey[r]=!0;const a=r.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let d=o.length-1;d>=0;d--){const h=o[d];if(h.href===r&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":M2,a||(u.as="script",u.crossOrigin=""),u.href=r,document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${r}`)))})}))}return i.then(()=>e()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})};function D2(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:i,onRegisteredSW:o,onRegisterError:r}=t;let a,l,c;const u=async(h=!0)=>{await l,await(c==null?void 0:c())};async function d(){if("serviceWorker"in navigator){if(a=await jo(()=>import("./workbox-window.prod.es5-DFjpnwFp.js"),__vite__mapDeps([])).then(({Workbox:h})=>new h("/firebase-messaging-sw.js",{scope:"/",type:"classic"})).catch(h=>{r==null||r(h)}),!a)return;c=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let h=!1;const p=()=>{h=!0,a==null||a.addEventListener("controlling",g=>{g.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",g=>{typeof g.isUpdate>"u"?typeof g.isExternal<"u"?g.isExternal?p():!h&&(s==null||s()):g.isExternal?window.location.reload():!h&&(s==null||s()):g.isUpdate||s==null||s()}),a.addEventListener("waiting",p),a.addEventListener("externalwaiting",p)}a.register({immediate:e}).then(h=>{o?o("/firebase-messaging-sw.js",h):i==null||i(h)}).catch(h=>{r==null||r(h)})}}return l=d(),u}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const zo=typeof window<"u";function I2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Qe=Object.assign;function nh(t,e){const n={};for(const s in e){const i=e[s];n[s]=Kn(i)?i.map(t):t(i)}return n}const Sa=()=>{},Kn=Array.isArray,R2=/\/$/,O2=t=>t.replace(R2,"");function sh(t,e,n="/"){let s,i={},o="",r="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(s=s||e.slice(0,a),r=e.slice(a,e.length)),s=F2(s??e,n),{fullPath:s+(o&&"?")+o+r,path:s,query:i,hash:r}}function P2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ty(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function N2(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&cr(e.matched[s],n.matched[i])&&qw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function cr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function qw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!L2(t[n],e[n]))return!1;return!0}function L2(t,e){return Kn(t)?ny(t,e):Kn(e)?ny(e,t):t===e}function ny(t,e){return Kn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function F2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let o=n.length-1,r,a;for(r=0;r<s.length;r++)if(a=s[r],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(r-(r===s.length?1:0)).join("/")}var Wa;(function(t){t.pop="pop",t.push="push"})(Wa||(Wa={}));var xa;(function(t){t.back="back",t.forward="forward",t.unknown=""})(xa||(xa={}));function $2(t){if(!t)if(zo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),O2(t)}const B2=/^[^#]+#/;function Y2(t,e){return t.replace(B2,"#")+e}function U2(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Hu=()=>({left:window.pageXOffset,top:window.pageYOffset});function V2(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=U2(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function sy(t,e){return(history.state?history.state.position-e:-1)+t}const of=new Map;function W2(t,e){of.set(t,e)}function H2(t){const e=of.get(t);return of.delete(t),e}let j2=()=>location.protocol+"//"+location.host;function Qw(t,e){const{pathname:n,search:s,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),ty(l,"")}return ty(n,t)+s+i}function z2(t,e,n,s){let i=[],o=[],r=null;const a=({state:h})=>{const p=Qw(t,location),g=n.value,m=e.value;let _=0;if(h){if(n.value=p,e.value=h,r&&r===g){r=null;return}_=m?h.position-m.position:0}else s(p);i.forEach(w=>{w(n.value,g,{delta:_,type:Wa.pop,direction:_?_>0?xa.forward:xa.back:xa.unknown})})};function l(){r=n.value}function c(h){i.push(h);const p=()=>{const g=i.indexOf(h);g>-1&&i.splice(g,1)};return o.push(p),p}function u(){const{history:h}=window;h.state&&h.replaceState(Qe({},h.state,{scroll:Hu()}),"")}function d(){for(const h of o)h();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function iy(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Hu():null}}function G2(t){const{history:e,location:n}=window,s={value:Qw(t,n)},i={value:e.state};i.value||o(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:j2()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(p){console.error(p),n[u?"replace":"assign"](h)}}function r(l,c){const u=Qe({},e.state,iy(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,u,!0),s.value=l}function a(l,c){const u=Qe({},i.value,e.state,{forward:l,scroll:Hu()});o(u.current,u,!0);const d=Qe({},iy(s.value,l,null),{position:u.position+1},c);o(l,d,!1),s.value=l}return{location:s,state:i,push:a,replace:r}}function K2(t){t=$2(t);const e=G2(t),n=z2(t,e.state,e.location,e.replace);function s(o,r=!0){r||n.pauseListeners(),history.go(o)}const i=Qe({location:"",base:t,go:s,createHref:Y2.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function q2(t){return typeof t=="string"||t&&typeof t=="object"}function Xw(t){return typeof t=="string"||typeof t=="symbol"}const si={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Jw=Symbol("");var oy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(oy||(oy={}));function ur(t,e){return Qe(new Error,{type:t,[Jw]:!0},e)}function As(t,e){return t instanceof Error&&Jw in t&&(e==null||!!(t.type&e))}const ry="[^/]+?",Q2={sensitive:!1,strict:!1,start:!0,end:!0},X2=/[.+*?^${}()[\]/\\]/g;function J2(t,e){const n=Qe({},Q2,e),s=[];let i=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let p=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(X2,"\\$&"),p+=40;else if(h.type===1){const{value:g,repeatable:m,optional:_,regexp:w}=h;o.push({name:g,repeatable:m,optional:_});const A=w||ry;if(A!==ry){p+=10;try{new RegExp(`(${A})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+C.message)}}let x=m?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;d||(x=_&&c.length<2?`(?:/${x})`:"/"+x),_&&(x+="?"),i+=x,p+=20,_&&(p+=-8),m&&(p+=-20),A===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const r=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(r),d={};if(!u)return null;for(let h=1;h<u.length;h++){const p=u[h]||"",g=o[h-1];d[g.name]=p&&g.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of h)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:_}=p,w=g in c?c[g]:"";if(Kn(w)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=Kn(w)?w.join("/"):w;if(!A)if(_)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=A}}return u||"/"}return{re:r,score:s,keys:o,parse:a,stringify:l}}function Z2(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function eB(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const o=Z2(s[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-s.length)===1){if(ay(s))return 1;if(ay(i))return-1}return i.length-s.length}function ay(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tB={type:0,value:""},nB=/[a-zA-Z0-9_]/;function sB(t){if(!t)return[[]];if(t==="/")return[[tB]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,c="",u="";function d(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),r()):l===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:nB.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),r(),i}function iB(t,e,n){const s=J2(sB(t.path),n),i=Qe(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function oB(t,e){const n=[],s=new Map;e=uy({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function o(u,d,h){const p=!h,g=rB(u);g.aliasOf=h&&h.record;const m=uy(e,u),_=[g];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const C of x)_.push(Qe({},g,{components:h?h.record.components:g.components,path:C,aliasOf:h?h.record:g}))}let w,A;for(const x of _){const{path:C}=x;if(d&&C[0]!=="/"){const E=d.record.path,D=E[E.length-1]==="/"?"":"/";x.path=d.record.path+(C&&D+C)}if(w=iB(x,d,m),h?h.alias.push(w):(A=A||w,A!==w&&A.alias.push(w),p&&u.name&&!cy(w)&&r(u.name)),g.children){const E=g.children;for(let D=0;D<E.length;D++)o(E[D],w,h&&h.children[D])}h=h||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&l(w)}return A?()=>{r(A)}:Sa}function r(u){if(Xw(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(r),d.alias.forEach(r))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(r),u.alias.forEach(r))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&eB(u,n[d])>=0&&(u.record.path!==n[d].record.path||!Zw(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!cy(u)&&s.set(u.record.name,u)}function c(u,d){let h,p={},g,m;if("name"in u&&u.name){if(h=s.get(u.name),!h)throw ur(1,{location:u});m=h.record.name,p=Qe(ly(d.params,h.keys.filter(A=>!A.optional).map(A=>A.name)),u.params&&ly(u.params,h.keys.map(A=>A.name))),g=h.stringify(p)}else if("path"in u)g=u.path,h=n.find(A=>A.re.test(g)),h&&(p=h.parse(g),m=h.record.name);else{if(h=d.name?s.get(d.name):n.find(A=>A.re.test(d.path)),!h)throw ur(1,{location:u,currentLocation:d});m=h.record.name,p=Qe({},d.params,u.params),g=h.stringify(p)}const _=[];let w=h;for(;w;)_.unshift(w.record),w=w.parent;return{name:m,path:g,params:p,matched:_,meta:lB(_)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:r,getRoutes:a,getRecordMatcher:i}}function ly(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function rB(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:aB(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function aB(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function cy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function lB(t){return t.reduce((e,n)=>Qe(e,n.meta),{})}function uy(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Zw(t,e){return e.children.some(n=>n===t||Zw(t,n))}const eA=/#/g,cB=/&/g,uB=/\//g,dB=/=/g,hB=/\?/g,tA=/\+/g,fB=/%5B/g,pB=/%5D/g,nA=/%5E/g,gB=/%60/g,sA=/%7B/g,mB=/%7C/g,iA=/%7D/g,_B=/%20/g;function Hp(t){return encodeURI(""+t).replace(mB,"|").replace(fB,"[").replace(pB,"]")}function yB(t){return Hp(t).replace(sA,"{").replace(iA,"}").replace(nA,"^")}function rf(t){return Hp(t).replace(tA,"%2B").replace(_B,"+").replace(eA,"%23").replace(cB,"%26").replace(gB,"`").replace(sA,"{").replace(iA,"}").replace(nA,"^")}function bB(t){return rf(t).replace(dB,"%3D")}function vB(t){return Hp(t).replace(eA,"%23").replace(hB,"%3F")}function wB(t){return t==null?"":vB(t).replace(uB,"%2F")}function Wc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function AB(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const o=s[i].replace(tA," "),r=o.indexOf("="),a=Wc(r<0?o:o.slice(0,r)),l=r<0?null:Wc(o.slice(r+1));if(a in e){let c=e[a];Kn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function dy(t){let e="";for(let n in t){const s=t[n];if(n=bB(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Kn(s)?s.map(o=>o&&rf(o)):[s&&rf(s)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function SB(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Kn(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const xB=Symbol(""),hy=Symbol(""),ju=Symbol(""),jp=Symbol(""),af=Symbol("");function qr(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ci(t,e,n,s,i){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((r,a)=>{const l=d=>{d===!1?a(ur(4,{from:n,to:e})):d instanceof Error?a(d):q2(d)?a(ur(2,{from:e,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),r())},c=t.call(s&&s.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function ih(t,e,n,s){const i=[];for(const o of t)for(const r in o.components){let a=o.components[r];if(!(e!=="beforeRouteEnter"&&!o.instances[r]))if(CB(a)){const c=(a.__vccOpts||a)[e];c&&i.push(ci(c,n,s,o,r))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${r}" at "${o.path}"`));const u=I2(c)?c.default:c;o.components[r]=u;const h=(u.__vccOpts||u)[e];return h&&ci(h,n,s,o,r)()}))}}return i}function CB(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function fy(t){const e=Rn(ju),n=Rn(jp),s=Mt(()=>e.resolve(on(t.to))),i=Mt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(cr.bind(null,u));if(h>-1)return h;const p=py(l[c-2]);return c>1&&py(u)===p&&d[d.length-1].path!==p?d.findIndex(cr.bind(null,l[c-2])):h}),o=Mt(()=>i.value>-1&&MB(n.params,s.value.params)),r=Mt(()=>i.value>-1&&i.value===n.matched.length-1&&qw(n.params,s.value.params));function a(l={}){return EB(l)?e[on(t.replace)?"replace":"push"](on(t.to)).catch(Sa):Promise.resolve()}return{route:s,href:Mt(()=>s.value.href),isActive:o,isExactActive:r,navigate:a}}const kB=K0({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fy,setup(t,{slots:e}){const n=Ui(fy(t)),{options:s}=Rn(ju),i=Mt(()=>({[gy(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[gy(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:fw("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),to=kB;function EB(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function MB(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!Kn(i)||i.length!==s.length||s.some((o,r)=>o!==i[r]))return!1}return!0}function py(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const gy=(t,e,n)=>t??e??n,TB=K0({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Rn(af),i=Mt(()=>t.route||s.value),o=Rn(hy,0),r=Mt(()=>{let c=on(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Mt(()=>i.value.matched[r.value]);mc(hy,Mt(()=>r.value+1)),mc(xB,a),mc(af,i);const l=ie();return ls(()=>[l.value,a.value,t.name],([c,u,d],[h,p,g])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!cr(u,p)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return my(n.default,{Component:h,route:c});const p=d.props[u],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,_=fw(h,Qe({},g,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return my(n.default,{Component:_,route:c})||_}}});function my(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const oA=TB;function DB(t){const e=oB(t.routes,t),n=t.parseQuery||AB,s=t.stringifyQuery||dy,i=t.history,o=qr(),r=qr(),a=qr(),l=hk(si);let c=si;zo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=nh.bind(null,P=>""+P),d=nh.bind(null,wB),h=nh.bind(null,Wc);function p(P,Q){let L,K;return Xw(P)?(L=e.getRecordMatcher(P),K=Q):K=P,e.addRoute(K,L)}function g(P){const Q=e.getRecordMatcher(P);Q&&e.removeRoute(Q)}function m(){return e.getRoutes().map(P=>P.record)}function _(P){return!!e.getRecordMatcher(P)}function w(P,Q){if(Q=Qe({},Q||l.value),typeof P=="string"){const S=sh(n,P,Q.path),k=e.resolve({path:S.path},Q),O=i.createHref(S.fullPath);return Qe(S,k,{params:h(k.params),hash:Wc(S.hash),redirectedFrom:void 0,href:O})}let L;if("path"in P)L=Qe({},P,{path:sh(n,P.path,Q.path).path});else{const S=Qe({},P.params);for(const k in S)S[k]==null&&delete S[k];L=Qe({},P,{params:d(S)}),Q.params=d(Q.params)}const K=e.resolve(L,Q),fe=P.hash||"";K.params=u(h(K.params));const ve=P2(s,Qe({},P,{hash:yB(fe),path:K.path})),y=i.createHref(ve);return Qe({fullPath:ve,hash:fe,query:s===dy?SB(P.query):P.query||{}},K,{redirectedFrom:void 0,href:y})}function A(P){return typeof P=="string"?sh(n,P,l.value.path):Qe({},P)}function x(P,Q){if(c!==P)return ur(8,{from:Q,to:P})}function C(P){return R(P)}function E(P){return C(Qe(A(P),{replace:!0}))}function D(P){const Q=P.matched[P.matched.length-1];if(Q&&Q.redirect){const{redirect:L}=Q;let K=typeof L=="function"?L(P):L;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=A(K):{path:K},K.params={}),Qe({query:P.query,hash:P.hash,params:"path"in K?{}:P.params},K)}}function R(P,Q){const L=c=w(P),K=l.value,fe=P.state,ve=P.force,y=P.replace===!0,S=D(L);if(S)return R(Qe(A(S),{state:typeof S=="object"?Qe({},fe,S.state):fe,force:ve,replace:y}),Q||L);const k=L;k.redirectedFrom=Q;let O;return!ve&&N2(s,K,L)&&(O=ur(16,{to:k,from:K}),He(K,K,!0,!1)),(O?Promise.resolve(O):M(k,K)).catch(N=>As(N)?As(N,2)?N:tt(N):ae(N,k,K)).then(N=>{if(N){if(As(N,2))return R(Qe({replace:y},A(N.to),{state:typeof N.to=="object"?Qe({},fe,N.to.state):fe,force:ve}),Q||k)}else N=U(k,K,!0,y,fe);return F(k,K,N),N})}function b(P,Q){const L=x(P,Q);return L?Promise.reject(L):Promise.resolve()}function v(P){const Q=Ke.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(P):P()}function M(P,Q){let L;const[K,fe,ve]=IB(P,Q);L=ih(K.reverse(),"beforeRouteLeave",P,Q);for(const S of K)S.leaveGuards.forEach(k=>{L.push(ci(k,P,Q))});const y=b.bind(null,P,Q);return L.push(y),Ae(L).then(()=>{L=[];for(const S of o.list())L.push(ci(S,P,Q));return L.push(y),Ae(L)}).then(()=>{L=ih(fe,"beforeRouteUpdate",P,Q);for(const S of fe)S.updateGuards.forEach(k=>{L.push(ci(k,P,Q))});return L.push(y),Ae(L)}).then(()=>{L=[];for(const S of ve)if(S.beforeEnter)if(Kn(S.beforeEnter))for(const k of S.beforeEnter)L.push(ci(k,P,Q));else L.push(ci(S.beforeEnter,P,Q));return L.push(y),Ae(L)}).then(()=>(P.matched.forEach(S=>S.enterCallbacks={}),L=ih(ve,"beforeRouteEnter",P,Q),L.push(y),Ae(L))).then(()=>{L=[];for(const S of r.list())L.push(ci(S,P,Q));return L.push(y),Ae(L)}).catch(S=>As(S,8)?S:Promise.reject(S))}function F(P,Q,L){a.list().forEach(K=>v(()=>K(P,Q,L)))}function U(P,Q,L,K,fe){const ve=x(P,Q);if(ve)return ve;const y=Q===si,S=zo?history.state:{};L&&(K||y?i.replace(P.fullPath,Qe({scroll:y&&S&&S.scroll},fe)):i.push(P.fullPath,fe)),l.value=P,He(P,Q,L,y),tt()}let ne;function de(){ne||(ne=i.listen((P,Q,L)=>{if(!Ye.listening)return;const K=w(P),fe=D(K);if(fe){R(Qe(fe,{replace:!0}),K).catch(Sa);return}c=K;const ve=l.value;zo&&W2(sy(ve.fullPath,L.delta),Hu()),M(K,ve).catch(y=>As(y,12)?y:As(y,2)?(R(y.to,K).then(S=>{As(S,20)&&!L.delta&&L.type===Wa.pop&&i.go(-1,!1)}).catch(Sa),Promise.reject()):(L.delta&&i.go(-L.delta,!1),ae(y,K,ve))).then(y=>{y=y||U(K,ve,!1),y&&(L.delta&&!As(y,8)?i.go(-L.delta,!1):L.type===Wa.pop&&As(y,20)&&i.go(-1,!1)),F(K,ve,y)}).catch(Sa)}))}let ce=qr(),te=qr(),Y;function ae(P,Q,L){tt(P);const K=te.list();return K.length?K.forEach(fe=>fe(P,Q,L)):console.error(P),Promise.reject(P)}function se(){return Y&&l.value!==si?Promise.resolve():new Promise((P,Q)=>{ce.add([P,Q])})}function tt(P){return Y||(Y=!P,de(),ce.list().forEach(([Q,L])=>P?L(P):Q()),ce.reset()),P}function He(P,Q,L,K){const{scrollBehavior:fe}=t;if(!zo||!fe)return Promise.resolve();const ve=!L&&H2(sy(P.fullPath,0))||(K||!L)&&history.state&&history.state.scroll||null;return ku().then(()=>fe(P,Q,ve)).then(y=>y&&V2(y)).catch(y=>ae(y,P,Q))}const Z=P=>i.go(P);let Ie;const Ke=new Set,Ye={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,hasRoute:_,getRoutes:m,resolve:w,options:t,push:C,replace:E,go:Z,back:()=>Z(-1),forward:()=>Z(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:te.add,isReady:se,install(P){const Q=this;P.component("RouterLink",to),P.component("RouterView",oA),P.config.globalProperties.$router=Q,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>on(l)}),zo&&!Ie&&l.value===si&&(Ie=!0,C(i.location).catch(fe=>{}));const L={};for(const fe in si)Object.defineProperty(L,fe,{get:()=>l.value[fe],enumerable:!0});P.provide(ju,Q),P.provide(jp,M0(L)),P.provide(af,l);const K=P.unmount;Ke.add(P),P.unmount=function(){Ke.delete(P),Ke.size<1&&(c=si,ne&&ne(),ne=null,l.value=si,Ie=!1,Y=!1),K()}}};function Ae(P){return P.reduce((Q,L)=>Q.then(()=>v(L)),Promise.resolve())}return Ye}function IB(t,e){const n=[],s=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let r=0;r<o;r++){const a=e.matched[r];a&&(t.matched.find(c=>cr(c,a))?s.push(a):n.push(a));const l=t.matched[r];l&&(e.matched.find(c=>cr(c,l))||i.push(l))}return[n,s,i]}function Rr(){return Rn(ju)}function dr(){return Rn(jp)}function rA(t,e){return function(){return t.apply(e,arguments)}}const{toString:RB}=Object.prototype,{getPrototypeOf:zp}=Object,zu=(t=>e=>{const n=RB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ys=t=>(t=t.toLowerCase(),e=>zu(e)===t),Gu=t=>e=>typeof e===t,{isArray:Or}=Array,Ha=Gu("undefined");function OB(t){return t!==null&&!Ha(t)&&t.constructor!==null&&!Ha(t.constructor)&&On(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const aA=ys("ArrayBuffer");function PB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&aA(t.buffer),e}const NB=Gu("string"),On=Gu("function"),lA=Gu("number"),Ku=t=>t!==null&&typeof t=="object",LB=t=>t===!0||t===!1,bc=t=>{if(zu(t)!=="object")return!1;const e=zp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},FB=ys("Date"),$B=ys("File"),BB=ys("Blob"),YB=ys("FileList"),UB=t=>Ku(t)&&On(t.pipe),VB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||On(t.append)&&((e=zu(t))==="formdata"||e==="object"&&On(t.toString)&&t.toString()==="[object FormData]"))},WB=ys("URLSearchParams"),HB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),Or(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),r=o.length;let a;for(s=0;s<r;s++)a=o[s],e.call(null,t[a],a,t)}}function cA(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const uA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dA=t=>!Ha(t)&&t!==uA;function lf(){const{caseless:t}=dA(this)&&this||{},e={},n=(s,i)=>{const o=t&&cA(e,i)||i;bc(e[o])&&bc(s)?e[o]=lf(e[o],s):bc(s)?e[o]=lf({},s):Or(s)?e[o]=s.slice():e[o]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&bl(arguments[s],n);return e}const jB=(t,e,n,{allOwnKeys:s}={})=>(bl(e,(i,o)=>{n&&On(i)?t[o]=rA(i,n):t[o]=i},{allOwnKeys:s}),t),zB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),GB=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},KB=(t,e,n,s)=>{let i,o,r;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)r=i[o],(!s||s(r,t,e))&&!a[r]&&(e[r]=t[r],a[r]=!0);t=n!==!1&&zp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},qB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},QB=t=>{if(!t)return null;if(Or(t))return t;let e=t.length;if(!lA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},XB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zp(Uint8Array)),JB=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=s.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},ZB=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},eY=ys("HTMLFormElement"),tY=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),_y=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),nY=ys("RegExp"),hA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};bl(n,(i,o)=>{let r;(r=e(i,o,t))!==!1&&(s[o]=r||i)}),Object.defineProperties(t,s)},sY=t=>{hA(t,(e,n)=>{if(On(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(On(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},iY=(t,e)=>{const n={},s=i=>{i.forEach(o=>{n[o]=!0})};return Or(t)?s(t):s(String(t).split(e)),n},oY=()=>{},rY=(t,e)=>(t=+t,Number.isFinite(t)?t:e),oh="abcdefghijklmnopqrstuvwxyz",yy="0123456789",fA={DIGIT:yy,ALPHA:oh,ALPHA_DIGIT:oh+oh.toUpperCase()+yy},aY=(t=16,e=fA.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function lY(t){return!!(t&&On(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const cY=t=>{const e=new Array(10),n=(s,i)=>{if(Ku(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[i]=s;const o=Or(s)?[]:{};return bl(s,(r,a)=>{const l=n(r,i+1);!Ha(l)&&(o[a]=l)}),e[i]=void 0,o}}return s};return n(t,0)},uY=ys("AsyncFunction"),dY=t=>t&&(Ku(t)||On(t))&&On(t.then)&&On(t.catch),B={isArray:Or,isArrayBuffer:aA,isBuffer:OB,isFormData:VB,isArrayBufferView:PB,isString:NB,isNumber:lA,isBoolean:LB,isObject:Ku,isPlainObject:bc,isUndefined:Ha,isDate:FB,isFile:$B,isBlob:BB,isRegExp:nY,isFunction:On,isStream:UB,isURLSearchParams:WB,isTypedArray:XB,isFileList:YB,forEach:bl,merge:lf,extend:jB,trim:HB,stripBOM:zB,inherits:GB,toFlatObject:KB,kindOf:zu,kindOfTest:ys,endsWith:qB,toArray:QB,forEachEntry:JB,matchAll:ZB,isHTMLForm:eY,hasOwnProperty:_y,hasOwnProp:_y,reduceDescriptors:hA,freezeMethods:sY,toObjectSet:iY,toCamelCase:tY,noop:oY,toFiniteNumber:rY,findKey:cA,global:uA,isContextDefined:dA,ALPHABET:fA,generateString:aY,isSpecCompliantForm:lY,toJSONObject:cY,isAsyncFn:uY,isThenable:dY};function Fe(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i)}B.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const pA=Fe.prototype,gA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gA[t]={value:t}});Object.defineProperties(Fe,gA);Object.defineProperty(pA,"isAxiosError",{value:!0});Fe.from=(t,e,n,s,i,o)=>{const r=Object.create(pA);return B.toFlatObject(t,r,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Fe.call(r,t.message,e,n,s,i),r.cause=t,r.name=t.name,o&&Object.assign(r,o),r};const hY=null;function cf(t){return B.isPlainObject(t)||B.isArray(t)}function mA(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function by(t,e,n){return t?t.concat(e).map(function(i,o){return i=mA(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function fY(t){return B.isArray(t)&&!t.some(cf)}const pY=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function qu(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,_){return!B.isUndefined(_[m])});const s=n.metaTokens,i=n.visitor||u,o=n.dots,r=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(B.isDate(g))return g.toISOString();if(!l&&B.isBlob(g))throw new Fe("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(g)||B.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,_){let w=g;if(g&&!_&&typeof g=="object"){if(B.endsWith(m,"{}"))m=s?m:m.slice(0,-2),g=JSON.stringify(g);else if(B.isArray(g)&&fY(g)||(B.isFileList(g)||B.endsWith(m,"[]"))&&(w=B.toArray(g)))return m=mA(m),w.forEach(function(x,C){!(B.isUndefined(x)||x===null)&&e.append(r===!0?by([m],C,o):r===null?m:m+"[]",c(x))}),!1}return cf(g)?!0:(e.append(by(_,m,o),c(g)),!1)}const d=[],h=Object.assign(pY,{defaultVisitor:u,convertValue:c,isVisitable:cf});function p(g,m){if(!B.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),B.forEach(g,function(w,A){(!(B.isUndefined(w)||w===null)&&i.call(e,w,B.isString(A)?A.trim():A,m,h))===!0&&p(w,m?m.concat(A):[A])}),d.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return p(t),e}function vy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Gp(t,e){this._pairs=[],t&&qu(t,this,e)}const _A=Gp.prototype;_A.append=function(e,n){this._pairs.push([e,n])};_A.toString=function(e){const n=e?function(s){return e.call(this,s,vy)}:vy;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function gY(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yA(t,e,n){if(!e)return t;const s=n&&n.encode||gY,i=n&&n.serialize;let o;if(i?o=i(e,n):o=B.isURLSearchParams(e)?e.toString():new Gp(e,n).toString(s),o){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class wy{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(s){s!==null&&e(s)})}}const bA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mY=typeof URLSearchParams<"u"?URLSearchParams:Gp,_Y=typeof FormData<"u"?FormData:null,yY=typeof Blob<"u"?Blob:null,bY={isBrowser:!0,classes:{URLSearchParams:mY,FormData:_Y,Blob:yY},protocols:["http","https","file","blob","url","data"]},vA=typeof window<"u"&&typeof document<"u",vY=(t=>vA&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),wY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vA,hasStandardBrowserEnv:vY,hasStandardBrowserWebWorkerEnv:wY},Symbol.toStringTag,{value:"Module"})),as={...AY,...bY};function SY(t,e){return qu(t,new as.classes.URLSearchParams,Object.assign({visitor:function(n,s,i,o){return as.isNode&&B.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function xY(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CY(t){const e={},n=Object.keys(t);let s;const i=n.length;let o;for(s=0;s<i;s++)o=n[s],e[o]=t[o];return e}function wA(t){function e(n,s,i,o){let r=n[o++];if(r==="__proto__")return!0;const a=Number.isFinite(+r),l=o>=n.length;return r=!r&&B.isArray(i)?i.length:r,l?(B.hasOwnProp(i,r)?i[r]=[i[r],s]:i[r]=s,!a):((!i[r]||!B.isObject(i[r]))&&(i[r]=[]),e(n,s,i[r],o)&&B.isArray(i[r])&&(i[r]=CY(i[r])),!a)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(s,i)=>{e(xY(s),i,n,0)}),n}return null}function kY(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Kp={transitional:bA,adapter:["xhr","http"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,o=B.isObject(e);if(o&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return i?JSON.stringify(wA(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return SY(e,this.formSerializer).toString();if((a=B.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qu(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),kY(e)):e}],transformResponse:[function(e){const n=this.transitional||Kp.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&B.isString(e)&&(s&&!this.responseType||i)){const r=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(r)throw a.name==="SyntaxError"?Fe.from(a,Fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:as.classes.FormData,Blob:as.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{Kp.headers[t]={}});const qp=Kp,EY=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MY=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(r){i=r.indexOf(":"),n=r.substring(0,i).trim().toLowerCase(),s=r.substring(i+1).trim(),!(!n||e[n]&&EY[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Ay=Symbol("internals");function Qr(t){return t&&String(t).trim().toLowerCase()}function vc(t){return t===!1||t==null?t:B.isArray(t)?t.map(vc):String(t)}function TY(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const DY=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rh(t,e,n,s,i){if(B.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!B.isString(e)){if(B.isString(s))return e.indexOf(s)!==-1;if(B.isRegExp(s))return s.test(e)}}function IY(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function RY(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,o,r){return this[s].call(this,e,i,o,r)},configurable:!0})})}class Qu{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function o(a,l,c){const u=Qr(l);if(!u)throw new Error("header name must be a non-empty string");const d=B.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=vc(a))}const r=(a,l)=>B.forEach(a,(c,u)=>o(c,u,l));return B.isPlainObject(e)||e instanceof this.constructor?r(e,n):B.isString(e)&&(e=e.trim())&&!DY(e)?r(MY(e),n):e!=null&&o(n,e,s),this}get(e,n){if(e=Qr(e),e){const s=B.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return TY(i);if(B.isFunction(n))return n.call(this,i,s);if(B.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qr(e),e){const s=B.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||rh(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function o(r){if(r=Qr(r),r){const a=B.findKey(s,r);a&&(!n||rh(s,s[a],a,n))&&(delete s[a],i=!0)}}return B.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const o=n[s];(!e||rh(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,s={};return B.forEach(this,(i,o)=>{const r=B.findKey(s,o);if(r){n[r]=vc(i),delete n[o];return}const a=e?IY(o):String(o).trim();a!==o&&delete n[o],n[a]=vc(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&B.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Ay]=this[Ay]={accessors:{}}).accessors,i=this.prototype;function o(r){const a=Qr(r);s[a]||(RY(i,r),s[a]=!0)}return B.isArray(e)?e.forEach(o):o(e),this}}Qu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(Qu.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});B.freezeMethods(Qu);const $s=Qu;function ah(t,e){const n=this||qp,s=e||n,i=$s.from(s.headers);let o=s.data;return B.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function AA(t){return!!(t&&t.__CANCEL__)}function vl(t,e,n){Fe.call(this,t??"canceled",Fe.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(vl,Fe,{__CANCEL__:!0});function OY(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Fe("Request failed with status code "+n.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const PY=as.hasStandardBrowserEnv?{write(t,e,n,s,i,o){const r=[t+"="+encodeURIComponent(e)];B.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),B.isString(s)&&r.push("path="+s),B.isString(i)&&r.push("domain="+i),o===!0&&r.push("secure"),document.cookie=r.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NY(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function LY(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function SA(t,e){return t&&!NY(e)?LY(t,e):e}const FY=as.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function i(o){let r=o;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=i(window.location.href),function(r){const a=B.isString(r)?i(r):r;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function $Y(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function BY(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,o=0,r;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[o];r||(r=c),n[i]=l,s[i]=c;let d=o,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-r<e)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function Sy(t,e){let n=0;const s=BY(50,250);return i=>{const o=i.loaded,r=i.lengthComputable?i.total:void 0,a=o-n,l=s(a),c=o<=r;n=o;const u={loaded:o,total:r,progress:r?o/r:void 0,bytes:a,rate:l||void 0,estimated:l&&r&&c?(r-o)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const YY=typeof XMLHttpRequest<"u",UY=YY&&function(t){return new Promise(function(n,s){let i=t.data;const o=$s.from(t.headers).normalize();let{responseType:r,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let u;if(B.isFormData(i)){if(as.hasStandardBrowserEnv||as.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((u=o.getContentType())!==!1){const[m,..._]=u?u.split(";").map(w=>w.trim()).filter(Boolean):[];o.setContentType([m||"multipart/form-data",..._].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(m+":"+_))}const h=SA(t.baseURL,t.url);d.open(t.method.toUpperCase(),yA(h,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function p(){if(!d)return;const m=$s.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),w={data:!r||r==="text"||r==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:m,config:t,request:d};OY(function(x){n(x),c()},function(x){s(x),c()},w),d=null}if("onloadend"in d?d.onloadend=p:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(p)},d.onabort=function(){d&&(s(new Fe("Request aborted",Fe.ECONNABORTED,t,d)),d=null)},d.onerror=function(){s(new Fe("Network Error",Fe.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||bA;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),s(new Fe(_,w.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,d)),d=null},as.hasStandardBrowserEnv&&(a&&B.isFunction(a)&&(a=a(t)),a||a!==!1&&FY(h))){const m=t.xsrfHeaderName&&t.xsrfCookieName&&PY.read(t.xsrfCookieName);m&&o.set(t.xsrfHeaderName,m)}i===void 0&&o.setContentType(null),"setRequestHeader"in d&&B.forEach(o.toJSON(),function(_,w){d.setRequestHeader(w,_)}),B.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),r&&r!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",Sy(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Sy(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=m=>{d&&(s(!m||m.type?new vl(null,t,d):m),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const g=$Y(h);if(g&&as.protocols.indexOf(g)===-1){s(new Fe("Unsupported protocol "+g+":",Fe.ERR_BAD_REQUEST,t));return}d.send(i||null)})},uf={http:hY,xhr:UY};B.forEach(uf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const xy=t=>`- ${t}`,VY=t=>B.isFunction(t)||t===null||t===!1,xA={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let o=0;o<e;o++){n=t[o];let r;if(s=n,!VY(n)&&(s=uf[(r=String(n)).toLowerCase()],s===void 0))throw new Fe(`Unknown adapter '${r}'`);if(s)break;i[r||"#"+o]=s}if(!s){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let r=e?o.length>1?`since :
`+o.map(xy).join(`
`):" "+xy(o[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return s},adapters:uf};function lh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vl(null,t)}function Cy(t){return lh(t),t.headers=$s.from(t.headers),t.data=ah.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xA.getAdapter(t.adapter||qp.adapter)(t).then(function(s){return lh(t),s.data=ah.call(t,t.transformResponse,s),s.headers=$s.from(s.headers),s},function(s){return AA(s)||(lh(t),s&&s.response&&(s.response.data=ah.call(t,t.transformResponse,s.response),s.response.headers=$s.from(s.response.headers))),Promise.reject(s)})}const ky=t=>t instanceof $s?t.toJSON():t;function hr(t,e){e=e||{};const n={};function s(c,u,d){return B.isPlainObject(c)&&B.isPlainObject(u)?B.merge.call({caseless:d},c,u):B.isPlainObject(u)?B.merge({},u):B.isArray(u)?u.slice():u}function i(c,u,d){if(B.isUndefined(u)){if(!B.isUndefined(c))return s(void 0,c,d)}else return s(c,u,d)}function o(c,u){if(!B.isUndefined(u))return s(void 0,u)}function r(c,u){if(B.isUndefined(u)){if(!B.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,d){if(d in e)return s(c,u);if(d in t)return s(void 0,c)}const l={url:o,method:o,data:o,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(c,u)=>i(ky(c),ky(u),!0)};return B.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,h=d(t[u],e[u],u);B.isUndefined(h)&&d!==a||(n[u]=h)}),n}const CA="1.6.7",Qp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Qp[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Ey={};Qp.transitional=function(e,n,s){function i(o,r){return"[Axios v"+CA+"] Transitional option '"+o+"'"+r+(s?". "+s:"")}return(o,r,a)=>{if(e===!1)throw new Fe(i(r," has been removed"+(n?" in "+n:"")),Fe.ERR_DEPRECATED);return n&&!Ey[r]&&(Ey[r]=!0,console.warn(i(r," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,r,a):!0}};function WY(t,e,n){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const o=s[i],r=e[o];if(r){const a=t[o],l=a===void 0||r(a,o,t);if(l!==!0)throw new Fe("option "+o+" must be "+l,Fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Fe("Unknown option "+o,Fe.ERR_BAD_OPTION)}}const df={assertOptions:WY,validators:Qp},ii=df.validators;class Hc{constructor(e){this.defaults=e,this.interceptors={request:new wy,response:new wy}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=hr(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:o}=n;s!==void 0&&df.assertOptions(s,{silentJSONParsing:ii.transitional(ii.boolean),forcedJSONParsing:ii.transitional(ii.boolean),clarifyTimeoutError:ii.transitional(ii.boolean)},!1),i!=null&&(B.isFunction(i)?n.paramsSerializer={serialize:i}:df.assertOptions(i,{encode:ii.function,serialize:ii.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let r=o&&B.merge(o.common,o[n.method]);o&&B.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=$s.concat(r,o);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!l){const g=[Cy.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,u=Promise.resolve(n);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let p=n;for(d=0;d<h;){const g=a[d++],m=a[d++];try{p=g(p)}catch(_){m.call(this,_);break}}try{u=Cy.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=hr(this.defaults,e);const n=SA(e.baseURL,e.url);return yA(n,e.params,e.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(e){Hc.prototype[e]=function(n,s){return this.request(hr(s||{},{method:e,url:n,data:(s||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(s){return function(o,r,a){return this.request(hr(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:r}))}}Hc.prototype[e]=n(),Hc.prototype[e+"Form"]=n(!0)});const wc=Hc;class Xp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(i=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](i);s._listeners=null}),this.promise.then=i=>{let o;const r=new Promise(a=>{s.subscribe(a),o=a}).then(i);return r.cancel=function(){s.unsubscribe(o)},r},e(function(o,r,a){s.reason||(s.reason=new vl(o,r,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Xp(function(i){e=i}),cancel:e}}}const HY=Xp;function jY(t){return function(n){return t.apply(null,n)}}function zY(t){return B.isObject(t)&&t.isAxiosError===!0}const hf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hf).forEach(([t,e])=>{hf[e]=t});const GY=hf;function kA(t){const e=new wc(t),n=rA(wc.prototype.request,e);return B.extend(n,wc.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return kA(hr(t,i))},n}const Tt=kA(qp);Tt.Axios=wc;Tt.CanceledError=vl;Tt.CancelToken=HY;Tt.isCancel=AA;Tt.VERSION=CA;Tt.toFormData=qu;Tt.AxiosError=Fe;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=jY;Tt.isAxiosError=zY;Tt.mergeConfig=hr;Tt.AxiosHeaders=$s;Tt.formToJSON=t=>wA(B.isHTMLForm(t)?new FormData(t):t);Tt.getAdapter=xA.getAdapter;Tt.HttpStatusCode=GY;Tt.default=Tt;function Vi(){const t=Tt.create({baseURL:"http://i10c210.p.ssafy.io:8080"});return localStorage.getItem("accessToken"),t.defaults.headers.common.Authorization="",t.defaults.headers.post["Content-Type"]="application/json",t.defaults.headers.put["Content-Type"]="application/json",t}const hs=Vi();async function KY(t,e,n){console.log("param",t),await hs.post("/members",t).then(e).catch(n),console.log("회원가입 성공")}async function qY(t,e,n){console.log("param",t),await hs.post("/members/auth",t).then(e).catch(n),console.log("로그인 ok")}async function EA(t,e,n){hs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await hs.get(`/members/${t}`).then(e).catch(n),console.log("친구닉네임조회성공")}async function My(t,e){hs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await hs.get("/members/me").then(t).catch(e)}async function QY(t,e,n){hs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),hs.delete(`/logout/${t}`).then(e).catch(n)}function MA(t,e,n){console.log("modifyUser 실행"),hs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),hs.put("/members",t).then(e).catch(n)}const Xr={OK:200,UNAUTHORIZED:401,FORBIDDEN:403,NOTFOUND:404},Wi=Nu("memberStore",()=>{Rr();const t=ie(!1),e=ie(!1),n=ie(null),s=ie(null),i=ie(null),o=ie(!1);return{isLogin:t,isLoginError:e,nickname:n,token:s,userInfo:i,userLogin:async d=>{await qY(d,h=>{if(h.status===Xr.OK){let{data:p}=h,g=p.accessToken;console.log("accessToken",g),t.value=!0,e.value=!1,n.value=p.nickname,s.value=g,console.log("nickname",n.value),localStorage.setItem("accessToken",g),My(m=>{if(m.status===Xr.OK){let{data:_}=m;i.value=_,console.log("3. getUserInfo data >> ",m.data)}else console.log("유저 정보 없음!!!!")},async m=>{console.log(m),console.error("getUserInfo() error code [토큰 만료되어 사용 불가능.] ::: ",m.response.status)})}else console.log("로그인 실패했다"),t.value=!1,e.value=!0},h=>{console.error(h)})},getUserInfo:async d=>(await My(h=>{if(h.status===Xr.OK){let{data:p}=h;i.value=p,console.log("3. getUserInfo data >> ",h.data)}else console.log("유저 정보 없음!!!!")},async h=>{console.log(h),console.error("getUserInfo() error code [토큰 만료되어 사용 불가능.] ::: ",h.response.status)}),i.value),initializeAuth:()=>{const d=localStorage.getItem("accessToken");d&&(s.value=d,t.value=!0)},updateUserInfo:async d=>{try{MA(d,h=>{let p="로그아웃 중 에러 발생했습니다..";h.status===Xr.OK?(p="사용자 정보가 성공적으로 업데이트되었습니다.",i.value=d,console.log("사용자 정보가 성공적으로 업데이트되었습니다."),alert(p)):console.error("사용자 정보 업데이트 실패:",h)},h=>{console.log(h)})}catch(h){console.error("사용자 정보 업데이트 중 오류 발생:",h)}},userLogout:async d=>{await QY(d,h=>{let p="로그아웃 중 에러 발생했습니다..";h.status===Xr.OK&&(t.value=!1,i.value=null,o.value=!1,sessionStorage.removeItem("accessToken"),sessionStorage.removeItem("refreshToken"),console.log("Logout successful"),p="로그아웃 되었습니다.",alert(p))},h=>{console.log(h)})}}}),XY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFUSURBVHgB7VTZUcMwEJVsF+ASRAfQQVICDfioAFIB7iBQgXwUQAmkA9IBLiEF+OA9j4YxIpGD8pOPvBmPV3s87a6klWIBWmsVhuEH5b7v13mety7/wGWsqioF2SdExY9yXdeZFyECt1LKEmI8jmPFjzKTbprm5VSctBUsMYoiDYKVUW2SJHk1GRfYZCLDf9913aPdAmmRrVCWZnkgbIdhgH++s3zugyB4B6HCskVfSbr/UzJ2fzLNV3DegWxtkxEMpg0bkmTq67wFEjvGUG4hZ1TA8S1N02dxBuYtAEpkuwnMKWYgOkCRn0tGwLdg0owlB7lYsqIRZTygnFL8EziwkrFmqX56uHRhXZjHRqeccA+/hMn+CFpkdnfM4HopyscWiQUgk193FZmPLn/nW/bBjfAaCc07nOag8MQs9iCtiXEROKmmSwtSTuQUxLHwgKmSY6/4Bhn9p1FBbwuzAAAAAElFTkSuQmCC",TA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAhCAYAAAAlK6DZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJTSURBVHgB7VfLceJAFHwS4rxkYG0EiyNAGwHslQIEEVgbgcsR7BKBzOduOQLjDJyB5QjMnZ+7qUE1CHkkDCof7K6iRmo9pkdvWk9PIjkIw7AmR6BIvJ0zQb1SqbyOx+NACmAymVwzHv/z5KOimKCuDn9JAWw2G5djtVq9MMU5+olKTZIey7J+YCIe1nDNlXxs/7tardLx88FgME/mVWKu4zghBDwpDxEW8xfi8VYUe/aMweWK1E9feS2Dfw/vxe/4GMKXDgT7FMRdxuv1+lJPg7oWcpW9Xm+Qp4h4xvZt2w46nc5oxzOT4O6wXXVk1KeRGrwA8r8ueE5sU2pZQx7j5uqJkUAeCCIVEVe2XC7vpQAQfw/H1xaLxaMpzhHzCrmQ31IQiI8wRHlxtnwCPkU0SS+c68F9lpSHxoEo0Fe/0pGIwsozODiWksC6jPm9PVFY/VZ/oM8NVWg8Hn9B92aBrzqk/RqVZoQH/0njXfBX4IcscRrPl74P/sZUUo13ihLoYQgokOKb5FkidV7FBajjDdO8RtFutxvBdS2uXOdRi0eYuI9xqPOMI+/7vrFWG9NLZE2gUjfK4GMMseTg271bqN7pH/dQvbbS/E3K1S3s6RXq+J9T3Ms2pgVXNlJ8kzwE9lpTxDVZ6k5174yPTdq94IdssGCyPTOxj1L8ae5tt9uZrYee1iK8juROka6jvlmOBRv3RBQnT0o0KNjFHw3Oy/mVzsxifcXGP7AnVTGxnB+uEoyx3z+TzwoWdimvc+Djs/usmB/0RNPp9ELODDQHL/r5G/E/H34yDawHAAAAAElFTkSuQmCC",JY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIlSURBVHgB3ZXdVfJAEIaXANcfXwXGCsQKxAqMBUBIBUoFxgpMB0mgALECYwViBaYEvObPZ8ImZw1qCF54jnMOzGZ3Z993ZnZmlfor0qjaEIZhp9lsOgzPNptNt9FodNCpZVlzxtPFYvHged78YJA4jn0OumLY0VOpsWznc6vVKgbIV3VAYG+3Wq0Qxj3NOlgul7HJWPageqzdQMRm32y9Xl+yJ60E0eF51kwDWN5WhWMymdwA4muvTsv7rbIBAHcCIEaDwWBUBSDS7/dv8cYXO+xD9Z0nMJLwPDKMAPBUTRmPx/coB2/OIZeozzwBwBUtIVIHCHaj7FDyZM6XwzUEKPksefuI2BG2hF9XcrsDIqHSLBL1M5mq7ZW384mWsZghwyLNJ+SaAnrP1YSkN6v6Fhsi8Sa63W6foGYfPPlCcpfne34XQn7mO55QbCnXT5gUsdTsTvf91pH4xxmiCxDTk1QY4bqjfiaO9uRlB0SKDvQZv55uGbVF7KQVMZyaRVyukyxRhO1IHSDY5fURmPPlxDvSEKn2J1VTpGOjhmrbLT7YF4nH1S7KJlyRqiFSdFzj7EkQguR0VN5TgOCqq4eR/Ok+diExZi3gcXoyO4EcznPgsn6ttg010fWyc52LBklze1W6vWu3zRowx/khdj4HQOC67pf9zspZG0bX2tBH94jvf66jdORIbl/GbNsVIsI0ZO34O4DCE8kHBvIOTKXBHZL4X5d3n2EwbWJyg1EAAAAASUVORK5CYII=",ZY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIJSURBVHgBvZXbUcJQEIYPgXcpIVYgVmCsQH3nWoGxgmAFjhXEAMOrWIGxAzoQO4jP3Px+5uBkNJAzMLozmd3k7Nl/7zHmH6jiohTHcd3zvJDnbLVa1SuVynS5XD72er2Zy33PAaBbrVbfMRwB4AOkz6G+cdY3DuSVAPgYi9fr9QzPTzudznmr1bqUzPGEs2gwGITmGJBarbYBIIKbfGokt9vtG6JLeY3MMSAABBia7Mo95wmsTsQNcwiIUrVR8LzpLh0cmImTthNzCIj1PiNVO70kEl+cGn2aQ0BEalVYdxtVntTWsEg1w6HpwSCLxaInTjpeMRrkABo0xTOiT6R3poRKh1EGqcszUfm8ZvbZyEQR0tbJ0SA5MA3lGeJm4okyIU2Zy93SiRcNh8OA9JxgPLMdpXoERbUqor2RJEnSx+itNVpsgDkiqrt9e6wQRB7aOjTIe0qanvicNpvNj5yOanWF2FW9aON7gPrOIOyjWJe5qHUyMXvI7rcHxGv0L9FPf+p4RZcEoM4pAxApTRhXq2eA3Rbp/AKhwL64HUQnsl2WbjdAKQhFnIlrORpHstPf2O6yUhCFrxXOE45Go45xANA/B9HnTr9IZ1d36Xf7mu+u+Xz+lm9TzQ4rJdi2uJ3+R2eQHFgXsMiulEKSE9pf+5ak01oZj8cXdJBW/vdQKv9E9+K6Wv6cvgDFKgo1EAOrZwAAAABJRU5ErkJggg==",eU="/assets/todak-logo-CLoeAaE7.png",tU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEgSURBVHgB7ZXREYIwDIb/83yXDewGugFsIhvIBrCBIzCCIzACbiAb4AZYjgRDaaEo5/ngd5fjmqbJ3zYA8GXuZJJAW0b+hqzUlmtTjvWBLXlGi2WBWFstEpvWziVGgdafmsmVmDyQLxGJCm2hUBbSDnj+RP5IFB7sIhaJuGDtUiNILQkL8p1lYGEoYXU55ikMITGNrzKIj+dI45LGIeaJMLw7hfFd9mfpGk8RTK3fkqPC+zwsvgoLFc3BDTHq/40lWNHzBn94F7slBWxbd8Fijj4FQmORDxU9I59gblmfFoVIPGpNG7FvoAW+6MgVoPBSf8JyEiHO+jWVn+NPrT+BDf6sRIbuXNsXSWH8J3OyhR8NJS6Fb4+VuaBT3lqKX+EJ64d5VScDWXMAAAAASUVORK5CYII=",nU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAXCAYAAAD3CERpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGDSURBVHgB7ZbNccIwEIVXRjNc6QBSQegg0EFyZQDjCggVQDowFfj/ng4CFRAqCKkgvnrGP3liTIbxGGzFyiSHfBeZnUVPa2mfzAh4njfAME/TtEMlMMZekyRZG4ZxIAVw13VnWZZZ+eSX8gaapvUxDs+DlmWJRfZJAix8wzHe5r9tzrldlhjH8TMWNPB9vzsej99P8Var9YahQxKgSJOf/oRKNqPRaHshMaTyyW0sRqpSFLDl1IDpdLqgb6DRL/Av+qMwGMMcfWpWJSLnoOv6DSmATyaTNVqih+dHuiIIt3ooxoWxoGW6JAFaxmHUAIhmJI/dqE/hxwZcTLpS+rMIY8/NXQmVLQOxHox9J8xdlbBWQ/AFjz2c4BDXUkiqRIMg6FcIipYZkiI0mMMSp3AHkdU1QVVfDQKOI7yHgLiQlxATMbuuoOM4Kwx3JAHmezqaA8RmELLy+PHCrlMhzOGDJL8cgPnlSOfCdV+p2IZ2uy1lDlEU7VlhknsI69jjhco9LPIJCFvKgi/XS9kAAAAASUVORK5CYII=",sU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKPSURBVHgB7VjdkdowEF6DeaeDOBWEVHBOBUcKAJ8rOFIBpIIjFYCB4RWugkAFoYO4BN8jw1++BSnDQ85aSbm7mRt/MyB5vJI/72q/lUVUwQ0BeWA0GjXDMGydTqfbIAii4/HYPE8aBJvD4bBO03RJHnAix6RqtVoPJO5x2SwxzUEyQzsE0YJemhyIter1+gLdiK/htRWILuG1vNFoFLvdjom3cCvGvfiK5BcQzMkCVuQUsZ/oNvHgDTzX63a76zJ7EF1wyHFZKIIbEkJMDg+KFLEIvzFIpdKxWZaNQTBRBD9LPVgjIUDsQRFb2hBjJElyx+Pw45CPpONE5KbTaYymjVDy2vlGDsA4fqECHowRhVgyRkQOpBLVHdouag3OVhAbch9RSCRjpGFt8x8y8pE8sN/vf1zPZ4KRHGccXbSscPWahtK6nOebzWYfTPZGcqgAZ5Fl6aD/AIQ25xZRiEy24mx9CxjJYZ3k3Coh9QYiwMuEs/fJZGskp9YZr5VIKgHPQa9fliRJpRCFVUsABLRPHoCE3Kv5VhJ7ETklAVpAB+QAlLABmju6lLDvkjEiciwBujLg7fuTyaRHFmBieLGz1xHSgVSSrHYlKGN9npz7aoexMo1RO5lfmhjqrMhrDCsp6XQ6PLEuQaICrvZ+1sQYTjthhOk3S4vJe/A0bxYWnJ0g9pEs4STCyNoxt/DKbZkdSN0o+yE5ICQHIHszlLUY7brMDp59xAtEsPPaMFSo8Fpw/aiOkBAP+gvfBNilLhtVp2yFNHyCTLShdWJ7uuyAreB8VjKfz28kdtvt9snmQ7rCu4f3+RyaVolJ7vM56ZStfweH4eLqmOtf4PORr+Q6P3mACzoIPnsf+raiCm+AP/3bMDkhYeWhAAAAAElFTkSuQmCC",iU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANVSURBVHgB7VjdedowFL048Fw6QdwN6ATQCeK+A4YJQiaImaAwgTHw8dowQdwJSicomaC889dzXYkI2cY2tf2QL+f7iBRfSzq6utI9MtE73iAqlBNc1zVlvd/vrykHXE1uNpu1jsejjWoLP1O3w7aqVCqr/X6/BNknugKZyME7dcMwBhj0Hv/WNfNaqZu6DSQ9lCMQ3VDe5ISnXDkw6j4K/3A4sGdW+vuYSKNarTZh72EyDUkSk3Pa7baXZsxU5DzPczDAoySFutPtdn9QSiwWi+Z2u52gncn/w4tDTMhJapdITiM2sG17TFcC3n9EH05agpWUxDhOrCzeukCQw+M7qvUkgrHkEDPWzc0Nd8Kz/HrtjrtA8Fn0/QV9+1HvGXEdgNg3LnkZ8iTG6HQ6Pkg9iHFcPgUoLbnpdNpDYYLYGjE2pAKACY8QMj6Pgx18T2nJAcEGQOMeFYuhGGcQ5b0QOcSDRcJreWyAS+DlFd5jYg1KIgdSd4HBMEZUDoJ4RuzZuiFETp7mnBupBOx2O7k6Ld0W5bmAXNFLKqGkPlO3nZFTgjI2OfNOns/noSVgycQZQJVOSW0UrPkP3rmNJUevSuOScnCRzCf6QyR5m89ELtO2SUI15nk9rgEOzz42y1F/jtjxQCwo07ZJQih9YQmOosOPWbTX/0COiTg/4xO1W2WANqgEsO7jMup0iNqtfmAwjCaVABakXCpOOSHKc8vAYBgWlQDWiKIMiYtIyYQY+EP/9FasnMkDUjoJgfFJt8clfj8wGsYtFQhxJ2FEpsoQOXEQB0uKs6mwLMEqm15l2TgVOSTggBhvjLwuxzpYZct7CRzwEPde1LLeiXJCBUDI/2A5k1R2VG4tbEmx0QbiXlJnYkkq+yx9JS0pk+fciRT1kuVewbsSBV8LW6J/J43813NraEklIVQt7hw/ngR7YY24GYHoL9hWaqoTbRrwfosPc4UUt+mBWKpVqSgdmhj0N9dxvn0WJ7clOxbYiDRjytu7ahO/OoWFA7cbgew4S74+eQ7EWkr9J3tIJYRnE3xSWMrO+RMDvNZjcSrU8xkp8ZXJR/XpWuF68hzi4lnxUiShS+ClrNVqH7iODzUvlANOnoMXliCz4dmyJssql8T7pUisdyThLwzG9M9B8B36AAAAAElFTkSuQmCC",oU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALISURBVHgB7VjbbeJAFB0MiF86WG8HdMBQAckvEq8KNlSwpIJlK8CGAtapIN4OoIJ1OsgvEo89B92JDBkejseRInEka67nXt8587hzx6PUDR9D6ZxyOp365XL5x263a6isjkulp16vN7ngW282mwSvi+Fw+HpsUznz8R0+nkKsoyGVFegQi4nFb71SqfyBXvMdbbBIUB+C4DhtWzpBjL16hujjCeAoqlarryoDVqvV8ng0SMzzvGd0ljNBXQy5bogCo/RoW8nNZrMBfeGjuN/vt5QDpInBb7Ldblsgn4juAYPxi4Qxzd9NpzybIzj4tld6Xqwc4BwxAvIEuhgi7Zqm3lMF4xIxA+hOBwSdoGiIoW9K1GsxSWxOXRDjGkehKcNm+Y5cOoJSGGAtDESO8NyrAohJ8HFwgrTNG7n1ev0EgkrY+3Dq0ykaSKQuVsURY1sL2I3Semu0zufznzAew/m42+0+qgzIQax1vPVUlGPIxp2bGOE0WiWo7ijnJeacHNasifY4L7G9PyMgKzzgg7Y496UchGGoKV9K5GLfFttFXmIH5IAmnOoj/T5qpWEWZ8lJEFCM8hI7IIecNqrVavvGsa0MUPAJMFUB65jIzzniejP7JHy9IOI1R1IIa+ng1cQOyMka4aPEMUci6XQ6f69yhPUmo8aI/WfkVBmD2P21xA7IOUAz/UIysvYijOTSRorTjU71MVOhLYCckWMDzDAkdYrMu8ZBjJu9ZKbHk+TyJn7RZcoml1BY4neBQhK/c3I8jSrZx0ziB7Ega+J3icJPwnlwI/dROE38hZFTDhK/a7xNKxM/thLNB6+BVAemjnlRfTKcJf4i8PWiFaP2whJTqVWx0NJOYlNaTyVYfxEvVhggiOIp3kPlFnX4bzOXy1+ademcvHjDaaSR+hMvCrxVwnIfRjblVTebcp/mFDyyg9jvrPcvN1yD/56uXQ+OHoNIAAAAAElFTkSuQmCC",rU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJYSURBVHgB7VbLkdpAEB0BxdVyBgphHcHKESx3CjREsLsRIEdgHAFSUcXVOIIVEZgQFIJ85uf3ROMaBKMdqry3eVVT0rRar193z4yklIeHh4eHh8f/RGB7sFgs4uPxmOA2xohow7zodrvZdrtdTyaTUjliPp+HnU7nBeMRHA8whRh8v9jv9zm4CuUijkQQMMftQNlRgvQVpCv1vrCB8IUtbpnwVaax0xSG7N5EWIUsU8yj8Xgc4OXPvV4vDoKgwLMIAX/meZ6odmGafhTGquMak0f4voArhb2EXTMu45vvX1QOwWZ44ZkvHA6Hr7bWoeVTCmcCDHLLD4GYwG8RliZJ8s2SQERhiBthOoPwV9WsHJ0ojPdtwojRaMRAGQNDwPMtH9in6tTKzCaMYBzGk+mLWb1/4tCyJ7nNXBY7KnYOqC0ug4afahOoTslSR3IlDqWP5fruIjcIOUJk+2A+kznbubljV69NHRfi0NJQrpVyBHxLXtHCT6Yd2Z9bczcXxF23FcaaiLtTuaMmQuv+mMbdbldJwEi546o4ZuUKXrE4YweiegPJgVqhdRvzmcwZJKKfCx+4nkwdF+KQbS632oVQdiNhW6NZw88KiadFx68rcXI6z4TwrU0gzsNUyCrbboT9hzpVj8mmqkUY48l0Zm6goOEYyoHIdvETlff7/dVwONzwGRY67VNjZ2ucYXlLYC2frvq7jCXDRLiDKzl8tZyt9c6W87W6Ke4sEITflf38+gisUIhJ89tq/StZLpeP6L9mle7cda4oMQqMDJ+stfLw8PDw8PD4cPwFRexIxoCFIcsAAAAASUVORK5CYII=",aU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAM5SURBVHgB7VjtbRpBEB0w/h068HVgd+BzBXZ+2zJHB7gCcAVABXyKvyEVBFcQqCDnDvjNZ947hgghwu3sXaQk8pNWe2J3797O7LyZReQDfihIDhgMBiG6a7Qy2ny1Ws2q1epEMiITuX6/X0NXV1LHiIvFYuPp6aknnvAi1+l0yqVS6ct2uw3RJviptdls3mCtOcdA6hatxnGMjdfrdZVjYkRJPHBxcdFRYrVKpdI+HFMSX9lAtIa5TRClZe/EiKIYAVdG6B5OETsGiLZgtZdCoRDqEfiz5IA6XZlGbA8SBLmJ7M6mCSZyGpUBWlcMwGYYFGW4ObSss1qOcsEzN7EsgmuT+ZeXl1eWdVZyiWRAHt4ti+DamD0sGBiW2cjh5Qmp4XBosgDcecMeZy+2rDORg3um+hgalvEYJOSWy+XMss5EDu6ZwnoxSEZiAyM85nrLIrOUIBO8UrfgqobL/F6vx3kBmtP8Q5jJYfddSgNcVU8jSGLYCPWtBV0051jvxA/Fb6Kj6icJHiRmi8UiyZ/Iu/eyyyIh+u7z83NVPJCpKoHlIhCrg1hwPAZiUx4BWHosnsilnqNUgOQVXL0vnSZWLfznkNlyrN9klzkCWC6AzMQ6FO8zgy98i0268YFFpR7632HOigRt7FMRm8iBVIBI7OwJsXTCh6cgyRYjABi5AcdgwRuMs4UaMBTvHqzZcP2eMzktFikfc3yQZXnbtfQejUa3uPREeIyU5J2Ly53IHYip932AOJAecSGYSo6uxEH/gccWxPRFMkLf9506iKxx9l6Rmr54QdFk/yo5gNaC5Vqan0PJQg54YLT5uvIUcP6S+wc2fn9unlPiB7nciBG60VhOX8Z/wYUco7MsOYLnDl2QVhm7kGPijjQT5AJEbMQe7j0rzKnk9oGAF37LgyCzi8pSN01KUsnxBXprv6EEqEu8QCFXGUnemTbfOUOAFHNpU1NRFx9pPz4+pt4J9E+fCjJKxA0y5eH5s0v0m3Mry3PZpSGCmkWCvPi8syJhZaJj10qGN6+y5uEGhPzN8XPeVUmALqRO8eOnKmHZRXms/5OMLaQykTsGXYe/Gj6xImFlwt/++0r4r8ZPyreu3CqkUyIAAAAASUVORK5CYII=",Ee=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},lU={data(){return{notifications:[{id:1,message:"밥먹어라",time:"12:30 PM"},{id:2,message:"양치해라",time:"1:00 PM"},{id:3,message:"세수해라",time:"12:30 PM"},{id:4,message:"설거지해라",time:"1:00 PM"},{id:5,message:"세탁기 돌려라",time:"12:30 PM"},{id:6,message:"저녁 장봐라",time:"1:00 PM"},{id:7,message:"양치해라",time:"12:30 PM"},{id:8,message:"폰끄고 자라",time:"1:00 PM"}]}},methods:{dismissNotification(t){this.notifications=this.notifications.filter(e=>e.id!==t)}}},cU={class:"notifications"},uU=["onClick"],dU={class:"notification-content"},hU={class:"message"},fU={class:"time"};function pU(t,e,n,s,i,o){return T(),I("div",cU,[(T(!0),I(ke,null,Ze(i.notifications,r=>(T(),I("div",{key:r.id,class:"notification-box",onClick:a=>o.dismissNotification(r.id)},[f("div",dU,[f("div",hU,oe(r.message),1),f("div",fU,oe(r.time),1)])],8,uU))),128))])}const gU=Ee(lU,[["render",pU],["__scopeId","data-v-5973692d"]]),pn=t=>(Ne("data-v-5aa7bbd2"),t=t(),Le(),t),mU={class:"navbar bg-white fixed-top"},_U={class:"container-fluid d-flex justify-content-between align-items-center"},yU=pn(()=>f("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"},[f("span",{class:"navbar-toggler-icon"})],-1)),bU=pn(()=>f("img",{src:eU,alt:""},null,-1)),vU=pn(()=>f("button",{type:"button",class:"btn","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNotifications","aria-controls":"offcanvasNotifications"},[f("img",{src:tU,alt:""})],-1)),wU={class:"offcanvas offcanvas-start",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel","data-bs-toggle":"offcanvas"},AU=pn(()=>f("div",{class:"offcanvas-header"},[f("h5",{class:"offcanvas-title",id:"offcanvasNavbarLabel"},"메뉴 전체보기"),f("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),SU={class:"offcanvas-body"},xU=pn(()=>f("img",{src:nU,alt:""},null,-1)),CU=pn(()=>f("img",{src:sU,alt:""},null,-1)),kU=pn(()=>f("img",{src:TA,alt:""},null,-1)),EU=pn(()=>f("img",{src:iU,alt:""},null,-1)),MU=pn(()=>f("img",{src:oU,alt:""},null,-1)),TU=pn(()=>f("img",{src:rU,alt:""},null,-1)),DU=pn(()=>f("img",{src:aU,alt:""},null,-1)),IU=pn(()=>f("span",{class:"emoji"},null,-1)),RU=pn(()=>f("span",{class:"emoji"},null,-1)),OU={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasNotifications","aria-labelledby":"offcanvasNotificationsLabel","data-bs-toggle":"offcanvas"},PU=pn(()=>f("div",{class:"offcanvas-header"},[f("h5",{class:"offcanvas-title",id:"offcanvasNotificationsLabel"},"알림"),f("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),NU={class:"offcanvas-body"},LU={__name:"Sidebar",setup(t){return(e,n)=>{const s=rs("router-link");return T(),I("div",null,[f("nav",mU,[f("div",_U,[yU,be(s,{to:"/main",class:"todak-logo navbar-brand mx-auto"},{default:vt(()=>[bU]),_:1}),vU,f("div",wU,[AU,f("div",SU,[be(s,{to:"/main",class:"nav-link"},{default:vt(()=>[xU,lt(" To-do ")]),_:1}),be(s,{to:"/goal",class:"nav-link"},{default:vt(()=>[CU,lt(" 목표 만들기 ")]),_:1}),be(s,{to:"/calendar",class:"nav-link"},{default:vt(()=>[kU,lt(" 캘린더 ")]),_:1}),be(s,{to:"/friends",class:"nav-link"},{default:vt(()=>[EU,lt(" 친구 ")]),_:1}),be(s,{to:"/habit",class:"nav-link"},{default:vt(()=>[MU,lt(" 습관 ")]),_:1}),be(s,{to:"/records",class:"nav-link"},{default:vt(()=>[TU,lt(" 음성 ")]),_:1}),be(s,{to:"/mypage",class:"nav-link"},{default:vt(()=>[DU,lt(" 마이페이지 ")]),_:1}),be(s,{to:"/subscribe",class:"nav-link",style:{color:"red"}},{default:vt(()=>[IU,lt(" subscribe")]),_:1}),be(s,{to:"/pushnotify",class:"nav-link",style:{color:"red"}},{default:vt(()=>[RU,lt(" pushnotify")]),_:1})])])])]),f("div",OU,[PU,f("div",NU,[be(gU)])])])}}},FU=Ee(LU,[["__scopeId","data-v-5aa7bbd2"]]),fs=Vi(),wl="/goals";function $U(t,e,n){console.log("addGoal 실행",t),fs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fs.post(`${wl}`,JSON.stringify(t)).then(e).catch(n)}async function Al(t,e){console.log("goalList 실행"),fs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fs.get(`${wl}`).then(t).catch(e)}async function BU(t,e,n){console.log("getGoalDetail 실행"),fs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fs.get(`${wl}/${t}`).then(e).catch(n)}async function YU(t,e,n,s,i){console.log("updateGoal 실행"),fs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fs.put(`${wl}/${t}`,JSON.stringify(e,n)).then(s).catch(i)}async function UU(t,e,n){console.log("deleteGoal 실행"),fs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fs.delete(`${wl}/${t}`).then(e).catch(n)}const fn=Vi();function DA(t,e,n,s,i){console.log("addTodo 실행",e),fn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fn.post(`goals/${t}/todos`,e,{params:{todoDate:n}}).then(s).catch(i)}async function Sl(t,e,n){console.log("getTodoList 실행"),fn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fn.get(`/goals/todos/date/${t}`).then(e).catch(n)}async function Ty(t,e,n){console.log("goalList 실행",t),fn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fn.get(`/goals/todos/month/${t}`).then(e).catch(n)}async function VU(t,e,n){console.log("isTodoCompleted 실행"),fn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fn.patch(`/goals/todos/${t}/complete`).then(e).catch(n)}async function WU(t,e,n){console.log("getTodoDetail 실행"),fn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fn.get(`/goals/todos/${t}`).then(e).catch(n)}function HU(t,e,n,s){console.log("updateTodo 실행"),fn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fn.put(`/goals/todos/${t}`,e).then(n).catch(s)}function jU(t,e,n){console.log("deleteTodo 실행"),fn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),fn.delete(`/goals/todos/${t}`).then(e).catch(n)}const IA=Nu("todo",{state:()=>({todos:[]}),actions:{async fetchTodos(t){try{const e=await Sl(t);this.todos=e}catch(e){console.error("Error fetching todos:",e)}}}}),zU={data(){return{originalItem:{},goals:[]}},created(){this.originalItem={...this.item}},props:{item:{type:Object,required:!0}},computed:{localSelectedGoal:{get(){return this.item||(this.goals.length>0?this.goals[0].id:null)},set(t){this.item.selectedGoal=t}}},methods:{closeModal(){Object.assign(this.item,this.originalItem),this.editableItem={...this.item},this.$emit("close-modal")},async fnDelete(){try{jU(this.item.id),this.$emit("close-modal")}catch(t){console.error("Error deleting todo:",t)}},async fnSave(){try{HU(this.item.id,this.item),this.$emit("close-modal")}catch(t){console.error("Error updating todo:",t)}},async fetchGoals(){console.log("fetchGoals 실행");try{Al(({data:t})=>{console.log("목표리스트"),console.log(t),this.goals=t},t=>{console.log(t)}),console.log("goals",this.goals)}catch(t){console.error("Error fetching goals:",t)}}},mounted(){console.log(this.item),this.fetchGoals()}},An=t=>(Ne("data-v-9555b188"),t=t(),Le(),t),GU={class:"modal-content"},KU={class:"form-group"},qU=An(()=>f("label",{for:"selectedGoal"},"목표:",-1)),QU=["value"],XU={class:"form-group"},JU=An(()=>f("label",{for:"todoTitle"},"제목:",-1)),ZU={class:"form-group"},eV=An(()=>f("label",{for:"todoContent"},"내용:",-1)),tV={class:"form-group"},nV=An(()=>f("label",{for:"todoContent"},"알림 문구:",-1)),sV={class:"form-group"},iV=An(()=>f("label",null,"중요여부:",-1)),oV={class:"form-check form-switch"},rV=An(()=>f("label",{class:"form-check-label",for:"importantSwitch"},null,-1)),aV={class:"form-group"},lV=An(()=>f("label",null,"외출 여부:",-1)),cV={class:"form-check form-switch"},uV=An(()=>f("label",{class:"form-check-label",for:"outsideSwitch"},null,-1)),dV={class:"form-group"},hV=An(()=>f("label",null,"알람 여부:",-1)),fV={class:"custom-control custom-switch"},pV={class:"form-check form-switch"},gV=An(()=>f("label",{class:"form-check-label",for:"alarmSwitch"},null,-1)),mV={key:0,class:"form-group"},_V=An(()=>f("label",{for:"time"},"알람 시간:",-1)),yV={class:"form-group"},bV=An(()=>f("label",null,"완료 여부:",-1)),vV={class:"custom-control custom-switch"},wV={class:"form-check form-switch"},AV=An(()=>f("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1)),SV={class:"button-group"};function xV(t,e,n,s,i,o){return T(),I("div",GU,[f("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...r)=>o.closeModal&&o.closeModal(...r))}),f("div",KU,[qU,le(f("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>n.item.goalId=r),id:"selectedGoal",class:"form-control"},[(T(!0),I(ke,null,Ze(i.goals,r=>(T(),I("option",{key:r.id,value:r.id},oe(r.content),9,QU))),128))],512),[[yl,n.item.goalId]])]),f("div",XU,[JU,le(f("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>n.item.title=r),type:"text",id:"todoTitle",class:"form-control",required:""},null,512),[[Ce,n.item.title]])]),f("div",ZU,[eV,le(f("textarea",{"onUpdate:modelValue":e[3]||(e[3]=r=>n.item.content=r),id:"todoContent",class:"form-control",rows:"3"},null,512),[[Ce,n.item.content]])]),f("div",tV,[nV,le(f("textarea",{"onUpdate:modelValue":e[4]||(e[4]=r=>n.item.text=r),id:"todoText",class:"form-control",rows:"1"},null,512),[[Ce,n.item.text]])]),f("div",sV,[iV,f("div",oV,[le(f("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>n.item.important=r),class:"form-check-input",type:"checkbox",role:"switch",id:"importantSwitch"},null,512),[[ln,n.item.important]]),rV])]),f("div",aV,[lV,f("div",cV,[le(f("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>n.item.outside=r),class:"form-check-input",type:"checkbox",role:"switch",id:"outsideSwitch"},null,512),[[ln,n.item.outside]]),uV])]),f("div",dV,[hV,f("div",fV,[f("div",pV,[le(f("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>n.item.alarmed=r),class:"form-check-input",type:"checkbox",role:"switch",id:"alarmSwitch"},null,512),[[ln,n.item.alarmed]]),gV])])]),n.item.alarmed?(T(),I("div",mV,[_V,le(f("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>n.item.time=r),type:"time",id:"time",class:"form-control"},null,512),[[Ce,n.item.time]])])):Je("",!0),f("div",yV,[bV,f("div",vV,[f("div",wV,[le(f("input",{"onUpdate:modelValue":e[9]||(e[9]=r=>n.item.checked=r),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,512),[[ln,n.item.checked]]),AV])])]),f("div",SV,[f("button",{class:"btn",onClick:e[10]||(e[10]=(...r)=>o.fnDelete&&o.fnDelete(...r))},"삭제"),f("button",{class:"btn",onClick:e[11]||(e[11]=(...r)=>o.fnSave&&o.fnSave(...r))},"저장")])])}const CV=Ee(zU,[["render",xV],["__scopeId","data-v-9555b188"]]),kV={data(){return{selectedGoal:null,todoId:"",todoTitle:"",todoContent:"",todoDate:"",day:"",time:"",important:!1,outside:!1,alarmed:!1,checked:!1,completed:!1,goals:[]}},methods:{closeModal(){this.$emit("close-modal"),window.location.reload(!0)},registerTodo(){try{const s=new Date;var t=s.getFullYear().toString(),e=(s.getMonth()+1).toString(),n=s.getDate().toString();e<10&&(e="0"+e),n<10&&(n="0"+n);const i=t+""+e+n,o=this.fourDigitTime(this.time);console.log("todoDate:",i);const r=this.selectedGoal.color;console.log("goalColor:",r);const a=this.selectedGoal.id;console.log("goalId:",a);const l={title:this.todoTitle,content:this.todoContent,color:r,important:this.important,outside:this.outside,alarmed:this.alarmed,time:o};try{DA(a,l,i,({data:c})=>{console.log("Todo added:",c),console.log(c)},c=>{console.log(c)}),console.log("goals",this.goals)}catch(c){console.error("Error fetching goals:",c)}this.closeModal()}catch(s){console.error("Error creating todo:",s)}},async fetchGoals(){console.log("fetchGoals 실행");try{Al(({data:t})=>{console.log("목표리스트"),console.log(t),this.goals=t},t=>{console.log(t)}),console.log("goals",this.goals)}catch(t){console.error("Error fetching goals:",t)}},fourDigitTime(t){const[e,n]=t.split(":");return e+n},eightDigitDate(t){const e=new Date,n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}${s}${i}`},fourDigitTime(t){const[e,n]=t.split(":");return e+n}},mounted(){this.fetchGoals()}},bs=t=>(Ne("data-v-4677714d"),t=t(),Le(),t),EV={class:"modal-content",style:{"border-radius":"10px"}},MV={class:"modal-title"},TV={class:"form-group"},DV=bs(()=>f("label",{for:"selectedGoal"},"목표:",-1)),IV=["value"],RV={class:"form-group"},OV=bs(()=>f("label",{for:"todoTitle"},"제목:",-1)),PV={class:"form-group"},NV=bs(()=>f("label",{for:"todoContent"},"내용:",-1)),LV={class:"form-group"},FV=bs(()=>f("label",null,"중요여부:",-1)),$V={class:"form-check form-switch"},BV=bs(()=>f("label",{class:"form-check-label",for:"importantSwitch"},null,-1)),YV={class:"form-group"},UV=bs(()=>f("label",null,"외출 여부:",-1)),VV={class:"form-check form-switch"},WV=bs(()=>f("label",{class:"form-check-label",for:"outsideSwitch"},null,-1)),HV={class:"form-group"},jV=bs(()=>f("label",null,"알람 여부:",-1)),zV={class:"custom-control custom-switch"},GV={class:"form-check form-switch"},KV=bs(()=>f("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1)),qV={key:0,class:"form-group"},QV=bs(()=>f("label",{for:"time"},"알람 시간:",-1));function XV(t,e,n,s,i,o){return T(),I("div",EV,[f("div",MV,[f("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...r)=>o.closeModal&&o.closeModal(...r))})]),f("form",null,[f("div",TV,[DV,le(f("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>i.selectedGoal=r),id:"selectedGoal",class:"form-control"},[(T(!0),I(ke,null,Ze(i.goals,r=>(T(),I("option",{key:r.id,value:r},oe(r.content),9,IV))),128))],512),[[yl,i.selectedGoal]])]),f("div",RV,[OV,le(f("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>i.todoTitle=r),type:"text",id:"todoTitle",class:"form-control",required:""},null,512),[[Ce,i.todoTitle]])]),f("div",PV,[NV,le(f("textarea",{"onUpdate:modelValue":e[3]||(e[3]=r=>i.todoContent=r),id:"todoContent",class:"form-control",rows:"3"},null,512),[[Ce,i.todoContent]])]),f("div",LV,[FV,f("div",$V,[le(f("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>i.important=r),class:"form-check-input",type:"checkbox",role:"switch",id:"importantSwitch"},null,512),[[ln,i.important]]),BV])]),f("div",YV,[UV,f("div",VV,[le(f("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>i.outside=r),class:"form-check-input",type:"checkbox",role:"switch",id:"outsideSwitch"},null,512),[[ln,i.outside]]),WV])]),f("div",HV,[jV,f("div",zV,[f("div",GV,[le(f("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>i.alarmed=r),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,512),[[ln,i.alarmed]]),KV])])]),i.alarmed?(T(),I("div",qV,[QV,le(f("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>i.time=r),type:"time",id:"time",class:"form-control"},null,512),[[Ce,i.time]])])):Je("",!0),f("button",{type:"submit",class:"btn todo-save",onClick:e[8]||(e[8]=hn(r=>o.registerTodo(),["prevent"]))}," 저장 ")])])}const JV=Ee(kV,[["render",XV],["__scopeId","data-v-4677714d"]]),ZV=Nu({id:"goals",state:()=>({goals:[],nextId:1}),actions:{addGoal(t){const e={id:this.nextId++,...t};this.goals.push(e)},logGoals(){this.goals.forEach(t=>{console.log(`id: ${t.id}, content: ${t.content}, color: ${t.color}`)})},resetGoals(){this.goals=[],this.nextId=1}},persist:{enabled:!0,strategies:[{key:"my_goals",storage:localStorage}]}}),eW={data(){return{selectedColor:"",content:"",color:"#46beff",showColorDetailModal:!1,colorOptions:["#fff56e","#ffa500","#ffdbc1","#ffbc9b","#e6c178","#dc9146","#ffcfda","#ff9e9b","#ff7493","#ff96ff","#75ffca","#b4f0b4","#6dd66d","#32bebe","#9ab9ff","#46beff"],selectedColor:""}},methods:{openColorDetailModal(){this.showColorDetailModal=!0,console.log(`Goal Content:',${this.content} `)},closeColorDetailModal(){this.showColorDetailModal=!1,console.log(`Selected Color: ${this.selectedColor}`)},selectColor(t){this.color=t,this.selectedColor=t},submitGoal(){const t=n=>{console.log("Goal added successfully:",n.data),this.clearForm(),this.$router.push("/Main")},e=n=>{console.error("Error adding goal:",n)};$U({content:this.content,color:this.color},t,e)},clearForm(){this.content="",this.color="#000000",this.selectedColor=""}}},RA=t=>(Ne("data-v-fd7e734e"),t=t(),Le(),t),tW={class:"modal-content",style:{"border-radius":"10px"}},nW={class:"form-group"},sW=RA(()=>f("label",{for:"content"},"목표 내용:",-1)),iW={class:"form-group"},oW=RA(()=>f("label",{for:"color"},"목표 색상:",-1)),rW={key:0,class:"selected-color"},aW={key:1,class:"color-modal"},lW={class:"color-modal-content"},cW={class:"color-options"},uW=["onClick"];function dW(t,e,n,s,i,o){return T(),I("div",tW,[f("form",null,[f("div",nW,[sW,le(f("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>i.content=r),type:"text",id:"content",class:"form-control",required:""},null,512),[[Ce,i.content]])]),f("div",iW,[oW,f("button",{onClick:e[1]||(e[1]=hn((...r)=>o.openColorDetailModal&&o.openColorDetailModal(...r),["prevent"])),class:"btn"},"색상 선택")]),i.selectedColor?(T(),I("div",rW,[f("p",null,"선택한 색상: "+oe(i.selectedColor),1),(T(),I("div",{key:i.color,class:"color-option",style:Di({backgroundColor:i.color})},null,4))])):Je("",!0),f("button",{onClick:e[2]||(e[2]=hn((...r)=>o.submitGoal&&o.submitGoal(...r),["prevent"])),class:"btn goal-save"},"저장"),i.showColorDetailModal?(T(),I("div",aW,[f("div",lW,[f("div",cW,[(T(!0),I(ke,null,Ze(i.colorOptions,r=>(T(),I("div",{key:r,onClick:a=>o.selectColor(r),class:"color-option",style:Di({backgroundColor:r})},null,12,uW))),128))]),f("button",{onClick:e[3]||(e[3]=(...r)=>o.closeColorDetailModal&&o.closeColorDetailModal(...r)),class:"btn color-select"},"닫기")])])):Je("",!0)])])}const OA=Ee(eW,[["render",dW],["__scopeId","data-v-fd7e734e"]]),hW={data(){return{originalItem:{},item:{selectedColor:null},goals:[]}},created(){this.originalItem={...this.item}},props:{item:{type:Object,required:!0}},computed:{get(){var t;return this.item.selectedColor||((t=this.goals[0])==null?void 0:t.id)},set(t){this.item.selectedColor=t}},methods:{closeModal(){Object.assign(this.item,this.originalItem),this.editableItem={...this.item},this.$emit("close-modal")},async fnDelete(){try{await UU(this.item.id),this.$emit("close-modal")}catch(t){console.error("Error deleting goal:",t)}},async fnSave(){try{await YU(this.item.id,this.item),this.$emit("close-modal")}catch(t){console.error("Error updating goal:",t)}}},mounted(){Al(({data:t})=>{var e;console.log("목표 리스트 목록"),console.log(t),this.goals=t,this.item.selectedColor=(e=this.goals[0])==null?void 0:e.id},t=>{console.log(t)})}},PA=t=>(Ne("data-v-67bd225f"),t=t(),Le(),t),fW={class:"modal-content"},pW={class:"form-group"},gW=PA(()=>f("label",{for:"content"},"목표 내용:",-1)),mW={class:"form-group"},_W=PA(()=>f("label",{for:"selectedColor"},"목표 색상:",-1)),yW=["value"],bW={class:"button-group"};function vW(t,e,n,s,i,o){return T(),I("div",fW,[f("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...r)=>o.closeModal&&o.closeModal(...r))}),f("div",pW,[gW,le(f("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>n.item.content=r),type:"text",id:"content",class:"form-control",required:""},null,512),[[Ce,n.item.content]])]),f("div",mW,[_W,le(f("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.localSelectedColor=r),id:"selectedColor",class:"form-control"},[(T(!0),I(ke,null,Ze(i.goals,r=>(T(),I("option",{key:r.id,value:r.id},oe(r.color),9,yW))),128))],512),[[yl,t.localSelectedColor]])]),f("div",bW,[f("button",{class:"btn",onClick:e[3]||(e[3]=(...r)=>o.fnDelete&&o.fnDelete(...r))},"삭제"),f("button",{class:"btn",onClick:e[4]||(e[4]=(...r)=>o.fnSave&&o.fnSave(...r))},"저장")])])}const wW=Ee(hW,[["render",vW],["__scopeId","data-v-67bd225f"]]);Vi();const Pn=Vi(),xl="/goals/habits";async function AW(t,e,n){console.log("addHabit 실행"),Pn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),Pn.post("/goals/habits",t).then(e).catch(n)}async function NA(t,e){console.log("getHabitList 실행"),Pn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),Pn.get(`${xl}`).then(t).catch(e)}async function SW(t,e,n,s){console.log("isHabitCompleted 실행"),Pn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),Pn.patch(`${xl}/${t}/${e}/complete`).then(n).catch(s)}async function LA(t,e,n){console.log("getHabitDetail 실행"),Pn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),Pn.get(`${xl}/${t}`).then(e).catch(n)}async function xW(t,e,n,s,i,o,r,a){console.log("updateHabit 실행"),Pn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),Pn.put(`${xl}/${t}`,JSON.stringify(e,n,s,i,o)).then(r).catch(a)}async function CW(t,e,n){console.log("deletHabit 실행"),Pn.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),Pn.delete(`${xl}/${t}`).then(e).catch(n)}const kW={props:{item:{type:Object,required:!0}},methods:{closeModal(){item.checked===!0&&SW(alarm.id,item.id),this.$emit("close-modal")},async fnDelete(){try{await CW(this.item.id),this.$emit("close-modal")}catch(t){console.error("Error deleting habit:",t)}},async fnSave(){try{await xW(this.item.id,this.item),this.$emit("close-modal")}catch(t){console.error("Error updating habit:",t)}},async finish(){}}},Pr=t=>(Ne("data-v-de9b537a"),t=t(),Le(),t),EW={class:"modal-content"},MW={class:"form-group"},TW=Pr(()=>f("label",{for:"habitContent"},"내용:",-1)),DW={class:"form-group"},IW=Pr(()=>f("label",null,"알람 여부:",-1)),RW={class:"custom-control custom-switch"},OW={class:"form-check form-switch"},PW=Pr(()=>f("label",{class:"form-check-label",for:"alarmSwitch"},null,-1)),NW={key:0,class:"form-group"},LW=Pr(()=>f("label",{for:"time"},"알람 시간:",-1)),FW={class:"form-group"},$W=Pr(()=>f("label",null,"완료 여부:",-1)),BW={class:"custom-control custom-switch"},YW={class:"form-check form-switch"},UW=Pr(()=>f("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1));function VW(t,e,n,s,i,o){return T(),I("div",EW,[f("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...r)=>o.closeModal&&o.closeModal(...r))}),f("div",MW,[TW,le(f("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>n.item.habitContent=r),type:"text",id:"todoTitle",class:"form-control",required:""},null,512),[[Ce,n.item.habitContent]])]),f("div",DW,[IW,f("div",RW,[f("div",OW,[le(f("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>n.item.alarmed=r),class:"form-check-input",type:"checkbox",role:"switch",id:"alarmSwitch"},null,512),[[ln,n.item.alarmed]]),PW])])]),n.item.isAlarmed?(T(),I("div",NW,[LW,le(f("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>n.item.time=r),type:"time",id:"time",class:"form-control"},null,512),[[Ce,n.item.time]])])):Je("",!0),f("button",{class:"",onClick:e[4]||(e[4]=(...r)=>o.fnDelete&&o.fnDelete(...r))},"삭제"),f("button",{class:"",onClick:e[5]||(e[5]=(...r)=>o.fnSave&&o.fnSave(...r))},"저장"),f("div",FW,[$W,f("div",BW,[f("div",YW,[le(f("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>t.isChecked=r),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,512),[[ln,t.isChecked]]),UW])])])])}const FA=Ee(kW,[["render",VW],["__scopeId","data-v-de9b537a"]]),WW={data(){return{content:"",important:!1,outside:!1,alarmed:!1,alarmDtoList:[],habitData:{content:"",important:!1,outside:!1,alarmed:!1,alarmDtoList:[],checked:!1,completed:!1}}},methods:{closeModal(){this.$emit("close-modal")},fourDigitTime(t){const[e,n]=t.split(":");return e+n},addAlarmInput(){this.alarmDtoList.push({day:"",time:""})},fnAdd(){this.alarmDtoList.forEach(t=>{t.time=this.fourDigitTime(t.time)}),AW(this.habitData,t=>{console.log("Habit added successfully:",t),console.log("content:",this.content),console.log("HabitData:",this.HabitData)},t=>{console.error("Error adding habit:",t)}),this.closeModal()}}},Xu=t=>(Ne("data-v-05a9ec14"),t=t(),Le(),t),HW={class:"modal-content",style:{"border-radius":"10px"}},jW={class:"modal-title"},zW={class:"form-group"},GW=Xu(()=>f("label",{for:"content"},"내용:",-1)),KW={class:"form-group"},qW=Xu(()=>f("label",null,"알람 여부:",-1)),QW={class:"custom-control custom-switch"},XW={class:"form-check form-switch"},JW=Xu(()=>f("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1)),ZW={key:0,class:"form-group"},eH=Xu(()=>f("label",null,"알람 시간 및 요일:",-1)),tH=uE('<option value="0" data-v-05a9ec14>월요일</option><option value="1" data-v-05a9ec14>화요일</option><option value="2" data-v-05a9ec14>수요일</option><option value="3" data-v-05a9ec14>목요일</option><option value="4" data-v-05a9ec14>금요일</option><option value="5" data-v-05a9ec14>토요일</option><option value="6" data-v-05a9ec14>일요일</option>',7),nH=[tH];function sH(t,e,n,s,i,o){return T(),I("div",HW,[f("div",jW,[f("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...r)=>o.closeModal&&o.closeModal(...r))})]),f("form",null,[f("div",zW,[GW,le(f("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>i.habitData.content=r),id:"content",class:"form-control",rows:"3"},null,512),[[Ce,i.habitData.content]])]),f("div",KW,[qW,f("div",QW,[f("div",XW,[le(f("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>i.habitData.alarmed=r),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,512),[[ln,i.habitData.alarmed]]),JW])])]),i.habitData.alarmed?(T(),I("div",ZW,[eH,(T(!0),I(ke,null,Ze(i.alarmDtoList,(r,a)=>(T(),I("div",{key:a},[le(f("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>i.habitData.alarmed.time=l),type:"time",class:"form-control"},null,512),[[Ce,i.habitData.alarmed.time]]),le(f("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>i.habitData.alarmed.day=l),class:"form-control"},nH,512),[[yl,i.habitData.alarmed.day]])]))),128)),f("button",{onClick:e[5]||(e[5]=(...r)=>o.addAlarmInput&&o.addAlarmInput(...r)),type:"button",class:"btn btn-secondary"},"알람 추가")])):Je("",!0),f("button",{type:"submit",class:"btn btn-primary",onClick:e[6]||(e[6]=(...r)=>o.fnAdd&&o.fnAdd(...r))},"저장")])])}const $A=Ee(WW,[["render",sH],["__scopeId","data-v-05a9ec14"]]),iH={name:"App",data(){return{habits:[],is_modal_valid:!1,activeModal:null,today:"",currentItem:null}},components:{AddHabit:$A,HabitDetail:FA},methods:{async openModal(t,e=null){if(t==="HabitDetail"&&e)try{const n=await LA(e.id);this.currentItem=n}catch(n){console.error("Error fetching habit detail:",n);return}this.is_modal_valid=!0,this.activeModal=t,this.currentItem=e},fetchHabits(){NA(({data:t})=>{console.log("습관 리스트 목록"),console.log(t),this.habits=t},t=>{console.log(t)})},closeModal(){this.is_modal_valid=!1,this.activeModal=null}},mounted(){this.fetchHabits()}},oH=t=>(Ne("data-v-ac81415c"),t=t(),Le(),t),rH=oH(()=>f("div",{class:"habit"},"습관",-1)),aH={key:0,class:"black-bg"},lH={class:"todo-section"},cH={class:"todo-date"},uH={class:"todo-items"},dH=["onClick"];function hH(t,e,n,s,i,o){return T(),I("div",null,[rH,i.is_modal_valid?(T(),I("div",aH,[(T(),Ws(xr(i.activeModal),{item:i.currentItem,onCloseModal:o.closeModal},null,40,["item","onCloseModal"]))])):Je("",!0),f("div",lH,[f("div",cH,[f("span",null,oe(i.today),1),f("button",{class:"add-button",onClick:e[0]||(e[0]=r=>o.openModal("AddHabit"))},"+")]),f("div",uH,[(T(!0),I(ke,null,Ze(i.habits,r=>(T(),I("div",{class:"todo-item",key:r.id},[lt(oe(r.content)+" ",1),f("span",{onClick:a=>o.openModal("HabitDetail",r),class:"goal-content"},oe(r.habitContent),9,dH)]))),128))])])])}const BA=Ee(iH,[["render",hH],["__scopeId","data-v-ac81415c"]]),fH={name:"App",data(){return{goals:[],todos:Ui([]),is_modal_valid:!1,activeModal:null,today:"",currentItem:null,detailedTodo:null,showTodoList:!0,showGoalList:!0}},setup(){const t=Wi(),e=IA();return{authStore:t,addTodoToStore:s=>{e.addTodo(s)}}},components:{GoalDetail:wW,TodoDetail:CV,AddTodo:JV,AddGoal:OA,Habit:BA},methods:{async openModal(t,e=null){if(t==="GoalDetail"&&e)try{const n=await BU(e.id);this.currentItem=n}catch(n){console.error("Error fetching goal detail:",n);return}else if(t==="TodoDetail"&&e)try{WU(e.id,({data:n})=>{console.log("목표 리스트 목록"),console.log(n),this.detailedTodo=n},n=>{console.log(n)}),this.currentItem=this.detailedTodo}catch(n){console.error("Error fetching todo detail:",n);return}this.is_modal_valid=!0,this.activeModal=t,this.currentItem=e},async openAddGoalPage(){this.$router.push("/goal")},fetchGoals(){Al(({data:t})=>{console.log("목표 리스트 목록"),console.log(t),this.goals=t},t=>{console.log(t)})},fetchTodos(){try{const s=new Date;var t=s.getFullYear().toString(),e=(s.getMonth()+1).toString(),n=s.getDate().toString();console.log(t),console.log(e),console.log(n),e<10&&(e="0"+e),n<10&&(n="0"+n),console.log();const i=t+""+e+n;Sl(i,({data:o})=>{console.log("투두리스트 목록"),console.log(o),this.todos=o},o=>{console.log(o)})}catch(s){console.error("Error fetching todos:",s)}},updateToday(){const t=new Date,e={month:"2-digit",day:"2-digit",weekday:"long"};this.today=t.toLocaleDateString("ko-KR",e)},getGoalColor(t){const e=this.goals.find(n=>n.id===t.goalId);return e?e.color:"defaultColor"},closeModal(){this.is_modal_valid=!1,this.activeModal=null},handleTodoCheckboxChange(t){console.log(`Todo ID ${t.id}의 체크박스 상태 변경: ${t.checked}`),VU(t.id,({data:e})=>{console.log("투두리스트 체크표시 업데이트"),console.log(e);const n=this.todos.findIndex(s=>s.id===t.id);if(n!==-1){const s=N0(this.todos);s[n].value=e}},e=>{console.log(e)})},toggleTodoList(){this.showTodoList=!this.showTodoList},toggleGoalList(){this.showGoalList=!this.showGoalList}},mounted(){this.updateToday(),this.fetchGoals(),this.fetchTodos()}},pH=t=>(Ne("data-v-cea4cae4"),t=t(),Le(),t),gH={key:0},mH={key:0,class:"black-bg"},_H={class:"todo-section"},yH={class:"todo-date"},bH={style:{"font-weight":"bold"}},vH={key:0,class:"todo-items"},wH=["onClick"],AH={key:0},SH=["onUpdate:modelValue","onChange"],xH={class:"todo-section"},CH={class:"todo-date"},kH=pH(()=>f("div",{style:{"margin-bottom":"5px","margin-top":"5px","font-weight":"bold"}}," 목표 ",-1)),EH={key:0,class:"todo-items"},MH=["onClick"];function TH(t,e,n,s,i,o){return s.authStore.isLogin?(T(),I("div",gH,[i.is_modal_valid?(T(),I("div",mH,[(T(),Ws(xr(i.activeModal),{item:i.currentItem,onCloseModal:o.closeModal},null,40,["item","onCloseModal"]))])):Je("",!0),f("div",_H,[f("div",yH,[f("span",bH,oe(i.today),1),f("button",{class:"list-button",onClick:e[0]||(e[0]=(...r)=>o.toggleTodoList&&o.toggleTodoList(...r))},oe(i.showTodoList?"∧":"∨"),1),f("button",{class:"add-button",onClick:e[1]||(e[1]=r=>o.openModal("AddTodo"))},"+")]),i.showTodoList?(T(),I("div",vH,[(T(!0),I(ke,null,Ze(i.todos,r=>(T(),I("div",{class:"todo-item",key:r.id},[f("div",{class:"color-bar",style:Di({backgroundColor:o.getGoalColor(r)})},null,4),f("span",{class:Ii([{completed:r.checked},"goal-content"]),onClick:a=>o.openModal("TodoDetail",r)},oe(r.title),11,wH),r.id?(T(),I("div",AH,[le(f("input",{type:"checkbox","onUpdate:modelValue":a=>r.checked=a,onChange:a=>o.handleTodoCheckboxChange(r)},null,40,SH),[[ln,r.checked]])])):Je("",!0)]))),128))])):Je("",!0)]),f("div",xH,[f("div",CH,[kH,f("button",{class:"list-button",onClick:e[2]||(e[2]=(...r)=>o.toggleGoalList&&o.toggleGoalList(...r))},oe(i.showGoalList?"∧":"∨"),1),f("button",{class:"add-button",onClick:e[3]||(e[3]=(...r)=>o.openAddGoalPage&&o.openAddGoalPage(...r))},"+")]),i.showGoalList?(T(),I("div",EH,[(T(!0),I(ke,null,Ze(i.goals,r=>(T(),I("div",{class:"todo-item",key:r.id},[f("div",{class:"color-circle",style:Di({backgroundColor:r.color})},null,4),f("span",{onClick:a=>o.openModal("GoalDetail",r),class:"goal-content"},oe(r.content),9,MH)]))),128))])):Je("",!0)])])):Je("",!0)}const YA=Ee(fH,[["render",TH],["__scopeId","data-v-cea4cae4"]]),DH={setup(){const t=ie(null),e=ie(null);return(async()=>{try{local.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken");const s=new URLSearchParams({promptNum:prompt,time}).toString(),i=await local.post(`${url}/${recordId}/save/member?${s}`);console.log("Audio save record response:",i.data),success&&success(i),console.log("recordId",recordId),console.log("prompt",prompt),console.log("time",time),console.log("success",success),console.log("fail",fail)}catch(s){console.error("Error saving audio record:",s),fail&&fail(s)}})(),{weatherData:t,quotes:e}}},IH={key:0,class:"weather-container"};function RH(t,e,n,s,i,o){return T(),I("div",null,[s.weatherData?(T(),I("div",IH,[f("p",null,"온도: "+oe(s.weatherData.temperature),1),f("p",null,"날씨: "+oe(s.weatherData.description),1)])):Je("",!0),f("button",{onClick:e[0]||(e[0]=(...r)=>t.fetchData&&t.fetchData(...r))},"데이터 가져오기")])}const OH=Ee(DH,[["render",RH],["__scopeId","data-v-de985f58"]]),PH={name:"App",data(){return{habits:[],is_modal_valid:!1,activeModal:null,today:"",currentItem:null,showHabitList:!0}},components:{AddHabit:$A,HabitDetail:FA},methods:{async openModal(t,e=null){if(t==="HabitDetail"&&e)try{const n=await LA(e.id);this.currentItem=n}catch(n){console.error("Error fetching habit detail:",n);return}this.is_modal_valid=!0,this.activeModal=t,this.currentItem=e},fetchHabits(){NA(({data:t})=>{console.log("습관 리스트 목록"),console.log(t),this.habits=t},t=>{console.log(t)})},closeModal(){this.is_modal_valid=!1,this.activeModal=null},toggleHabitList(){this.showHabitList=!this.showHabitList}},mounted(){this.fetchHabits()}},NH=t=>(Ne("data-v-f288f49b"),t=t(),Le(),t),LH={key:0,class:"black-bg"},FH={class:"todo-section"},$H={class:"todo-date"},BH=NH(()=>f("div",{class:"habit"},"습관",-1)),YH={key:0,class:"todo-items"},UH=["onClick"];function VH(t,e,n,s,i,o){return T(),I("div",null,[i.is_modal_valid?(T(),I("div",LH,[(T(),Ws(xr(i.activeModal),{item:i.currentItem,onCloseModal:o.closeModal},null,40,["item","onCloseModal"]))])):Je("",!0),f("div",FH,[f("div",$H,[BH,f("span",null,oe(i.today),1),f("button",{class:"list-button",onClick:e[0]||(e[0]=(...r)=>o.toggleHabitList&&o.toggleHabitList(...r))},oe(i.showHabitList?"∧":"∨"),1),f("button",{class:"add-button",onClick:e[1]||(e[1]=r=>o.openModal("AddHabit"))},"+")]),i.showHabitList?(T(),I("div",YH,[(T(!0),I(ke,null,Ze(i.habits,r=>(T(),I("div",{class:"todo-item",key:r.id},[lt(oe(r.content)+" ",1),f("span",{onClick:a=>o.openModal("HabitDetail",r),class:"goal-content"},oe(r.habitContent),9,UH)]))),128))])):Je("",!0)])])}const UA=Ee(PH,[["render",VH],["__scopeId","data-v-f288f49b"]]),WH="/assets/penguin-B8xN3fmX.jpg",HH={components:{TodoList:YA,HabitList:UA,Example:OH},data(){return{habitList:null,randomQuote:"",quoteAuthor:"",quoteError:!1}},setup(){return{authStore:Wi()}},methods:{async fetchQuote(){try{const t=await fetch("/members/quote");if(!t.ok)throw new Error("Failed to fetch quote");const e=await t.json();if(!Array.isArray(e)||e.length!==2)throw new Error("Invalid quote data format");console.log();const n=year+""+month+day;Sl(n,({data:s})=>{console.log("투두리스트 목록"),console.log(s),this.todos=s},s=>{console.log(s)}),this.randomQuote=e[0],this.quoteAuthor=e[1]}catch(t){console.error("Error fetching quote:",t),this.quoteError=!0}},handleLoginClick(){console.log(this.authStore.isLogin)}},mounted(){this.fetchQuote()}},jH=t=>(Ne("data-v-7c6ebb32"),t=t(),Le(),t),zH={key:0,class:"mt-5"},GH=jH(()=>f("div",{class:"penguin"},[f("img",{src:WH})],-1)),KH={key:1};function qH(t,e,n,s,i,o){const r=rs("TodoList"),a=rs("HabitList"),l=rs("RouterView");return T(),I(ke,null,[s.authStore.isLogin?(T(),I("div",zH,[f("div",null,[be(r,{todoList:t.todoList},null,8,["todoList"]),be(a,{habitList:i.habitList},null,8,["habitList"]),GH])])):(T(),I("div",KH)),be(l)],64)}const Dy=Ee(HH,[["render",qH],["__scopeId","data-v-7c6ebb32"]]),QH="/assets/profile-default-BmjxkPws.jpg",XH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFOSURBVHgBrVQBccMwENMVQRjEDBYGK4OWwcokY7AxSBgEQsZgEDIGLYMt3l6J7Nhu7zLd/bn+yrLyfhu4DzfHOMe3RWe53ZhElDFiJxoT8uIV/pxeLdeUFh6iORcT/P01x83GD8vVEa9CBj3WT/UOO3H3IrxWeAPCUr3Foq/2x1XEsmTLKUfXtErkrk82P5nLZ+ThIs5RNlnA3VxGYBRXQ4FHnQXs0wnbw4tLQ1cxj1/dIfPHp+QHIbNjemx7eZKcQwJ0V9s8VaIKYS0dErU9oIxbNFJYxyIcwjoTzPF98GI91kMkJqTP6HfhnsNrENZ5wb12G0Qwd0AVEu1GV0eb+/GC8vNIzllcx6UM7v8jV/od29JwXRuT9f77XQek7/9FxDqEj1CHDHydapmfse0AdspJcjUebD+iQdgFlThssBN0qDHhH+Cw9nnxPVD8ANWOquCNn1YbAAAAAElFTkSuQmCC",VA=t=>(Ne("data-v-8bdd1faf"),t=t(),Le(),t),JH={class:"user-container"},ZH=VA(()=>f("div",{class:"user-photo"},[f("img",{src:QH,alt:"프로필 이미지",class:"profile-image mr-2"})],-1)),ej={class:"user-profile"},tj=VA(()=>f("img",{src:XH,alt:""},null,-1)),nj=[tj],sj={__name:"UserInfo",props:{userData:Object},setup(t){const e=ie(null),n=Rr(),s=Wi();Nn(async()=>{const r=localStorage.getItem("accessToken");e.value=await s.getUserInfo(r),console.log("userData:",e)});const i=()=>{n.push("/userInfoEdit")},o=()=>{n.push("/MypageSettings")};return(r,a)=>(T(),I("div",JH,[e.value?(T(),I("div",{key:0,class:"user-data",onClick:i},[ZH,f("div",ej,[f("h3",null,[f("strong",null,oe(e.value.name),1)]),f("p",null,[f("strong",null,oe(e.value.memo),1)])])])):Je("",!0),f("button",{class:"settings-button btn",onClick:o},nj)]))}},ij=Ee(sj,[["__scopeId","data-v-8bdd1faf"]]),Jp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABJSURBVHgB7ZSxCQAgEAMPJ8n+SzmKWliIdmIU4Q/SXuB5AsFPqCX32OQFQ4EmuTiIQn5dziDfyfJhiQcI84mi5I8SC8I414GPCrEONwuaq/9XAAAAAElFTkSuQmCC",Zp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABHSURBVHgB7ZTBCQAgDAODk2T/pTqKIujHp5iikoM8e3mUFjCvESOEiC6vyhK65I+SObCTWGUFl0MI90DL0+VAwmHJ37U5TwNOQTcLcGyR7QAAAABJRU5ErkJggg==";/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Cl(t){return t+.5|0}const di=(t,e,n)=>Math.max(Math.min(t,n),e);function da(t){return di(Cl(t*2.55),0,255)}function wi(t){return di(Cl(t*255),0,255)}function Ms(t){return di(Cl(t/2.55)/100,0,1)}function Iy(t){return di(Cl(t*100),0,100)}const Cn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ff=[..."0123456789ABCDEF"],oj=t=>ff[t&15],rj=t=>ff[(t&240)>>4]+ff[t&15],Ql=t=>(t&240)>>4===(t&15),aj=t=>Ql(t.r)&&Ql(t.g)&&Ql(t.b)&&Ql(t.a);function lj(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Cn[t[1]]*17,g:255&Cn[t[2]]*17,b:255&Cn[t[3]]*17,a:e===5?Cn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Cn[t[1]]<<4|Cn[t[2]],g:Cn[t[3]]<<4|Cn[t[4]],b:Cn[t[5]]<<4|Cn[t[6]],a:e===9?Cn[t[7]]<<4|Cn[t[8]]:255})),n}const cj=(t,e)=>t<255?e(t):"";function uj(t){var e=aj(t)?oj:rj;return t?"#"+e(t.r)+e(t.g)+e(t.b)+cj(t.a,e):void 0}const dj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function WA(t,e,n){const s=e*Math.min(n,1-n),i=(o,r=(o+t/30)%12)=>n-s*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function hj(t,e,n){const s=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function fj(t,e,n){const s=WA(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function pj(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function eg(t){const n=t.r/255,s=t.g/255,i=t.b/255,o=Math.max(n,s,i),r=Math.min(n,s,i),a=(o+r)/2;let l,c,u;return o!==r&&(u=o-r,c=a>.5?u/(2-o-r):u/(o+r),l=pj(n,s,i,u,o),l=l*60+.5),[l|0,c||0,a]}function tg(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(wi)}function ng(t,e,n){return tg(WA,t,e,n)}function gj(t,e,n){return tg(fj,t,e,n)}function mj(t,e,n){return tg(hj,t,e,n)}function HA(t){return(t%360+360)%360}function _j(t){const e=dj.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?da(+e[5]):wi(+e[5]));const i=HA(+e[2]),o=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?s=gj(i,o,r):e[1]==="hsv"?s=mj(i,o,r):s=ng(i,o,r),{r:s[0],g:s[1],b:s[2],a:n}}function yj(t,e){var n=eg(t);n[0]=HA(n[0]+e),n=ng(n),t.r=n[0],t.g=n[1],t.b=n[2]}function bj(t){if(!t)return;const e=eg(t),n=e[0],s=Iy(e[1]),i=Iy(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Ms(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Ry={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Oy={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vj(){const t={},e=Object.keys(Oy),n=Object.keys(Ry);let s,i,o,r,a;for(s=0;s<e.length;s++){for(r=a=e[s],i=0;i<n.length;i++)o=n[i],a=a.replace(o,Ry[o]);o=parseInt(Oy[r],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}let Xl;function wj(t){Xl||(Xl=vj(),Xl.transparent=[0,0,0,0]);const e=Xl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Aj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Sj(t){const e=Aj.exec(t);let n=255,s,i,o;if(e){if(e[7]!==s){const r=+e[7];n=e[8]?da(r):di(r*255,0,255)}return s=+e[1],i=+e[3],o=+e[5],s=255&(e[2]?da(s):di(s,0,255)),i=255&(e[4]?da(i):di(i,0,255)),o=255&(e[6]?da(o):di(o,0,255)),{r:s,g:i,b:o,a:n}}}function xj(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ms(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ch=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Yo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Cj(t,e,n){const s=Yo(Ms(t.r)),i=Yo(Ms(t.g)),o=Yo(Ms(t.b));return{r:wi(ch(s+n*(Yo(Ms(e.r))-s))),g:wi(ch(i+n*(Yo(Ms(e.g))-i))),b:wi(ch(o+n*(Yo(Ms(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Jl(t,e,n){if(t){let s=eg(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=ng(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function jA(t,e){return t&&Object.assign(e||{},t)}function Py(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=wi(t[3]))):(e=jA(t,{r:0,g:0,b:0,a:1}),e.a=wi(e.a)),e}function kj(t){return t.charAt(0)==="r"?Sj(t):_j(t)}class ja{constructor(e){if(e instanceof ja)return e;const n=typeof e;let s;n==="object"?s=Py(e):n==="string"&&(s=lj(e)||wj(e)||kj(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=jA(this._rgb);return e&&(e.a=Ms(e.a)),e}set rgb(e){this._rgb=Py(e)}rgbString(){return this._valid?xj(this._rgb):void 0}hexString(){return this._valid?uj(this._rgb):void 0}hslString(){return this._valid?bj(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let o;const r=n===o?.5:n,a=2*r-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,s.r=255&c*s.r+o*i.r+.5,s.g=255&c*s.g+o*i.g+.5,s.b=255&c*s.b+o*i.b+.5,s.a=r*s.a+(1-r)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=Cj(this._rgb,e._rgb,n)),this}clone(){return new ja(this.rgb)}alpha(e){return this._rgb.a=wi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Cl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Jl(this._rgb,2,e),this}darken(e){return Jl(this._rgb,2,-e),this}saturate(e){return Jl(this._rgb,1,e),this}desaturate(e){return Jl(this._rgb,1,-e),this}rotate(e){return yj(this._rgb,e),this}}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Ss(){}const Ej=(()=>{let t=0;return()=>t++})();function We(t){return t===null||typeof t>"u"}function ht(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Oe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function wt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function mn(t,e){return wt(t)?t:e}function Se(t,e){return typeof t>"u"?e:t}const Mj=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,zA=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function rt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Xe(t,e,n,s){let i,o,r;if(ht(t))if(o=t.length,s)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(Oe(t))for(r=Object.keys(t),o=r.length,i=0;i<o;i++)e.call(n,t[r[i]],r[i])}function jc(t,e){let n,s,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function zc(t){if(ht(t))return t.map(zc);if(Oe(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=zc(t[n[i]]);return e}return t}function GA(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Tj(t,e,n,s){if(!GA(t))return;const i=e[t],o=n[t];Oe(i)&&Oe(o)?za(i,o,s):e[t]=zc(o)}function za(t,e,n){const s=ht(e)?e:[e],i=s.length;if(!Oe(t))return t;n=n||{};const o=n.merger||Tj;let r;for(let a=0;a<i;++a){if(r=s[a],!Oe(r))continue;const l=Object.keys(r);for(let c=0,u=l.length;c<u;++c)o(l[c],t,r,n)}return t}function Ca(t,e){return za(t,e,{merger:Dj})}function Dj(t,e,n){if(!GA(t))return;const s=e[t],i=n[t];Oe(s)&&Oe(i)?Ca(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=zc(i))}const Ny={"":t=>t,x:t=>t.x,y:t=>t.y};function Ij(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Rj(t){const e=Ij(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Ri(t,e){return(Ny[e]||(Ny[e]=Rj(e)))(t)}function sg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ga=t=>typeof t<"u",Oi=t=>typeof t=="function",Ly=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Oj(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const pt=Math.PI,ft=2*pt,Pj=ft+pt,Gc=Number.POSITIVE_INFINITY,Nj=pt/180,xt=pt/2,qi=pt/4,Fy=pt*2/3,hi=Math.log10,cs=Math.sign;function ka(t,e,n){return Math.abs(t-e)<n}function $y(t){const e=Math.round(t);t=ka(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(hi(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Lj(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function fr(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Fj(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function KA(t,e,n){let s,i,o;for(s=0,i=t.length;s<i;s++)o=t[s][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Vn(t){return t*(pt/180)}function ig(t){return t*(180/pt)}function By(t){if(!wt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function qA(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*pt&&(o+=ft),{angle:o,distance:i}}function pf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $j(t,e){return(t-e+Pj)%ft-pt}function yn(t){return(t%ft+ft)%ft}function Ka(t,e,n,s){const i=yn(t),o=yn(e),r=yn(n),a=yn(o-i),l=yn(r-i),c=yn(i-o),u=yn(i-r);return i===o||i===r||s&&o===r||a>l&&c<u}function Yt(t,e,n){return Math.max(e,Math.min(n,t))}function Bj(t){return Yt(t,-32768,32767)}function Ts(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function og(t,e,n){n=n||(r=>t[r]<e);let s=t.length-1,i=0,o;for(;s-i>1;)o=i+s>>1,n(o)?i=o:s=o;return{lo:i,hi:s}}const Ds=(t,e,n,s)=>og(t,n,s?i=>{const o=t[i][e];return o<n||o===n&&t[i+1][e]===n}:i=>t[i][e]<n),Yj=(t,e,n)=>og(t,n,s=>t[s][e]>=n);function Uj(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const QA=["push","pop","shift","splice","unshift"];function Vj(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),QA.forEach(n=>{const s="_onData"+sg(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...o)}),r}})})}function Yy(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(QA.forEach(o=>{delete t[o]}),delete t._chartjs)}function XA(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const JA=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ZA(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,JA.call(window,()=>{s=!1,t.apply(e,n)}))}}function Wj(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const rg=t=>t==="start"?"left":t==="end"?"right":"center",Gt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Hj=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function eS(t,e,n){const s=e.length;let i=0,o=s;if(t._sorted){const{iScale:r,_parsed:a}=t,l=r.axis,{min:c,max:u,minDefined:d,maxDefined:h}=r.getUserBounds();d&&(i=Yt(Math.min(Ds(a,l,c).lo,n?s:Ds(e,l,r.getPixelForValue(c)).lo),0,s-1)),h?o=Yt(Math.max(Ds(a,r.axis,u,!0).hi+1,n?0:Ds(e,l,r.getPixelForValue(u),!0).hi+1),i,s)-i:o=s-i}return{start:i,count:o}}function tS(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),o}const Zl=t=>t===0||t===1,Uy=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ft/n)),Vy=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ft/n)+1,Ea={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*xt)+1,easeOutSine:t=>Math.sin(t*xt),easeInOutSine:t=>-.5*(Math.cos(pt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Zl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Zl(t)?t:Uy(t,.075,.3),easeOutElastic:t=>Zl(t)?t:Vy(t,.075,.3),easeInOutElastic(t){return Zl(t)?t:t<.5?.5*Uy(t*2,.1125,.45):.5+.5*Vy(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ea.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ea.easeInBounce(t*2)*.5:Ea.easeOutBounce(t*2-1)*.5+.5};function ag(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Wy(t){return ag(t)?t:new ja(t)}function uh(t){return ag(t)?t:new ja(t).saturate(.5).darken(.1).hexString()}const jj=["x","y","borderWidth","radius","tension"],zj=["color","borderColor","backgroundColor"];function Gj(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:zj},numbers:{type:"number",properties:jj}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Kj(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Hy=new Map;function qj(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Hy.get(n);return s||(s=new Intl.NumberFormat(t,e),Hy.set(n,s)),s}function kl(t,e,n){return qj(e,n).format(t)}const nS={values(t){return ht(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,o=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=Qj(t,n)}const r=hi(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),kl(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(hi(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?nS.numeric.call(this,t,e,n):""}};function Qj(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ju={formatters:nS};function Xj(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ju.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vo=Object.create(null),gf=Object.create(null);function Ma(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const o=n[s];t=t[o]||(t[o]=Object.create(null))}return t}function dh(t,e,n){return typeof e=="string"?za(Ma(t,e),n):za(Ma(t,""),e)}class Jj{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>uh(i.backgroundColor),this.hoverBorderColor=(s,i)=>uh(i.borderColor),this.hoverColor=(s,i)=>uh(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return dh(this,e,n)}get(e){return Ma(this,e)}describe(e,n){return dh(gf,e,n)}override(e,n){return dh(vo,e,n)}route(e,n,s,i){const o=Ma(this,e),r=Ma(this,s),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=r[i];return Oe(l)?Object.assign({},c,l):Se(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var At=new Jj({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Gj,Kj,Xj]);function Zj(t){return!t||We(t.size)||We(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Kc(t,e,n,s,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>s&&(s=o),s}function e4(t,e,n,s){s=s||{};let i=s.data=s.data||{},o=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},o=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let r=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!ht(d))r=Kc(t,i,o,r,d);else if(ht(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!ht(h)&&(r=Kc(t,i,o,r,h));t.restore();const p=o.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[o[l]];o.splice(0,p)}return r}function Qi(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function jy(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function mf(t,e,n,s){sS(t,e,n,s,null)}function sS(t,e,n,s,i){let o,r,a,l,c,u,d,h;const p=e.pointStyle,g=e.rotation,m=e.radius;let _=(g||0)*Nj;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(_),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,s,i/2,m,0,0,ft):t.arc(n,s,m,0,ft),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(_)*u,s-Math.cos(_)*m),_+=Fy,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*m),_+=Fy,t.lineTo(n+Math.sin(_)*u,s-Math.cos(_)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,r=Math.cos(_+qi)*l,d=Math.cos(_+qi)*(i?i/2-c:l),a=Math.sin(_+qi)*l,h=Math.sin(_+qi)*(i?i/2-c:l),t.arc(n-d,s-a,c,_-pt,_-xt),t.arc(n+h,s-r,c,_-xt,_),t.arc(n+d,s+a,c,_,_+xt),t.arc(n-h,s+r,c,_+xt,_+pt),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}_+=qi;case"rectRot":d=Math.cos(_)*(i?i/2:m),r=Math.cos(_)*m,a=Math.sin(_)*m,h=Math.sin(_)*(i?i/2:m),t.moveTo(n-d,s-a),t.lineTo(n+h,s-r),t.lineTo(n+d,s+a),t.lineTo(n-h,s+r),t.closePath();break;case"crossRot":_+=qi;case"cross":d=Math.cos(_)*(i?i/2:m),r=Math.cos(_)*m,a=Math.sin(_)*m,h=Math.sin(_)*(i?i/2:m),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-r),t.lineTo(n-h,s+r);break;case"star":d=Math.cos(_)*(i?i/2:m),r=Math.cos(_)*m,a=Math.sin(_)*m,h=Math.sin(_)*(i?i/2:m),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-r),t.lineTo(n-h,s+r),_+=qi,d=Math.cos(_)*(i?i/2:m),r=Math.cos(_)*m,a=Math.sin(_)*m,h=Math.sin(_)*(i?i/2:m),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-r),t.lineTo(n-h,s+r);break;case"line":r=i?i/2:Math.cos(_)*m,a=Math.sin(_)*m,t.moveTo(n-r,s-a),t.lineTo(n+r,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(_)*(i?i/2:m),s+Math.sin(_)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Is(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Zu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ed(t){t.restore()}function t4(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function n4(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function s4(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),We(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function i4(t,e,n,s,i){if(i.strikethrough||i.underline){const o=t.measureText(s),r=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(r,u),t.lineTo(a,u),t.stroke()}}function o4(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function wo(t,e,n,s,i,o={}){const r=ht(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,s4(t,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&o4(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),We(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,s,o.maxWidth)),t.fillText(c,n,s,o.maxWidth),i4(t,n,s,c,o),s+=Number(i.lineHeight);t.restore()}function qa(t,e){const{x:n,y:s,w:i,h:o,radius:r}=e;t.arc(n+r.topLeft,s+r.topLeft,r.topLeft,1.5*pt,pt,!0),t.lineTo(n,s+o-r.bottomLeft),t.arc(n+r.bottomLeft,s+o-r.bottomLeft,r.bottomLeft,pt,xt,!0),t.lineTo(n+i-r.bottomRight,s+o),t.arc(n+i-r.bottomRight,s+o-r.bottomRight,r.bottomRight,xt,0,!0),t.lineTo(n+i,s+r.topRight),t.arc(n+i-r.topRight,s+r.topRight,r.topRight,0,-xt,!0),t.lineTo(n+r.topLeft,s)}const r4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,a4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function l4(t,e){const n=(""+t).match(r4);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const c4=t=>+t||0;function lg(t,e){const n={},s=Oe(e),i=s?Object.keys(e):e,o=Oe(t)?s?r=>Se(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of i)n[r]=c4(o(r));return n}function iS(t){return lg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function po(t){return lg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Zt(t){const e=iS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rt(t,e){t=t||{},e=e||At.font;let n=Se(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Se(t.style,e.style);s&&!(""+s).match(a4)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Se(t.family,e.family),lineHeight:l4(Se(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Se(t.weight,e.weight),string:""};return i.string=Zj(i),i}function ha(t,e,n,s){let i=!0,o,r,a;for(o=0,r=t.length;o<r;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&ht(a)&&(a=a[n%a.length],i=!1),a!==void 0))return s&&!i&&(s.cacheable=!1),a}function u4(t,e,n){const{min:s,max:i}=t,o=zA(e,(i-s)/2),r=(a,l)=>n&&a===0?0:a+l;return{min:r(s,-Math.abs(o)),max:r(i,o)}}function Hi(t,e){return Object.assign(Object.create(t),e)}function cg(t,e=[""],n,s,i=()=>t[0]){const o=n||t;typeof s>"u"&&(s=lS("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:i,override:a=>cg([a,...t],e,o,s)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return rS(a,l,()=>y4(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Gy(a).includes(l)},ownKeys(a){return Gy(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function pr(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:oS(t,s),setContext:o=>pr(t,o,n,s),override:o=>pr(t.override(o),e,n,s)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete t[r],!0},get(o,r,a){return rS(o,r,()=>h4(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(o,r,a){return t[r]=a,delete o[r],!0}})}function oS(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Oi(n)?n:()=>n,isIndexable:Oi(s)?s:()=>s}}const d4=(t,e)=>t?t+sg(e):e,ug=(t,e)=>Oe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function rS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=n();return t[e]=s,s}function h4(t,e,n){const{_proxy:s,_context:i,_subProxy:o,_descriptors:r}=t;let a=s[e];return Oi(a)&&r.isScriptable(e)&&(a=f4(e,a,t,n)),ht(a)&&a.length&&(a=p4(e,a,t,r.isIndexable)),ug(e,a)&&(a=pr(a,i,o&&o[e],r)),a}function f4(t,e,n,s){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,r||s);return a.delete(t),ug(t,l)&&(l=dg(i._scopes,i,t,l)),l}function p4(t,e,n,s){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=n;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(Oe(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=dg(c,i,t,u);e.push(pr(d,o,r&&r[t],a))}}return e}function aS(t,e,n){return Oi(t)?t(e,n):t}const g4=(t,e)=>t===!0?e:typeof t=="string"?Ri(e,t):void 0;function m4(t,e,n,s,i){for(const o of e){const r=g4(n,o);if(r){t.add(r);const a=aS(r._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(r===!1&&typeof s<"u"&&n!==s)return null}return!1}function dg(t,e,n,s){const i=e._rootScopes,o=aS(e._fallback,n,s),r=[...t,...i],a=new Set;a.add(s);let l=zy(a,r,n,o||n,s);return l===null||typeof o<"u"&&o!==n&&(l=zy(a,r,o,l,s),l===null)?!1:cg(Array.from(a),[""],i,o,()=>_4(e,n,s))}function zy(t,e,n,s,i){for(;n;)n=m4(t,e,n,s,i);return n}function _4(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return ht(i)&&Oe(n)?n:i||{}}function y4(t,e,n,s){let i;for(const o of e)if(i=lS(d4(o,t),n),typeof i<"u")return ug(t,i)?dg(n,s,t,i):i}function lS(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Gy(t){let e=t._keys;return e||(e=t._keys=b4(t._scopes)),e}function b4(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function cS(t,e,n,s){const{iScale:i}=t,{key:o="r"}=this._parsing,r=new Array(s);let a,l,c,u;for(a=0,l=s;a<l;++a)c=a+n,u=e[c],r[a]={r:i.parse(Ri(u,o),c)};return r}const v4=Number.EPSILON||1e-14,gr=(t,e)=>e<t.length&&!t[e].skip&&t[e],uS=t=>t==="x"?"y":"x";function w4(t,e,n,s){const i=t.skip?e:t,o=e,r=n.skip?e:n,a=pf(o,i),l=pf(r,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,h=s*u;return{previous:{x:o.x-d*(r.x-i.x),y:o.y-d*(r.y-i.y)},next:{x:o.x+h*(r.x-i.x),y:o.y+h*(r.y-i.y)}}}function A4(t,e,n){const s=t.length;let i,o,r,a,l,c=gr(t,0);for(let u=0;u<s-1;++u)if(l=c,c=gr(t,u+1),!(!l||!c)){if(ka(e[u],0,v4)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],o=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),n[u]=i*r*e[u],n[u+1]=o*r*e[u])}}function S4(t,e,n="x"){const s=uS(n),i=t.length;let o,r,a,l=gr(t,0);for(let c=0;c<i;++c){if(r=a,a=l,l=gr(t,c+1),!a)continue;const u=a[n],d=a[s];r&&(o=(u-r[n])/3,a[`cp1${n}`]=u-o,a[`cp1${s}`]=d-o*e[c]),l&&(o=(l[n]-u)/3,a[`cp2${n}`]=u+o,a[`cp2${s}`]=d+o*e[c])}}function x4(t,e="x"){const n=uS(e),s=t.length,i=Array(s).fill(0),o=Array(s);let r,a,l,c=gr(t,0);for(r=0;r<s;++r)if(a=l,l=c,c=gr(t,r+1),!!l){if(c){const u=c[e]-l[e];i[r]=u!==0?(c[n]-l[n])/u:0}o[r]=a?c?cs(i[r-1])!==cs(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}A4(t,i,o),S4(t,o,e)}function ec(t,e,n){return Math.max(Math.min(t,n),e)}function C4(t,e){let n,s,i,o,r,a=Is(t[0],e);for(n=0,s=t.length;n<s;++n)r=o,o=a,a=n<s-1&&Is(t[n+1],e),o&&(i=t[n],r&&(i.cp1x=ec(i.cp1x,e.left,e.right),i.cp1y=ec(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=ec(i.cp2x,e.left,e.right),i.cp2y=ec(i.cp2y,e.top,e.bottom)))}function k4(t,e,n,s,i){let o,r,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")x4(t,i);else{let c=s?t[t.length-1]:t[0];for(o=0,r=t.length;o<r;++o)a=t[o],l=w4(c,a,t[Math.min(o+1,r-(s?0:1))%r],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&C4(t,n)}function hg(){return typeof window<"u"&&typeof document<"u"}function fg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function qc(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const td=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function E4(t,e){return td(t).getPropertyValue(e)}const M4=["top","right","bottom","left"];function go(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=M4[i];s[o]=parseFloat(t[e+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const T4=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function D4(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=s;let r=!1,a,l;if(T4(i,o,t.target))a=i,l=o;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function no(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=td(n),o=i.boxSizing==="border-box",r=go(i,"padding"),a=go(i,"border","width"),{x:l,y:c,box:u}=D4(t,n),d=r.left+(u&&a.left),h=r.top+(u&&a.top);let{width:p,height:g}=e;return o&&(p-=r.width+a.width,g-=r.height+a.height),{x:Math.round((l-d)/p*n.width/s),y:Math.round((c-h)/g*n.height/s)}}function I4(t,e,n){let s,i;if(e===void 0||n===void 0){const o=fg(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const r=o.getBoundingClientRect(),a=td(o),l=go(a,"border","width"),c=go(a,"padding");e=r.width-c.width-l.width,n=r.height-c.height-l.height,s=qc(a.maxWidth,o,"clientWidth"),i=qc(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:s||Gc,maxHeight:i||Gc}}const tc=t=>Math.round(t*10)/10;function R4(t,e,n,s){const i=td(t),o=go(i,"margin"),r=qc(i.maxWidth,t,"clientWidth")||Gc,a=qc(i.maxHeight,t,"clientHeight")||Gc,l=I4(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=go(i,"border","width"),p=go(i,"padding");c-=p.width+h.width,u-=p.height+h.height}return c=Math.max(0,c-o.width),u=Math.max(0,s?c/s:u-o.height),c=tc(Math.min(c,r,l.maxWidth)),u=tc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=tc(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=tc(Math.floor(u*s))),{width:c,height:u}}function Ky(t,e,n){const s=e||1,i=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const r=t.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||r.height!==i||r.width!==o?(t.currentDevicePixelRatio=s,r.height=i,r.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const O4=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};hg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function qy(t,e){const n=E4(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function so(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function P4(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function N4(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},r=so(t,i,n),a=so(i,o,n),l=so(o,e,n),c=so(r,a,n),u=so(a,l,n);return so(c,u,n)}const L4=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},F4=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function er(t,e,n){return t?L4(e,n):F4()}function dS(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function hS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function fS(t){return t==="angle"?{between:Ka,compare:$j,normalize:yn}:{between:Ts,compare:(e,n)=>e-n,normalize:e=>e}}function Qy({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function $4(t,e,n){const{property:s,start:i,end:o}=n,{between:r,normalize:a}=fS(s),l=e.length;let{start:c,end:u,loop:d}=t,h,p;if(d){for(c+=l,u+=l,h=0,p=l;h<p&&r(a(e[c%l][s]),i,o);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function pS(t,e,n){if(!n)return[t];const{property:s,start:i,end:o}=n,r=e.length,{compare:a,between:l,normalize:c}=fS(s),{start:u,end:d,loop:h,style:p}=$4(t,e,n),g=[];let m=!1,_=null,w,A,x;const C=()=>l(i,x,w)&&a(i,x)!==0,E=()=>a(o,w)===0||l(o,x,w),D=()=>m||C(),R=()=>!m||E();for(let b=u,v=u;b<=d;++b)A=e[b%r],!A.skip&&(w=c(A[s]),w!==x&&(m=l(w,i,o),_===null&&D()&&(_=a(w,i)===0?b:v),_!==null&&R()&&(g.push(Qy({start:_,end:b,loop:h,count:r,style:p})),_=null),v=b,x=w));return _!==null&&g.push(Qy({start:_,end:d,loop:h,count:r,style:p})),g}function gS(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const o=pS(s[i],t.points,e);o.length&&n.push(...o)}return n}function B4(t,e,n,s){let i=0,o=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function Y4(t,e,n,s){const i=t.length,o=[];let r=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,o.push({start:e%i,end:(l-1)%i,loop:s}),e=r=c.stop?l:null):(r=l,a.skip&&(e=l)),a=c}return r!==null&&o.push({start:e%i,end:r%i,loop:s}),o}function U4(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:r,end:a}=B4(n,i,o,s);if(s===!0)return Xy(t,[{start:r,end:a,loop:o}],n,e);const l=a<r?a+i:a,c=!!t._fullLoop&&r===0&&a===i-1;return Xy(t,Y4(n,r,l,c),n,e)}function Xy(t,e,n,s){return!s||!s.setContext||!n?e:V4(t,e,n,s)}function V4(t,e,n,s){const i=t._chart.getContext(),o=Jy(t.options),{_datasetIndex:r,options:{spanGaps:a}}=t,l=n.length,c=[];let u=o,d=e[0].start,h=d;function p(g,m,_,w){const A=a?-1:1;if(g!==m){for(g+=l;n[g%l].skip;)g-=A;for(;n[m%l].skip;)m+=A;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:_,style:w}),u=w,d=m%l)}}for(const g of e){d=a?d:g.start;let m=n[d%l],_;for(h=d+1;h<=g.end;h++){const w=n[h%l];_=Jy(s.setContext(Hi(i,{type:"segment",p0:m,p1:w,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),W4(_,u)&&p(d,h-1,g.loop,u),m=w,u=_}d<h-1&&p(d,h-1,g.loop,u)}return c}function Jy(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function W4(t,e){if(!e)return!1;const n=[],s=function(i,o){return ag(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class H4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const o=n.listeners[i],r=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:r,currentStep:Math.min(s-n.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=JA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const o=s.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),o.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Cs=new H4;const Zy="transparent",j4={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Wy(t||Zy),i=s.valid&&Wy(e||Zy);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class z4{constructor(e,n,s,i){const o=n[s];i=ha([e.to,i,o,e.from]);const r=ha([e.from,o,i]);this._active=!0,this._fn=e.fn||j4[e.type||typeof r],this._easing=Ea[e.easing]||Ea.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],o=s-this._start,r=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=ha([e.to,n,i,e.from]),this._from=ha([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=o;return}l=n/s%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class mS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Oe(e))return;const n=Object.keys(At.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!Oe(o))return;const r={};for(const a of n)r[a]=o[a];(ht(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,r)})})}_animateOptions(e,n){const s=n.options,i=K4(e,s);if(!i)return[];const o=this._createAnimations(i,s);return s.$shared&&G4(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,n){const s=this._properties,i=[],o=e.$animations||(e.$animations={}),r=Object.keys(n),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=o[c];const h=s.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}o[c]=d=new z4(h,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Cs.add(this._chart,s),!0}}function G4(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const o=t[s[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function K4(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function eb(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:s?o:i,end:s?i:o}}function q4(t,e,n){if(n===!1)return!1;const s=eb(t,n),i=eb(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function Q4(t){let e,n,s,i;return Oe(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function _S(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=s.length;i<o;++i)n.push(s[i].index);return n}function tb(t,e,n,s={}){const i=t.keys,o=s.mode==="single";let r,a,l,c;if(e!==null){for(r=0,a=i.length;r<a;++r){if(l=+i[r],l===n){if(s.all)continue;break}c=t.values[l],wt(c)&&(o||e===0||cs(e)===cs(c))&&(e+=c)}return e}}function X4(t){const e=Object.keys(t),n=new Array(e.length);let s,i,o;for(s=0,i=e.length;s<i;++s)o=e[s],n[s]={x:o,y:t[o]};return n}function nb(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function J4(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Z4(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function ez(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function sb(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const o=t[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function ib(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:r,index:a}=s,l=o.axis,c=r.axis,u=J4(o,r,s),d=e.length;let h;for(let p=0;p<d;++p){const g=e[p],{[l]:m,[c]:_}=g,w=g._stacks||(g._stacks={});h=w[c]=ez(i,u,m),h[a]=_,h._top=sb(h,r,!0,s.type),h._bottom=sb(h,r,!1,s.type);const A=h._visualValues||(h._visualValues={});A[a]=_}}function hh(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function tz(t,e){return Hi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function nz(t,e,n){return Hi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Jr(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const fh=t=>t==="reset"||t==="none",ob=(t,e)=>e?t:Object.assign({},t),sz=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:_S(n,!0),values:null};class zn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(d,h,p,g)=>d==="x"?h:d==="r"?g:p,o=n.xAxisID=Se(s.xAxisID,hh(e,"x")),r=n.yAxisID=Se(s.yAxisID,hh(e,"y")),a=n.rAxisID=Se(s.rAxisID,hh(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,o,r,a),u=n.vAxisID=i(l,r,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(r),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Yy(this._data,this),e._stacked&&Jr(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Oe(n))this._data=X4(n);else if(s!==n){if(s){Yy(s,this);const i=this._cachedMeta;Jr(i),i._parsed=[]}n&&Object.isExtensible(n)&&Vj(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=nb(n.vScale,n),n.stack!==s.stack&&(i=!0,Jr(n),n.stack=s.stack),this._resyncElements(e),(i||o!==n._stacked)&&ib(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:o,_stacked:r}=s,a=o.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,h;if(this._parsing===!1)s._parsed=i,s._sorted=!0,h=i;else{ht(i[e])?h=this.parseArrayData(s,i,e,n):Oe(i[e])?h=this.parseObjectData(s,i,e,n):h=this.parsePrimitiveData(s,i,e,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=h[u],l&&(p()&&(l=!1),c=d);s._sorted=l}r&&ib(this,h)}parsePrimitiveData(e,n,s,i){const{iScale:o,vScale:r}=e,a=o.axis,l=r.axis,c=o.getLabels(),u=o===r,d=new Array(i);let h,p,g;for(h=0,p=i;h<p;++h)g=h+s,d[h]={[a]:u||o.parse(c[g],g),[l]:r.parse(n[g],g)};return d}parseArrayData(e,n,s,i){const{xScale:o,yScale:r}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+s,d=n[u],a[l]={x:o.parse(d[0],u),y:r.parse(d[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:o,yScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,p;for(u=0,d=i;u<d;++u)h=u+s,p=n[h],c[u]={x:o.parse(Ri(p,a),h),y:r.parse(Ri(p,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,o=this._cachedMeta,r=n[e.axis],a={keys:_S(i,!0),values:n._stacks[e.axis]._visualValues};return tb(a,r,o.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const o=s[n.axis];let r=o===null?NaN:o;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,r=tb(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,o=s._sorted&&e===s.iScale,r=i.length,a=this._getOtherScale(e),l=sz(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Z4(a);let h,p;function g(){p=i[h];const m=p[a.axis];return!wt(p[e.axis])||u>m||d<m}for(h=0;h<r&&!(!g()&&(this.updateRangeFromParsed(c,e,p,l),o));++h);if(o){for(h=r-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,o,r;for(i=0,o=n.length;i<o;++i)r=n[i][e.axis],wt(r)&&s.push(r);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Q4(Se(this.options.clip,q4(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],o=n.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,o,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?r.push(d):d.draw(e,o))}for(u=0;u<r.length;++u)r[u].draw(e,o)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];o=r.$context||(r.$context=nz(this.getContext(),e,r)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=tz(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",o=this._cachedDataOpts,r=e+"-"+n,a=o[r],l=this.enableOptionSharing&&Ga(s);if(a)return ob(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),p=Object.keys(At.elements[e]),g=()=>this.getContext(s,i,n),m=c.resolveNamedOptions(h,p,g,d);return m.$shared&&(m.$shared=l,o[r]=Object.freeze(ob(m,l))),m}_resolveAnimations(e,n,s){const i=this.chart,o=this._cachedDataOpts,r=`animation-${n}`,a=o[r];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,s,n))}const c=new mS(i,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||fh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,o=this.getSharedOptions(s),r=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:r}}updateElement(e,n,s,i){fh(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!fh(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,o=n.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,n,s=!0){const i=this._cachedMeta,o=i.data,r=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=r;a--)c[a]=c[a-n]};for(l(o),a=e;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Jr(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ee(zn,"defaults",{}),ee(zn,"datasetElementType",null),ee(zn,"dataElementType",null);function iz(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,o=n.length;i<o;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=XA(s.sort((i,o)=>i-o))}return t._cache.$bar}function oz(t){const e=t.iScale,n=iz(e,t.type);let s=e._length,i,o,r,a;const l=()=>{r===32767||r===-32768||(Ga(a)&&(s=Math.min(s,Math.abs(r-a)||s)),a=r)};for(i=0,o=n.length;i<o;++i)r=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)r=e.getPixelForTick(i),l();return s}function rz(t,e,n,s){const i=n.barThickness;let o,r;return We(i)?(o=e.min*n.categoryPercentage,r=n.barPercentage):(o=i*s,r=1),{chunk:o/s,ratio:r,start:e.pixels[t]-o/2}}function az(t,e,n,s){const i=e.pixels,o=i[t];let r=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;r===null&&(r=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/s,ratio:n.barPercentage,start:c}}function lz(t,e,n,s){const i=n.parse(t[0],s),o=n.parse(t[1],s),r=Math.min(i,o),a=Math.max(i,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:o,min:r,max:a}}function yS(t,e,n,s){return ht(t)?lz(t,e,n,s):e[n.axis]=n.parse(t,s),e}function rb(t,e,n,s){const i=t.iScale,o=t.vScale,r=i.getLabels(),a=i===o,l=[];let c,u,d,h;for(c=n,u=n+s;c<u;++c)h=e[c],d={},d[i.axis]=a||i.parse(r[c],c),l.push(yS(h,d,o,c));return l}function ph(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function cz(t,e,n){return t!==0?cs(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function uz(t){let e,n,s,i,o;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:s,reverse:e,top:i,bottom:o}}function dz(t,e,n,s){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:u}=uz(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(o[ab(u,r,a,l)]=!0,i=c)),o[ab(i,r,a,l)]=!0,t.borderSkipped=o}function ab(t,e,n,s){return s?(t=hz(t,e,n),t=lb(t,n,e)):t=lb(t,e,n),t}function hz(t,e,n){return t===e?n:t===n?e:t}function lb(t,e,n){return t==="start"?e:t==="end"?n:t}function fz(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ac extends zn{parsePrimitiveData(e,n,s,i){return rb(e,n,s,i)}parseArrayData(e,n,s,i){return rb(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:o,vScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,u=r.axis==="x"?a:l,d=[];let h,p,g,m;for(h=s,p=s+i;h<p;++h)m=n[h],g={},g[o.axis]=o.parse(Ri(m,c),h),d.push(yS(Ri(m,u),g,r,h));return d}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,o=this.getParsed(e),r=o._custom,a=ph(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let p=n;p<n+s;p++){const g=this.getParsed(p),m=o||We(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),_=this._calculateBarIndexPixels(p,u),w=(g._stacks||{})[a.axis],A={horizontal:c,base:m.base,enableBorderRadius:!w||ph(g._custom)||r===w._top||r===w._bottom,x:c?m.head:_.center,y:c?_.center:m.head,height:c?_.size:Math.abs(m.size),width:c?Math.abs(m.size):_.size};h&&(A.options=d||this.resolveDataElementOptions(p,e[p].active?"active":i));const x=A.options||e[p].options;dz(A,x,w,r),fz(A,x,u.ratio),this.updateElement(e[p],p,A,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=s.options.stacked,r=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(We(u)||isNaN(u))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((o===!1||r.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&r.push(l.stack),l.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const i=this._getStacks(e,s),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let o,r;for(o=0,r=n.data.length;o<r;++o)i.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const a=e.barThickness;return{min:a||oz(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(e),c=l._custom,u=ph(c);let d=l[n.axis],h=0,p=s?this.applyStack(n,l,s):d,g,m;p!==d&&(h=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&cs(d)!==cs(c.barEnd)&&(h=0),h+=d);const _=!We(o)&&!u?o:h;let w=n.getPixelForValue(_);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(h+p):g=w,m=g-w,Math.abs(m)<r){m=cz(m,n,a)*r,d===a&&(w-=m/2);const A=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),C=Math.min(A,x),E=Math.max(A,x);w=Math.max(Math.min(w,E),C),g=w+m,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(w))}if(w===n.getPixelForValue(a)){const A=cs(m)*n.getLineWidthForValue(a)/2;w+=A,m-=A}return{size:m,base:w,head:g,center:g+m/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,o=i.skipNull,r=Se(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=o?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?az(e,n,i,c):rz(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(r,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(r,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let o=0;for(;o<i;++o)this.getParsed(o)[n.axis]!==null&&s[o].draw(this._ctx)}}ee(Ac,"id","bar"),ee(Ac,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ee(Ac,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Sc extends zn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,i){const o=super.parsePrimitiveData(e,n,s,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+s).radius;return o}parseArrayData(e,n,s,i){const o=super.parseArrayData(e,n,s,i);for(let r=0;r<o.length;r++){const a=n[s+r];o[r]._custom=Se(a[2],this.resolveDataElementOptions(r+s).radius)}return o}parseObjectData(e,n,s,i){const o=super.parseObjectData(e,n,s,i);for(let r=0;r<o.length;r++){const a=n[s+r];o[r]._custom=Se(a&&a.r&&+a.r,this.resolveDataElementOptions(r+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:o}=n,r=this.getParsed(e),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:s[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),u=r.axis,d=a.axis;for(let h=n;h<n+s;h++){const p=e[h],g=!o&&this.getParsed(h),m={},_=m[u]=o?r.getPixelForDecimal(.5):r.getPixelForValue(g[u]),w=m[d]=o?a.getBasePixel():a.getPixelForValue(g[d]);m.skip=isNaN(_)||isNaN(w),c&&(m.options=l||this.resolveDataElementOptions(h,p.active?"active":i),o&&(m.options.radius=0)),this.updateElement(p,h,m,i)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Se(s&&s._custom,o),i}}ee(Sc,"id","bubble"),ee(Sc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ee(Sc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function pz(t,e,n){let s=1,i=1,o=0,r=0;if(e<ft){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),p=(x,C,E)=>Ka(x,a,l,!0)?1:Math.max(C,C*n,E,E*n),g=(x,C,E)=>Ka(x,a,l,!0)?-1:Math.min(C,C*n,E,E*n),m=p(0,c,d),_=p(xt,u,h),w=g(pt,c,d),A=g(pt+xt,u,h);s=(m-w)/2,i=(_-A)/2,o=-(m+w)/2,r=-(_+A)/2}return{ratioX:s,ratioY:i,offsetX:o,offsetY:r}}class lo extends zn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let o=l=>+s[l];if(Oe(s[e])){const{key:l="value"}=this._parsing;o=c=>+Ri(s[c],l)}let r,a;for(r=e,a=e+n;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return Vn(this.options.rotation-90)}_getCircumference(){return Vn(this.options.circumference)}_getRotationExtents(){let e=ft,n=-ft;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,o=i._getRotation(),r=i._getCircumference();e=Math.min(e,o),n=Math.max(n,o+r)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-r)/2,0),l=Math.min(Mj(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:g,offsetY:m}=pz(d,u,l),_=(s.width-r)/h,w=(s.height-r)/p,A=Math.max(Math.min(_,w)/2,0),x=zA(this.options.radius,A),C=Math.max(x*l,0),E=(x-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=m*x,i.total=this.calculateTotal(),this.outerRadius=x-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/ft)}updateElements(e,n,s,i){const o=i==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=o&&c.animateScale,p=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(n,i);let w=this._getRotation(),A;for(A=0;A<n;++A)w+=this._circumference(A,o);for(A=n;A<n+s;++A){const x=this._circumference(A,o),C=e[A],E={x:u+this.offsetX,y:d+this.offsetY,startAngle:w,endAngle:w+x,circumference:x,outerRadius:g,innerRadius:p};_&&(E.options=m||this.resolveDataElementOptions(A,C.active?"active":i)),w+=x,this.updateElement(C,A,E,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ft*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=kl(n._parsed[e],s.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,o,r,a,l;if(!e){for(i=0,o=s.data.datasets.length;i<o;++i)if(s.isDatasetVisible(i)){r=s.getDatasetMeta(i),e=r.data,a=r.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Se(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ee(lo,"id","doughnut"),ee(lo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ee(lo,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ee(lo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class xc extends zn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:o}=n,r=this.chart._animationsDisabled;let{start:a,count:l}=eS(n,i,r);this._drawStart=a,this._drawCount=l,tS(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,i),h=r.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,_=fr(g)?g:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||i==="none",A=n+s,x=e.length;let C=n>0&&this.getParsed(n-1);for(let E=0;E<x;++E){const D=e[E],R=w?D:{};if(E<n||E>=A){R.skip=!0;continue}const b=this.getParsed(E),v=We(b[p]),M=R[h]=r.getPixelForValue(b[h],E),F=R[p]=o||v?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,b,l):b[p],E);R.skip=isNaN(M)||isNaN(F)||v,R.stop=E>0&&Math.abs(b[h]-C[h])>_,m&&(R.parsed=b,R.raw=c.data[E]),d&&(R.options=u||this.resolveDataElementOptions(E,D.active?"active":i)),w||this.updateElement(D,E,R,i),C=b}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ee(xc,"id","line"),ee(xc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ee(xc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ta extends zn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],o=kl(n._parsed[e].r,s.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,n,s,i){return cS.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),r=Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0),a=(o-r)/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,s,i){const o=i==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*pt;let p=h,g;const m=360/this.countVisibleElements();for(g=0;g<n;++g)p+=this._computeAngle(g,i,m);for(g=n;g<n+s;g++){const _=e[g];let w=p,A=p+this._computeAngle(g,i,m),x=r.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=A,o&&(l.animateScale&&(x=0),l.animateRotate&&(w=A=h));const C={x:u,y:d,innerRadius:0,outerRadius:x,startAngle:w,endAngle:A,options:this.resolveDataElementOptions(g,_.active?"active":i)};this.updateElement(_,g,C,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?Vn(this.resolveDataElementOptions(e,n).angle||s):0}}ee(Ta,"id","polarArea"),ee(Ta,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ee(Ta,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _f extends lo{}ee(_f,"id","pie"),ee(_f,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Cc extends zn{getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,i){return cS.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta,s=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(s.points=i,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,s,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=n;a<n+s;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=o.getPointPositionForValue(a,this.getParsed(a).r),d=r?o.xCenter:u.x,h=r?o.yCenter:u.y,p={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,p,i)}}}ee(Cc,"id","radar"),ee(Cc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ee(Cc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class kc extends zn{getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:o}=n,r=this.getParsed(e),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:s[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:o,count:r}=eS(n,s,i);if(this._drawStart=o,this._drawCount=r,tS(n)&&(o=0,r=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=s;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,o,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(u),h=this.includeOptions(i,d),p=r.axis,g=a.axis,{spanGaps:m,segment:_}=this.options,w=fr(m)?m:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||o||i==="none";let x=n>0&&this.getParsed(n-1);for(let C=n;C<n+s;++C){const E=e[C],D=this.getParsed(C),R=A?E:{},b=We(D[g]),v=R[p]=r.getPixelForValue(D[p],C),M=R[g]=o||b?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,D,l):D[g],C);R.skip=isNaN(v)||isNaN(M)||b,R.stop=C>0&&Math.abs(D[p]-x[p])>w,_&&(R.parsed=D,R.raw=c.data[C]),h&&(R.options=d||this.resolveDataElementOptions(C,E.active?"active":i)),A||this.updateElement(E,C,R,i),x=D}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const o=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,o,r)/2}}ee(kc,"id","scatter"),ee(kc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ee(kc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var gz=Object.freeze({__proto__:null,BarController:Ac,BubbleController:Sc,DoughnutController:lo,LineController:xc,PieController:_f,PolarAreaController:Ta,RadarController:Cc,ScatterController:kc});function Xi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class pg{constructor(e){ee(this,"options");this.options=e||{}}static override(e){Object.assign(pg.prototype,e)}init(){}formats(){return Xi()}parse(){return Xi()}format(){return Xi()}add(){return Xi()}diff(){return Xi()}startOf(){return Xi()}endOf(){return Xi()}}var mz={_date:pg};function _z(t,e,n,s){const{controller:i,data:o,_sorted:r}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&r&&o.length){const l=a._reversePixels?Yj:Ds;if(s){if(i._sharedOptions){const c=o[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(o,e,n-u),h=l(o,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(o,e,n)}return{lo:0,hi:o.length-1}}function El(t,e,n,s,i){const o=t.getSortedVisibleDatasetMetas(),r=n[e];for(let a=0,l=o.length;a<l;++a){const{index:c,data:u}=o[a],{lo:d,hi:h}=_z(o[a],e,r,i);for(let p=d;p<=h;++p){const g=u[p];g.skip||s(g,c,p)}}}function yz(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const o=e?Math.abs(s.x-i.x):0,r=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function gh(t,e,n,s,i){const o=[];return!i&&!t.isPointInArea(e)||El(t,n,e,function(a,l,c){!i&&!Is(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function bz(t,e,n,s){let i=[];function o(r,a,l){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],s),{angle:d}=qA(r,{x:e.x,y:e.y});Ka(d,c,u)&&i.push({element:r,datasetIndex:a,index:l})}return El(t,n,e,o),i}function vz(t,e,n,s,i,o){let r=[];const a=yz(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const p=u.inRange(e.x,e.y,i);if(s&&!p)return;const g=u.getCenterPoint(i);if(!(!!o||t.isPointInArea(g))&&!p)return;const _=a(e,g);_<l?(r=[{element:u,datasetIndex:d,index:h}],l=_):_===l&&r.push({element:u,datasetIndex:d,index:h})}return El(t,n,e,c),r}function mh(t,e,n,s,i,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!s?bz(t,e,n,i):vz(t,e,n,s,i,o)}function cb(t,e,n,s,i){const o=[],r=n==="x"?"inXRange":"inYRange";let a=!1;return El(t,n,e,(l,c,u)=>{l[r](e[n],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:o}var wz={evaluateInteractionItems:El,modes:{index(t,e,n,s){const i=no(e,t),o=n.axis||"x",r=n.includeInvisible||!1,a=n.intersect?gh(t,i,o,s,r):mh(t,i,o,!1,s,r),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=no(e,t),o=n.axis||"xy",r=n.includeInvisible||!1;let a=n.intersect?gh(t,i,o,s,r):mh(t,i,o,!1,s,r);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=no(e,t),o=n.axis||"xy",r=n.includeInvisible||!1;return gh(t,i,o,s,r)},nearest(t,e,n,s){const i=no(e,t),o=n.axis||"xy",r=n.includeInvisible||!1;return mh(t,i,o,n.intersect,s,r)},x(t,e,n,s){const i=no(e,t);return cb(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=no(e,t);return cb(t,i,"y",n.intersect,s)}}};const bS=["left","top","right","bottom"];function Zr(t,e){return t.filter(n=>n.pos===e)}function ub(t,e){return t.filter(n=>bS.indexOf(n.pos)===-1&&n.box.axis===e)}function ea(t,e){return t.sort((n,s)=>{const i=e?s:n,o=e?n:s;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function Az(t){const e=[];let n,s,i,o,r,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:o,options:{stack:r,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return e}function Sz(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:o}=n;if(!s||!bS.includes(i))continue;const r=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return e}function xz(t,e){const n=Sz(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let o,r,a;for(o=0,r=t.length;o<r;++o){a=t[o];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function Cz(t){const e=Az(t),n=ea(e.filter(c=>c.box.fullSize),!0),s=ea(Zr(e,"left"),!0),i=ea(Zr(e,"right")),o=ea(Zr(e,"top"),!0),r=ea(Zr(e,"bottom")),a=ub(e,"x"),l=ub(e,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:i.concat(l).concat(r).concat(a),chartArea:Zr(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:o.concat(r).concat(a)}}function db(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function vS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function kz(t,e,n,s){const{pos:i,box:o}=n,r=t.maxPadding;if(!Oe(i)){n.size&&(t[i]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?o.height:o.width),n.size=d.size/d.count,t[i]+=n.size}o.getPadding&&vS(r,o.getPadding());const a=Math.max(0,e.outerWidth-db(r,t,"left","right")),l=Math.max(0,e.outerHeight-db(r,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Ez(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Mz(t,e){const n=e.maxPadding;function s(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(e[r],n[r])}),o}return s(t?["left","right"]:["top","bottom"])}function fa(t,e,n,s){const i=[];let o,r,a,l,c,u;for(o=0,r=t.length,c=0;o<r;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,Mz(a.horizontal,e));const{same:d,other:h}=kz(e,n,a,s);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&fa(i,e,n,s)||u}function nc(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function hb(t,e,n,s){const i=n.padding;let{x:o,y:r}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;Ga(c.start)&&(r=c.start),l.fullSize?nc(l,i.left,r,n.outerWidth-i.right-i.left,h):nc(l,e.left+c.placed,r,d,h),c.start=r,c.placed+=d,r=l.bottom}else{const d=e.h*u,h=c.size||l.width;Ga(c.start)&&(o=c.start),l.fullSize?nc(l,o,i.top,h,n.outerHeight-i.bottom-i.top):nc(l,o,e.top+c.placed,h,d),c.start=o,c.placed+=d,o=l.right}}e.x=o,e.y=r}var Qt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Zt(t.options.layout.padding),o=Math.max(e-i.width,0),r=Math.max(n-i.height,0),a=Cz(t.boxes),l=a.vertical,c=a.horizontal;Xe(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,_)=>_.box.options&&_.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},i);vS(h,Zt(s));const p=Object.assign({maxPadding:h,w:o,h:r,x:i.left,y:i.top},i),g=xz(l.concat(c),d);fa(a.fullSize,p,d,g),fa(l,p,d,g),fa(c,p,d,g)&&fa(l,p,d,g),Ez(p),hb(a.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,hb(a.rightAndBottom,p,d,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Xe(a.chartArea,m=>{const _=m.box;Object.assign(_,t.chartArea),_.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class wS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class Tz extends wS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ec="$chartjs",Dz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fb=t=>t===null||t==="";function Iz(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ec]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",fb(i)){const o=qy(t,"width");o!==void 0&&(t.width=o)}if(fb(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=qy(t,"height");o!==void 0&&(t.height=o)}return t}const AS=O4?{passive:!0}:!1;function Rz(t,e,n){t.addEventListener(e,n,AS)}function Oz(t,e,n){t.canvas.removeEventListener(e,n,AS)}function Pz(t,e){const n=Dz[t.type]||t.type,{x:s,y:i}=no(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Qc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Nz(t,e,n){const s=t.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Qc(a.addedNodes,s),r=r&&!Qc(a.removedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Lz(t,e,n){const s=t.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Qc(a.removedNodes,s),r=r&&!Qc(a.addedNodes,s);r&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Qa=new Map;let pb=0;function SS(){const t=window.devicePixelRatio;t!==pb&&(pb=t,Qa.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Fz(t,e){Qa.size||window.addEventListener("resize",SS),Qa.set(t,e)}function $z(t){Qa.delete(t),Qa.size||window.removeEventListener("resize",SS)}function Bz(t,e,n){const s=t.canvas,i=s&&fg(s);if(!i)return;const o=ZA((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return r.observe(i),Fz(t,o),r}function _h(t,e,n){n&&n.disconnect(),e==="resize"&&$z(t)}function Yz(t,e,n){const s=t.canvas,i=ZA(o=>{t.ctx!==null&&n(Pz(o,t))},t);return Rz(s,e,i),i}class Uz extends wS{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Iz(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Ec])return!1;const s=n[Ec].initial;["height","width"].forEach(o=>{const r=s[o];We(r)?n.removeAttribute(o):n.setAttribute(o,r)});const i=s.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[Ec],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),r={attach:Nz,detach:Lz,resize:Bz}[n]||Yz;i[n]=r(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:_h,detach:_h,resize:_h}[n]||Oz)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return R4(e,n,s,i)}isAttached(e){const n=fg(e);return!!(n&&n.isConnected)}}function Vz(t){return!hg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Tz:Uz}var pc;let Js=(pc=class{constructor(){ee(this,"x");ee(this,"y");ee(this,"active",!1);ee(this,"options");ee(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return fr(this.x)&&fr(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(o=>{i[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),i}},ee(pc,"defaults",{}),ee(pc,"defaultRoutes"),pc);function Wz(t,e){const n=t.options.ticks,s=Hz(t),i=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?zz(e):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>i)return Gz(e,c,o,r/i),c;const u=jz(o,e,i);if(r>0){let d,h;const p=r>1?Math.round((l-a)/(r-1)):null;for(sc(e,c,u,We(p)?0:a-p,a),d=0,h=r-1;d<h;d++)sc(e,c,u,o[d],o[d+1]);return sc(e,c,u,l,We(p)?e.length:l+p),c}return sc(e,c,u),c}function Hz(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function jz(t,e,n){const s=Kz(t),i=e.length/n;if(!s)return Math.max(i,1);const o=Lj(s);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>i)return l}return Math.max(i,1)}function zz(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Gz(t,e,n,s){let i=0,o=n[0],r;for(s=Math.ceil(s),r=0;r<t.length;r++)r===o&&(e.push(t[r]),i++,o=n[i*s])}function sc(t,e,n,s,i){const o=Se(s,0),r=Math.min(Se(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=o;u<0;)a++,u=Math.round(o+a*n);for(c=Math.max(o,0);c<r;c++)c===u&&(e.push(t[c]),a++,u=Math.round(o+a*n))}function Kz(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const qz=t=>t==="left"?"right":t==="right"?"left":t,gb=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,mb=(t,e)=>Math.min(e||t,t);function _b(t,e){const n=[],s=t.length/e,i=t.length;let o=0;for(;o<i;o+=s)n.push(t[Math.floor(o)]);return n}function Qz(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),o=t._startPixel,r=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-o,r-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<o-a||l>r+a)))return l}function Xz(t,e){Xe(t,n=>{const s=n.gc,i=s.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[s[o]];s.splice(0,i)}})}function ta(t){return t.drawTicks?t.tickLength:0}function yb(t,e){if(!t.display)return 0;const n=Rt(t.font,e),s=Zt(t.padding);return(ht(t.text)?t.text.length:1)*n.lineHeight+s.height}function Jz(t,e){return Hi(t,{scale:e,type:"scale"})}function Zz(t,e,n){return Hi(t,{tick:n,index:e,type:"tick"})}function e5(t,e,n){let s=rg(t);return(n&&e!=="right"||!n&&e==="right")&&(s=qz(s)),s}function t5(t,e,n,s){const{top:i,left:o,bottom:r,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,p,g;const m=r-i,_=a-o;if(t.isHorizontal()){if(p=Gt(s,o,a),Oe(n)){const w=Object.keys(n)[0],A=n[w];g=u[w].getPixelForValue(A)+m-e}else n==="center"?g=(c.bottom+c.top)/2+m-e:g=gb(t,n,e);h=a-o}else{if(Oe(n)){const w=Object.keys(n)[0],A=n[w];p=u[w].getPixelForValue(A)-_+e}else n==="center"?p=(c.left+c.right)/2-_+e:p=gb(t,n,e);g=Gt(s,r,i),d=n==="left"?-xt:xt}return{titleX:p,titleY:g,maxWidth:h,rotation:d}}class Ro extends Js{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=mn(e,Number.POSITIVE_INFINITY),n=mn(n,Number.NEGATIVE_INFINITY),s=mn(s,Number.POSITIVE_INFINITY),i=mn(i,Number.NEGATIVE_INFINITY),{min:mn(e,s),max:mn(n,i),minDefined:wt(e),maxDefined:wt(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,r.min)),o||(s=Math.max(s,r.max));return n=o&&n>s?s:n,s=i&&n>s?n:s,{min:mn(n,mn(s,n)),max:mn(s,mn(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rt(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=u4(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?_b(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Wz(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rt(this.options.afterUpdate,[this])}beforeSetDimensions(){rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),rt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,o;for(s=0,i=e.length;s<i;s++)o=e[s],o.label=rt(n.callback,[o.value,s,e],this)}afterTickToLabelConversion(){rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=mb(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let r=i,a,l,c;if(!this._isVisible()||!n.display||i>=o||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,p=Yt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:p/(s-1),d+6>a&&(a=p/(s-(e.offset?.5:1)),l=this.maxHeight-ta(e.grid)-n.padding-yb(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),r=ig(Math.min(Math.asin(Yt((u.highest.height+6)/a,-1,1)),Math.asin(Yt(l/c,-1,1))-Math.asin(Yt(h/c,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=yb(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ta(o)+l):(e.height=this.maxHeight,e.width=ta(o)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),p=s.padding*2,g=Vn(this.labelRotation),m=Math.cos(g),_=Math.sin(g);if(a){const w=s.mirror?0:_*d.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+w+p)}else{const w=s.mirror?0:m*d.width+_*h.height;e.width=Math.min(this.maxWidth,e.width+w+p)}this._calculatePadding(c,u,_,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=i*e.width,p=s*n.height):(h=s*e.height,p=i*n.width):o==="start"?p=n.width:o==="end"?h=e.width:o!=="inner"&&(h=e.width/2,p=n.width/2),this.paddingLeft=Math.max((h-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+r)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;o==="start"?(u=0,d=e.height):o==="end"&&(u=n.height,d=0),this.paddingTop=u+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)We(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=_b(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(n/mb(n,s));let c=0,u=0,d,h,p,g,m,_,w,A,x,C,E;for(d=0;d<n;d+=l){if(g=e[d].label,m=this._resolveTickFontOptions(d),i.font=_=m.string,w=o[_]=o[_]||{data:{},gc:[]},A=m.lineHeight,x=C=0,!We(g)&&!ht(g))x=Kc(i,w.data,w.gc,x,g),C=A;else if(ht(g))for(h=0,p=g.length;h<p;++h)E=g[h],!We(E)&&!ht(E)&&(x=Kc(i,w.data,w.gc,x,E),C+=A);r.push(x),a.push(C),c=Math.max(x,c),u=Math.max(C,u)}Xz(o,n);const D=r.indexOf(c),R=a.indexOf(u),b=v=>({width:r[v]||0,height:a[v]||0});return{first:b(0),last:b(n-1),widest:b(D),highest:b(R),widths:r,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Bj(this._alignToPixels?Qi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Zz(this.getContext(),e,s))}return this.$context||(this.$context=Jz(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Vn(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),r=e.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:o,position:r,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=ta(o),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,_=m/2,w=function(te){return Qi(s,te,m)};let A,x,C,E,D,R,b,v,M,F,U,ne;if(r==="top")A=w(this.bottom),R=this.bottom-h,v=A-_,F=w(e.top)+_,ne=e.bottom;else if(r==="bottom")A=w(this.top),F=e.top,ne=w(e.bottom)-_,R=A+_,v=this.top+h;else if(r==="left")A=w(this.right),D=this.right-h,b=A-_,M=w(e.left)+_,U=e.right;else if(r==="right")A=w(this.left),M=e.left,U=w(e.right)-_,D=A+_,b=this.left+h;else if(n==="x"){if(r==="center")A=w((e.top+e.bottom)/2+.5);else if(Oe(r)){const te=Object.keys(r)[0],Y=r[te];A=w(this.chart.scales[te].getPixelForValue(Y))}F=e.top,ne=e.bottom,R=A+_,v=R+h}else if(n==="y"){if(r==="center")A=w((e.left+e.right)/2);else if(Oe(r)){const te=Object.keys(r)[0],Y=r[te];A=w(this.chart.scales[te].getPixelForValue(Y))}D=A-_,b=D-h,M=e.left,U=e.right}const de=Se(i.ticks.maxTicksLimit,d),ce=Math.max(1,Math.ceil(d/de));for(x=0;x<d;x+=ce){const te=this.getContext(x),Y=o.setContext(te),ae=a.setContext(te),se=Y.lineWidth,tt=Y.color,He=ae.dash||[],Z=ae.dashOffset,Ie=Y.tickWidth,Ke=Y.tickColor,Ye=Y.tickBorderDash||[],Ae=Y.tickBorderDashOffset;C=Qz(this,x,l),C!==void 0&&(E=Qi(s,C,se),c?D=b=M=U=E:R=v=F=ne=E,p.push({tx1:D,ty1:R,tx2:b,ty2:v,x1:M,y1:F,x2:U,y2:ne,width:se,color:tt,borderDash:He,borderDashOffset:Z,tickWidth:Ie,tickColor:Ke,tickBorderDash:Ye,tickBorderDashOffset:Ae}))}return this._ticksLength=d,this._borderValue=A,p}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:o}=s,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,h=ta(s.grid),p=h+u,g=d?-u:p,m=-Vn(this.labelRotation),_=[];let w,A,x,C,E,D,R,b,v,M,F,U,ne="middle";if(i==="top")D=this.bottom-g,R=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+g,R=this._getXAxisLabelAlignment();else if(i==="left"){const ce=this._getYAxisLabelAlignment(h);R=ce.textAlign,E=ce.x}else if(i==="right"){const ce=this._getYAxisLabelAlignment(h);R=ce.textAlign,E=ce.x}else if(n==="x"){if(i==="center")D=(e.top+e.bottom)/2+p;else if(Oe(i)){const ce=Object.keys(i)[0],te=i[ce];D=this.chart.scales[ce].getPixelForValue(te)+p}R=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")E=(e.left+e.right)/2-p;else if(Oe(i)){const ce=Object.keys(i)[0],te=i[ce];E=this.chart.scales[ce].getPixelForValue(te)}R=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?ne="top":l==="end"&&(ne="bottom"));const de=this._getLabelSizes();for(w=0,A=a.length;w<A;++w){x=a[w],C=x.label;const ce=o.setContext(this.getContext(w));b=this.getPixelForTick(w)+o.labelOffset,v=this._resolveTickFontOptions(w),M=v.lineHeight,F=ht(C)?C.length:1;const te=F/2,Y=ce.color,ae=ce.textStrokeColor,se=ce.textStrokeWidth;let tt=R;r?(E=b,R==="inner"&&(w===A-1?tt=this.options.reverse?"left":"right":w===0?tt=this.options.reverse?"right":"left":tt="center"),i==="top"?c==="near"||m!==0?U=-F*M+M/2:c==="center"?U=-de.highest.height/2-te*M+M:U=-de.highest.height+M/2:c==="near"||m!==0?U=M/2:c==="center"?U=de.highest.height/2-te*M:U=de.highest.height-F*M,d&&(U*=-1),m!==0&&!ce.showLabelBackdrop&&(E+=M/2*Math.sin(m))):(D=b,U=(1-F)*M/2);let He;if(ce.showLabelBackdrop){const Z=Zt(ce.backdropPadding),Ie=de.heights[w],Ke=de.widths[w];let Ye=U-Z.top,Ae=0-Z.left;switch(ne){case"middle":Ye-=Ie/2;break;case"bottom":Ye-=Ie;break}switch(R){case"center":Ae-=Ke/2;break;case"right":Ae-=Ke;break;case"inner":w===A-1?Ae-=Ke:w>0&&(Ae-=Ke/2);break}He={left:Ae,top:Ye,width:Ke+Z.width,height:Ie+Z.height,color:ce.backdropColor}}_.push({label:C,font:v,textOffset:U,options:{rotation:m,color:Y,strokeColor:ae,strokeWidth:se,textAlign:tt,textBaseline:ne,translation:[E,D],backdrop:He}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Vn(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=e+o,l=r.widest.width;let c,u;return n==="left"?i?(u=this.right+o,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+o,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:o,height:r}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,o,r),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,r;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(o=0,r=i.length;o<r;++o){const l=i[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,o=s.setContext(this.getContext()),r=s.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Qi(e,this.left,r)-r/2,u=Qi(e,this.right,a)+a/2,d=h=l):(d=Qi(e,this.top,r)-r/2,h=Qi(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Zu(s,i);const o=this.getLabelItems(e);for(const r of o){const a=r.options,l=r.font,c=r.label,u=r.textOffset;wo(s,c,0,u,l,a)}i&&ed(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const o=Rt(s.font),r=Zt(s.padding),a=s.align;let l=o.lineHeight/2;n==="bottom"||n==="center"||Oe(n)?(l+=r.bottom,ht(s.text)&&(l+=o.lineHeight*(s.text.length-1))):l+=r.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=t5(this,l,n,a);wo(e,s.text,0,0,o,{color:s.color,maxWidth:d,rotation:h,textAlign:e5(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Se(e.grid&&e.grid.z,-1),i=Se(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ro.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let o,r;for(o=0,r=n.length;o<r;++o){const a=n[o];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Rt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ic{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;i5(n)&&(s=this.register(n));const i=this.items,o=e.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,n5(e,r,s),this.override&&At.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in At[i]&&(delete At[i][s],this.override&&delete vo[s])}}function n5(t,e,n){const s=za(Object.create(null),[n?At.get(n):{},At.get(e),t.defaults]);At.set(e,s),t.defaultRoutes&&s5(e,t.defaultRoutes),t.descriptors&&At.describe(e,t.descriptors)}function s5(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),o=[t].concat(s).join("."),r=e[n].split("."),a=r.pop(),l=r.join(".");At.route(o,i,l,a)})}function i5(t){return"id"in t&&"defaults"in t}class o5{constructor(){this.controllers=new ic(zn,"datasets",!0),this.elements=new ic(Js,"elements"),this.plugins=new ic(Object,"plugins"),this.scales=new ic(Ro,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const o=s||this._getRegistryForType(i);s||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Xe(i,r=>{const a=s||this._getRegistryForType(r);this._exec(e,a,r)})})}_exec(e,n,s){const i=sg(e);rt(s["before"+i],[],s),n[e](s),rt(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var ns=new o5;class r5{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),r=this._notify(o,e,n,s);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,n,s,i){i=i||{};for(const o of e){const r=o.plugin,a=r[s],l=[n,i,o.options];if(rt(a,l,r)===!1&&i.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=Se(s.options&&s.options.plugins,{}),o=a5(s);return i===!1&&!n?[]:c5(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function a5(t){const e={},n=[],s=Object.keys(ns.plugins.items);for(let o=0;o<s.length;o++)n.push(ns.getPlugin(s[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];n.indexOf(r)===-1&&(n.push(r),e[r.id]=!0)}return{plugins:n,localIds:e}}function l5(t,e){return!e&&t===!1?null:t===!0?{}:t}function c5(t,{plugins:e,localIds:n},s,i){const o=[],r=t.getContext();for(const a of e){const l=a.id,c=l5(s[l],i);c!==null&&o.push({plugin:a,options:u5(t.config,{plugin:a,local:n[l]},c,r)})}return o}function u5(t,{plugin:e,local:n},s,i){const o=t.pluginScopeKeys(e),r=t.getOptionScopes(s,o);return n&&e.defaults&&r.push(e.defaults),t.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yf(t,e){const n=At.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function d5(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function h5(t,e){return t===e?"_index_":"_value_"}function bb(t){if(t==="x"||t==="y"||t==="r")return t}function f5(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function bf(t,...e){if(bb(t))return t;for(const n of e){const s=n.axis||f5(n.position)||t.length>1&&bb(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function vb(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function p5(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return vb(t,"x",n[0])||vb(t,"y",n[0])}return{}}function g5(t,e){const n=vo[t.type]||{scales:{}},s=e.scales||{},i=yf(t.type,e),o=Object.create(null);return Object.keys(s).forEach(r=>{const a=s[r];if(!Oe(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=bf(r,a,p5(r,t),At.scales[a.type]),c=h5(l,i),u=n.scales||{};o[r]=Ca(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(r=>{const a=r.type||t.type,l=r.indexAxis||yf(a,e),u=(vo[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=d5(d,l),p=r[h+"AxisID"]||h;o[p]=o[p]||Object.create(null),Ca(o[p],[{axis:h},s[p],u[d]])})}),Object.keys(o).forEach(r=>{const a=o[r];Ca(a,[At.scales[a.type],At.scale])}),o}function xS(t){const e=t.options||(t.options={});e.plugins=Se(e.plugins,{}),e.scales=g5(t,e)}function CS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function m5(t){return t=t||{},t.data=CS(t.data),xS(t),t}const wb=new Map,kS=new Set;function oc(t,e){let n=wb.get(t);return n||(n=e(),wb.set(t,n),kS.add(n)),n}const na=(t,e,n)=>{const s=Ri(e,n);s!==void 0&&t.add(s)};class _5{constructor(e){this._config=m5(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=CS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return oc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return oc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return oc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return oc(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:o}=this,r=this._cachedScopes(e,s),a=r.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>na(l,e,d))),u.forEach(d=>na(l,i,d)),u.forEach(d=>na(l,vo[o]||{},d)),u.forEach(d=>na(l,At,d)),u.forEach(d=>na(l,gf,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),kS.has(n)&&r.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,vo[n]||{},At.datasets[n]||{},{type:n},At,gf]}resolveNamedOptions(e,n,s,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Ab(this._resolverCache,e,i);let l=r;if(b5(r,n)){o.$shared=!1,s=Oi(s)?s():s;const c=this.createResolver(e,s,a);l=pr(r,s,c)}for(const c of n)o[c]=l[c];return o}createResolver(e,n,s=[""],i){const{resolver:o}=Ab(this._resolverCache,e,s);return Oe(n)?pr(o,n,void 0,i):o}}function Ab(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let o=s.get(i);return o||(o={resolver:cg(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,o)),o}const y5=t=>Oe(t)&&Object.getOwnPropertyNames(t).some(e=>Oi(t[e]));function b5(t,e){const{isScriptable:n,isIndexable:s}=oS(t);for(const i of e){const o=n(i),r=s(i),a=(r||o)&&t[i];if(o&&(Oi(a)||y5(a))||r&&ht(a))return!0}return!1}var v5="4.4.1";const w5=["top","bottom","left","right","chartArea"];function Sb(t,e){return t==="top"||t==="bottom"||w5.indexOf(t)===-1&&e==="x"}function xb(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Cb(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),rt(n&&n.onComplete,[t],e)}function A5(t){const e=t.chart,n=e.options.animation;rt(n&&n.onProgress,[t],e)}function ES(t){return hg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Mc={},kb=t=>{const e=ES(t);return Object.values(Mc).filter(n=>n.canvas===e).pop()};function S5(t,e,n){const s=Object.keys(t);for(const i of s){const o=+i;if(o>=e){const r=t[i];delete t[i],(n>0||o>e)&&(t[o+n]=r)}}}function x5(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}function rc(t,e,n){return t.options.clip?t[n]:e[n]}function C5(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:rc(n,e,"left"),right:rc(n,e,"right"),top:rc(s,e,"top"),bottom:rc(s,e,"bottom")}:e}class Yn{static register(...e){ns.add(...e),Eb()}static unregister(...e){ns.remove(...e),Eb()}constructor(e,n){const s=this.config=new _5(n),i=ES(e),o=kb(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Vz(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Ej(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new r5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Wj(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],Mc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Cs.listen(this,"complete",Cb),Cs.listen(this,"progress",A5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:o}=this;return We(e)?n&&o?o:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ky(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jy(this.canvas,this.ctx),this}stop(){return Cs.stop(this),this}resize(e,n){Cs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,e,n,o),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Ky(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),rt(s.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Xe(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((r,a)=>(r[a]=!1,r),{});let o=[];n&&(o=o.concat(Object.keys(n).map(r=>{const a=n[r],l=bf(r,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Xe(o,r=>{const a=r.options,l=a.id,c=bf(l,a),u=Se(a.type,r.dtype);(a.position===void 0||Sb(a.position,c)!==Sb(r.dposition))&&(a.position=r.dposition),i[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const h=ns.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),Xe(i,(r,a)=>{r||delete s[a]}),Xe(s,r=>{Qt.configure(this,r,r.options),Qt.addBox(this,r)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,o)=>i.index-o.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(xb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const o=n[s];let r=this.getDatasetMeta(s);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(s),r=this.getDatasetMeta(s)),r.type=a,r.indexAxis=o.indexAxis||yf(a,this.options),r.order=o.order||0,r.index=s,r.label=""+o.label,r.visible=this.isDatasetVisible(s),r.controller)r.controller.updateIndex(s),r.controller.linkScales();else{const l=ns.getController(a),{datasetElementType:c,dataElementType:u}=At.datasets[a];Object.assign(l,{dataElementType:ns.getElement(u),datasetElementType:c&&ns.getElement(c)}),r.controller=new l(this,s),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&o.indexOf(d)===-1;d.buildOrUpdateElements(h),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=s.layout.autoPadding?r:0,this._updateLayout(r),i||Xe(o,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xb("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Xe(this.scales,e=>{Qt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Ly(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:o}of n){const r=s==="_removeElements"?-o:o;S5(e,i,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(e.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=s(0);for(let o=1;o<n;o++)if(!Ly(i,s(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Qt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Xe(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Oi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Cs.has(this)?this.attached&&!Cs.running(this)&&Cs.start(this):(this.draw(),Cb({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resize(s,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,o;for(i=0,o=n.length;i<o;++i){const r=n[i];(!e||r.visible)&&s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,i=!s.disabled,o=C5(e,this.chartArea),r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Zu(n,{left:s.left===!1?0:o.left-s.left,right:s.right===!1?this.width:o.right+s.right,top:s.top===!1?0:o.top-s.top,bottom:s.bottom===!1?this.height:o.bottom+s.bottom}),e.controller.draw(),i&&ed(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Is(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const o=wz.modes[n];return typeof o=="function"?o(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Hi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",o=this.getDatasetMeta(e),r=o.controller._resolveAnimations(void 0,i);Ga(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),r.update(o,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Cs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),jy(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Mc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(o,r)=>{n.addEventListener(this,o,r),e[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};Xe(this.options.events,o=>s(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",o),s("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():r()}unbindEvents(){Xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let o,r,a,l;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){r=e[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!jc(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,o=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),r=o(n,e),a=s?e:o(e,n);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:o}=this,r=n,a=this._getActiveElements(e,i,s,r),l=Oj(e),c=x5(e,this._lastEvent,s,l);s&&(this._lastEvent=null,rt(o.onHover,[e,a,this],this),l&&rt(o.onClick,[e,a,this],this));const u=!jc(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}}ee(Yn,"defaults",At),ee(Yn,"instances",Mc),ee(Yn,"overrides",vo),ee(Yn,"registry",ns),ee(Yn,"version",v5),ee(Yn,"getChart",kb);function Eb(){return Xe(Yn.instances,t=>t._plugins.invalidate())}function k5(t,e,n){const{startAngle:s,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(o,r,a,s-c,n+c),l>i?(c=i/l,t.arc(o,r,l,n+c,s-c,!0)):t.arc(o,r,i,n+xt,s-xt),t.closePath(),t.clip()}function E5(t){return lg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function M5(t,e,n,s){const i=E5(t.options.borderRadius),o=(n-e)/2,r=Math.min(o,s*e/2),a=l=>{const c=(n-Math.min(o,l))*s/2;return Yt(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Yt(i.innerStart,0,r),innerEnd:Yt(i.innerEnd,0,r)}}function Uo(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Xc(t,e,n,s,i,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+s+n-c,0),h=u>0?u+s+n+c:0;let p=0;const g=i-l;if(s){const ce=u>0?u-s:0,te=d>0?d-s:0,Y=(ce+te)/2,ae=Y!==0?g*Y/(Y+s):g;p=(g-ae)/2}const m=Math.max(.001,g*d-n/pt)/d,_=(g-m)/2,w=l+_+p,A=i-_-p,{outerStart:x,outerEnd:C,innerStart:E,innerEnd:D}=M5(e,h,d,A-w),R=d-x,b=d-C,v=w+x/R,M=A-C/b,F=h+E,U=h+D,ne=w+E/F,de=A-D/U;if(t.beginPath(),o){const ce=(v+M)/2;if(t.arc(r,a,d,v,ce),t.arc(r,a,d,ce,M),C>0){const se=Uo(b,M,r,a);t.arc(se.x,se.y,C,M,A+xt)}const te=Uo(U,A,r,a);if(t.lineTo(te.x,te.y),D>0){const se=Uo(U,de,r,a);t.arc(se.x,se.y,D,A+xt,de+Math.PI)}const Y=(A-D/h+(w+E/h))/2;if(t.arc(r,a,h,A-D/h,Y,!0),t.arc(r,a,h,Y,w+E/h,!0),E>0){const se=Uo(F,ne,r,a);t.arc(se.x,se.y,E,ne+Math.PI,w-xt)}const ae=Uo(R,w,r,a);if(t.lineTo(ae.x,ae.y),x>0){const se=Uo(R,v,r,a);t.arc(se.x,se.y,x,w-xt,v)}}else{t.moveTo(r,a);const ce=Math.cos(v)*d+r,te=Math.sin(v)*d+a;t.lineTo(ce,te);const Y=Math.cos(M)*d+r,ae=Math.sin(M)*d+a;t.lineTo(Y,ae)}t.closePath()}function T5(t,e,n,s,i){const{fullCircles:o,startAngle:r,circumference:a}=e;let l=e.endAngle;if(o){Xc(t,e,n,s,l,i);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=r+(a%ft||ft))}return Xc(t,e,n,s,l,i),t.fill(),l}function D5(t,e,n,s,i){const{fullCircles:o,startAngle:r,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(o){Xc(t,e,n,s,g,i);for(let m=0;m<o;++m)t.stroke();isNaN(a)||(g=r+(a%ft||ft))}p&&k5(t,e,g),o||(Xc(t,e,n,s,g,i),t.stroke())}class pa extends Js{constructor(n){super();ee(this,"circumference");ee(this,"endAngle");ee(this,"fullCircles");ee(this,"innerRadius");ee(this,"outerRadius");ee(this,"pixelMargin");ee(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=qA(o,{x:n,y:s}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=Se(h,c-l)>=ft||Ka(r,l,c),_=Ts(a,u+p,d+p);return m&&_}getCenterPoint(n){const{x:s,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(o+r)/2,h=(a+l+u+c)/2;return{x:s+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,o=(s.offset||0)/4,r=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>ft?Math.floor(i/ft):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(pt,i||0)),u=o*c;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,T5(n,this,u,r,a),D5(n,this,u,r,a),n.restore()}}ee(pa,"id","arc"),ee(pa,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ee(pa,"defaultRoutes",{backgroundColor:"backgroundColor"}),ee(pa,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function MS(t,e,n=e){t.lineCap=Se(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Se(n.borderDash,e.borderDash)),t.lineDashOffset=Se(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Se(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Se(n.borderWidth,e.borderWidth),t.strokeStyle=Se(n.borderColor,e.borderColor)}function I5(t,e,n){t.lineTo(n.x,n.y)}function R5(t){return t.stepped?t4:t.tension||t.cubicInterpolationMode==="monotone"?n4:I5}function TS(t,e,n={}){const s=t.length,{start:i=0,end:o=s-1}=n,{start:r,end:a}=e,l=Math.max(i,r),c=Math.min(o,a),u=i<r&&o<r||i>a&&o>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function O5(t,e,n,s){const{points:i,options:o}=e,{count:r,start:a,loop:l,ilen:c}=TS(i,n,s),u=R5(o);let{move:d=!0,reverse:h}=s||{},p,g,m;for(p=0;p<=c;++p)g=i[(a+(h?c-p:p))%r],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,m,g,h,o.stepped),m=g);return l&&(g=i[(a+(h?c:0))%r],u(t,m,g,h,o.stepped)),!!l}function P5(t,e,n,s){const i=e.points,{count:o,start:r,ilen:a}=TS(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,h,p,g,m,_,w;const A=C=>(r+(c?a-C:C))%o,x=()=>{m!==_&&(t.lineTo(u,_),t.lineTo(u,m),t.lineTo(u,w))};for(l&&(p=i[A(0)],t.moveTo(p.x,p.y)),h=0;h<=a;++h){if(p=i[A(h)],p.skip)continue;const C=p.x,E=p.y,D=C|0;D===g?(E<m?m=E:E>_&&(_=E),u=(d*u+C)/++d):(x(),t.lineTo(C,E),g=D,d=0,m=_=E),w=E}x()}function vf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?P5:O5}function N5(t){return t.stepped?P4:t.tension||t.cubicInterpolationMode==="monotone"?N4:so}function L5(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),MS(t,e.options),t.stroke(i)}function F5(t,e,n,s){const{segments:i,options:o}=e,r=vf(e);for(const a of i)MS(t,o,a.style),t.beginPath(),r(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const $5=typeof Path2D=="function";function B5(t,e,n,s){$5&&!e.options.segment?L5(t,e,n,s):F5(t,e,n,s)}class fi extends Js{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;k4(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=U4(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],o=this.points,r=gS(this,{property:n,start:i,end:i});if(!r.length)return;const a=[],l=N5(s);let c,u;for(c=0,u=r.length;c<u;++c){const{start:d,end:h}=r[c],p=o[d],g=o[h];if(p===g){a.push(p);continue}const m=Math.abs((i-p[n])/(g[n]-p[n])),_=l(p,g,m,s.stepped);_[n]=e[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(e,n,s){return vf(this)(e,this,n,s)}path(e,n,s){const i=this.segments,o=vf(this);let r=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)r&=o(e,this,a,{start:n,end:n+s-1});return!!r}draw(e,n,s,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),B5(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ee(fi,"id","line"),ee(fi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ee(fi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ee(fi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Mb(t,e,n,s){const i=t.options,{[n]:o}=t.getProps([n],s);return Math.abs(e-o)<i.radius+i.hitRadius}class Tc extends Js{constructor(n){super();ee(this,"parsed");ee(this,"skip");ee(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(n-r,2)+Math.pow(s-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,s){return Mb(this,n,"x",s)}inYRange(n,s){return Mb(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!Is(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,mf(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ee(Tc,"id","point"),ee(Tc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ee(Tc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function DS(t,e){const{x:n,y:s,base:i,width:o,height:r}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=r/2,a=Math.min(n,i),l=Math.max(n,i),c=s-d,u=s+d):(d=o/2,a=n-d,l=n+d,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function pi(t,e,n,s){return t?0:Yt(e,n,s)}function Y5(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,o=iS(s);return{t:pi(i.top,o.top,0,n),r:pi(i.right,o.right,0,e),b:pi(i.bottom,o.bottom,0,n),l:pi(i.left,o.left,0,e)}}function U5(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=po(i),r=Math.min(e,n),a=t.borderSkipped,l=s||Oe(i);return{topLeft:pi(!l||a.top||a.left,o.topLeft,0,r),topRight:pi(!l||a.top||a.right,o.topRight,0,r),bottomLeft:pi(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:pi(!l||a.bottom||a.right,o.bottomRight,0,r)}}function V5(t){const e=DS(t),n=e.right-e.left,s=e.bottom-e.top,i=Y5(t,n/2,s/2),o=U5(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function yh(t,e,n,s){const i=e===null,o=n===null,a=t&&!(i&&o)&&DS(t,s);return a&&(i||Ts(e,a.left,a.right))&&(o||Ts(n,a.top,a.bottom))}function W5(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function H5(t,e){t.rect(e.x,e.y,e.w,e.h)}function bh(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-s,r=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+o,h:t.h+r,radius:t.radius}}class Dc extends Js{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:o,outer:r}=V5(this),a=W5(r.radius)?qa:H5;e.save(),(r.w!==o.w||r.h!==o.h)&&(e.beginPath(),a(e,bh(r,n,o)),e.clip(),a(e,bh(o,-n,r)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,bh(o,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return yh(this,e,n,s)}inXRange(e,n){return yh(this,e,null,n)}inYRange(e,n){return yh(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+i)/2:n,y:o?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ee(Dc,"id","bar"),ee(Dc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ee(Dc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var j5=Object.freeze({__proto__:null,ArcElement:pa,BarElement:Dc,LineElement:fi,PointElement:Tc});const wf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Tb=wf.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function IS(t){return wf[t%wf.length]}function RS(t){return Tb[t%Tb.length]}function z5(t,e){return t.borderColor=IS(e),t.backgroundColor=RS(e),++e}function G5(t,e){return t.backgroundColor=t.data.map(()=>IS(e++)),e}function K5(t,e){return t.backgroundColor=t.data.map(()=>RS(e++)),e}function q5(t){let e=0;return(n,s)=>{const i=t.getDatasetMeta(s).controller;i instanceof lo?e=G5(n,e):i instanceof Ta?e=K5(n,e):i&&(e=z5(n,e))}}function Db(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Q5(t){return t&&(t.borderColor||t.backgroundColor)}var X5={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=t.config,{elements:o}=i;if(!n.forceOverride&&(Db(s)||Q5(i)||o&&Db(o)))return;const r=q5(t);s.forEach(r)}};function J5(t,e,n,s,i){const o=i.samples||s;if(o>=n)return t.slice(e,e+n);const r=[],a=(n-2)/(o-2);let l=0;const c=e+n-1;let u=e,d,h,p,g,m;for(r[l++]=t[u],d=0;d<o-2;d++){let _=0,w=0,A;const x=Math.floor((d+1)*a)+1+e,C=Math.min(Math.floor((d+2)*a)+1,n)+e,E=C-x;for(A=x;A<C;A++)_+=t[A].x,w+=t[A].y;_/=E,w/=E;const D=Math.floor(d*a)+1+e,R=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:b,y:v}=t[u];for(p=g=-1,A=D;A<R;A++)g=.5*Math.abs((b-_)*(t[A].y-v)-(b-t[A].x)*(w-v)),g>p&&(p=g,h=t[A],m=A);r[l++]=h,u=m}return r[l++]=t[c],r}function Z5(t,e,n,s){let i=0,o=0,r,a,l,c,u,d,h,p,g,m;const _=[],w=e+n-1,A=t[e].x,C=t[w].x-A;for(r=e;r<e+n;++r){a=t[r],l=(a.x-A)/C*s,c=a.y;const E=l|0;if(E===u)c<g?(g=c,d=r):c>m&&(m=c,h=r),i=(o*i+a.x)/++o;else{const D=r-1;if(!We(d)&&!We(h)){const R=Math.min(d,h),b=Math.max(d,h);R!==p&&R!==D&&_.push({...t[R],x:i}),b!==p&&b!==D&&_.push({...t[b],x:i})}r>0&&D!==p&&_.push(t[D]),_.push(a),u=E,o=0,g=m=c,d=h=p=r}}return _}function OS(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Ib(t){t.data.datasets.forEach(e=>{OS(e)})}function e3(t,e){const n=e.length;let s=0,i;const{iScale:o}=t,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(s=Yt(Ds(e,o.axis,r).lo,0,n-1)),c?i=Yt(Ds(e,o.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var t3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Ib(t);return}const s=t.width;t.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,l=t.getDatasetMeta(o),c=r||i.data;if(ha([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=e3(l,c);const p=n.threshold||4*s;if(h<=p){OS(i);return}We(r)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(n.algorithm){case"lttb":g=J5(c,d,h,s,n);break;case"min-max":g=Z5(c,d,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(t){Ib(t)}};function n3(t,e,n){const s=t.segments,i=t.points,o=e.points,r=[];for(const a of s){let{start:l,end:c}=a;c=gg(l,c,i);const u=Af(n,i[l],i[c],a.loop);if(!e.segments){r.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=gS(e,u);for(const h of d){const p=Af(n,o[h.start],o[h.end],h.loop),g=pS(a,i,p);for(const m of g)r.push({source:m,target:h,start:{[n]:Rb(u,p,"start",Math.max)},end:{[n]:Rb(u,p,"end",Math.min)}})}}return r}function Af(t,e,n,s){if(s)return;let i=e[t],o=n[t];return t==="angle"&&(i=yn(i),o=yn(o)),{property:t,start:i,end:o}}function s3(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,o=[];return e.segments.forEach(({start:r,end:a})=>{a=gg(r,a,i);const l=i[r],c=i[a];s!==null?(o.push({x:l.x,y:s}),o.push({x:c.x,y:s})):n!==null&&(o.push({x:n,y:l.y}),o.push({x:n,y:c.y}))}),o}function gg(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Rb(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function PS(t,e){let n=[],s=!1;return ht(t)?(s=!0,n=t):n=s3(t,e),n.length?new fi({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Ob(t){return t&&t.fill!==!1}function i3(t,e,n){let i=t[e].fill;const o=[e];let r;if(!n)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!wt(i))return i;if(r=t[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function o3(t,e,n){const s=c3(t);if(Oe(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return wt(i)&&Math.floor(i)===i?r3(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function r3(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function a3(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Oe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function l3(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Oe(t)?s=t.value:s=e.getBaseValue(),s}function c3(t){const e=t.options,n=e.fill;let s=Se(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function u3(t){const{scale:e,index:n,line:s}=t,i=[],o=s.segments,r=s.points,a=d3(e,n);a.push(PS({x:null,y:e.bottom},s));for(let l=0;l<o.length;l++){const c=o[l];for(let u=c.start;u<=c.end;u++)h3(i,r[u],a)}return new fi({points:i,options:{}})}function d3(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const o=s[i];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function h3(t,e,n){const s=[];for(let i=0;i<n.length;i++){const o=n[i],{first:r,last:a,point:l}=f3(o,e,"x");if(!(!l||r&&a)){if(r)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function f3(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],o=t.segments,r=t.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const u=o[c],d=r[u.start][n],h=r[u.end][n];if(Ts(i,d,h)){a=i===d,l=i===h;break}}return{first:a,last:l,point:s}}class NS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:o,radius:r}=this;return n=n||{start:0,end:ft},e.arc(i,o,r,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,o=e.angle;return{x:n+Math.cos(o)*i,y:s+Math.sin(o)*i,angle:o}}}function p3(t){const{chart:e,fill:n,line:s}=t;if(wt(n))return g3(e,n);if(n==="stack")return u3(t);if(n==="shape")return!0;const i=m3(t);return i instanceof NS?i:PS(i,s)}function g3(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function m3(t){return(t.scale||{}).getPointPositionForValue?y3(t):_3(t)}function _3(t){const{scale:e={},fill:n}=t,s=a3(n,e);if(wt(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function y3(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,o=s.reverse?e.max:e.min,r=l3(n,e,o),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,o);return new NS({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,r));return a}function vh(t,e,n){const s=p3(e),{line:i,scale:o,axis:r}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};s&&i.points.length&&(Zu(t,n),b3(t,{line:i,target:s,above:u,below:d,area:n,scale:o,axis:r}),ed(t))}function b3(t,e){const{line:n,target:s,above:i,below:o,area:r,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&o!==i&&(Pb(t,s,r.top),Nb(t,{line:n,target:s,color:i,scale:a,property:l}),t.restore(),t.save(),Pb(t,s,r.bottom)),Nb(t,{line:n,target:s,color:o,scale:a,property:l}),t.restore()}function Pb(t,e,n){const{segments:s,points:i}=e;let o=!0,r=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],d=i[gg(l,c,i)];o?(t.moveTo(u.x,u.y),o=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),r=!!e.pathSegment(t,a,{move:r}),r?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Nb(t,e){const{line:n,target:s,property:i,color:o,scale:r}=e,a=n3(n,s,i);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:h=o}={}}=l,p=s!==!0;t.save(),t.fillStyle=h,v3(t,r,p&&Af(i,u,d)),t.beginPath();const g=!!n.pathSegment(t,l);let m;if(p){g?t.closePath():Lb(t,s,d,i);const _=!!s.pathSegment(t,c,{move:g,reverse:!0});m=g&&_,m||Lb(t,s,u,i)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function v3(t,e,n){const{top:s,bottom:i}=e.chart.chartArea,{property:o,start:r,end:a}=n||{};o==="x"&&(t.beginPath(),t.rect(r,s,a-r,i-s),t.clip())}function Lb(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var w3={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let o,r,a,l;for(r=0;r<s;++r)o=t.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof fi&&(l={visible:t.isDatasetVisible(r),index:r,fill:o3(a,r,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(r=0;r<s;++r)l=i[r],!(!l||l.fill===!1)&&(l.fill=i3(i,r,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),s&&a.fill&&vh(t.ctx,a,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const o=s[i].$filler;Ob(o)&&vh(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!Ob(s)||n.drawTime!=="beforeDatasetDraw"||vh(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Fb=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},A3=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class $b extends Js{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=rt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Rt(s.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Fb(s,o);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(r,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;o.textAlign="left",o.textBaseline="middle";let h=-1,p=-u;return this.legendItems.forEach((g,m)=>{const _=s+n/2+o.measureText(g.text).width;(m===0||c[c.length-1]+_+2*a>r)&&(d+=u,c[c.length-(m>0?0:1)]=0,p+=u,h++),l[m]={left:0,top:p,row:h,width:_,height:i},c[c.length-1]+=_+a}),d}_fitCols(e,n,s,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-e;let d=a,h=0,p=0,g=0,m=0;return this.legendItems.forEach((_,w)=>{const{itemWidth:A,itemHeight:x}=S3(s,n,o,_,i);w>0&&p+x+2*a>u&&(d+=h+a,c.push({width:h,height:p}),g+=h+a,m++,h=p=0),l[w]={left:g,top:p,col:m,width:A,height:x},h=Math.max(h,A),p+=x+a}),d+=h,c.push({width:h,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:o}}=this,r=er(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Gt(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Gt(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+i}else{let a=0,l=Gt(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Gt(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Zu(e,this),this._draw(),ed(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:o,labels:r}=e,a=At.color,l=er(e.rtl,this.left,this.width),c=Rt(r.font),{padding:u}=r,d=c.size,h=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:_}=Fb(r,d),w=function(D,R,b){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const v=Se(b.lineWidth,1);if(i.fillStyle=Se(b.fillStyle,a),i.lineCap=Se(b.lineCap,"butt"),i.lineDashOffset=Se(b.lineDashOffset,0),i.lineJoin=Se(b.lineJoin,"miter"),i.lineWidth=v,i.strokeStyle=Se(b.strokeStyle,a),i.setLineDash(Se(b.lineDash,[])),r.usePointStyle){const M={radius:m*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:v},F=l.xPlus(D,g/2),U=R+h;sS(i,M,F,U,r.pointStyleWidth&&g)}else{const M=R+Math.max((d-m)/2,0),F=l.leftForLtr(D,g),U=po(b.borderRadius);i.beginPath(),Object.values(U).some(ne=>ne!==0)?qa(i,{x:F,y:M,w:g,h:m,radius:U}):i.rect(F,M,g,m),i.fill(),v!==0&&i.stroke()}i.restore()},A=function(D,R,b){wo(i,b.text,D,R+_/2,c,{strikethrough:b.hidden,textAlign:l.textAlign(b.textAlign)})},x=this.isHorizontal(),C=this._computeTitleHeight();x?p={x:Gt(o,this.left+u,this.right-s[0]),y:this.top+u+C,line:0}:p={x:this.left+u,y:Gt(o,this.top+C+u,this.bottom-n[0].height),line:0},dS(this.ctx,e.textDirection);const E=_+u;this.legendItems.forEach((D,R)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;const b=i.measureText(D.text).width,v=l.textAlign(D.textAlign||(D.textAlign=r.textAlign)),M=g+h+b;let F=p.x,U=p.y;l.setWidth(this.width),x?R>0&&F+M+u>this.right&&(U=p.y+=E,p.line++,F=p.x=Gt(o,this.left+u,this.right-s[p.line])):R>0&&U+E>this.bottom&&(F=p.x=F+n[p.line].width+u,p.line++,U=p.y=Gt(o,this.top+C+u,this.bottom-n[p.line].height));const ne=l.x(F);if(w(ne,U,D),F=Hj(v,F+g+h,x?F+M:this.right,e.rtl),A(l.x(F),U,D),x)p.x+=M+u;else if(typeof D.text!="string"){const de=c.lineHeight;p.y+=LS(D,de)+u}else p.y+=E}),hS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Rt(n.font),i=Zt(n.padding);if(!n.display)return;const o=er(e.rtl,this.left,this.width),r=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Gt(e.align,d,this.right-h);else{const g=this.columnSizes.reduce((m,_)=>Math.max(m,_.height),0);u=c+Gt(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=Gt(a,d,d+h);r.textAlign=o.textAlign(rg(a)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=s.string,wo(r,n.text,p,u,s)}_computeTitleHeight(){const e=this.options.title,n=Rt(e.font),s=Zt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,o;if(Ts(e,this.left,this.right)&&Ts(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(i=o[s],Ts(e,i.left,i.left+i.width)&&Ts(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!k3(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=A3(i,s);i&&!o&&rt(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!o&&rt(n.onHover,[e,s,this],this)}else s&&rt(n.onClick,[e,s,this],this)}}function S3(t,e,n,s,i){const o=x3(s,t,e,n),r=C3(i,s,e.lineHeight);return{itemWidth:o,itemHeight:r}}function x3(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),e+n.size/2+s.measureText(i).width}function C3(t,e,n){let s=t;return typeof e.text!="string"&&(s=LS(e,n)),s}function LS(t,e){const n=t.text?t.text.length:0;return e*n}function k3(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var E3={id:"legend",_element:$b,start(t,e,n){const s=t.legend=new $b({ctx:t.ctx,options:n,chart:t});Qt.configure(t,s,n),Qt.addBox(t,s)},stop(t){Qt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;Qt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Zt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class mg extends Js{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ht(s.text)?s.text.length:1;this._padding=Zt(s.padding);const o=i*Rt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:o,options:r}=this,a=r.align;let l=0,c,u,d;return this.isHorizontal()?(u=Gt(a,s,o),d=n+e,c=o-s):(r.position==="left"?(u=s+e,d=Gt(a,i,n),l=pt*-.5):(u=o-e,d=Gt(a,n,i),l=pt*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Rt(n.font),o=s.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);wo(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:rg(n.align),textBaseline:"middle",translation:[r,a]})}}function M3(t,e){const n=new mg({ctx:t.ctx,options:e,chart:t});Qt.configure(t,n,e),Qt.addBox(t,n),t.titleBlock=n}var T3={id:"title",_element:mg,start(t,e,n){M3(t,n)},stop(t){const e=t.titleBlock;Qt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;Qt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ac=new WeakMap;var D3={id:"subtitle",start(t,e,n){const s=new mg({ctx:t.ctx,options:n,chart:t});Qt.configure(t,s,n),Qt.addBox(t,s),ac.set(t,s)},stop(t){Qt.removeBox(t,ac.get(t)),ac.delete(t)},beforeUpdate(t,e,n){const s=ac.get(t);Qt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ga={average(t){if(!t.length)return!1;let e,n,s=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const r=t[e].element;if(r&&r.hasValue()){const a=r.tooltipPosition();s+=a.x,i+=a.y,++o}}return{x:s/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=t.length;o<r;++o){const l=t[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=pf(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function ts(t,e){return e&&(ht(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ks(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function I3(t,e){const{element:n,datasetIndex:s,index:i}=e,o=t.getDatasetMeta(s).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:t,label:r,parsed:o.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Bb(t,e){const n=t.chart.ctx,{body:s,footer:i,title:o}=t,{boxWidth:r,boxHeight:a}=e,l=Rt(e.bodyFont),c=Rt(e.titleFont),u=Rt(e.footerFont),d=o.length,h=i.length,p=s.length,g=Zt(e.padding);let m=g.height,_=0,w=s.reduce((C,E)=>C+E.before.length+E.lines.length+E.after.length,0);if(w+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),w){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*C+(w-p)*l.lineHeight+(w-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let A=0;const x=function(C){_=Math.max(_,n.measureText(C).width+A)};return n.save(),n.font=c.string,Xe(t.title,x),n.font=l.string,Xe(t.beforeBody.concat(t.afterBody),x),A=e.displayColors?r+2+e.boxPadding:0,Xe(s,C=>{Xe(C.before,x),Xe(C.lines,x),Xe(C.after,x)}),A=0,n.font=u.string,Xe(t.footer,x),n.restore(),_+=g.width,{width:_,height:m}}function R3(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function O3(t,e,n,s){const{x:i,width:o}=s,r=n.caretSize+n.caretPadding;if(t==="left"&&i+o+r>e.width||t==="right"&&i-o-r<0)return!0}function P3(t,e,n,s){const{x:i,width:o}=n,{width:r,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=r-o/2&&(c="right"),O3(c,t,e,n)&&(c="center"),c}function Yb(t,e,n){const s=n.yAlign||e.yAlign||R3(t,n);return{xAlign:n.xAlign||e.xAlign||P3(t,e,n,s),yAlign:s}}function N3(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function L3(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Ub(t,e,n,s){const{caretSize:i,caretPadding:o,cornerRadius:r}=t,{xAlign:a,yAlign:l}=n,c=i+o,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=po(r);let g=N3(e,a);const m=L3(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,h)+i:a==="right"&&(g+=Math.max(d,p)+i),{x:Yt(g,0,s.width-e.width),y:Yt(m,0,s.height-e.height)}}function lc(t,e,n){const s=Zt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Vb(t){return ts([],ks(t))}function F3(t,e,n){return Hi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Wb(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const FS={beforeTitle:Ss,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Ss,beforeBody:Ss,beforeLabel:Ss,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return We(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ss,afterBody:Ss,beforeFooter:Ss,footer:Ss,afterFooter:Ss};function nn(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?FS[e].call(n,s):i}class Sf extends Js{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,o=new mS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=F3(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=nn(s,"beforeTitle",this,e),o=nn(s,"title",this,e),r=nn(s,"afterTitle",this,e);let a=[];return a=ts(a,ks(i)),a=ts(a,ks(o)),a=ts(a,ks(r)),a}getBeforeBody(e,n){return Vb(nn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return Xe(e,o=>{const r={before:[],lines:[],after:[]},a=Wb(s,o);ts(r.before,ks(nn(a,"beforeLabel",this,o))),ts(r.lines,nn(a,"label",this,o)),ts(r.after,ks(nn(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(e,n){return Vb(nn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=nn(s,"beforeFooter",this,e),o=nn(s,"footer",this,e),r=nn(s,"afterFooter",this,e);let a=[];return a=ts(a,ks(i)),a=ts(a,ks(o)),a=ts(a,ks(r)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],o=[],r=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(I3(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),Xe(a,u=>{const d=Wb(e.callbacks,u);i.push(nn(d,"labelColor",this,u)),o.push(nn(d,"labelPointStyle",this,u)),r.push(nn(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=ga[s.position].call(this,i,this._eventPosition);r=this._createItems(s),this.title=this.getTitle(r,s),this.beforeBody=this.getBeforeBody(r,s),this.body=this.getBody(r,s),this.afterBody=this.getAfterBody(r,s),this.footer=this.getFooter(r,s);const l=this._size=Bb(this,s),c=Object.assign({},a,l),u=Yb(this.chart,s,c),d=Ub(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const o=this.getCaretPosition(e,s,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=po(a),{x:h,y:p}=e,{width:g,height:m}=n;let _,w,A,x,C,E;return o==="center"?(C=p+m/2,i==="left"?(_=h,w=_-r,x=C+r,E=C-r):(_=h+g,w=_+r,x=C-r,E=C+r),A=_):(i==="left"?w=h+Math.max(l,u)+r:i==="right"?w=h+g-Math.max(c,d)-r:w=this.caretX,o==="top"?(x=p,C=x-r,_=w-r,A=w+r):(x=p+m,C=x+r,_=w+r,A=w-r),E=x),{x1:_,x2:w,x3:A,y1:x,y2:C,y3:E}}drawTitle(e,n,s){const i=this.title,o=i.length;let r,a,l;if(o){const c=er(s.rtl,this.x,this.width);for(e.x=lc(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",r=Rt(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=r.string,l=0;l<o;++l)n.fillText(i[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,l+1===o&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,o){const r=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=o,u=Rt(o.bodyFont),d=lc(this,"left",o),h=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+p;if(o.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(h,c)+c/2,w=g+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,mf(e,m,_,w),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,mf(e,m,_,w)}else{e.lineWidth=Oe(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const m=i.leftForLtr(h,c),_=i.leftForLtr(i.xPlus(h,1),c-2),w=po(r.borderRadius);Object.values(w).some(A=>A!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,qa(e,{x:m,y:g,w:c,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),qa(e,{x:_,y:g+1,w:c-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(m,g,c,l),e.strokeRect(m,g,c,l),e.fillStyle=r.backgroundColor,e.fillRect(_,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=Rt(s.bodyFont);let h=d.lineHeight,p=0;const g=er(s.rtl,this.x,this.width),m=function(b){n.fillText(b,g.x(e.x+p),e.y+h/2),e.y+=h+o},_=g.textAlign(r);let w,A,x,C,E,D,R;for(n.textAlign=r,n.textBaseline="middle",n.font=d.string,e.x=lc(this,_,s),n.fillStyle=s.bodyColor,Xe(this.beforeBody,m),p=a&&_!=="right"?r==="center"?c/2+u:c+2+u:0,C=0,D=i.length;C<D;++C){for(w=i[C],A=this.labelTextColors[C],n.fillStyle=A,Xe(w.before,m),x=w.lines,a&&x.length&&(this._drawColorBox(n,e,C,g,s),h=Math.max(d.lineHeight,l)),E=0,R=x.length;E<R;++E)m(x[E]),h=d.lineHeight;Xe(w.after,m)}p=0,h=d.lineHeight,Xe(this.afterBody,m),e.y-=o}drawFooter(e,n,s){const i=this.footer,o=i.length;let r,a;if(o){const l=er(s.rtl,this.x,this.width);for(e.x=lc(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",r=Rt(s.footerFont),n.fillStyle=s.footerColor,n.font=r.string,a=0;a<o;++a)n.fillText(i[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:g}=po(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),r==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),r==="center"&&o==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),r==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),r==="center"&&o==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,o=s&&s.y;if(i||o){const r=ga[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Bb(this,e),l=Object.assign({},r,this._size),c=Yb(n,e,l),u=Ub(e,l,c,n);(i._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const r=Zt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,i,n),dS(e,n.textDirection),o.y+=r.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),hS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!jc(s,i),r=this._positionChanged(i,n);(o||r)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(e,o,n,s),a=this._positionChanged(r,e),l=n||!jc(r,o)||a;return l&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&r.reverse(),r}_positionChanged(e,n){const{caretX:s,caretY:i,options:o}=this,r=ga[o.position].call(this,e,n);return r!==!1&&(s!==r.x||i!==r.y)}}ee(Sf,"positioners",ga);var $3={id:"tooltip",_element:Sf,positioners:ga,afterInit(t,e,n){n&&(t.tooltip=new Sf({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:FS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},B3=Object.freeze({__proto__:null,Colors:X5,Decimation:t3,Filler:w3,Legend:E3,SubTitle:D3,Title:T3,Tooltip:$3});const Y3=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function U3(t,e,n,s){const i=t.indexOf(e);if(i===-1)return Y3(t,e,n,s);const o=t.lastIndexOf(e);return i!==o?n:i}const V3=(t,e)=>t===null?null:Yt(Math.round(t),0,e);function Hb(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class xf extends Ro{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:o}of n)s[i]===o&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(We(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:U3(s,e,Se(n,e),this._addedLabels),V3(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let r=e;r<=n;r++)i.push({value:r});return i}getLabelForValue(e){return Hb.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ee(xf,"id","category"),ee(xf,"defaults",{ticks:{callback:Hb}});function W3(t,e){const n=[],{bounds:i,step:o,min:r,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,p=o||1,g=u-1,{min:m,max:_}=e,w=!We(r),A=!We(a),x=!We(c),C=(_-m)/(d+1);let E=$y((_-m)/g/p)*p,D,R,b,v;if(E<1e-14&&!w&&!A)return[{value:m},{value:_}];v=Math.ceil(_/E)-Math.floor(m/E),v>g&&(E=$y(v*E/g/p)*p),We(l)||(D=Math.pow(10,l),E=Math.ceil(E*D)/D),i==="ticks"?(R=Math.floor(m/E)*E,b=Math.ceil(_/E)*E):(R=m,b=_),w&&A&&o&&Fj((a-r)/o,E/1e3)?(v=Math.round(Math.min((a-r)/E,u)),E=(a-r)/v,R=r,b=a):x?(R=w?r:R,b=A?a:b,v=c-1,E=(b-R)/v):(v=(b-R)/E,ka(v,Math.round(v),E/1e3)?v=Math.round(v):v=Math.ceil(v));const M=Math.max(By(E),By(R));D=Math.pow(10,We(l)?M:l),R=Math.round(R*D)/D,b=Math.round(b*D)/D;let F=0;for(w&&(h&&R!==r?(n.push({value:r}),R<r&&F++,ka(Math.round((R+F*E)*D)/D,r,jb(r,C,t))&&F++):R<r&&F++);F<v;++F){const U=Math.round((R+F*E)*D)/D;if(A&&U>a)break;n.push({value:U})}return A&&h&&b!==a?n.length&&ka(n[n.length-1].value,a,jb(a,C,t))?n[n.length-1].value=a:n.push({value:a}):(!A||b===a)&&n.push({value:b}),n}function jb(t,e,{horizontal:n,minRotation:s}){const i=Vn(s),o=(n?Math.sin(i):Math.cos(i))||.001,r=.75*e*(""+t).length;return Math.min(e/o,r)}class Jc extends Ro{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return We(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:o}=this;const r=l=>i=n?i:l,a=l=>o=s?o:l;if(e){const l=cs(i),c=cs(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||r(i-l)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,r=W3(i,o);return e.bounds==="ticks"&&KA(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return kl(e,this.chart.options.locale,this.options.ticks.format)}}class Cf extends Jc{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=wt(e)?e:0,this.max=wt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Vn(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ee(Cf,"id","linear"),ee(Cf,"defaults",{ticks:{callback:Ju.formatters.numeric}});const Xa=t=>Math.floor(hi(t)),Ji=(t,e)=>Math.pow(10,Xa(t)+e);function zb(t){return t/Math.pow(10,Xa(t))===1}function Gb(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function H3(t,e){const n=e-t;let s=Xa(n);for(;Gb(t,e,s)>10;)s++;for(;Gb(t,e,s)<10;)s--;return Math.min(s,Xa(t))}function j3(t,{min:e,max:n}){e=mn(t.min,e);const s=[],i=Xa(e);let o=H3(e,n),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((e-l)*r)/r,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,o)),h=mn(t.min,Math.round((l+u+d*Math.pow(10,o))*r)/r);for(;h<n;)s.push({value:h,major:zb(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,r=o>=0?1:r),h=Math.round((l+u+d*Math.pow(10,o))*r)/r;const p=mn(t.max,h);return s.push({value:p,major:zb(p),significand:d}),s}class kf extends Ro{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=Jc.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return wt(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=wt(e)?Math.max(0,e):null,this.max=wt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!wt(this._userMin)&&(this.min=e===Ji(this.min,0)?Ji(this.min,-1):Ji(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const o=a=>s=e?s:a,r=a=>i=n?i:a;s===i&&(s<=0?(o(1),r(10)):(o(Ji(s,-1)),r(Ji(i,1)))),s<=0&&o(Ji(i,-1)),i<=0&&r(Ji(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=j3(n,this);return e.bounds==="ticks"&&KA(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":kl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=hi(e),this._valueRange=hi(this.max)-hi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(hi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ee(kf,"id","logarithmic"),ee(kf,"defaults",{ticks:{callback:Ju.formatters.logarithmic,major:{enabled:!0}}});function Ef(t){const e=t.ticks;if(e.display&&t.display){const n=Zt(e.backdropPadding);return Se(e.font&&e.font.size,At.font.size)+n.height}return 0}function z3(t,e,n){return n=ht(n)?n:[n],{w:e4(t,e.string,n),h:n.length*e.lineHeight}}function Kb(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function G3(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],o=t._pointLabels.length,r=t.options.pointLabels,a=r.centerPointLabels?pt/o:0;for(let l=0;l<o;l++){const c=r.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=Rt(c.font),h=z3(t.ctx,d,t._pointLabels[l]);s[l]=h;const p=yn(t.getIndexAngle(l)+a),g=Math.round(ig(p)),m=Kb(g,u.x,h.w,0,180),_=Kb(g,u.y,h.h,90,270);K3(n,e,p,m,_)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=X3(t,s,i)}function K3(t,e,n,s,i){const o=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let a=0,l=0;s.start<e.l?(a=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/r,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/r,t.b=Math.max(t.b,e.b+l))}function q3(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:o,padding:r,size:a}=n,l=t.getPointPosition(e,s+i+r,o),c=Math.round(ig(yn(l.angle+xt))),u=e6(l.y,a.h,c),d=J3(c),h=Z3(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function Q3(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:o}=t;return!(Is({x:n,y:s},e)||Is({x:n,y:o},e)||Is({x:i,y:s},e)||Is({x:i,y:o},e))}function X3(t,e,n){const s=[],i=t._pointLabels.length,o=t.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:Ef(o)/2,additionalAngle:r?pt/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const d=q3(t,u,l);s.push(d),a==="auto"&&(d.visible=Q3(d,c),d.visible&&(c=d))}return s}function J3(t){return t===0||t===180?"center":t<180?"left":"right"}function Z3(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function e6(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function t6(t,e,n){const{left:s,top:i,right:o,bottom:r}=n,{backdropColor:a}=e;if(!We(a)){const l=po(e.borderRadius),c=Zt(e.backdropPadding);t.fillStyle=a;const u=s-c.left,d=i-c.top,h=o-s+c.width,p=r-i+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),qa(t,{x:u,y:d,w:h,h:p,radius:l}),t.fill()):t.fillRect(u,d,h,p)}}function n6(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const o=t._pointLabelItems[i];if(!o.visible)continue;const r=s.setContext(t.getPointLabelContext(i));t6(n,r,o);const a=Rt(r.font),{x:l,y:c,textAlign:u}=o;wo(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:r.color,textAlign:u,textBaseline:"middle"})}}function $S(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,ft);else{let o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let r=1;r<s;r++)o=t.getPointPosition(r,e),i.lineTo(o.x,o.y)}}function s6(t,e,n,s,i){const o=t.ctx,r=e.circular,{color:a,lineWidth:l}=e;!r&&!s||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),$S(t,n,r,s),o.closePath(),o.stroke(),o.restore())}function i6(t,e,n){return Hi(t,{label:n,index:e,type:"pointLabel"})}class ma extends Jc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Zt(Ef(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=wt(e)&&!isNaN(e)?e:0,this.max=wt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ef(this.options))}generateTickLabels(e){Jc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=rt(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?G3(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=ft/(this._pointLabels.length||1),s=this.options.startAngle||0;return yn(e*n+Vn(s))}getDistanceFromCenterForValue(e){if(We(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(We(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return i6(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-xt+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:o}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),$S(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:o}=n,r=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&n6(this,r),i.display&&this.ticks.forEach((u,d)=>{if(d!==0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),p=i.setContext(h),g=o.setContext(h);s6(this,p,l,r,g)}}),s.display){for(e.save(),a=r-1;a>=0;a--){const u=s.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let o,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=s.setContext(this.getContext(l)),u=Rt(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,r=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=Zt(c.backdropPadding);e.fillRect(-r/2-d.left,-o-u.size/2-d.top,r+d.width,u.size+d.height)}wo(e,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}ee(ma,"id","radialLinear"),ee(ma,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ju.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ee(ma,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ee(ma,"descriptors",{angleLines:{_fallback:"grid"}});const nd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},rn=Object.keys(nd);function qb(t,e){return t-e}function Qb(t,e){if(We(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:o}=t._parseOpts;let r=e;return typeof s=="function"&&(r=s(r)),wt(r)||(r=typeof s=="string"?n.parse(r,s):n.parse(r)),r===null?null:(i&&(r=i==="week"&&(fr(o)||o===!0)?n.startOf(r,"isoWeek",o):n.startOf(r,i)),+r)}function Xb(t,e,n,s){const i=rn.length;for(let o=rn.indexOf(t);o<i-1;++o){const r=nd[rn[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((n-e)/(a*r.size))<=s)return rn[o]}return rn[i-1]}function o6(t,e,n,s,i){for(let o=rn.length-1;o>=rn.indexOf(n);o--){const r=rn[o];if(nd[r].common&&t._adapter.diff(i,s,r)>=e-1)return r}return rn[n?rn.indexOf(n):0]}function r6(t){for(let e=rn.indexOf(t)+1,n=rn.length;e<n;++e)if(nd[rn[e]].common)return rn[e]}function Jb(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=og(n,e),o=n[s]>=e?n[s]:n[i];t[o]=!0}}function a6(t,e,n,s){const i=t._adapter,o=+i.startOf(e[0].value,s),r=e[e.length-1].value;let a,l;for(a=o;a<=r;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function Zb(t,e,n){const s=[],i={},o=e.length;let r,a;for(r=0;r<o;++r)a=e[r],i[a]=r,s.push({value:a,major:!1});return o===0||!n?s:a6(t,s,i,n)}class Ja extends Ro{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new mz._date(e.adapters.date);i.init(n),Ca(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Qb(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=wt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),o=wt(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=Uj(i,o,r);return this._unit=n.unit||(s.autoSkip?Xb(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):o6(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:r6(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Zb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;n=Yt(n,0,r),s=Yt(s,0,r),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,o=i.time,r=o.unit||Xb(o.minUnit,n,s,this._getLabelCapacity(n)),a=Se(i.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=fr(l)||l===!0,u={};let d=n,h,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":r),e.diff(s,n,r)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+r);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<s;h=+e.add(h,a,r),p++)Jb(u,h,g);return(h===s||i.bounds==="ticks"||p===1)&&Jb(u,h,g),Object.keys(u).sort(qb).map(m=>+m)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,o=this._unit,r=n||i[o];return this._adapter.format(e,r)}_tickFormatFunction(e,n,s,i){const o=this.options,r=o.ticks.callback;if(r)return rt(r,[e,n,s],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=s[n],p=c&&d&&h&&h.major;return this._adapter.format(e,i||(p?d:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Vn(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*o+a*r,h:s*r+a*o}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,Zb(this,[e],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Qb(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return XA(e.sort(qb))}}ee(Ja,"id","time"),ee(Ja,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cc(t,e,n){let s=0,i=t.length-1,o,r,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Ds(t,"pos",e)),{pos:o,time:a}=t[s],{pos:r,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Ds(t,"time",e)),{time:o,pos:a}=t[s],{time:r,pos:l}=t[i]);const c=r-o;return c?a+(l-a)*(e-o)/c:a}class Mf extends Ja{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=cc(n,this.min),this._tableRange=cc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],o=[];let r,a,l,c,u;for(r=0,a=e.length;r<a;++r)c=e[r],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(r=0,a=i.length;r<a;++r)u=i[r+1],l=i[r-1],c=i[r],Math.round((u+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(cc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return cc(this._table,s*this._tableRange+this._minPos,!0)}}ee(Mf,"id","timeseries"),ee(Mf,"defaults",Ja.defaults);var l6=Object.freeze({__proto__:null,CategoryScale:xf,LinearScale:Cf,LogarithmicScale:kf,RadialLinearScale:ma,TimeScale:Ja,TimeSeriesScale:Mf});const BS=[gz,j5,B3,l6],sd=t=>(Ne("data-v-d5a5bd8c"),t=t(),Le(),t),c6={class:"goal-success-rate"},u6=sd(()=>f("div",{class:"goal-success-rate-title"},"목표 별 성취율",-1)),d6=sd(()=>f("div",{class:"goal-chart"},[f("canvas",{id:"successRateChart"})],-1)),h6={class:"goal-navigation"},f6=["disabled"],p6=sd(()=>f("img",{src:Jp,alt:""},null,-1)),g6=[p6],m6=["disabled"],_6=sd(()=>f("img",{src:Zp,alt:""},null,-1)),y6=[_6],b6={__name:"SuccessRate",setup(t){Yn.register(...BS);const e=ie([{name:"정보처리기사 자격증 획득",successRate:80},{name:"삼성전자 취업",successRate:60},{name:"공동 프로젝트 앱 완성",successRate:70}]),n=ie(0),s=Mt(()=>e.value[n.value]);let i=null;const o=()=>{const l=document.getElementById("successRateChart").getContext("2d"),c=s.value.successRate,u=100-c;i&&i.destroy(),i=new Yn(l,{type:"doughnut",data:{labels:["완료","미완료"],datasets:[{label:"비율",data:[c,u],backgroundColor:["rgba(75, 192, 192, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:s.value.name}}}})};Nn(o),ls(s,o);const r=()=>{n.value>0&&n.value--},a=()=>{n.value<e.value.length-1&&n.value++};return(l,c)=>(T(),I("div",c6,[u6,d6,f("div",h6,[f("button",{class:"btn",onClick:r,disabled:n.value===0},g6,8,f6),f("button",{class:"btn",onClick:a,disabled:n.value===e.value.length-1},y6,8,m6)])]))}},v6=Ee(b6,[["__scopeId","data-v-d5a5bd8c"]]),w6=t=>(Ne("data-v-ee2c0ea5"),t=t(),Le(),t),A6={class:"goal-success-rate"},S6=w6(()=>f("p",{class:"goal-success-rate-title"},"목표별 성취율",-1)),x6={class:"goal-name"},C6={class:"success-rate"},k6={__name:"GoalSuccessRate",setup(t){const e=ie([{name:"정보처리기사 자격증 획득",successRate:80},{name:"삼성전자 취업",successRate:60},{name:"공동 프로젝트 앱 완성",successRate:70}]);return(n,s)=>(T(),I("div",A6,[S6,(T(!0),I(ke,null,Ze(e.value,(i,o)=>(T(),I("div",{key:o,class:"goal-item"},[f("p",x6,oe(i.name),1),f("p",C6,oe(i.successRate)+"%",1)]))),128))]))}},E6=Ee(k6,[["__scopeId","data-v-ee2c0ea5"]]),id=t=>(Ne("data-v-ea3246dc"),t=t(),Le(),t),M6={class:"goal-success-rate"},T6=id(()=>f("div",{class:"goal-success-rate-title"},"월 별 진행률",-1)),D6=id(()=>f("div",{class:"goal-chart"},[f("canvas",{id:"goalChart"})],-1)),I6={class:"slider"},R6=["disabled"],O6=id(()=>f("img",{src:Jp,alt:""},null,-1)),P6=[O6],N6=["disabled"],L6=id(()=>f("img",{src:Zp,alt:""},null,-1)),F6=[L6],$6={__name:"SuccessChart",setup(t){Yn.register(...BS);const e=ie([{name:"정보처리기사 자격증 획득",successRate:[20,70,90]},{name:"삼성전자 취업",successRate:[30,50,70]},{name:"공동 프로젝트 앱 완성",successRate:[70,80,90]}]),n=ie(0),s=Mt(()=>e.value[n.value]);let i=null;Nn(()=>{a()});function o(){n.value>0&&(n.value--,a())}function r(){n.value<e.value.length-1&&(n.value++,a())}function a(){i&&i.destroy();const l=document.getElementById("goalChart").getContext("2d");i=new Yn(l,{type:"bar",data:{labels:s.value.successRate.map((c,u)=>`${u+1}월`),datasets:[{label:s.value.name,data:s.value.successRate,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{indexAxis:"x",scales:{y:{beginAtZero:!0}},aspectRatio:2}})}return(l,c)=>(T(),I("div",M6,[T6,D6,f("div",I6,[f("button",{class:"btn",onClick:o,disabled:n.value===0},P6,8,R6),f("button",{class:"btn",onClick:r,disabled:n.value===e.value.length-1},F6,8,N6)])]))}},B6=Ee($6,[["__scopeId","data-v-ea3246dc"]]),Y6={components:{UserInfo:ij,SuccessRate:v6,GoalSuccessRate:E6,SuccessChart:B6},data(){return{userData:null,successRate:null,goalRate:null,successChart:null}},mounted(){this.fetchUserData()},methods:{async fetchUserData(){},goToSettings(){this.$router.push("/MypageSettings")}}},U6={class:"mt-5"};function V6(t,e,n,s,i,o){const r=rs("UserInfo"),a=rs("SuccessRate"),l=rs("SuccessChart"),c=rs("GoalSuccessRate");return T(),I("div",U6,[be(r,{userData:i.userData},null,8,["userData"]),be(a,{successRate:i.successRate},null,8,["successRate"]),be(l,{successChart:i.successChart},null,8,["successChart"]),be(c,{goalRate:i.goalRate},null,8,["goalRate"])])}const W6=Ee(Y6,[["render",V6]]),H6={key:0,class:"mt-5"},j6={class:"bottom-nav"},z6=f("img",{class:"nav-icon",src:XY,alt:""},null,-1),G6=f("img",{class:"nav-icon",src:TA,alt:""},null,-1),K6=f("img",{class:"nav-icon",src:JY,alt:""},null,-1),q6=f("img",{class:"nav-icon",src:ZY,alt:""},null,-1),Q6={key:1},X6={class:"welcome-screen"},J6=f("h1",{class:"welcome-message"},"Todak Todak",-1),Z6={class:"auth-buttons"},e8={__name:"App",setup(t){console.log(new Date);const n=Wi();return(s,i)=>(T(),I(ke,null,[on(n).isLogin?(T(),I("div",H6,[be(FU),f("div",j6,[be(on(to),{to:"/Main",class:"nav-item"},{default:vt(()=>[z6,lt(" Home ")]),_:1}),be(on(to),{to:"/Calendar",class:"nav-item"},{default:vt(()=>[G6,lt(" Calendar ")]),_:1}),be(on(to),{to:"/friends",class:"nav-item"},{default:vt(()=>[K6,lt(" Friends ")]),_:1}),be(on(to),{to:"/mypage",class:"nav-item"},{default:vt(()=>[q6,lt(" MyPage ")]),_:1})])])):(T(),I("div",Q6,[f("div",X6,[J6,f("div",Z6,[be(on(to),{to:"/login",class:"auth-button"},{default:vt(()=>[lt("로그인")]),_:1}),be(on(to),{to:"/signup",class:"auth-button"},{default:vt(()=>[lt("회원가입")]),_:1})])])])),be(on(oA))],64))}},t8={data(){return{posts:[],newPost:{title:"",content:""}}},mounted(){this.fetchPosts()},methods:{fetchPosts(){fetch("http://localhost:3000/posts").then(t=>t.json()).then(t=>this.posts=t)},addPost(){fetch("http://localhost:3000/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.newPost)}).then(t=>t.json()).then(t=>{this.posts.push(t),this.newPost.title="",this.newPost.content=""})}}},od=t=>(Ne("data-v-6946a639"),t=t(),Le(),t),n8={class:"board"},s8=od(()=>f("h2",null,"게시판",-1)),i8=od(()=>f("label",{for:"title"},"제목:",-1)),o8=od(()=>f("label",{for:"content"},"내용:",-1)),r8=od(()=>f("button",{type:"submit"},"게시물 작성",-1));function a8(t,e,n,s,i,o){return T(),I("div",n8,[s8,(T(!0),I(ke,null,Ze(i.posts,r=>(T(),I("div",{key:r.id,class:"post"},[f("h3",null,oe(r.title),1),f("p",null,oe(r.content),1)]))),128)),f("form",{onSubmit:e[2]||(e[2]=hn((...r)=>o.addPost&&o.addPost(...r),["prevent"])),class:"post-form"},[i8,le(f("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>i.newPost.title=r),type:"text",id:"title",required:""},null,512),[[Ce,i.newPost.title]]),o8,le(f("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>i.newPost.content=r),id:"content",required:""},null,512),[[Ce,i.newPost.content]]),r8],32)])}const l8=Ee(t8,[["render",a8],["__scopeId","data-v-6946a639"]]);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var YS;function V(){return YS.apply(null,arguments)}function c8(t){YS=t}function qn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function mo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _g(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(ze(t,e))return!1;return!0}function sn(t){return t===void 0}function js(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Ml(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function US(t,e){var n=[],s,i=t.length;for(s=0;s<i;++s)n.push(e(t[s],s));return n}function gi(t,e){for(var n in e)ze(e,n)&&(t[n]=e[n]);return ze(e,"toString")&&(t.toString=e.toString),ze(e,"valueOf")&&(t.valueOf=e.valueOf),t}function vs(t,e,n,s){return ux(t,e,n,s,!0).utc()}function u8(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function xe(t){return t._pf==null&&(t._pf=u8()),t._pf}var Tf;Array.prototype.some?Tf=Array.prototype.some:Tf=function(t){var e=Object(this),n=e.length>>>0,s;for(s=0;s<n;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function yg(t){var e=null,n=!1,s=t._d&&!isNaN(t._d.getTime());if(s&&(e=xe(t),n=Tf.call(e.parsedDateParts,function(i){return i!=null}),s=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s;return t._isValid}function rd(t){var e=vs(NaN);return t!=null?gi(xe(e),t):xe(e).userInvalidated=!0,e}var ev=V.momentProperties=[],wh=!1;function bg(t,e){var n,s,i,o=ev.length;if(sn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),sn(e._i)||(t._i=e._i),sn(e._f)||(t._f=e._f),sn(e._l)||(t._l=e._l),sn(e._strict)||(t._strict=e._strict),sn(e._tzm)||(t._tzm=e._tzm),sn(e._isUTC)||(t._isUTC=e._isUTC),sn(e._offset)||(t._offset=e._offset),sn(e._pf)||(t._pf=xe(e)),sn(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)s=ev[n],i=e[s],sn(i)||(t[s]=i);return t}function Tl(t){bg(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wh===!1&&(wh=!0,V.updateOffset(this),wh=!1)}function Qn(t){return t instanceof Tl||t!=null&&t._isAMomentObject!=null}function VS(t){V.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Ln(t,e){var n=!0;return gi(function(){if(V.deprecationHandler!=null&&V.deprecationHandler(null,t),n){var s=[],i,o,r,a=arguments.length;for(o=0;o<a;o++){if(i="",typeof arguments[o]=="object"){i+=`
[`+o+"] ";for(r in arguments[0])ze(arguments[0],r)&&(i+=r+": "+arguments[0][r]+", ");i=i.slice(0,-2)}else i=arguments[o];s.push(i)}VS(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var tv={};function WS(t,e){V.deprecationHandler!=null&&V.deprecationHandler(t,e),tv[t]||(VS(e),tv[t]=!0)}V.suppressDeprecationWarnings=!1;V.deprecationHandler=null;function ws(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function d8(t){var e,n;for(n in t)ze(t,n)&&(e=t[n],ws(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Df(t,e){var n=gi({},t),s;for(s in e)ze(e,s)&&(mo(t[s])&&mo(e[s])?(n[s]={},gi(n[s],t[s]),gi(n[s],e[s])):e[s]!=null?n[s]=e[s]:delete n[s]);for(s in t)ze(t,s)&&!ze(e,s)&&mo(t[s])&&(n[s]=gi({},n[s]));return n}function vg(t){t!=null&&this.set(t)}var If;Object.keys?If=Object.keys:If=function(t){var e,n=[];for(e in t)ze(t,e)&&n.push(e);return n};var h8={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function f8(t,e,n){var s=this._calendar[t]||this._calendar.sameElse;return ws(s)?s.call(e,n):s}function ps(t,e,n){var s=""+Math.abs(t),i=e-s.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var wg=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,uc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ah={},tr={};function he(t,e,n,s){var i=s;typeof s=="string"&&(i=function(){return this[s]()}),t&&(tr[t]=i),e&&(tr[e[0]]=function(){return ps(i.apply(this,arguments),e[1],e[2])}),n&&(tr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function p8(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function g8(t){var e=t.match(wg),n,s;for(n=0,s=e.length;n<s;n++)tr[e[n]]?e[n]=tr[e[n]]:e[n]=p8(e[n]);return function(i){var o="",r;for(r=0;r<s;r++)o+=ws(e[r])?e[r].call(i,t):e[r];return o}}function Ic(t,e){return t.isValid()?(e=HS(e,t.localeData()),Ah[e]=Ah[e]||g8(e),Ah[e](t)):t.localeData().invalidDate()}function HS(t,e){var n=5;function s(i){return e.longDateFormat(i)||i}for(uc.lastIndex=0;n>=0&&uc.test(t);)t=t.replace(uc,s),uc.lastIndex=0,n-=1;return t}var m8={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function _8(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(wg).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var y8="Invalid date";function b8(){return this._invalidDate}var v8="%d",w8=/\d{1,2}/;function A8(t){return this._ordinal.replace("%d",t)}var S8={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function x8(t,e,n,s){var i=this._relativeTime[n];return ws(i)?i(t,e,n,s):i.replace(/%d/i,t)}function C8(t,e){var n=this._relativeTime[t>0?"future":"past"];return ws(n)?n(e):n.replace(/%s/i,e)}var nv={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Fn(t){return typeof t=="string"?nv[t]||nv[t.toLowerCase()]:void 0}function Ag(t){var e={},n,s;for(s in t)ze(t,s)&&(n=Fn(s),n&&(e[n]=t[s]));return e}var k8={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function E8(t){var e=[],n;for(n in t)ze(t,n)&&e.push({unit:n,priority:k8[n]});return e.sort(function(s,i){return s.priority-i.priority}),e}var jS=/\d/,Sn=/\d\d/,zS=/\d{3}/,Sg=/\d{4}/,ad=/[+-]?\d{6}/,mt=/\d\d?/,GS=/\d\d\d\d?/,KS=/\d\d\d\d\d\d?/,ld=/\d{1,3}/,xg=/\d{1,4}/,cd=/[+-]?\d{1,6}/,Nr=/\d+/,ud=/[+-]?\d+/,M8=/Z|[+-]\d\d:?\d\d/gi,dd=/Z|[+-]\d\d(?::?\d\d)?/gi,T8=/[+-]?\d+(\.\d{1,3})?/,Dl=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Lr=/^[1-9]\d?/,Cg=/^([1-9]\d|\d)/,Zc;Zc={};function re(t,e,n){Zc[t]=ws(e)?e:function(s,i){return s&&n?n:e}}function D8(t,e){return ze(Zc,t)?Zc[t](e._strict,e._locale):new RegExp(I8(t))}function I8(t){return Bs(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,s,i,o){return n||s||i||o}))}function Bs(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function En(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Pe(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=En(e)),n}var Rf={};function et(t,e){var n,s=e,i;for(typeof t=="string"&&(t=[t]),js(e)&&(s=function(o,r){r[e]=Pe(o)}),i=t.length,n=0;n<i;n++)Rf[t[n]]=s}function Il(t,e){et(t,function(n,s,i,o){i._w=i._w||{},e(n,i._w,i,o)})}function R8(t,e,n){e!=null&&ze(Rf,t)&&Rf[t](e,n._a,n,t)}function hd(t){return t%4===0&&t%100!==0||t%400===0}var Xt=0,Rs=1,os=2,Ot=3,Wn=4,Os=5,co=6,O8=7,P8=8;he("Y",0,0,function(){var t=this.year();return t<=9999?ps(t,4):"+"+t});he(0,["YY",2],0,function(){return this.year()%100});he(0,["YYYY",4],0,"year");he(0,["YYYYY",5],0,"year");he(0,["YYYYYY",6,!0],0,"year");re("Y",ud);re("YY",mt,Sn);re("YYYY",xg,Sg);re("YYYYY",cd,ad);re("YYYYYY",cd,ad);et(["YYYYY","YYYYYY"],Xt);et("YYYY",function(t,e){e[Xt]=t.length===2?V.parseTwoDigitYear(t):Pe(t)});et("YY",function(t,e){e[Xt]=V.parseTwoDigitYear(t)});et("Y",function(t,e){e[Xt]=parseInt(t,10)});function Da(t){return hd(t)?366:365}V.parseTwoDigitYear=function(t){return Pe(t)+(Pe(t)>68?1900:2e3)};var qS=Fr("FullYear",!0);function N8(){return hd(this.year())}function Fr(t,e){return function(n){return n!=null?(QS(this,t,n),V.updateOffset(this,e),this):Za(this,t)}}function Za(t,e){if(!t.isValid())return NaN;var n=t._d,s=t._isUTC;switch(e){case"Milliseconds":return s?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return s?n.getUTCSeconds():n.getSeconds();case"Minutes":return s?n.getUTCMinutes():n.getMinutes();case"Hours":return s?n.getUTCHours():n.getHours();case"Date":return s?n.getUTCDate():n.getDate();case"Day":return s?n.getUTCDay():n.getDay();case"Month":return s?n.getUTCMonth():n.getMonth();case"FullYear":return s?n.getUTCFullYear():n.getFullYear();default:return NaN}}function QS(t,e,n){var s,i,o,r,a;if(!(!t.isValid()||isNaN(n))){switch(s=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?s.setUTCMilliseconds(n):s.setMilliseconds(n));case"Seconds":return void(i?s.setUTCSeconds(n):s.setSeconds(n));case"Minutes":return void(i?s.setUTCMinutes(n):s.setMinutes(n));case"Hours":return void(i?s.setUTCHours(n):s.setHours(n));case"Date":return void(i?s.setUTCDate(n):s.setDate(n));case"FullYear":break;default:return}o=n,r=t.month(),a=t.date(),a=a===29&&r===1&&!hd(o)?28:a,i?s.setUTCFullYear(o,r,a):s.setFullYear(o,r,a)}}function L8(t){return t=Fn(t),ws(this[t])?this[t]():this}function F8(t,e){if(typeof t=="object"){t=Ag(t);var n=E8(t),s,i=n.length;for(s=0;s<i;s++)this[n[s].unit](t[n[s].unit])}else if(t=Fn(t),ws(this[t]))return this[t](e);return this}function $8(t,e){return(t%e+e)%e}var St;Array.prototype.indexOf?St=Array.prototype.indexOf:St=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function kg(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=$8(e,12);return t+=(e-n)/12,n===1?hd(t)?29:28:31-n%7%2}he("M",["MM",2],"Mo",function(){return this.month()+1});he("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});he("MMMM",0,0,function(t){return this.localeData().months(this,t)});re("M",mt,Lr);re("MM",mt,Sn);re("MMM",function(t,e){return e.monthsShortRegex(t)});re("MMMM",function(t,e){return e.monthsRegex(t)});et(["M","MM"],function(t,e){e[Rs]=Pe(t)-1});et(["MMM","MMMM"],function(t,e,n,s){var i=n._locale.monthsParse(t,s,n._strict);i!=null?e[Rs]=i:xe(n).invalidMonth=t});var B8="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),XS="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),JS=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Y8=Dl,U8=Dl;function V8(t,e){return t?qn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||JS).test(e)?"format":"standalone"][t.month()]:qn(this._months)?this._months:this._months.standalone}function W8(t,e){return t?qn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[JS.test(e)?"format":"standalone"][t.month()]:qn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function H8(t,e,n){var s,i,o,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)o=vs([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(i=St.call(this._shortMonthsParse,r),i!==-1?i:null):(i=St.call(this._longMonthsParse,r),i!==-1?i:null):e==="MMM"?(i=St.call(this._shortMonthsParse,r),i!==-1?i:(i=St.call(this._longMonthsParse,r),i!==-1?i:null)):(i=St.call(this._longMonthsParse,r),i!==-1?i:(i=St.call(this._shortMonthsParse,r),i!==-1?i:null))}function j8(t,e,n){var s,i,o;if(this._monthsParseExact)return H8.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=vs([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[s]&&(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(n&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!n&&this._monthsParse[s].test(t))return s}}function ZS(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Pe(e);else if(e=t.localeData().monthsParse(e),!js(e))return t}var n=e,s=t.date();return s=s<29?s:Math.min(s,kg(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,s):t._d.setMonth(n,s),t}function ex(t){return t!=null?(ZS(this,t),V.updateOffset(this,!0),this):Za(this,"Month")}function z8(){return kg(this.year(),this.month())}function G8(t){return this._monthsParseExact?(ze(this,"_monthsRegex")||tx.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(ze(this,"_monthsShortRegex")||(this._monthsShortRegex=Y8),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function K8(t){return this._monthsParseExact?(ze(this,"_monthsRegex")||tx.call(this),t?this._monthsStrictRegex:this._monthsRegex):(ze(this,"_monthsRegex")||(this._monthsRegex=U8),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function tx(){function t(l,c){return c.length-l.length}var e=[],n=[],s=[],i,o,r,a;for(i=0;i<12;i++)o=vs([2e3,i]),r=Bs(this.monthsShort(o,"")),a=Bs(this.months(o,"")),e.push(r),n.push(a),s.push(a),s.push(r);e.sort(t),n.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function q8(t,e,n,s,i,o,r){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,s,i,o,r),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,s,i,o,r),a}function el(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function eu(t,e,n){var s=7+e-n,i=(7+el(t,0,s).getUTCDay()-e)%7;return-i+s-1}function nx(t,e,n,s,i){var o=(7+n-s)%7,r=eu(t,s,i),a=1+7*(e-1)+o+r,l,c;return a<=0?(l=t-1,c=Da(l)+a):a>Da(t)?(l=t+1,c=a-Da(t)):(l=t,c=a),{year:l,dayOfYear:c}}function tl(t,e,n){var s=eu(t.year(),e,n),i=Math.floor((t.dayOfYear()-s-1)/7)+1,o,r;return i<1?(r=t.year()-1,o=i+Ys(r,e,n)):i>Ys(t.year(),e,n)?(o=i-Ys(t.year(),e,n),r=t.year()+1):(r=t.year(),o=i),{week:o,year:r}}function Ys(t,e,n){var s=eu(t,e,n),i=eu(t+1,e,n);return(Da(t)-s+i)/7}he("w",["ww",2],"wo","week");he("W",["WW",2],"Wo","isoWeek");re("w",mt,Lr);re("ww",mt,Sn);re("W",mt,Lr);re("WW",mt,Sn);Il(["w","ww","W","WW"],function(t,e,n,s){e[s.substr(0,1)]=Pe(t)});function Q8(t){return tl(t,this._week.dow,this._week.doy).week}var X8={dow:0,doy:6};function J8(){return this._week.dow}function Z8(){return this._week.doy}function eG(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function tG(t){var e=tl(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}he("d",0,"do","day");he("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});he("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});he("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});he("e",0,0,"weekday");he("E",0,0,"isoWeekday");re("d",mt);re("e",mt);re("E",mt);re("dd",function(t,e){return e.weekdaysMinRegex(t)});re("ddd",function(t,e){return e.weekdaysShortRegex(t)});re("dddd",function(t,e){return e.weekdaysRegex(t)});Il(["dd","ddd","dddd"],function(t,e,n,s){var i=n._locale.weekdaysParse(t,s,n._strict);i!=null?e.d=i:xe(n).invalidWeekday=t});Il(["d","e","E"],function(t,e,n,s){e[s]=Pe(t)});function nG(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function sG(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Eg(t,e){return t.slice(e,7).concat(t.slice(0,e))}var iG="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sx="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oG="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),rG=Dl,aG=Dl,lG=Dl;function cG(t,e){var n=qn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Eg(n,this._week.dow):t?n[t.day()]:n}function uG(t){return t===!0?Eg(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function dG(t){return t===!0?Eg(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function hG(t,e,n){var s,i,o,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)o=vs([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(i=St.call(this._weekdaysParse,r),i!==-1?i:null):e==="ddd"?(i=St.call(this._shortWeekdaysParse,r),i!==-1?i:null):(i=St.call(this._minWeekdaysParse,r),i!==-1?i:null):e==="dddd"?(i=St.call(this._weekdaysParse,r),i!==-1||(i=St.call(this._shortWeekdaysParse,r),i!==-1)?i:(i=St.call(this._minWeekdaysParse,r),i!==-1?i:null)):e==="ddd"?(i=St.call(this._shortWeekdaysParse,r),i!==-1||(i=St.call(this._weekdaysParse,r),i!==-1)?i:(i=St.call(this._minWeekdaysParse,r),i!==-1?i:null)):(i=St.call(this._minWeekdaysParse,r),i!==-1||(i=St.call(this._weekdaysParse,r),i!==-1)?i:(i=St.call(this._shortWeekdaysParse,r),i!==-1?i:null))}function fG(t,e,n){var s,i,o;if(this._weekdaysParseExact)return hG.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=vs([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(n&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(n&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!n&&this._weekdaysParse[s].test(t))return s}}function pG(t){if(!this.isValid())return t!=null?this:NaN;var e=Za(this,"Day");return t!=null?(t=nG(t,this.localeData()),this.add(t-e,"d")):e}function gG(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function mG(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=sG(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function _G(t){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Mg.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(ze(this,"_weekdaysRegex")||(this._weekdaysRegex=rG),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function yG(t){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Mg.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=aG),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function bG(t){return this._weekdaysParseExact?(ze(this,"_weekdaysRegex")||Mg.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=lG),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Mg(){function t(u,d){return d.length-u.length}var e=[],n=[],s=[],i=[],o,r,a,l,c;for(o=0;o<7;o++)r=vs([2e3,1]).day(o),a=Bs(this.weekdaysMin(r,"")),l=Bs(this.weekdaysShort(r,"")),c=Bs(this.weekdays(r,"")),e.push(a),n.push(l),s.push(c),i.push(a),i.push(l),i.push(c);e.sort(t),n.sort(t),s.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Tg(){return this.hours()%12||12}function vG(){return this.hours()||24}he("H",["HH",2],0,"hour");he("h",["hh",2],0,Tg);he("k",["kk",2],0,vG);he("hmm",0,0,function(){return""+Tg.apply(this)+ps(this.minutes(),2)});he("hmmss",0,0,function(){return""+Tg.apply(this)+ps(this.minutes(),2)+ps(this.seconds(),2)});he("Hmm",0,0,function(){return""+this.hours()+ps(this.minutes(),2)});he("Hmmss",0,0,function(){return""+this.hours()+ps(this.minutes(),2)+ps(this.seconds(),2)});function ix(t,e){he(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}ix("a",!0);ix("A",!1);function ox(t,e){return e._meridiemParse}re("a",ox);re("A",ox);re("H",mt,Cg);re("h",mt,Lr);re("k",mt,Lr);re("HH",mt,Sn);re("hh",mt,Sn);re("kk",mt,Sn);re("hmm",GS);re("hmmss",KS);re("Hmm",GS);re("Hmmss",KS);et(["H","HH"],Ot);et(["k","kk"],function(t,e,n){var s=Pe(t);e[Ot]=s===24?0:s});et(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});et(["h","hh"],function(t,e,n){e[Ot]=Pe(t),xe(n).bigHour=!0});et("hmm",function(t,e,n){var s=t.length-2;e[Ot]=Pe(t.substr(0,s)),e[Wn]=Pe(t.substr(s)),xe(n).bigHour=!0});et("hmmss",function(t,e,n){var s=t.length-4,i=t.length-2;e[Ot]=Pe(t.substr(0,s)),e[Wn]=Pe(t.substr(s,2)),e[Os]=Pe(t.substr(i)),xe(n).bigHour=!0});et("Hmm",function(t,e,n){var s=t.length-2;e[Ot]=Pe(t.substr(0,s)),e[Wn]=Pe(t.substr(s))});et("Hmmss",function(t,e,n){var s=t.length-4,i=t.length-2;e[Ot]=Pe(t.substr(0,s)),e[Wn]=Pe(t.substr(s,2)),e[Os]=Pe(t.substr(i))});function wG(t){return(t+"").toLowerCase().charAt(0)==="p"}var AG=/[ap]\.?m?\.?/i,SG=Fr("Hours",!0);function xG(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var rx={calendar:h8,longDateFormat:m8,invalidDate:y8,ordinal:v8,dayOfMonthOrdinalParse:w8,relativeTime:S8,months:B8,monthsShort:XS,week:X8,weekdays:iG,weekdaysMin:oG,weekdaysShort:sx,meridiemParse:AG},_t={},sa={},nl;function CG(t,e){var n,s=Math.min(t.length,e.length);for(n=0;n<s;n+=1)if(t[n]!==e[n])return n;return s}function sv(t){return t&&t.toLowerCase().replace("_","-")}function kG(t){for(var e=0,n,s,i,o;e<t.length;){for(o=sv(t[e]).split("-"),n=o.length,s=sv(t[e+1]),s=s?s.split("-"):null;n>0;){if(i=fd(o.slice(0,n).join("-")),i)return i;if(s&&s.length>=n&&CG(o,s)>=n-1)break;n--}e++}return nl}function EG(t){return!!(t&&t.match("^[^/\\\\]*$"))}function fd(t){var e=null,n;if(_t[t]===void 0&&typeof module<"u"&&module&&module.exports&&EG(t))try{e=nl._abbr,n=require,n("./locale/"+t),Ai(e)}catch{_t[t]=null}return _t[t]}function Ai(t,e){var n;return t&&(sn(e)?n=Zs(t):n=Dg(t,e),n?nl=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),nl._abbr}function Dg(t,e){if(e!==null){var n,s=rx;if(e.abbr=t,_t[t]!=null)WS("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=_t[t]._config;else if(e.parentLocale!=null)if(_t[e.parentLocale]!=null)s=_t[e.parentLocale]._config;else if(n=fd(e.parentLocale),n!=null)s=n._config;else return sa[e.parentLocale]||(sa[e.parentLocale]=[]),sa[e.parentLocale].push({name:t,config:e}),null;return _t[t]=new vg(Df(s,e)),sa[t]&&sa[t].forEach(function(i){Dg(i.name,i.config)}),Ai(t),_t[t]}else return delete _t[t],null}function MG(t,e){if(e!=null){var n,s,i=rx;_t[t]!=null&&_t[t].parentLocale!=null?_t[t].set(Df(_t[t]._config,e)):(s=fd(t),s!=null&&(i=s._config),e=Df(i,e),s==null&&(e.abbr=t),n=new vg(e),n.parentLocale=_t[t],_t[t]=n),Ai(t)}else _t[t]!=null&&(_t[t].parentLocale!=null?(_t[t]=_t[t].parentLocale,t===Ai()&&Ai(t)):_t[t]!=null&&delete _t[t]);return _t[t]}function Zs(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return nl;if(!qn(t)){if(e=fd(t),e)return e;t=[t]}return kG(t)}function TG(){return If(_t)}function Ig(t){var e,n=t._a;return n&&xe(t).overflow===-2&&(e=n[Rs]<0||n[Rs]>11?Rs:n[os]<1||n[os]>kg(n[Xt],n[Rs])?os:n[Ot]<0||n[Ot]>24||n[Ot]===24&&(n[Wn]!==0||n[Os]!==0||n[co]!==0)?Ot:n[Wn]<0||n[Wn]>59?Wn:n[Os]<0||n[Os]>59?Os:n[co]<0||n[co]>999?co:-1,xe(t)._overflowDayOfYear&&(e<Xt||e>os)&&(e=os),xe(t)._overflowWeeks&&e===-1&&(e=O8),xe(t)._overflowWeekday&&e===-1&&(e=P8),xe(t).overflow=e),t}var DG=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IG=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,RG=/Z|[+-]\d\d(?::?\d\d)?/,dc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],OG=/^\/?Date\((-?\d+)/i,PG=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,NG={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ax(t){var e,n,s=t._i,i=DG.exec(s)||IG.exec(s),o,r,a,l,c=dc.length,u=Sh.length;if(i){for(xe(t).iso=!0,e=0,n=c;e<n;e++)if(dc[e][1].exec(i[1])){r=dc[e][0],o=dc[e][2]!==!1;break}if(r==null){t._isValid=!1;return}if(i[3]){for(e=0,n=u;e<n;e++)if(Sh[e][1].exec(i[3])){a=(i[2]||" ")+Sh[e][0];break}if(a==null){t._isValid=!1;return}}if(!o&&a!=null){t._isValid=!1;return}if(i[4])if(RG.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=r+(a||"")+(l||""),Og(t)}else t._isValid=!1}function LG(t,e,n,s,i,o){var r=[FG(t),XS.indexOf(e),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return o&&r.push(parseInt(o,10)),r}function FG(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function $G(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function BG(t,e,n){if(t){var s=sx.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(s!==i)return xe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function YG(t,e,n){if(t)return NG[t];if(e)return 0;var s=parseInt(n,10),i=s%100,o=(s-i)/100;return o*60+i}function lx(t){var e=PG.exec($G(t._i)),n;if(e){if(n=LG(e[4],e[3],e[2],e[5],e[6],e[7]),!BG(e[1],n,t))return;t._a=n,t._tzm=YG(e[8],e[9],e[10]),t._d=el.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),xe(t).rfc2822=!0}else t._isValid=!1}function UG(t){var e=OG.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(ax(t),t._isValid===!1)delete t._isValid;else return;if(lx(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:V.createFromInputFallback(t)}V.createFromInputFallback=Ln("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Go(t,e,n){return t??e??n}function VG(t){var e=new Date(V.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Rg(t){var e,n,s=[],i,o,r;if(!t._d){for(i=VG(t),t._w&&t._a[os]==null&&t._a[Rs]==null&&WG(t),t._dayOfYear!=null&&(r=Go(t._a[Xt],i[Xt]),(t._dayOfYear>Da(r)||t._dayOfYear===0)&&(xe(t)._overflowDayOfYear=!0),n=el(r,0,t._dayOfYear),t._a[Rs]=n.getUTCMonth(),t._a[os]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ot]===24&&t._a[Wn]===0&&t._a[Os]===0&&t._a[co]===0&&(t._nextDay=!0,t._a[Ot]=0),t._d=(t._useUTC?el:q8).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ot]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(xe(t).weekdayMismatch=!0)}}function WG(t){var e,n,s,i,o,r,a,l,c;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,r=4,n=Go(e.GG,t._a[Xt],tl(gt(),1,4).year),s=Go(e.W,1),i=Go(e.E,1),(i<1||i>7)&&(l=!0)):(o=t._locale._week.dow,r=t._locale._week.doy,c=tl(gt(),o,r),n=Go(e.gg,t._a[Xt],c.year),s=Go(e.w,c.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+o,(e.e<0||e.e>6)&&(l=!0)):i=o),s<1||s>Ys(n,o,r)?xe(t)._overflowWeeks=!0:l!=null?xe(t)._overflowWeekday=!0:(a=nx(n,s,i,o,r),t._a[Xt]=a.year,t._dayOfYear=a.dayOfYear)}V.ISO_8601=function(){};V.RFC_2822=function(){};function Og(t){if(t._f===V.ISO_8601){ax(t);return}if(t._f===V.RFC_2822){lx(t);return}t._a=[],xe(t).empty=!0;var e=""+t._i,n,s,i,o,r,a=e.length,l=0,c,u;for(i=HS(t._f,t._locale).match(wg)||[],u=i.length,n=0;n<u;n++)o=i[n],s=(e.match(D8(o,t))||[])[0],s&&(r=e.substr(0,e.indexOf(s)),r.length>0&&xe(t).unusedInput.push(r),e=e.slice(e.indexOf(s)+s.length),l+=s.length),tr[o]?(s?xe(t).empty=!1:xe(t).unusedTokens.push(o),R8(o,s,t)):t._strict&&!s&&xe(t).unusedTokens.push(o);xe(t).charsLeftOver=a-l,e.length>0&&xe(t).unusedInput.push(e),t._a[Ot]<=12&&xe(t).bigHour===!0&&t._a[Ot]>0&&(xe(t).bigHour=void 0),xe(t).parsedDateParts=t._a.slice(0),xe(t).meridiem=t._meridiem,t._a[Ot]=HG(t._locale,t._a[Ot],t._meridiem),c=xe(t).era,c!==null&&(t._a[Xt]=t._locale.erasConvertYear(c,t._a[Xt])),Rg(t),Ig(t)}function HG(t,e,n){var s;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(s=t.isPM(n),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function jG(t){var e,n,s,i,o,r,a=!1,l=t._f.length;if(l===0){xe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)o=0,r=!1,e=bg({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],Og(e),yg(e)&&(r=!0),o+=xe(e).charsLeftOver,o+=xe(e).unusedTokens.length*10,xe(e).score=o,a?o<s&&(s=o,n=e):(s==null||o<s||r)&&(s=o,n=e,r&&(a=!0));gi(t,n||e)}function zG(t){if(!t._d){var e=Ag(t._i),n=e.day===void 0?e.date:e.day;t._a=US([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),Rg(t)}}function GG(t){var e=new Tl(Ig(cx(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function cx(t){var e=t._i,n=t._f;return t._locale=t._locale||Zs(t._l),e===null||n===void 0&&e===""?rd({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Qn(e)?new Tl(Ig(e)):(Ml(e)?t._d=e:qn(n)?jG(t):n?Og(t):KG(t),yg(t)||(t._d=null),t))}function KG(t){var e=t._i;sn(e)?t._d=new Date(V.now()):Ml(e)?t._d=new Date(e.valueOf()):typeof e=="string"?UG(t):qn(e)?(t._a=US(e.slice(0),function(n){return parseInt(n,10)}),Rg(t)):mo(e)?zG(t):js(e)?t._d=new Date(e):V.createFromInputFallback(t)}function ux(t,e,n,s,i){var o={};return(e===!0||e===!1)&&(s=e,e=void 0),(n===!0||n===!1)&&(s=n,n=void 0),(mo(t)&&_g(t)||qn(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=s,GG(o)}function gt(t,e,n,s){return ux(t,e,n,s,!1)}var qG=Ln("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:rd()}),QG=Ln("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:rd()});function dx(t,e){var n,s;if(e.length===1&&qn(e[0])&&(e=e[0]),!e.length)return gt();for(n=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](n))&&(n=e[s]);return n}function XG(){var t=[].slice.call(arguments,0);return dx("isBefore",t)}function JG(){var t=[].slice.call(arguments,0);return dx("isAfter",t)}var ZG=function(){return Date.now?Date.now():+new Date},ia=["year","quarter","month","week","day","hour","minute","second","millisecond"];function e7(t){var e,n=!1,s,i=ia.length;for(e in t)if(ze(t,e)&&!(St.call(ia,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<i;++s)if(t[ia[s]]){if(n)return!1;parseFloat(t[ia[s]])!==Pe(t[ia[s]])&&(n=!0)}return!0}function t7(){return this._isValid}function n7(){return Xn(NaN)}function pd(t){var e=Ag(t),n=e.year||0,s=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,r=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=e7(e),this._milliseconds=+u+c*1e3+l*6e4+a*1e3*60*60,this._days=+r+o*7,this._months=+i+s*3+n*12,this._data={},this._locale=Zs(),this._bubble()}function Rc(t){return t instanceof pd}function Of(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function s7(t,e,n){var s=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0,r;for(r=0;r<s;r++)(n&&t[r]!==e[r]||!n&&Pe(t[r])!==Pe(e[r]))&&o++;return o+i}function hx(t,e){he(t,0,0,function(){var n=this.utcOffset(),s="+";return n<0&&(n=-n,s="-"),s+ps(~~(n/60),2)+e+ps(~~n%60,2)})}hx("Z",":");hx("ZZ","");re("Z",dd);re("ZZ",dd);et(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Pg(dd,t)});var i7=/([\+\-]|\d\d)/gi;function Pg(t,e){var n=(e||"").match(t),s,i,o;return n===null?null:(s=n[n.length-1]||[],i=(s+"").match(i7)||["-",0,0],o=+(i[1]*60)+Pe(i[2]),o===0?0:i[0]==="+"?o:-o)}function Ng(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(Qn(t)||Ml(t)?t.valueOf():gt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),V.updateOffset(n,!1),n):gt(t).local()}function Pf(t){return-Math.round(t._d.getTimezoneOffset())}V.updateOffset=function(){};function o7(t,e,n){var s=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Pg(dd,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Pf(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),s!==t&&(!e||this._changeInProgress?gx(this,Xn(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,V.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Pf(this)}function r7(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function a7(t){return this.utcOffset(0,t)}function l7(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Pf(this),"m")),this}function c7(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Pg(M8,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function u7(t){return this.isValid()?(t=t?gt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function d7(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function h7(){if(!sn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return bg(t,this),t=cx(t),t._a?(e=t._isUTC?vs(t._a):gt(t._a),this._isDSTShifted=this.isValid()&&s7(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function f7(){return this.isValid()?!this._isUTC:!1}function p7(){return this.isValid()?this._isUTC:!1}function fx(){return this.isValid()?this._isUTC&&this._offset===0:!1}var g7=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,m7=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xn(t,e){var n=t,s=null,i,o,r;return Rc(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:js(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(s=g7.exec(t))?(i=s[1]==="-"?-1:1,n={y:0,d:Pe(s[os])*i,h:Pe(s[Ot])*i,m:Pe(s[Wn])*i,s:Pe(s[Os])*i,ms:Pe(Of(s[co]*1e3))*i}):(s=m7.exec(t))?(i=s[1]==="-"?-1:1,n={y:Zi(s[2],i),M:Zi(s[3],i),w:Zi(s[4],i),d:Zi(s[5],i),h:Zi(s[6],i),m:Zi(s[7],i),s:Zi(s[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(r=_7(gt(n.from),gt(n.to)),n={},n.ms=r.milliseconds,n.M=r.months),o=new pd(n),Rc(t)&&ze(t,"_locale")&&(o._locale=t._locale),Rc(t)&&ze(t,"_isValid")&&(o._isValid=t._isValid),o}Xn.fn=pd.prototype;Xn.invalid=n7;function Zi(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function iv(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function _7(t,e){var n;return t.isValid()&&e.isValid()?(e=Ng(e,t),t.isBefore(e)?n=iv(t,e):(n=iv(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function px(t,e){return function(n,s){var i,o;return s!==null&&!isNaN(+s)&&(WS(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=s,s=o),i=Xn(n,s),gx(this,i,t),this}}function gx(t,e,n,s){var i=e._milliseconds,o=Of(e._days),r=Of(e._months);t.isValid()&&(s=s??!0,r&&ZS(t,Za(t,"Month")+r*n),o&&QS(t,"Date",Za(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),s&&V.updateOffset(t,o||r))}var y7=px(1,"add"),b7=px(-1,"subtract");function mx(t){return typeof t=="string"||t instanceof String}function v7(t){return Qn(t)||Ml(t)||mx(t)||js(t)||A7(t)||w7(t)||t===null||t===void 0}function w7(t){var e=mo(t)&&!_g(t),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,o,r=s.length;for(i=0;i<r;i+=1)o=s[i],n=n||ze(t,o);return e&&n}function A7(t){var e=qn(t),n=!1;return e&&(n=t.filter(function(s){return!js(s)&&mx(t)}).length===0),e&&n}function S7(t){var e=mo(t)&&!_g(t),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,o;for(i=0;i<s.length;i+=1)o=s[i],n=n||ze(t,o);return e&&n}function x7(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function C7(t,e){arguments.length===1&&(arguments[0]?v7(arguments[0])?(t=arguments[0],e=void 0):S7(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||gt(),s=Ng(n,this).startOf("day"),i=V.calendarFormat(this,s)||"sameElse",o=e&&(ws(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,gt(n)))}function k7(){return new Tl(this)}function E7(t,e){var n=Qn(t)?t:gt(t);return this.isValid()&&n.isValid()?(e=Fn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function M7(t,e){var n=Qn(t)?t:gt(t);return this.isValid()&&n.isValid()?(e=Fn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function T7(t,e,n,s){var i=Qn(t)?t:gt(t),o=Qn(e)?e:gt(e);return this.isValid()&&i.isValid()&&o.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(s[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function D7(t,e){var n=Qn(t)?t:gt(t),s;return this.isValid()&&n.isValid()?(e=Fn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(s=n.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function I7(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function R7(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function O7(t,e,n){var s,i,o;if(!this.isValid())return NaN;if(s=Ng(t,this),!s.isValid())return NaN;switch(i=(s.utcOffset()-this.utcOffset())*6e4,e=Fn(e),e){case"year":o=Oc(this,s)/12;break;case"month":o=Oc(this,s);break;case"quarter":o=Oc(this,s)/3;break;case"second":o=(this-s)/1e3;break;case"minute":o=(this-s)/6e4;break;case"hour":o=(this-s)/36e5;break;case"day":o=(this-s-i)/864e5;break;case"week":o=(this-s-i)/6048e5;break;default:o=this-s}return n?o:En(o)}function Oc(t,e){if(t.date()<e.date())return-Oc(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(n,"months"),i,o;return e-s<0?(i=t.clone().add(n-1,"months"),o=(e-s)/(s-i)):(i=t.clone().add(n+1,"months"),o=(e-s)/(i-s)),-(n+o)||0}V.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";V.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function P7(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function N7(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?Ic(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ws(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ic(n,"Z")):Ic(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function L7(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,s,i,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+s+i+o)}function F7(t){t||(t=this.isUtc()?V.defaultFormatUtc:V.defaultFormat);var e=Ic(this,t);return this.localeData().postformat(e)}function $7(t,e){return this.isValid()&&(Qn(t)&&t.isValid()||gt(t).isValid())?Xn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function B7(t){return this.from(gt(),t)}function Y7(t,e){return this.isValid()&&(Qn(t)&&t.isValid()||gt(t).isValid())?Xn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function U7(t){return this.to(gt(),t)}function _x(t){var e;return t===void 0?this._locale._abbr:(e=Zs(t),e!=null&&(this._locale=e),this)}var yx=Ln("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function bx(){return this._locale}var tu=1e3,nr=60*tu,nu=60*nr,vx=(365*400+97)*24*nu;function sr(t,e){return(t%e+e)%e}function wx(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-vx:new Date(t,e,n).valueOf()}function Ax(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-vx:Date.UTC(t,e,n)}function V7(t){var e,n;if(t=Fn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ax:wx,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=sr(e+(this._isUTC?0:this.utcOffset()*nr),nu);break;case"minute":e=this._d.valueOf(),e-=sr(e,nr);break;case"second":e=this._d.valueOf(),e-=sr(e,tu);break}return this._d.setTime(e),V.updateOffset(this,!0),this}function W7(t){var e,n;if(t=Fn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ax:wx,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=nu-sr(e+(this._isUTC?0:this.utcOffset()*nr),nu)-1;break;case"minute":e=this._d.valueOf(),e+=nr-sr(e,nr)-1;break;case"second":e=this._d.valueOf(),e+=tu-sr(e,tu)-1;break}return this._d.setTime(e),V.updateOffset(this,!0),this}function H7(){return this._d.valueOf()-(this._offset||0)*6e4}function j7(){return Math.floor(this.valueOf()/1e3)}function z7(){return new Date(this.valueOf())}function G7(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function K7(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function q7(){return this.isValid()?this.toISOString():null}function Q7(){return yg(this)}function X7(){return gi({},xe(this))}function J7(){return xe(this).overflow}function Z7(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}he("N",0,0,"eraAbbr");he("NN",0,0,"eraAbbr");he("NNN",0,0,"eraAbbr");he("NNNN",0,0,"eraName");he("NNNNN",0,0,"eraNarrow");he("y",["y",1],"yo","eraYear");he("y",["yy",2],0,"eraYear");he("y",["yyy",3],0,"eraYear");he("y",["yyyy",4],0,"eraYear");re("N",Lg);re("NN",Lg);re("NNN",Lg);re("NNNN",u9);re("NNNNN",d9);et(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,s){var i=n._locale.erasParse(t,s,n._strict);i?xe(n).era=i:xe(n).invalidEra=t});re("y",Nr);re("yy",Nr);re("yyy",Nr);re("yyyy",Nr);re("yo",h9);et(["y","yy","yyy","yyyy"],Xt);et(["yo"],function(t,e,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Xt]=n._locale.eraYearOrdinalParse(t,i):e[Xt]=parseInt(t,10)});function e9(t,e){var n,s,i,o=this._eras||Zs("en")._eras;for(n=0,s=o.length;n<s;++n){switch(typeof o[n].since){case"string":i=V(o[n].since).startOf("day"),o[n].since=i.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=V(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf();break}}return o}function t9(t,e,n){var s,i,o=this.eras(),r,a,l;for(t=t.toUpperCase(),s=0,i=o.length;s<i;++s)if(r=o[s].name.toUpperCase(),a=o[s].abbr.toUpperCase(),l=o[s].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return o[s];break;case"NNNN":if(r===t)return o[s];break;case"NNNNN":if(l===t)return o[s];break}else if([r,a,l].indexOf(t)>=0)return o[s]}function n9(t,e){var n=t.since<=t.until?1:-1;return e===void 0?V(t.since).year():V(t.since).year()+(e-t.offset)*n}function s9(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].name;return""}function i9(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].narrow;return""}function o9(){var t,e,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return s[t].abbr;return""}function r9(){var t,e,n,s,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,s=this.clone().startOf("day").valueOf(),i[t].since<=s&&s<=i[t].until||i[t].until<=s&&s<=i[t].since)return(this.year()-V(i[t].since).year())*n+i[t].offset;return this.year()}function a9(t){return ze(this,"_erasNameRegex")||Fg.call(this),t?this._erasNameRegex:this._erasRegex}function l9(t){return ze(this,"_erasAbbrRegex")||Fg.call(this),t?this._erasAbbrRegex:this._erasRegex}function c9(t){return ze(this,"_erasNarrowRegex")||Fg.call(this),t?this._erasNarrowRegex:this._erasRegex}function Lg(t,e){return e.erasAbbrRegex(t)}function u9(t,e){return e.erasNameRegex(t)}function d9(t,e){return e.erasNarrowRegex(t)}function h9(t,e){return e._eraYearOrdinalRegex||Nr}function Fg(){var t=[],e=[],n=[],s=[],i,o,r,a,l,c=this.eras();for(i=0,o=c.length;i<o;++i)r=Bs(c[i].name),a=Bs(c[i].abbr),l=Bs(c[i].narrow),e.push(r),t.push(a),n.push(l),s.push(r),s.push(a),s.push(l);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}he(0,["gg",2],0,function(){return this.weekYear()%100});he(0,["GG",2],0,function(){return this.isoWeekYear()%100});function gd(t,e){he(0,[t,t.length],0,e)}gd("gggg","weekYear");gd("ggggg","weekYear");gd("GGGG","isoWeekYear");gd("GGGGG","isoWeekYear");re("G",ud);re("g",ud);re("GG",mt,Sn);re("gg",mt,Sn);re("GGGG",xg,Sg);re("gggg",xg,Sg);re("GGGGG",cd,ad);re("ggggg",cd,ad);Il(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,s){e[s.substr(0,2)]=Pe(t)});Il(["gg","GG"],function(t,e,n,s){e[s]=V.parseTwoDigitYear(t)});function f9(t){return Sx.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function p9(t){return Sx.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function g9(){return Ys(this.year(),1,4)}function m9(){return Ys(this.isoWeekYear(),1,4)}function _9(){var t=this.localeData()._week;return Ys(this.year(),t.dow,t.doy)}function y9(){var t=this.localeData()._week;return Ys(this.weekYear(),t.dow,t.doy)}function Sx(t,e,n,s,i){var o;return t==null?tl(this,s,i).year:(o=Ys(t,s,i),e>o&&(e=o),b9.call(this,t,e,n,s,i))}function b9(t,e,n,s,i){var o=nx(t,e,n,s,i),r=el(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}he("Q",0,"Qo","quarter");re("Q",jS);et("Q",function(t,e){e[Rs]=(Pe(t)-1)*3});function v9(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}he("D",["DD",2],"Do","date");re("D",mt,Lr);re("DD",mt,Sn);re("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});et(["D","DD"],os);et("Do",function(t,e){e[os]=Pe(t.match(mt)[0])});var xx=Fr("Date",!0);he("DDD",["DDDD",3],"DDDo","dayOfYear");re("DDD",ld);re("DDDD",zS);et(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Pe(t)});function w9(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}he("m",["mm",2],0,"minute");re("m",mt,Cg);re("mm",mt,Sn);et(["m","mm"],Wn);var A9=Fr("Minutes",!1);he("s",["ss",2],0,"second");re("s",mt,Cg);re("ss",mt,Sn);et(["s","ss"],Os);var S9=Fr("Seconds",!1);he("S",0,0,function(){return~~(this.millisecond()/100)});he(0,["SS",2],0,function(){return~~(this.millisecond()/10)});he(0,["SSS",3],0,"millisecond");he(0,["SSSS",4],0,function(){return this.millisecond()*10});he(0,["SSSSS",5],0,function(){return this.millisecond()*100});he(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});he(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});he(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});he(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});re("S",ld,jS);re("SS",ld,Sn);re("SSS",ld,zS);var mi,Cx;for(mi="SSSS";mi.length<=9;mi+="S")re(mi,Nr);function x9(t,e){e[co]=Pe(("0."+t)*1e3)}for(mi="S";mi.length<=9;mi+="S")et(mi,x9);Cx=Fr("Milliseconds",!1);he("z",0,0,"zoneAbbr");he("zz",0,0,"zoneName");function C9(){return this._isUTC?"UTC":""}function k9(){return this._isUTC?"Coordinated Universal Time":""}var j=Tl.prototype;j.add=y7;j.calendar=C7;j.clone=k7;j.diff=O7;j.endOf=W7;j.format=F7;j.from=$7;j.fromNow=B7;j.to=Y7;j.toNow=U7;j.get=L8;j.invalidAt=J7;j.isAfter=E7;j.isBefore=M7;j.isBetween=T7;j.isSame=D7;j.isSameOrAfter=I7;j.isSameOrBefore=R7;j.isValid=Q7;j.lang=yx;j.locale=_x;j.localeData=bx;j.max=QG;j.min=qG;j.parsingFlags=X7;j.set=F8;j.startOf=V7;j.subtract=b7;j.toArray=G7;j.toObject=K7;j.toDate=z7;j.toISOString=N7;j.inspect=L7;typeof Symbol<"u"&&Symbol.for!=null&&(j[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});j.toJSON=q7;j.toString=P7;j.unix=j7;j.valueOf=H7;j.creationData=Z7;j.eraName=s9;j.eraNarrow=i9;j.eraAbbr=o9;j.eraYear=r9;j.year=qS;j.isLeapYear=N8;j.weekYear=f9;j.isoWeekYear=p9;j.quarter=j.quarters=v9;j.month=ex;j.daysInMonth=z8;j.week=j.weeks=eG;j.isoWeek=j.isoWeeks=tG;j.weeksInYear=_9;j.weeksInWeekYear=y9;j.isoWeeksInYear=g9;j.isoWeeksInISOWeekYear=m9;j.date=xx;j.day=j.days=pG;j.weekday=gG;j.isoWeekday=mG;j.dayOfYear=w9;j.hour=j.hours=SG;j.minute=j.minutes=A9;j.second=j.seconds=S9;j.millisecond=j.milliseconds=Cx;j.utcOffset=o7;j.utc=a7;j.local=l7;j.parseZone=c7;j.hasAlignedHourOffset=u7;j.isDST=d7;j.isLocal=f7;j.isUtcOffset=p7;j.isUtc=fx;j.isUTC=fx;j.zoneAbbr=C9;j.zoneName=k9;j.dates=Ln("dates accessor is deprecated. Use date instead.",xx);j.months=Ln("months accessor is deprecated. Use month instead",ex);j.years=Ln("years accessor is deprecated. Use year instead",qS);j.zone=Ln("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",r7);j.isDSTShifted=Ln("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",h7);function E9(t){return gt(t*1e3)}function M9(){return gt.apply(null,arguments).parseZone()}function kx(t){return t}var Ge=vg.prototype;Ge.calendar=f8;Ge.longDateFormat=_8;Ge.invalidDate=b8;Ge.ordinal=A8;Ge.preparse=kx;Ge.postformat=kx;Ge.relativeTime=x8;Ge.pastFuture=C8;Ge.set=d8;Ge.eras=e9;Ge.erasParse=t9;Ge.erasConvertYear=n9;Ge.erasAbbrRegex=l9;Ge.erasNameRegex=a9;Ge.erasNarrowRegex=c9;Ge.months=V8;Ge.monthsShort=W8;Ge.monthsParse=j8;Ge.monthsRegex=K8;Ge.monthsShortRegex=G8;Ge.week=Q8;Ge.firstDayOfYear=Z8;Ge.firstDayOfWeek=J8;Ge.weekdays=cG;Ge.weekdaysMin=dG;Ge.weekdaysShort=uG;Ge.weekdaysParse=fG;Ge.weekdaysRegex=_G;Ge.weekdaysShortRegex=yG;Ge.weekdaysMinRegex=bG;Ge.isPM=wG;Ge.meridiem=xG;function su(t,e,n,s){var i=Zs(),o=vs().set(s,e);return i[n](o,t)}function Ex(t,e,n){if(js(t)&&(e=t,t=void 0),t=t||"",e!=null)return su(t,e,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=su(t,s,n,"month");return i}function $g(t,e,n,s){typeof t=="boolean"?(js(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,js(e)&&(n=e,e=void 0),e=e||"");var i=Zs(),o=t?i._week.dow:0,r,a=[];if(n!=null)return su(e,(n+o)%7,s,"day");for(r=0;r<7;r++)a[r]=su(e,(r+o)%7,s,"day");return a}function T9(t,e){return Ex(t,e,"months")}function D9(t,e){return Ex(t,e,"monthsShort")}function I9(t,e,n){return $g(t,e,n,"weekdays")}function R9(t,e,n){return $g(t,e,n,"weekdaysShort")}function O9(t,e,n){return $g(t,e,n,"weekdaysMin")}Ai("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Pe(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});V.lang=Ln("moment.lang is deprecated. Use moment.locale instead.",Ai);V.langData=Ln("moment.langData is deprecated. Use moment.localeData instead.",Zs);var xs=Math.abs;function P9(){var t=this._data;return this._milliseconds=xs(this._milliseconds),this._days=xs(this._days),this._months=xs(this._months),t.milliseconds=xs(t.milliseconds),t.seconds=xs(t.seconds),t.minutes=xs(t.minutes),t.hours=xs(t.hours),t.months=xs(t.months),t.years=xs(t.years),this}function Mx(t,e,n,s){var i=Xn(e,n);return t._milliseconds+=s*i._milliseconds,t._days+=s*i._days,t._months+=s*i._months,t._bubble()}function N9(t,e){return Mx(this,t,e,1)}function L9(t,e){return Mx(this,t,e,-1)}function ov(t){return t<0?Math.floor(t):Math.ceil(t)}function F9(){var t=this._milliseconds,e=this._days,n=this._months,s=this._data,i,o,r,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=ov(Nf(n)+e)*864e5,e=0,n=0),s.milliseconds=t%1e3,i=En(t/1e3),s.seconds=i%60,o=En(i/60),s.minutes=o%60,r=En(o/60),s.hours=r%24,e+=En(r/24),l=En(Tx(e)),n+=l,e-=ov(Nf(l)),a=En(n/12),n%=12,s.days=e,s.months=n,s.years=a,this}function Tx(t){return t*4800/146097}function Nf(t){return t*146097/4800}function $9(t){if(!this.isValid())return NaN;var e,n,s=this._milliseconds;if(t=Fn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,n=this._months+Tx(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Nf(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function ei(t){return function(){return this.as(t)}}var Dx=ei("ms"),B9=ei("s"),Y9=ei("m"),U9=ei("h"),V9=ei("d"),W9=ei("w"),H9=ei("M"),j9=ei("Q"),z9=ei("y"),G9=Dx;function K9(){return Xn(this)}function q9(t){return t=Fn(t),this.isValid()?this[t+"s"]():NaN}function Oo(t){return function(){return this.isValid()?this._data[t]:NaN}}var Q9=Oo("milliseconds"),X9=Oo("seconds"),J9=Oo("minutes"),Z9=Oo("hours"),eK=Oo("days"),tK=Oo("months"),nK=Oo("years");function sK(){return En(this.days()/7)}var Es=Math.round,Ko={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function iK(t,e,n,s,i){return i.relativeTime(e||1,!!n,t,s)}function oK(t,e,n,s){var i=Xn(t).abs(),o=Es(i.as("s")),r=Es(i.as("m")),a=Es(i.as("h")),l=Es(i.as("d")),c=Es(i.as("M")),u=Es(i.as("w")),d=Es(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||r<=1&&["m"]||r<n.m&&["mm",r]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(h=h||u<=1&&["w"]||u<n.w&&["ww",u]),h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d],h[2]=e,h[3]=+t>0,h[4]=s,iK.apply(null,h)}function rK(t){return t===void 0?Es:typeof t=="function"?(Es=t,!0):!1}function aK(t,e){return Ko[t]===void 0?!1:e===void 0?Ko[t]:(Ko[t]=e,t==="s"&&(Ko.ss=e-1),!0)}function lK(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=Ko,i,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(s=Object.assign({},Ko,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),i=this.localeData(),o=oK(this,!n,s,i),n&&(o=i.pastFuture(+this,o)),i.postformat(o)}var xh=Math.abs;function Vo(t){return(t>0)-(t<0)||+t}function md(){if(!this.isValid())return this.localeData().invalidDate();var t=xh(this._milliseconds)/1e3,e=xh(this._days),n=xh(this._months),s,i,o,r,a=this.asSeconds(),l,c,u,d;return a?(s=En(t/60),i=En(s/60),t%=60,s%=60,o=En(n/12),n%=12,r=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",c=Vo(this._months)!==Vo(a)?"-":"",u=Vo(this._days)!==Vo(a)?"-":"",d=Vo(this._milliseconds)!==Vo(a)?"-":"",l+"P"+(o?c+o+"Y":"")+(n?c+n+"M":"")+(e?u+e+"D":"")+(i||s||t?"T":"")+(i?d+i+"H":"")+(s?d+s+"M":"")+(t?d+r+"S":"")):"P0D"}var Be=pd.prototype;Be.isValid=t7;Be.abs=P9;Be.add=N9;Be.subtract=L9;Be.as=$9;Be.asMilliseconds=Dx;Be.asSeconds=B9;Be.asMinutes=Y9;Be.asHours=U9;Be.asDays=V9;Be.asWeeks=W9;Be.asMonths=H9;Be.asQuarters=j9;Be.asYears=z9;Be.valueOf=G9;Be._bubble=F9;Be.clone=K9;Be.get=q9;Be.milliseconds=Q9;Be.seconds=X9;Be.minutes=J9;Be.hours=Z9;Be.days=eK;Be.weeks=sK;Be.months=tK;Be.years=nK;Be.humanize=lK;Be.toISOString=md;Be.toString=md;Be.toJSON=md;Be.locale=_x;Be.localeData=bx;Be.toIsoString=Ln("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",md);Be.lang=yx;he("X",0,0,"unix");he("x",0,0,"valueOf");re("x",ud);re("X",T8);et("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});et("x",function(t,e,n){n._d=new Date(Pe(t))});//! moment.js
V.version="2.30.1";c8(gt);V.fn=j;V.min=XG;V.max=JG;V.now=ZG;V.utc=vs;V.unix=E9;V.months=T9;V.isDate=Ml;V.locale=Ai;V.invalid=rd;V.duration=Xn;V.isMoment=Qn;V.weekdays=I9;V.parseZone=M9;V.localeData=Zs;V.isDuration=Rc;V.monthsShort=D9;V.weekdaysMin=O9;V.defineLocale=Dg;V.updateLocale=MG;V.locales=TG;V.weekdaysShort=R9;V.normalizeUnits=Fn;V.relativeTimeRounding=rK;V.relativeTimeThreshold=aK;V.calendarFormat=x7;V.prototype=j;V.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const cK={name:"Calendar",setup(){const t=ie(V());ls(t,(u,d)=>{console.log(`fullDate가 ${d}에서 ${u}로 변경되었습니다.`)});const e=ZV(),n=Mt(()=>e.goals.map(u=>u.color));console.log("가져온색상:",n.value);const s=ie([]),i=ie([]),o=ie(""),r=V().format("MM");o.value=r;const a=dr(),l=ie(a.params.selectedDate||V().format("YYYY-MM-DD"));Nn(async()=>{try{const u=V(l.value).format("YYYYMMDD");console.log("formattedDate:",u),Sl(u,({data:d})=>{console.log("선택한 날 투두 리스트 목록"),console.log(d),i.value=d},d=>{console.log(d)})}catch(u){console.error("Error fetching todos:",u)}try{const u=V(l.value).format("MM");Ty(u,({data:d})=>{console.log("월별 투두 리스트 목록"),console.log(d),s.value=d},d=>{console.log(d)})}catch(u){console.error("Error fetching todos:",u)}});const c=Mt(()=>{const u=i.value.map(d=>d.color);return[...new Set(u)]});return{goalColors:n,todos:i,uniqueColors:c,monthTodos:s,nowMonth:o,fullDate:t}},data(){return{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthIntNames:["01","02","03","04","05","06","07","08","09","10","11","12"],today:V(),dateContext:V(),selectedDate:V(),days:["월","화","수","목","금","토","일"],fixtureDate:[],activeDates:[],isStyleCurrentDate:!0,currentMonth:this.dateContext?this.dateContext.format("MM"):null}},props:{selectedColor:String},computed:{monthNumber:function(){return this.monthNames.indexOf(this.month)+1},year:function(){return this.dateContext.format("Y")},month:function(){return this.dateContext.format("MMMM")},daysInMonth:function(){return this.dateContext.daysInMonth()},currentDate:function(){return this.dateContext.get("date")},firstDayOfMonth:function(){let t=V(this.dateContext).subtract(this.currentDate,"days"),e=t.weekday();return console.log("First day of month:",e),t.weekday()},previousMonth:function(){return V(this.dateContext).subtract(1,"month")},nextMonth:function(){return V(this.dateContext).add(1,"month")},daysInPreviousMonth:function(){return this.previousMonth.daysInMonth()},daysFromPreviousMonth:function(){let t=[],e=this.daysInPreviousMonth-this.firstDayOfMonth;for(;e<this.daysInPreviousMonth;)e++,t[e]=e;return t.filter(function(){return!0})},dateList:function(){let t=this,e=[],n=0,s=0;for(this.daysFromPreviousMonth.forEach(function(a){n++,s++;let l=t.formattingDay(a);e[n]={key:n,year:parseInt(t.year),month:parseInt(t.month)-1,dayNumber:l,blank:!0,today:!1,now:!1,weekDay:!1,isPreviousMonth:!0}});n<this.firstDayOfMonth+this.daysInMonth;){n++;let a=n-s,l=this.getWeekDay(n),c=a;e[n]={key:n,dayNumber:c,blank:!1,today:!1,dates:V({year:this.year,month:this.monthIntNames,day:a}).format("YYYYMMDD"),now:c===this.initialDate&&this.todayInCurrentMonthAndYear,weekDay:l}}let i=7-n%7,o=n,r=0;if(i<7)for(;n<o+i;){n++,r++;let a=r;e[n]={key:n,year:parseInt(t.year),month:parseInt(t.month)-1,dayNumber:a,blank:!0,today:!1,now:!1,weekDay:!1,isNextMonth:!0}}return t.fixtureDate=e.filter(function(){return!0}),t.fixtureDate},initialDate:function(){return this.today.get("date")},initialMonth:function(){return this.today.format("MMMM")},initialYear:function(){return this.today.format("Y")},todayInCurrentMonthAndYear:function(){return this.month===this.initialMonth&&this.year===this.initialYear}},methods:{subtractMonth(){this.dateContext=V(this.dateContext).subtract(1,"month"),this.fullDate=V(this.dateContext).startOf("month"),this.updateMonthTodos()},addMonth(){this.dateContext=V(this.dateContext).add(1,"month"),this.fullDate=V(this.dateContext).startOf("month"),this.updateMonthTodos()},updateMonthTodos(){const t=this.dateContext.format("MM");Ty(t,({data:e})=>{console.log("목표 리스트 목록"),console.log(e),this.monthTodos=e},e=>{console.error("Error fetching todos:",e)})},todosForDate(t){const e=V(t.dates,"YYYYMMDD"),n=this.dateContext.format("MM");return this.monthTodos.filter(s=>{const i=V(s.todoDate,"YYYYMMDD");return i.format("DD")===e.format("DD")&&i.format("MM")===n})},uniqueColorsForDate(t){const n=this.todosForDate(t).map(s=>s.color);return[...new Set(n)]},hasTodos(t){const e=V(t.dates,"YYYYMMDD");return this.monthTodos.some(n=>V(n.todoDate,"YYYYMMDD").isSame(e,"day"))},isToday(t){return V().isSame(V({year:t.year,month:t.month,day:t.dayNumber}),"day")},mounted(){this.fetchTodos()},handleDateClick(t,e){t.isPreviousMonth?this.subtractMonth():t.isNextMonth?this.addMonth():this.setSelectedDate(t,e)},setSelectedDate:function(t,e){console.log("Year:",this.year),console.log("Month:",this.month),console.log("Day Number:",t.dayNumber);let n=parseInt(t.dayNumber),s=parseInt(this.year);console.log("Formatted Day1:",n),console.log("Formatted Year1:",s),this.selectedDate=V({year:s,month:this.monthNumber-1,day:n}),console.log("Formatted Date2:",this.selectedDate.format("YYYYMMDD")),this.selectedDate.isValid()||console.error("Invalid Date!"),this.$router.push({name:"CalendarDetail",params:{selectedDate:this.selectedDate.isValid()?this.selectedDate.format("YYYY-MM-DD"):null}}),this.fixtureDate.forEach(a=>{a.today=!1}),this.activeDates=[];let i=[[1,7],[8,14],[15,21],[22,28],[29,35],[36,42]],o=this.fixtureDate[e].key,r=[];for(let a=0;a<i.length;a++)if(o>=i[a][0]&&o<=i[a][1]){r=i[a];break}this.isStyleCurrentDate||(this.isStyleCurrentDate=!0),this.fixtureDate.forEach(a=>{a.key>=r[0]&&a.key<=r[1]-2&&(this.activeDates.push(new Date(this.year,V().month(this.month).format("M")-1,a.dayNumber)),this.todayInCurrentMonthAndYear&&this.initialDate===a.dayNumber&&(this.isStyleCurrentDate=!1),a.today=!0)})},formattingDay(t){return("0"+t).slice(-2)},getWeekDay(t){let e=t;return e>7&&(e%=7),e=e===0?6:e-1,this.days[e]},accept(){console.log(this.activeDates)}}},uK={class:"calendar-wrapper mt-5"},dK={md:"8"},hK={class:"calendar-body"},fK={class:"calendar-header"},pK={class:"calendar-title"},gK={class:"calendar-weekdays"},mK={class:"calendar-dates"},_K=["onClick"],yK={class:"day"},bK={key:0,class:"color-bars"};function vK(t,e,n,s,i,o){const r=rs("b-row");return T(),I("main",uK,[f("div",dK,[f("div",hK,[f("div",fK,[be(r,{"align-v":"center"},{default:vt(()=>[f("div",pK,[f("span",{class:"arrow-left",style:{"margin-right":"15px"},onClick:e[0]||(e[0]=(...a)=>o.subtractMonth&&o.subtractMonth(...a))},"<"),lt(" "+oe(o.year)+"년 "+oe(i.dateContext.format("M"))+"월 ",1),f("span",{class:"arrow-right",style:{"margin-left":"15px"},onClick:e[1]||(e[1]=(...a)=>o.addMonth&&o.addMonth(...a))},">")])]),_:1})]),f("div",gK,[(T(!0),I(ke,null,Ze(i.days,(a,l)=>(T(),I("div",{class:"weekday",key:l},[f("strong",null,oe(a),1)]))),128))]),f("div",mK,[(T(!0),I(ke,null,Ze(o.dateList,(a,l)=>(T(),I("div",{key:l,class:Ii(["date text-center",{blank:a.blank,weekend:a.weekDay==="S","previous-month":a.isPreviousMonth,"next-month":a.isNextMonth}]),onClick:c=>o.handleDateClick(a,l)},[f("span",yK,oe(a.dayNumber),1),o.todosForDate(a).length?(T(),I("div",bK,[(T(!0),I(ke,null,Ze(o.uniqueColorsForDate(a),c=>(T(),I("div",{key:c,class:"color-bar",style:Di({backgroundColor:c})},null,4))),128))])):Je("",!0)],10,_K))),128))])])])])}const wK=Ee(cK,[["render",vK],["__scopeId","data-v-9ac3b98f"]]),Bg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEHSURBVHgB3ZXhDYIwEIVfnMAN6AhuYDeQDWAT3AA3KJvgBrgBbsAI2ibX9CAUrij+8EtemsCjd722B/DvaCtj1Vu9SB09y/EByqplk8bUkzeJk9VAE7ixssom70uEVQ30TJy5n9yV4bjgde9qFkRBgM+qhpyGvmnXjDlCXY+Q47x+1XrJaMhUIJ0KoaxROjKJN4yhEFYfxR+9rcx+f8DO8ABPGjOk48v6WApwp7HEFwNwNMKlST2m/v5c1sy+/xjIuUFwgjwK4dLUWG8VDcLp0RDCm53LqsD4biirK/Ns6qwK439ATK6kZ+ZNbt9u09x+dJNMDU08l1ByEClqEmQXFE2+W4Df8wbKuGdrUdlq5wAAAABJRU5ErkJggg==",AK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADtSURBVHgB3ZSBDcIgEEV/jAOwgbhBN7AbtBvYTXSDjtBR6gbVCegGHUEhHhaJhXq0MfEll0u44w447oB/Rmg5a2m13Ek6LUcsgNSinMC+KPJho5xABzxvYyg8mwCDKhJAOElOYNDR5iLgk5NPCwb2nUOImX7BBGKmX5DNh7UL6Wx6G0rSVzAwhZtbZFZPuAGMLp313LOxkVoGTDfagIRGk3gfD4t2c4bx5Eabeuw8e4Xxmb66iXSCNwh/U2OrvQQKkbrYU9XgEeyLEokDLJagAe9fx0b6q5Nt196wEuzBFYuxJd1jJWyCPdLp8Qsem2BpA00WU8IAAAAASUVORK5CYII=",SK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACrSURBVHgB7ZXRDYAgDEQvTtJNdQPdkBEcQSWxigiUNuCXl1xMDPRVPAD4UNPh9fAm2I+ZodRSUTj2CIW4c6oYS7i/pFrcVfPxAzrrB7AchBhrfjLhnaIQkIxxCKDMhNizooFrUk3xFfIme60Iv3DBk2BXFtCieBGQK+5OmwEO5c67HSUszWFoAoyQYxuugBrg5XMvXUgMMQFKIjwj3hwQQ7oAUpAuIuj3jV07nX+KylNpxJMAAAAASUVORK5CYII=",Ix=t=>(Ne("data-v-f8dfb6b4"),t=t(),Le(),t),xK={class:"friend-profile"},CK={class:"profile-dialog profile-dialog-centered",role:"document"},kK={class:"profile-content"},EK=Ix(()=>f("h5",{class:"profile-title"},"친구 프로필",-1)),MK={key:0,class:"profile-body"},TK={class:"profile-info"},DK=["src"],IK={class:"profile-name"},RK={class:"profile-memo"},OK={class:"goal-list"},PK=Ix(()=>f("p",{class:"goal-list-title"},"목표 리스트",-1)),NK={__name:"FriendProfile",setup(t){const e=ie({name:"김싸피",memo:"오늘만 살자",profilePicture:"/src/assets/damgom.png",goals:["와플대학 입학","청년카페 취업","김밥천국 승천"],following:!1}),n=ie("친구 신청"),s=()=>{window.history.back()},i=()=>{e.value.following?e.value.following&&!e.value.accepted&&confirm("친구를 삭제하시겠습니까?")&&(e.value.following=!e.value.following,n.value="친구 신청"):confirm("친구 신청하겠습니까?")&&(e.value.following=!e.value.following,n.value="친구 신청 중")};return ls(()=>e.value.following,o=>{o&&e.value.accepted&&(n.value="친구!")}),(o,r)=>(T(),I("div",xK,[f("div",CK,[f("div",kK,[f("div",{class:"profile-header"},[EK,f("button",{class:"back-button",onClick:s},"뒤로가기")]),e.value?(T(),I("div",MK,[f("div",TK,[f("img",{src:e.value.profilePicture,alt:"프로필 사진",class:"profile-picture"},null,8,DK),f("div",IK,oe(e.value.name),1),f("div",RK,oe(e.value.memo),1),f("button",{class:"friend-add btn btn-success btn-sm ml-2",onClick:hn(i,["stop"])},oe(n.value),1)])])):Je("",!0),f("div",OK,[PK,f("ul",null,[(T(!0),I(ke,null,Ze(e.value.goals,(a,l)=>(T(),I("li",{key:l},oe(a),1))),128))])])])])]))}},Rx=Ee(NK,[["__scopeId","data-v-f8dfb6b4"]]),_d=t=>(Ne("data-v-0d900163"),t=t(),Le(),t),LK={class:"friend-list container mt-5"},FK=_d(()=>f("div",{class:"friend"},"친구",-1)),$K=_d(()=>f("div",{class:"search"},[f("img",{src:Bg,alt:""})],-1)),BK=[$K],YK=_d(()=>f("img",{src:AK,alt:""},null,-1)),UK=[YK],VK={class:"friend-search mb-3"},WK={class:"list-group"},HK=["onClick"],jK={class:"friend-item"},zK={class:"friend-name"},GK={class:"buttons"},KK=["onClick"],qK=_d(()=>f("img",{src:SK,alt:""},null,-1)),QK=[qK],XK={__name:"Friend",setup(t){Nn(()=>{n()});const e=ie(null),n=async g=>{try{const m=await EA(g);e.value=m.data,console.log("회원 정보 조회 성공",m.data)}catch(m){console.error("회원 정보 조회 실패",m)}},s=Rr(),i=g=>{const m={path:"/friend-profile",component:Rx,props:{friend:g}};s.push(m)},o=ie(null),r=ie(!1),a=ie(""),l=ie([]),c=Mt(()=>l.value.filter(g=>g.name.toLowerCase().includes(a.value.toLowerCase()))),u=g=>{o.value=g;const m={path:"/chat",component:Chat};s.push(m)},d=()=>{r.value=!r.value,r.value||(a.value="")},h=()=>{s.push("/friendRequestList")},p=g=>g.profilePicture||"@/assets/profile-default.jpg";return(g,m)=>(T(),I("div",LK,[f("div",{class:"friend-header"},[FK,f("div",{class:"friend-buttons"},[f("button",{class:"btn",onClick:d},BK),f("button",{class:"btn",onClick:h},UK)])]),le(f("div",VK,[le(f("input",{"onUpdate:modelValue":m[0]||(m[0]=_=>a.value=_),type:"text",class:"form-control",placeholder:"친구 검색"},null,512),[[Ce,a.value]])],512),[[Ep,r.value]]),f("ul",WK,[(T(!0),I(ke,null,Ze(c.value,_=>(T(),I("li",{key:_.id,class:"list-group-item",onClick:w=>i(_)},[f("div",jK,[f("img",{src:p,alt:"프로필 이미지",class:"profile-image mr-2"}),f("span",zK,oe(_.name),1)]),f("div",GK,[f("button",{class:"btn btn-sm",onClick:hn(w=>u(_),["stop"])},QK,8,KK)])],8,HK))),128))])]))}},JK=Ee(XK,[["__scopeId","data-v-0d900163"]]),zs=Vi();async function ere(t,e){zs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await zs.get("/friends").then(t).catch(e),console.log("친구 목록 조회 성공")}async function ZK(t,e){zs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await zs.get("/friends/request").then(t).catch(e),console.log("친구 요청 목록 조회 성공")}async function eq(t,e,n){zs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await zs.post("/friends/request",t).then(e).catch(n),console.log("친구 요청 보내기 성공")}async function tq(t,e,n){zs.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken");const s={nickname:t};await zs.post("/friends/accept",s).then(e).catch(n),console.log("친구 요청 받기 성공")}async function nq(t,e,n){zs.delete(`/friends/reject/${t}`).then(e).catch(n),console.log("친구 요청 삭제 성공")}const sq={class:"modal-content",style:{"border-radius":"10px"}},iq={class:"request-info"},oq=["src"],rq={class:"request-details"},aq={class:"request-memo"},lq={class:"request-memo"},cq={class:"request-buttons"},uq=["onClick"],dq=["onClick"],hq={__name:"AddFriendModal",emits:["close-modal"],setup(t,{emit:e}){Nn(()=>{o()});const n=e;function s(){n("close-modal")}const i=ie(null),o=async()=>{ZK(({data:c})=>{console.log("data: ",c),i.value=c,i.value.push(c),console.log("friendRequests: ",i.value)})},r=ie(!1),a=async c=>{tq(c,({data:u})=>{r.value=!0,console.log("data: ",u)})},l=async c=>{nq(c,({data:u})=>{r.value=!1,console.log("data: ",u)})};return(c,u)=>(T(),I("div",sq,[f("div",{class:"modal-title"},[f("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:s})]),(T(!0),I(ke,null,Ze(i.value,d=>(T(),I("div",{key:d.id,class:"friend-request"},[f("div",iq,[f("img",{src:d.profilePicture,alt:"프로필 사진",class:"profile-picture"},null,8,oq),f("div",rq,[f("div",aq,oe(d.nickname),1),f("div",lq,oe(d.memo),1)])]),f("div",cq,[f("button",{class:"accept-button",onClick:h=>a(d.nickname)},"확인",8,uq),f("button",{class:"reject-button",onClick:h=>l(d.nickname)},"삭제",8,dq)])]))),128))]))}},fq=Ee(hq,[["__scopeId","data-v-3939e53c"]]),Ox=t=>(Ne("data-v-c0ce5710"),t=t(),Le(),t),pq={key:0,class:"black-bg"},gq={class:"friend-request-list mt-5"},mq={class:"friend-request-header"},_q=Ox(()=>f("h2",{class:"list-title"},"친구 요청 리스트",-1)),yq={class:"friend-buttons"},bq=Ox(()=>f("div",{class:"search"},[f("img",{src:Bg,alt:""})],-1)),vq=[bq],wq={class:"todo-section"},Aq={class:"todo-date"},Sq={class:"friend-search mb-3"},xq={key:0,class:"empty-list-message"},Cq={key:1},kq={class:"request-info"},Eq=["src"],Mq={class:"request-details"},Tq={class:"request-name"},Dq={class:"request-memo"},Iq={class:"request-memo"},Rq={class:"request-buttons"},Oq=["onClick"],Pq={__name:"FriendRequestList",setup(t){ie(null);const e=ie(null),n=ie(null),s=async g=>{EA(g,({data:m})=>{console.log("data: ",m),n.value=m,l.value.push(m);const _={nickname:m.nickname};console.log("nicknameObject",_),console.log("requestFriend: ",n.value)})},i=async g=>{const m={nickname:g};console.log("nicknameObject",m),eq(m,({data:_})=>{console.log("data: ",_)})},o=ie(!1),r=ie(""),a=()=>{o.value=!o.value,o.value||(r.value="")},l=ie([]),c=()=>{window.history.back()},u=ie(!1),d=ie(null);function h(){d.value=fq,u.value=!0}function p(){u.value=!1}return(g,m)=>(T(),I(ke,null,[f("div",null,[u.value?(T(),I("div",pq,[(T(),Ws(xr(d.value),{item:g.currentItem,onCloseModal:p},null,40,["item"]))])):Je("",!0)]),f("div",gq,[f("div",mq,[_q,f("div",yq,[f("button",{class:"btn",onClick:a},vq),f("div",wq,[f("div",Aq,[f("button",{class:"add-button",onClick:m[0]||(m[0]=_=>h())},"+")])])]),f("button",{class:"back-button btn",onClick:c},"뒤로가기")])]),le(f("div",Sq,[le(f("input",{"onUpdate:modelValue":m[1]||(m[1]=_=>e.value=_),type:"text",class:"form-control",placeholder:"친구 검색",onKeyup:m[2]||(m[2]=zE(_=>s(e.value),["enter"]))},null,544),[[Ce,e.value]])],512),[[Ep,o.value]]),l.value.length===0?(T(),I("div",xq," 친구 요청이 없습니다. ")):(T(),I("div",Cq,[(T(!0),I(ke,null,Ze(l.value,_=>(T(),I("div",{key:_.id,class:"friend-request"},[f("div",kq,[f("img",{src:_.profilePicture,alt:"프로필 사진",class:"profile-picture"},null,8,Eq),f("div",Mq,[f("div",Tq,oe(_.name),1),f("div",Dq,oe(_.memo),1),f("div",Iq,oe(_.nickname),1)])]),f("div",Rq,[f("button",{class:"accept-button",onClick:w=>i(_.nickname)},oe(_.isRequesting?"요청중":"친구요청"),9,Oq)])]))),128))]))],64))}},Nq=Ee(Pq,[["__scopeId","data-v-c0ce5710"]]),Lq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABDSURBVHgB7dOxCQAgDETRQ9x/xbhJRIiVBGIRNHAPrrL4jQGoGrGlUVtYQzIG/gysb6jONu9dIoGneAcMnDruDFA5E4anFGkvKrtyAAAAAElFTkSuQmCC",Px=t=>(Ne("data-v-f69b3df3"),t=t(),Le(),t),Fq={class:"room-card"},$q=Px(()=>f("hr",null,null,-1)),Bq=Px(()=>f("hr",null,null,-1)),Yq={__name:"RoomCard",props:["room"],setup(t){const e=t,n=Mt(()=>{const i={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return new Date(e.room.creationTime).toLocaleDateString("ko-KR",i)}),s=()=>{emit("enterMeetingRoom",room.id)};return(i,o)=>(T(),I("div",{onClick:s},[f("div",Fq,[f("h4",null,oe(t.room.title),1),$q,f("p",null,"현재 참여 멤버 수: "+oe(t.room.currentMembers),1),Bq,f("p",null,"방 생성 시간: "+oe(n.value),1)])]))}},Uq=Ee(Yq,[["__scopeId","data-v-f69b3df3"]]),Vq={data(){return{newRoom:{title:""}}},methods:{createRoom(){this.$emit("create",this.newRoom)}}},$r=t=>(Ne("data-v-93f89e31"),t=t(),Le(),t),Wq={class:"modal-dialog"},Hq={class:"modal-content"},jq={class:"modal-header"},zq=$r(()=>f("h5",{class:"modal-title"},"모임 방 추가",-1)),Gq=$r(()=>f("span",{"aria-hidden":"true"},"×",-1)),Kq=[Gq],qq={class:"modal-body"},Qq={class:"form-group"},Xq=$r(()=>f("label",{for:"roomTitle"},"방 제목:",-1)),Jq=$r(()=>f("label",{for:"roomMember"},"참여 인원 제한:",-1)),Zq=$r(()=>f("label",{for:"roomPassword"},"비밀번호:",-1)),eQ=$r(()=>f("button",{type:"submit",class:"create-room-button btn btn-primary"},"추가",-1));function tQ(t,e,n,s,i,o){return T(),I("div",{class:"modal",onClick:e[5]||(e[5]=hn(r=>t.$emit("close"),["self"]))},[f("div",Wq,[f("div",Hq,[f("div",jq,[zq,f("button",{type:"button",class:"close",onClick:e[0]||(e[0]=r=>t.$emit("close"))},Kq)]),f("div",qq,[f("form",{onSubmit:e[4]||(e[4]=hn((...r)=>o.createRoom&&o.createRoom(...r),["prevent"]))},[f("div",Qq,[Xq,le(f("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>i.newRoom.title=r),type:"text",class:"form-control",id:"roomTitle",required:""},null,512),[[Ce,i.newRoom.title]]),Jq,le(f("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>i.newRoom.title=r),type:"text",class:"form-control",id:"roomTitle",required:""},null,512),[[Ce,i.newRoom.title]]),Zq,le(f("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>i.newRoom.title=r),type:"text",class:"form-control",id:"roomTitle",required:""},null,512),[[Ce,i.newRoom.title]])]),eQ],32)])])])])}const nQ=Ee(Vq,[["render",tQ],["__scopeId","data-v-93f89e31"]]),yd=t=>(Ne("data-v-68701ba0"),t=t(),Le(),t),sQ={class:"container mt-5"},iQ={class:"meeting-header"},oQ=yd(()=>f("div",{class:"meeting"},"모임",-1)),rQ={class:"meeting-buttons"},aQ=yd(()=>f("div",{class:"search"},[f("img",{src:Bg,alt:""})],-1)),lQ=[aQ],cQ=yd(()=>f("img",{src:Lq,alt:""},null,-1)),uQ=[cQ],dQ={class:"form-group"},hQ={key:0},fQ={key:1},pQ=yd(()=>f("p",null,"검색 결과가 없습니다.",-1)),gQ=[pQ],mQ={__name:"Meeting",setup(t){const e=ie([{id:1,title:"코딩 스터디",currentMembers:5,creationTime:new Date},{id:2,title:"싸피 스터디",currentMembers:3,creationTime:new Date},{id:3,title:"study with me",currentMembers:4,creationTime:new Date}]),n=Ui({title:""}),s=ie(!1),i=ie(!1),o=ie(""),r=ie([]),a=()=>{s.value=!0,i.value=!1},l=()=>{s.value=!1},c=()=>{e.value.push({id:e.value.length+1,title:n.title,currentMembers:0,creationTime:new Date}),n.title="",l()},u=()=>{const p=o.value.toLowerCase();r.value=e.value.filter(g=>g.title.toLowerCase().includes(p))};u(),ls(o,()=>{u()});const d=p=>{Tm.push(`/meeting-room/${p}`)},h=()=>{i.value=!i.value,i.value||(o.value="",u())};return(p,g)=>(T(),I("div",sQ,[f("div",iQ,[oQ,f("div",rQ,[f("button",{class:"create-room-button btn",onClick:h},lQ),f("button",{class:"create-room-button btn",onClick:a},uQ),s.value?(T(),Ws(nQ,{key:0,onClose:l,onCreate:c})):Je("",!0)])]),le(f("div",dQ,[le(f("input",{"onUpdate:modelValue":g[0]||(g[0]=m=>o.value=m),onInput:u,type:"text",class:"form-control",placeholder:"모임 방 검색"},null,544),[[Ce,o.value]])],512),[[Ep,i.value]]),r.value.length>0?(T(),I("div",hQ,[(T(!0),I(ke,null,Ze(r.value,m=>(T(),Ws(Uq,{key:m.id,room:m,onEnterMeetingRoom:d},null,8,["room"]))),128))])):(T(),I("div",fQ,gQ))]))}},_Q=Ee(mQ,[["__scopeId","data-v-68701ba0"]]),Br="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABJSURBVHgB7ZSxCQAgEAMPJ8n+SzmKWliIdmIU4Q/SXuB5AsFPqCX32OQFQ4EmuTiIQn5dziDfyfJhiQcI84mi5I8SC8I414GPCrEONwuaq/9XAAAAAElFTkSuQmCC",Nx=t=>(Ne("data-v-06cbe4a3"),t=t(),Le(),t),yQ=Nx(()=>f("img",{src:Br,alt:""},null,-1)),bQ=[yQ],vQ={class:"settings"},wQ={key:0,class:"modal"},AQ=Nx(()=>f("p",null,"정말 로그아웃 하시겠습니까?",-1)),SQ={__name:"MypageSettings",setup(t){function e(){window.history.back()}const n=ie(!1);function s(){n.value=!0}function i(){n.value=!1}function o(){localStorage.removeItem("accessToken"),n.value=!1,Tm.push("/login").then(()=>{window.location.reload()})}return(r,a)=>{const l=rs("router-link");return T(),I("div",null,[f("button",{class:"settings-back-button btn",onClick:e},bQ),f("div",vQ,[be(l,{to:"/userInfoEdit",class:"nav-link"},{default:vt(()=>[lt(" 개인정보 변경 ")]),_:1}),be(l,{to:"/subscribe",class:"nav-link"},{default:vt(()=>[lt(" 알림 관리 ")]),_:1}),be(l,{to:"/common",class:"nav-link"},{default:vt(()=>[lt(" 일반 설정 ")]),_:1}),be(l,{to:"/appinfo",class:"nav-link"},{default:vt(()=>[lt(" 앱 정보 ")]),_:1}),f("button",{class:"logout-button btn",onClick:s},"로그아웃"),n.value?(T(),I("div",wQ,[f("div",{class:"modal-content"},[AQ,f("button",{class:"confirm-button btn",onClick:o},"확인"),f("button",{class:"cancel-button btn",onClick:i},"취소")])])):Je("",!0)])])}}},xQ=Ee(SQ,[["__scopeId","data-v-06cbe4a3"]]),Po=t=>(Ne("data-v-49460249"),t=t(),Le(),t),CQ={key:0},kQ=Po(()=>f("img",{src:Br,alt:"뒤로 가기"},null,-1)),EQ=[kQ],MQ={class:"profile-section"},TQ=Po(()=>f("h2",null,"프로필 수정",-1)),DQ={class:"form-group"},IQ=Po(()=>f("label",{for:"name"},"이름:",-1)),RQ={class:"form-group"},OQ=Po(()=>f("label",{for:"nickname"},"닉네임:",-1)),PQ={class:"form-group"},NQ=Po(()=>f("label",{for:"memo"},"메모:",-1)),LQ={class:"form-group"},FQ=Po(()=>f("label",{for:"profilePicture"},"프로필 이미지:",-1)),$Q=Po(()=>f("button",{type:"submit",class:"profile-save-btn btn"},"저장",-1)),BQ={__name:"UserInfoEdit",setup(t){const e=Rr(),n=Wi(),s=ie(null),i={name:s.name,nickname:s.nickname,memo:s.memo,profileUrl:s.profileUrl};Nn(async()=>{const a=localStorage.getItem("accessToken");s.value=await n.getUserInfo(a)});const o=async()=>{console.log("프로필이 저장되었습니다."),MA(i,({data:a})=>{console.log("사용자 업데이트"),console.log(a),this.userData.value=a},a=>{console.log(a)}),e.push("/mypage")};function r(){window.history.back()}return(a,l)=>s.value?(T(),I("div",CQ,[f("button",{class:"settings-back-button btn",onClick:r},EQ),f("div",MQ,[TQ,f("form",{onSubmit:hn(o,["prevent"])},[f("div",DQ,[IQ,le(f("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>s.value.name=c),type:"text",id:"name",class:"form-control",required:""},null,512),[[Ce,s.value.name]])]),f("div",RQ,[OQ,le(f("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>s.value.nickname=c),type:"text",id:"nickname",class:"form-control",required:""},null,512),[[Ce,s.value.nickname]])]),f("div",PQ,[NQ,le(f("textarea",{"onUpdate:modelValue":l[2]||(l[2]=c=>s.value.memo=c),id:"memo",class:"form-control"},null,512),[[Ce,s.value.memo]])]),f("div",LQ,[FQ,le(f("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>s.value.profileUrl=c),type:"text",id:"profilePicture",class:"form-control"},null,512),[[Ce,s.value.profileUrl]])]),$Q],32)])])):Je("",!0)}},YQ=Ee(BQ,[["__scopeId","data-v-49460249"]]),UQ={props:{formattedDate:Object,item:Object},data(){return{selectedGoal:null,todoId:"",todoTitle:"",todoContent:"",todoDate:"",isImportant:!1,isAlarmed:!1,day:"",time:"",important:!1,outside:!1,alarmed:!1,checked:!1,completed:!1,goals:[],selectedDate:this.$route.params.selectedDate}},setup(){const t=ie([]),e=dr(),n=ie(e.params.selectedDate||V().format("YYYY-MM-DD")),s=ie(""),i=ie(!1),o=ie(null),r=ie("");return Nn(async()=>{s.value=V(n.value).format("YYYYMMDD")}),{todos:t,formattedDate:s,isModalValid:i,activeModal:o,openModal:c=>{c==="CalendarAddTodo"&&(console.log("formattedDate in openModal:",s.value),i.value=!0,o.value=c,r.value={formattedDate:s.value},console.log("currentItem:",r.value))},closeModal:()=>{i.value=!1,o.value=null}}},methods:{async addTodo(){try{const t=this.selectedGoal.color;console.log("goalColor:",t);const e=this.selectedGoal.id;console.log("goalId:",e),console.log("formattedDate:",this.formattedDate);const n=await apiClient.post(`/${e}/todos`,{title:this.todoTitle,content:this.todoContent,color:t,important:this.isImportant,outside:this.isOutside,alarmed:this.time},{params:{todoDate:this.formattedDate}});console.log("Todo added:",n.data)}catch(t){console.error("Error creating todo:",t)}},closeModal(){this.$emit("close-modal")},async fetchGoals(){console.log("fetchGoals 실행");try{Al(({data:t})=>{console.log("채팅목록리스트"),console.log(t),this.goals=t},t=>{console.log(t)}),console.log("goals",this.goals)}catch(t){console.error("Error fetching goals:",t)}},fourDigitTime(t){const[e,n]=t.split(":");return e+n},eightDigitDate(t){const e=new Date,n=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}${s}${i}`},fourDigitTime(t){const[e,n]=t.split(":");return e+n},async fnAdd(t){t.preventDefault();const e=new Date;this.day=(e.getDay()+6)%7;const n=this.fourDigitTime(this.time);this.time=n;try{const s={title:this.todoTitle,content:this.todoContent,color:this.isImportant,important:this.isImportant,outside:this.isOutside,alarmed:this.time,goalId:this.selectedGoal.id};await DA(s),this.closeModal()}catch(s){console.error("Error adding todo:",s)}}},mounted(){this.fetchGoals()}},Jn=t=>(Ne("data-v-87c50b70"),t=t(),Le(),t),VQ={class:"modal-content",style:{"border-radius":"10px"}},WQ={class:"modal-title"},HQ={class:"form-group"},jQ=Jn(()=>f("label",{for:"selectedGoal"},"목표:",-1)),zQ=["value"],GQ={class:"form-group"},KQ=Jn(()=>f("label",{for:"todoTitle"},"제목:",-1)),qQ={class:"form-group"},QQ=Jn(()=>f("label",{for:"todoContent"},"내용:",-1)),XQ={class:"form-group"},JQ=Jn(()=>f("label",null,"중요여부:",-1)),ZQ={class:"form-check form-switch"},eX=Jn(()=>f("label",{class:"form-check-label",for:"importantSwitch"},null,-1)),tX={class:"form-group"},nX=Jn(()=>f("label",null,"외출 여부:",-1)),sX={class:"form-check form-switch"},iX=Jn(()=>f("label",{class:"form-check-label",for:"outsideSwitch"},null,-1)),oX={class:"form-group"},rX=Jn(()=>f("label",null,"알람 여부:",-1)),aX={class:"custom-control custom-switch"},lX={class:"form-check form-switch"},cX=Jn(()=>f("label",{class:"form-check-label",for:"flexSwitchCheckChecked"},null,-1)),uX={key:0,class:"form-group"},dX=Jn(()=>f("label",{for:"time"},"알람 시간:",-1)),hX=Jn(()=>f("div",null,null,-1));function fX(t,e,n,s,i,o){return T(),I("div",VQ,[f("div",WQ,[f("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...r)=>o.closeModal&&o.closeModal(...r))})]),f("form",null,[f("div",HQ,[jQ,le(f("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>i.selectedGoal=r),id:"selectedGoal",class:"form-control"},[(T(!0),I(ke,null,Ze(i.goals,r=>(T(),I("option",{key:r.id,value:r},oe(r.content),9,zQ))),128))],512),[[yl,i.selectedGoal]])]),f("div",GQ,[KQ,le(f("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>i.todoTitle=r),type:"text",id:"todoTitle",class:"form-control",required:""},null,512),[[Ce,i.todoTitle]])]),f("div",qQ,[QQ,le(f("textarea",{"onUpdate:modelValue":e[3]||(e[3]=r=>i.todoContent=r),id:"todoContent",class:"form-control",rows:"3"},null,512),[[Ce,i.todoContent]])]),f("div",XQ,[JQ,f("div",ZQ,[le(f("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>i.isImportant=r),class:"form-check-input",type:"checkbox",role:"switch",id:"importantSwitch"},null,512),[[ln,i.isImportant]]),eX])]),f("div",tX,[nX,f("div",sX,[le(f("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>t.isOutside=r),class:"form-check-input",type:"checkbox",role:"switch",id:"outsideSwitch"},null,512),[[ln,t.isOutside]]),iX])]),f("div",oX,[rX,f("div",aX,[f("div",lX,[le(f("input",{"onUpdate:modelValue":e[6]||(e[6]=r=>i.isAlarmed=r),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckChecked",checked:""},null,512),[[ln,i.isAlarmed]]),cX])])]),i.isAlarmed?(T(),I("div",uX,[dX,le(f("input",{"onUpdate:modelValue":e[7]||(e[7]=r=>i.time=r),type:"time",id:"time",class:"form-control"},null,512),[[Ce,i.time]])])):Je("",!0),hX,f("button",{type:"submit",class:"btn calendar-save",onClick:e[8]||(e[8]=hn(r=>o.addTodo(),["prevent"]))},"저장")])])}const Lx=Ee(UQ,[["render",fX],["__scopeId","data-v-87c50b70"]]),pX=Object.freeze(Object.defineProperty({__proto__:null,default:Lx},Symbol.toStringTag,{value:"Module"})),gX={name:"Calendar",data(){return{currentItem:null,selectedDate:this.$route.params.selectedDate,weekDates:[],weekDate:["월","화","수","목","금","토","일"]}},setup(){const t=ie([]),e=dr(),n=ie(e.params.selectedDate||V().format("YYYY-MM-DD")),s=ie(""),i=ie(!1),o=ie(null),r=ie("");return Nn(async()=>{s.value=V(n.value).format("YYYYMMDD"),console.log("formattedDate:",s);try{Sl(s.value,({data:c})=>{console.log("선택한 날 투두 리스트 목록"),console.log(c),t.value=c},c=>{console.log(c)})}catch(c){console.error("Error fetching todos:",c)}}),{todos:t,formattedDate:s,isModalValid:i,activeModal:o,openModal:c=>{c==="CalendarAddTodo"&&(console.log("formattedDate in openModal:",s.value),i.value=!0,o.value=c,r.value={formattedDate:s.value},console.log("currentItem:",r.value))},closeModal:()=>{i.value=!1,o.value=null}}},created(){this.calculateWeekDates(),IA().fetchTodos(),console.log("Selected Date:",this.selectedDate),console.log("Week Dates:",this.weekDates)},computed:{weekTodos(){return this.todos.filter(t=>{const e=V(t.date,"YYYY-MM-DD");return this.weekDates.some(n=>{const s=V(this.selectedDate,"YYYY-MM-DD").startOf("week").add(n-1,"days");return e.isSame(s,"day")})})}},components:{CalendarAddTodo:Lx},methods:{calculateWeekDates(){let e=V(this.selectedDate,"YYYY-MM-DD").clone().startOf("week");for(let n=1;n<8;n++){let s=e.clone().add(n,"days");this.weekDates.push(s.format("D"))}}}},mX=t=>(Ne("data-v-eae93064"),t=t(),Le(),t),_X={key:0,class:"black-bg"},yX={class:"calendar-wrapper mt-5",style:{"margin-top":"70px"}},bX={class:"calendar-body"},vX={class:"button-container"},wX=mX(()=>f("img",{src:Br,alt:""},null,-1)),AX=[wX],SX={class:"calendar-weekdays"},xX={class:"calendar-dates"},CX={class:"day"};function kX(t,e,n,s,i,o){return T(),I(ke,null,[s.isModalValid?(T(),I("div",_X,[(T(),Ws(xr(s.activeModal),{item:i.currentItem,formattedDate:s.formattedDate.valueOf,onCloseModal:s.closeModal},null,40,["item","formattedDate","onCloseModal"]))])):Je("",!0),f("div",yX,[f("main",bX,[f("div",vX,[f("button",{class:"btn",onClick:e[0]||(e[0]=r=>t.$router.back())},AX),f("button",{class:"add-button",onClick:e[1]||(e[1]=r=>s.openModal("CalendarAddTodo"))}," + ")]),f("div",SX,[(T(!0),I(ke,null,Ze(i.weekDate,(r,a)=>(T(),I("div",{key:a,class:Ii(["date",{bold:a<7}])},oe(r),3))),128))]),f("div",xX,[(T(!0),I(ke,null,Ze(i.weekDates,(r,a)=>(T(),I("div",{key:a,class:"date text-center"},[f("span",CX,oe(r),1),(T(!0),I(ke,null,Ze(o.weekTodos,l=>(T(),I("div",{key:l.id},[f("span",null,oe(l.title),1)]))),128))]))),128)),f("ul",null,[(T(!0),I(ke,null,Ze(s.todos,r=>(T(),I("li",{key:r.id},oe(r.content),1))),128))])])])])],64)}const EX=Ee(gX,[["render",kX],["__scopeId","data-v-eae93064"]]);var rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw Yr(e)},Yr=function(t){return new Error("Firebase Database ("+Fx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MX=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[s++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],r=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(r&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],r=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(o&63)<<6|r&63)}}return e.join("")},Yg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const o=t[i],r=i+1<t.length,a=r?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,r||(h=64)),s.push(n[u],n[d],n[h],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($x(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||d==null)throw new TX;const h=o<<2|a>>4;if(s.push(h),c!==64){const p=a<<4&240|c>>2;if(s.push(p),d!==64){const g=c<<6&192|d;s.push(g)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bx=function(t){const e=$x(t);return Yg.encodeByteArray(e,!0)},iu=function(t){return Bx(t).replace(/\./g,"")},Lf=function(t){try{return Yg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DX(t){return sl(void 0,t)}function sl(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!IX(n)||(t[n]=sl(t[n],e[n]));return t}function IX(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OX=()=>RX().__FIREBASE_DEFAULTS__,PX=()=>{if(typeof process>"u"||typeof rv>"u")return;const t=rv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lf(t[1]);return e&&JSON.parse(e)},LX=()=>{try{return OX()||PX()||NX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yx=()=>{var t;return(t=LX())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FX(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[iu(JSON.stringify(n)),iu(JSON.stringify(r)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ux(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($X())}function BX(){return typeof self=="object"&&self.self===self}function YX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vx(){return Fx.NODE_ADMIN===!0}function UX(){try{return typeof indexedDB=="object"}catch{return!1}}function VX(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WX="FirebaseError";class Ur extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=WX,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bd.prototype.create)}}class bd{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],r=o?HX(o,s):"Error",a=`${this.serviceName}: ${r} (${i}).`;return new Ur(i,a,s)}}function HX(t,e){return t.replace(jX,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const jX=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){return JSON.parse(t)}function It(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=function(t){let e={},n={},s={},i="";try{const o=t.split(".");e=il(Lf(o[0])||""),n=il(Lf(o[1])||""),i=o[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:i}},zX=function(t){const e=Wx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},GX=function(t){const e=Wx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ao(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ff(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ou(t,e,n){const s={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=e.call(n,t[i],i,t));return s}function $f(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const o=t[i],r=e[i];if(av(o)&&av(r)){if(!$f(o,r))return!1}else if(o!==r)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function av(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KX(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qX{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)s[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)s[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=s[d-3]^s[d-8]^s[d-14]^s[d-16];s[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],r=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(r^a),u=1518500249):(c=o^r^a,u=1859775393):d<60?(c=o&r|a&(o|r),u=2400959708):(c=o^r^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+s[d]&4294967295;l=a,a=r,r=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+r&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let i=0;const o=this.buf_;let r=this.inbuf_;for(;i<n;){if(r===0)for(;i<=s;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[r]=e.charCodeAt(i),++r,++i,r===this.blockSize){this.compress_(o),r=0;break}}else for(;i<n;)if(o[r]=e[i],++r,++i,r===this.blockSize){this.compress_(o),r=0;break}}this.inbuf_=r,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[s]=this.chain_[i]>>o&255,++s;return e}}function QX(t,e){const n=new XX(t,e);return n.subscribe.bind(n)}class XX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JX(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=Ch),i.error===void 0&&(i.error=Ch),i.complete===void 0&&(i.complete=Ch);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JX(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ch(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e=function(t,e,n,s){let i;if(s<e?i="at least "+e:s>n&&(i=n===0?"none":"no more than "+n),i){const o=t+" failed: Was called with "+s+(s===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function un(t,e){return`${t} failed: ${e} argument `}function Lt(t,e,n,s){if(!(s&&!n)&&typeof n!="function")throw new Error(un(t,e)+"must be a valid function.")}function lv(t,e,n,s){if(!(s&&!n)&&(typeof n!="object"||n===null))throw new Error(un(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);if(i>=55296&&i<=56319){const o=i-55296;s++,G(s<t.length,"Surrogate pair missing trail surrogate.");const r=t.charCodeAt(s)-56320;i=65536+(o<<10)+r}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vd=function(t){let e=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new an;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tJ(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});s.resolve(o)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[o,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);s===a&&r.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),o=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;o.add(e),this.onInitCallbacks.set(i,o);const r=this.instances.get(i);return r&&e(r,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eJ(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eJ(t){return t===io?void 0:t}function tJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Bf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=[];var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const jx={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},nJ=st.INFO,sJ={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},iJ=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=sJ[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wd{constructor(e){this.name=e,this._logLevel=nJ,this._logHandler=iJ,this._userLogHandler=null,Ug.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}function oJ(t){Ug.forEach(e=>{e.setLogLevel(t)})}function rJ(t,e){for(const n of Ug){let s=null;e&&e.level&&(s=jx[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...r)=>{const a=r.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");o>=(s??i.logLevel)&&t({level:st[o].toLowerCase(),message:a,args:r,type:i.name})}}}const aJ=(t,e)=>e.some(n=>t instanceof n);let cv,uv;function lJ(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cJ(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zx=new WeakMap,Yf=new WeakMap,Gx=new WeakMap,kh=new WeakMap,Vg=new WeakMap;function uJ(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",r)},o=()=>{n(Si(t.result)),i()},r=()=>{s(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",r)});return e.then(n=>{n instanceof IDBCursor&&zx.set(n,t)}).catch(()=>{}),Vg.set(e,t),e}function dJ(t){if(Yf.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",r),t.removeEventListener("abort",r)},o=()=>{n(),i()},r=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",r),t.addEventListener("abort",r)});Yf.set(t,e)}let Uf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hJ(t){Uf=t(Uf)}function fJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Eh(this),e,...n);return Gx.set(s,e.sort?e.sort():[e]),Si(s)}:cJ().includes(t)?function(...e){return t.apply(Eh(this),e),Si(zx.get(this))}:function(...e){return Si(t.apply(Eh(this),e))}}function pJ(t){return typeof t=="function"?fJ(t):(t instanceof IDBTransaction&&dJ(t),aJ(t,lJ())?new Proxy(t,Uf):t)}function Si(t){if(t instanceof IDBRequest)return uJ(t);if(kh.has(t))return kh.get(t);const e=pJ(t);return e!==t&&(kh.set(t,e),Vg.set(e,t)),e}const Eh=t=>Vg.get(t);function gJ(t,e,{blocked:n,upgrade:s,blocking:i,terminated:o}={}){const r=indexedDB.open(t,e),a=Si(r);return s&&r.addEventListener("upgradeneeded",l=>{s(Si(r.result),l.oldVersion,l.newVersion,Si(r.transaction),l)}),n&&r.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const mJ=["get","getKey","getAll","getAllKeys","count"],_J=["put","add","delete","clear"],Mh=new Map;function dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mh.get(e))return Mh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=_J.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||mJ.includes(n)))return;const o=async function(r,...a){const l=this.transaction(r,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Mh.set(e,o),o}hJ(t=>({...t,get:(e,n,s)=>dv(e,n)||t.get(e,n,s),has:(e,n)=>!!dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bJ(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",hv="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new wd("@firebase/app"),vJ="@firebase/app-compat",wJ="@firebase/analytics-compat",AJ="@firebase/analytics",SJ="@firebase/app-check-compat",xJ="@firebase/app-check",CJ="@firebase/auth",kJ="@firebase/auth-compat",EJ="@firebase/database",MJ="@firebase/database-compat",TJ="@firebase/functions",DJ="@firebase/functions-compat",IJ="@firebase/installations",RJ="@firebase/installations-compat",OJ="@firebase/messaging",PJ="@firebase/messaging-compat",NJ="@firebase/performance",LJ="@firebase/performance-compat",FJ="@firebase/remote-config",$J="@firebase/remote-config-compat",BJ="@firebase/storage",YJ="@firebase/storage-compat",UJ="@firebase/firestore",VJ="@firebase/firestore-compat",WJ="firebase",HJ="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="[DEFAULT]",jJ={[Vf]:"fire-core",[vJ]:"fire-core-compat",[AJ]:"fire-analytics",[wJ]:"fire-analytics-compat",[xJ]:"fire-app-check",[SJ]:"fire-app-check-compat",[CJ]:"fire-auth",[kJ]:"fire-auth-compat",[EJ]:"fire-rtdb",[MJ]:"fire-rtdb-compat",[TJ]:"fire-fn",[DJ]:"fire-fn-compat",[IJ]:"fire-iid",[RJ]:"fire-iid-compat",[OJ]:"fire-fcm",[PJ]:"fire-fcm-compat",[NJ]:"fire-perf",[LJ]:"fire-perf-compat",[FJ]:"fire-rc",[$J]:"fire-rc-compat",[BJ]:"fire-gcs",[YJ]:"fire-gcs-compat",[UJ]:"fire-fst",[VJ]:"fire-fst-compat","fire-js":"fire-js",[WJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Map,ol=new Map;function ru(t,e){try{t.container.addComponent(e)}catch(n){So.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kx(t,e){t.container.addOrOverwriteComponent(e)}function mr(t){const e=t.name;if(ol.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;ol.set(e,t);for(const n of Ni.values())ru(n,t);return!0}function qx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zJ(t,e,n=Pi){qx(t,e).clearInstance(n)}function GJ(){ol.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Us=new bd("app","Firebase",KJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qJ=class{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=HJ;function Hg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Pi,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Us.create("bad-app-name",{appName:String(i)});if(n||(n=Yx()),!n)throw Us.create("no-options");const o=Ni.get(i);if(o){if($f(n,o.options)&&$f(s,o.config))return o;throw Us.create("duplicate-app",{appName:i})}const r=new Hx(i);for(const l of ol.values())r.addComponent(l);const a=new qJ(n,s,r);return Ni.set(i,a),a}function QJ(t=Pi){const e=Ni.get(t);if(!e&&t===Pi&&Yx())return Hg();if(!e)throw Us.create("no-app",{appName:t});return e}function XJ(){return Array.from(Ni.values())}async function Qx(t){const e=t.name;Ni.has(e)&&(Ni.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function xi(t,e,n){var s;let i=(s=jJ[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),r=e.match(/\s|\//);if(o||r){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),So.warn(a.join(" "));return}mr(new Gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Xx(t,e){if(t!==null&&typeof t!="function")throw Us.create("invalid-log-argument");rJ(t,e)}function Jx(t){oJ(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JJ="firebase-heartbeat-database",ZJ=1,rl="firebase-heartbeat-store";let Th=null;function Zx(){return Th||(Th=gJ(JJ,ZJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Us.create("idb-open",{originalErrorMessage:t.message})})),Th}async function eZ(t){try{const n=(await Zx()).transaction(rl),s=await n.objectStore(rl).get(e1(t));return await n.done,s}catch(e){if(e instanceof Ur)So.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});So.warn(n.message)}}}async function fv(t,e){try{const s=(await Zx()).transaction(rl,"readwrite");await s.objectStore(rl).put(e,e1(t)),await s.done}catch(n){if(n instanceof Ur)So.warn(n.message);else{const s=Us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});So.warn(s.message)}}}function e1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ=1024,nZ=30*24*60*60*1e3;class sZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oZ(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(r=>r.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const a=new Date(r.date).valueOf();return Date.now()-a<=nZ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pv(),{heartbeatsToSend:s,unsentEntries:i}=iZ(this._heartbeatsCache.heartbeats),o=iu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function pv(){return new Date().toISOString().substring(0,10)}function iZ(t,e=tZ){const n=[];let s=t.slice();for(const i of t){const o=n.find(r=>r.agent===i.agent);if(o){if(o.dates.push(i.date),gv(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UX()?VX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eZ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gv(t){return iu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(t){mr(new Gs("platform-logger",e=>new yJ(e),"PRIVATE")),mr(new Gs("heartbeat",e=>new sZ(e),"PRIVATE")),xi(Vf,hv,t),xi(Vf,hv,"esm2017"),xi("fire-js","")}rZ("");const aZ=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ur,SDK_VERSION:Wg,_DEFAULT_ENTRY_NAME:Pi,_addComponent:ru,_addOrOverwriteComponent:Kx,_apps:Ni,_clearComponents:GJ,_components:ol,_getProvider:qx,_registerComponent:mr,_removeServiceInstance:zJ,deleteApp:Qx,getApp:QJ,getApps:XJ,initializeApp:Hg,onLog:Xx,registerVersion:xi,setLogLevel:Jx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e,n){this._delegate=e,this.firebase=n,ru(e,new Gs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Qx(this._delegate)))}_getService(e,n=Pi){var s;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((s=i.getComponent())===null||s===void 0?void 0:s.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Pi){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ru(this._delegate,e)}_addOrOverwriteComponent(e){Kx(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cZ={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},mv=new bd("app-compat","Firebase",cZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uZ(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:xi,setLogLevel:Jx,onLog:Xx,apps:null,SDK_VERSION:Wg,INTERNAL:{registerComponent:a,removeApp:s,useAsService:l,modularAPIs:aZ}};n.default=n,Object.defineProperty(n,"apps",{get:r});function s(c){delete e[c]}function i(c){if(c=c||Pi,!vn(e,c))throw mv.create("no-app",{appName:c});return e[c]}i.App=t;function o(c,u={}){const d=Hg(c,u);if(vn(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function r(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(mr(c)&&c.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[d]!="function")throw mv.create("invalid-app-argument",{appName:u});return p[d]()};c.serviceProps!==void 0&&sl(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){const t=uZ(lZ);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:t1,extendNamespace:e,createSubscribe:QX,ErrorFactory:bd,deepExtend:sl});function e(n){sl(t,n)}return t}const dZ=t1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new wd("@firebase/app-compat"),hZ="@firebase/app-compat",fZ="0.2.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(t){xi(hZ,fZ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(BX()&&self.firebase!==void 0){_v.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&_v.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const jg=dZ;pZ();var gZ="firebase",mZ="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jg.registerVersion(gZ,mZ,"app-compat");var yv={};const bv="@firebase/database",vv="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n1="";function s1(t){n1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),It(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:il(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new _Z(e)}}catch{}return new yZ},uo=i1("localStorage"),Wf=i1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new wd("@firebase/database"),o1=function(){let t=1;return function(){return t++}}(),r1=function(t){const e=ZX(t),n=new qX;n.update(e);const s=n.digest();return Yg.encodeByteArray(s)},Rl=function(...t){let e="";for(let n=0;n<t.length;n++){const s=t[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Rl.apply(null,s):typeof s=="object"?e+=It(s):e+=s,e+=" "}return e};let _o=null,wv=!0;const a1=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ir.logLevel=st.VERBOSE,_o=ir.log.bind(ir),e&&Wf.set("logging_enabled",!0)):typeof t=="function"?_o=t:(_o=null,Wf.remove("logging_enabled"))},$t=function(...t){if(wv===!0&&(wv=!1,_o===null&&Wf.get("logging_enabled")===!0&&a1(!0)),_o){const e=Rl.apply(null,t);_o(e)}},Ol=function(t){return function(...e){$t(t,...e)}},Hf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Rl(...t);ir.error(e)},gs=function(...t){const e=`FIREBASE FATAL ERROR: ${Rl(...t)}`;throw ir.error(e),new Error(e)},Jt=function(...t){const e="FIREBASE WARNING: "+Rl(...t);ir.warn(e)},bZ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ad=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vZ=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Li="[MIN_NAME]",Ks="[MAX_NAME]",No=function(t,e){if(t===e)return 0;if(t===Li||e===Ks)return-1;if(e===Li||t===Ks)return 1;{const n=Av(t),s=Av(e);return n!==null?s!==null?n-s===0?t.length-e.length:n-s:-1:s!==null?1:t<e?-1:1}},wZ=function(t,e){return t===e?0:t<e?-1:1},oa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+It(e))},zg=function(t){if(typeof t!="object"||t===null)return It(t);const e=[];for(const s in t)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=It(e[s]),n+=":",n+=zg(t[e[s]]);return n+="}",n},l1=function(t,e){const n=t.length;if(n<=e)return[t];const s=[];for(let i=0;i<n;i+=e)i+e>n?s.push(t.substring(i,n)):s.push(t.substring(i,i+e));return s};function Ut(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const c1=function(t){G(!Ad(t),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let i,o,r,a,l;t===0?(o=0,r=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),s),o=a+s,r=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,r=Math.round(t/Math.pow(2,1-s-n))));const c=[];for(l=n;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},AZ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},SZ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xZ(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+n);return s.code=t.toUpperCase(),s}const CZ=new RegExp("^-?(0*)\\d{1,10}$"),kZ=-2147483648,EZ=2147483647,Av=function(t){if(CZ.test(t)){const e=Number(t);if(e>=kZ&&e<=EZ)return e}return null},Vr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Jt("Exception was thrown by user callback.",n),e},Math.floor(0))}},MZ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ia=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Jt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jt(e)}}class or{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}or.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="5",u1="v",d1="s",h1="r",f1="f",p1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,g1="ls",m1="p",jf="ac",_1="websocket",y1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,s,i,o=!1,r="",a=!1,l=!1){this.secure=n,this.namespace=s,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=r,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=uo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&uo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function IZ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function v1(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let s;if(e===_1)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===y1)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);IZ(t)&&(n.ns=t.namespace);const i=[];return Ut(n,(o,r)=>{i.push(o+"="+r)}),s+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{constructor(){this.counters_={}}incrementCounter(e,n=1){vn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return DX(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh={},Ih={};function Kg(t){const e=t.toString();return Dh[e]||(Dh[e]=new RZ),Dh[e]}function OZ(t,e){const n=t.toString();return Ih[n]||(Ih[n]=e()),Ih[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<s.length;++i)s[i]&&Vr(()=>{this.onMessage_(s[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="start",NZ="close",LZ="pLPCommand",FZ="pRTLPCB",w1="id",A1="pw",S1="ser",$Z="cb",BZ="seg",YZ="ts",UZ="d",VZ="dframe",x1=1870,C1=30,WZ=x1-C1,HZ=25e3,jZ=3e4;class _i{constructor(e,n,s,i,o,r,a){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=i,this.authToken=o,this.transportSessionId=r,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ol(e),this.stats_=Kg(n),this.urlFn=l=>(this.appCheckToken&&(l[jf]=this.appCheckToken),v1(n,y1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jZ)),vZ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qg((...o)=>{const[r,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,r===Sv)this.id=a,this.password=l;else if(r===NZ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+r)},(...o)=>{const[r,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(r,a)},()=>{this.onClosed_()},this.urlFn);const s={};s[Sv]="t",s[S1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[$Z]=this.scriptTagHolder.uniqueCallbackIdentifier),s[u1]=Gg,this.transportSessionId&&(s[d1]=this.transportSessionId),this.lastSessionId&&(s[g1]=this.lastSessionId),this.applicationId&&(s[m1]=this.applicationId),this.appCheckToken&&(s[jf]=this.appCheckToken),typeof location<"u"&&location.hostname&&p1.test(location.hostname)&&(s[h1]=f1);const i=this.urlFn(s);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_i.forceAllow_=!0}static forceDisallow(){_i.forceDisallow_=!0}static isAvailable(){return _i.forceAllow_?!0:!_i.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!AZ()&&!SZ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=It(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Bx(n),i=l1(s,WZ);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[VZ]="t",s[w1]=e,s[A1]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=It(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class qg{constructor(e,n,s,i){this.onDisconnect=s,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=o1(),window[LZ+this.uniqueCallbackIdentifier]=e,window[FZ+this.uniqueCallbackIdentifier]=n,this.myIFrame=qg.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(a){$t("frame writing exception"),a.stack&&$t(a.stack),$t(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$t("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[w1]=this.myID,e[A1]=this.myPW,e[S1]=this.currentSerial;let n=this.urlFn(e),s="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+C1+s.length<=x1;){const r=this.pendingSegs.shift();s=s+"&"+BZ+i+"="+r.seg+"&"+YZ+i+"="+r.ts+"&"+UZ+i+"="+r.d,i++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(s,Math.floor(HZ)),o=()=>{clearTimeout(i),s()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const i=s.readyState;(!i||i==="loaded"||i==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{$t("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ=16384,GZ=45e3;let au=null;typeof MozWebSocket<"u"?au=MozWebSocket:typeof WebSocket<"u"&&(au=WebSocket);class Mn{constructor(e,n,s,i,o,r,a){this.connId=e,this.applicationId=s,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ol(this.connId),this.stats_=Kg(n),this.connURL=Mn.connectionURL_(n,r,a,i,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,i,o){const r={};return r[u1]=Gg,typeof location<"u"&&location.hostname&&p1.test(location.hostname)&&(r[h1]=f1),n&&(r[d1]=n),s&&(r[g1]=s),i&&(r[jf]=i),o&&(r[m1]=o),v1(e,_1,r)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,uo.set("previous_websocket_failure",!0);try{let s;Vx(),this.mySock=new au(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const i=s.message||s.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Mn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&au!==null&&!Mn.forceDisallow_}static previouslyFailed(){return uo.isInMemoryStorage||uo.get("previous_websocket_failure")===!0}markConnectionHealthy(){uo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=il(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=It(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=l1(n,zZ);s.length>1&&this.sendString_(String(s.length));for(let i=0;i<s.length;i++)this.sendString_(s[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(GZ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Mn.responsesRequiredToBeHealthy=2;Mn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[_i,Mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Mn&&Mn.isAvailable();let s=n&&!Mn.previouslyFailed();if(e.webSocketOnly&&(n||Jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Mn];else{const i=this.transports_=[];for(const o of _r.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);_r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}_r.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ=6e4,qZ=5e3,QZ=10*1024,XZ=100*1024,Rh="t",xv="d",JZ="s",Cv="r",ZZ="e",kv="o",Ev="a",Mv="n",Tv="p",eee="h";class tee{constructor(e,n,s,i,o,r,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=r,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ol("c:"+this.id+":"),this.transportManager_=new _r(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XZ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>QZ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Rh in e){const n=e[Rh];n===Ev?this.upgradeIfSecondaryHealthy_():n===Cv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=oa("t",e),s=oa("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Tv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ev,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=oa("t",e),s=oa("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=oa(Rh,e);if(xv in e){const s=e[xv];if(n===eee){const i=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Mv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===JZ?this.onConnectionShutdown_(s):n===Cv?this.onReset_(s):n===ZZ?Hf("Server Error: "+s):n===kv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Gg!==s&&Jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KZ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qZ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Tv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(uo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{put(e,n,s,i){}merge(e,n,s,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let i=0;i<s.length;i++)s[i].callback.apply(s[i].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const i=this.getInitialEvent(e);i&&n.apply(s,i)}off(e,n,s){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!s||s===i[o].context)){i.splice(o,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends E1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ux()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new lu}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=32,Iv=768;class qe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[s]=this.pieces_[i],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function je(){return new qe("")}function Me(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fi(t){return t.pieces_.length-t.pieceNum_}function it(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new qe(t.pieces_,e)}function Qg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nee(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function al(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function M1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new qe(e,0)}function yt(t,e){const n=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)n.push(t.pieces_[s]);if(e instanceof qe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let i=0;i<s.length;i++)s[i].length>0&&n.push(s[i])}return new qe(n,0)}function Te(t){return t.pieceNum_>=t.pieces_.length}function tn(t,e){const n=Me(t),s=Me(e);if(n===null)return e;if(n===s)return tn(it(t),it(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function see(t,e){const n=al(t,0),s=al(e,0);for(let i=0;i<n.length&&i<s.length;i++){const o=No(n[i],s[i]);if(o!==0)return o}return n.length===s.length?0:n.length<s.length?-1:1}function Xg(t,e){if(Fi(t)!==Fi(e))return!1;for(let n=t.pieceNum_,s=e.pieceNum_;n<=t.pieces_.length;n++,s++)if(t.pieces_[n]!==e.pieces_[s])return!1;return!0}function Dn(t,e){let n=t.pieceNum_,s=e.pieceNum_;if(Fi(t)>Fi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class iee{constructor(e,n){this.errorPrefix_=n,this.parts_=al(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=vd(this.parts_[s]);T1(this)}}function oee(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=vd(e),T1(t)}function ree(t){const e=t.parts_.pop();t.byteLength_-=vd(e),t.parts_.length>0&&(t.byteLength_-=1)}function T1(t){if(t.byteLength_>Iv)throw new Error(t.errorPrefix_+"has a key path longer than "+Iv+" bytes ("+t.byteLength_+").");if(t.parts_.length>Dv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Dv+") or object contains a cycle "+oo(t))}function oo(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends E1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Jg}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=1e3,aee=60*5*1e3,Rv=30*1e3,lee=1.3,cee=3e4,uee="server_kill",Ov=3;class Vs extends k1{constructor(e,n,s,i,o,r,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Vs.nextPersistentConnectionId_++,this.log_=Ol("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ra,this.maxReconnectDelay_=aee,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Vx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&lu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(It(o)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),s&&(this.requestCBHash_[i]=s)}get(e){this.initConnection_();const n=new an,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:r=>{const a=r.d;r.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,s,i){this.initConnection_();const o=e._queryIdentifier,r=e._path.toString();this.log_("Listen called for "+r+" "+o),this.listens.has(r)||this.listens.set(r,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(r).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:s};this.listens.get(r).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+s+" for "+i);const o={p:s},r="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(r,o,a=>{const l=a.d,c=a.s;Vs.warnOnListenWarnings_(l,n),(this.listens.get(s)&&this.listens.get(s).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(s,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vn(e,"w")){const s=Ao(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||GX(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Rv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=zX(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,i=>{const o=i.s,r=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,i)&&this.connected_&&this.sendUnlisten_(s,i,e._queryObject,n)}sendUnlisten_(e,n,s,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},r="n";i&&(o.q=s,o.t=i),this.sendRequest(r,o)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,i){const o={p:n,d:s};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,r=>{i&&setTimeout(()=>{i(r.s,r.d)},Math.floor(0))})}put(e,n,s,i){this.putInternal("p",e,n,s,i)}merge(e,n,s,i){this.putInternal("m",e,n,s,i)}putInternal(e,n,s,i,o){this.initConnection_();const r={p:n,d:s};o!==void 0&&(r.h=o),this.outstandingPuts_.push({action:e,request:r,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const o=s.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+It(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Hf("Unrecognized action received from server: "+It(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cee&&(this.reconnectDelay_=ra),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lee)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Vs.nextConnectionId_++,o=this.lastSessionId;let r=!1,a=null;const l=function(){a?a.close():(r=!0,s())},c=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);r?$t("getToken() completed but was canceled"):($t("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new tee(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,p=>{Jt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(uee)},o))}catch(d){this.log_("Failed to get token: "+d),r||(this.repoInfo_.nodeAdmin&&Jt(d),l())}}}interrupt(e){$t("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){$t("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ff(this.interruptReasons_)&&(this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(o=>zg(o)).join("$"):s="default";const i=this.removeListen_(e,s);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const s=new qe(e).toString();let i;if(this.listens.has(s)){const o=this.listens.get(s);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(s)}else i=void 0;return i}onAuthRevoked_(e,n){$t("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ov&&(this.reconnectDelay_=Rv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){$t("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ov&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+n1.replace(/\./g,"-")]=1,Ux()?e["framework.cordova"]=1:YX()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=lu.getInstance().currentlyOnline();return Ff(this.interruptReasons_)&&e}}Vs.nextPersistentConnectionId_=0;Vs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new De(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new De(Li,e),i=new De(Li,n);return this.compare(s,i)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;class D1 extends Sd{static get __EMPTY_NODE(){return hc}static set __EMPTY_NODE(e){hc=e}compare(e,n){return No(e.name,n.name)}isDefinedOn(e){throw Yr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return De.MIN}maxPost(){return new De(Ks,hc)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new De(e,hc)}toString(){return".key"}}const us=new D1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,s,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let r=1;for(;!e.isEmpty();)if(e=e,r=n?s(e.key,n):1,i&&(r*=-1),r<0)this.isReverse_?e=e.left:e=e.right;else if(r===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,i,o){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=i??cn.EMPTY_NODE,this.right=o??cn.EMPTY_NODE}copy(e,n,s,i,o){return new Ft(e??this.key,n??this.value,s??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const o=s(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,s),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return cn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,i;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return cn.EMPTY_NODE;i=s.right.min_(),s=s.copy(i.key,i.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ft.RED=!0;Ft.BLACK=!1;class dee{copy(e,n,s,i,o){return this}insert(e,n,s){return new Ft(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class cn{constructor(e,n=cn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new cn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))}remove(e){return new cn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ft.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,i=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return i?i.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(i=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new fc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new fc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new fc(this.root_,null,this.comparator_,!0,e)}}cn.EMPTY_NODE=new dee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hee(t,e){return No(t.name,e.name)}function Zg(t,e){return No(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf;function fee(t){zf=t}const I1=function(t){return typeof t=="number"?"number:"+c1(t):"string:"+t},R1=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vn(e,".sv"),"Priority must be a string or number.")}else G(t===zf||t.isEmpty(),"priority of unexpected type.");G(t===zf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pv;class Nt{constructor(e,n=Nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),R1(this.priorityNode_)}static set __childrenNodeConstructor(e){Pv=e}static get __childrenNodeConstructor(){return Pv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Te(e)?this:Me(e)===".priority"?this.priorityNode_:Nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=Me(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||Fi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(it(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+I1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=c1(this.value_):e+=this.value_,this.lazyHash_=r1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Nt.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,i=Nt.VALUE_TYPE_ORDER.indexOf(n),o=Nt.VALUE_TYPE_ORDER.indexOf(s);return G(i>=0,"Unknown leaf type: "+n),G(o>=0,"Unknown leaf type: "+s),i===o?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O1,P1;function pee(t){O1=t}function gee(t){P1=t}class mee extends Sd{compare(e,n){const s=e.node.getPriority(),i=n.node.getPriority(),o=s.compareTo(i);return o===0?No(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return De.MIN}maxPost(){return new De(Ks,new Nt("[PRIORITY-POST]",P1))}makePost(e,n){const s=O1(e);return new De(n,new Nt("[PRIORITY-POST]",s))}toString(){return".priority"}}const ct=new mee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=Math.log(2);class yee{constructor(e){const n=o=>parseInt(Math.log(o)/_ee,10),s=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=s(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const cu=function(t,e,n,s){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Ft(h,d.node,Ft.BLACK,null,null);{const p=parseInt(u/2,10)+l,g=i(l,p),m=i(p+1,c);return d=t[p],h=n?n(d):d,new Ft(h,d.node,Ft.BLACK,g,m)}},o=function(l){let c=null,u=null,d=t.length;const h=function(g,m){const _=d-g,w=d;d-=g;const A=i(_+1,w),x=t[_],C=n?n(x):x;p(new Ft(C,x.node,m,null,A))},p=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const m=l.nextBitIsOne(),_=Math.pow(2,l.count-(g+1));m?h(_,Ft.BLACK):(h(_,Ft.BLACK),h(_,Ft.RED))}return u},r=new yee(t.length),a=o(r);return new cn(s||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh;const Wo={};class Ps{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Wo&&ct,"ChildrenNode.ts has not been loaded"),Oh=Oh||new Ps({".priority":Wo},{".priority":ct}),Oh}get(e){const n=Ao(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof cn?n:null}hasIndex(e){return vn(this.indexSet_,e.toString())}addIndex(e,n){G(e!==us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let i=!1;const o=n.getIterator(De.Wrap);let r=o.getNext();for(;r;)i=i||e.isDefinedOn(r.node),s.push(r),r=o.getNext();let a;i?a=cu(s,e.getCompare()):a=Wo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Ps(u,c)}addToIndexes(e,n){const s=ou(this.indexes_,(i,o)=>{const r=Ao(this.indexSet_,o);if(G(r,"Missing index implementation for "+o),i===Wo)if(r.isDefinedOn(e.node)){const a=[],l=n.getIterator(De.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),cu(a,r.getCompare())}else return Wo;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new De(e.name,a))),l.insert(e,e.node)}});return new Ps(s,this.indexSet_)}removeFromIndexes(e,n){const s=ou(this.indexes_,i=>{if(i===Wo)return i;{const o=n.get(e.name);return o?i.remove(new De(e.name,o)):i}});return new Ps(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa;class me{constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&R1(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return aa||(aa=new me(new cn(Zg),null,Ps.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||aa}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?aa:n}}getChild(e){const n=Me(e);return n===null?this:this.getImmediateChild(n).getChild(it(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new De(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(s,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(s,this.children_));const r=i.isEmpty()?aa:this.priorityNode_;return new me(i,r,o)}}updateChild(e,n){const s=Me(e);if(s===null)return n;{G(Me(e)!==".priority"||Fi(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(s).updateChild(it(e),n);return this.updateImmediateChild(s,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,i=0,o=!0;if(this.forEachChild(ct,(r,a)=>{n[r]=a.val(e),s++,o&&me.INTEGER_REGEXP_.test(r)?i=Math.max(i,Number(r)):o=!1}),!e&&o&&i<2*s){const r=[];for(const a in n)r[a]=n[a];return r}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+I1(this.getPriority().val())+":"),this.forEachChild(ct,(n,s)=>{const i=s.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":r1(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const i=this.resolveIndex_(s);if(i){const o=i.getPredecessorKey(new De(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new De(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new De(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,De.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,De.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pl?-1:0}withIndex(e){if(e===us||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===us||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(ct),i=n.getIterator(ct);let o=s.getNext(),r=i.getNext();for(;o&&r;){if(o.name!==r.name||!o.node.equals(r.node))return!1;o=s.getNext(),r=i.getNext()}return o===null&&r===null}else return!1;else return!1}}resolveIndex_(e){return e===us?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bee extends me{constructor(){super(new cn(Zg),me.EMPTY_NODE,Ps.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const Pl=new bee;Object.defineProperties(De,{MIN:{value:new De(Li,me.EMPTY_NODE)},MAX:{value:new De(Ks,Pl)}});D1.__EMPTY_NODE=me.EMPTY_NODE;Nt.__childrenNodeConstructor=me;fee(Pl);gee(Pl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee=!0;function bt(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Nt(n,bt(e))}if(!(t instanceof Array)&&vee){const n=[];let s=!1;if(Ut(t,(r,a)=>{if(r.substring(0,1)!=="."){const l=bt(a);l.isEmpty()||(s=s||!l.getPriority().isEmpty(),n.push(new De(r,l)))}}),n.length===0)return me.EMPTY_NODE;const o=cu(n,hee,r=>r.name,Zg);if(s){const r=cu(n,ct.getCompare());return new me(o,bt(e),new Ps({".priority":r},{".priority":ct}))}else return new me(o,bt(e),Ps.Default)}else{let n=me.EMPTY_NODE;return Ut(t,(s,i)=>{if(vn(t,s)&&s.substring(0,1)!=="."){const o=bt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(s,o))}}),n.updatePriority(bt(e))}}pee(bt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends Sd{constructor(e){super(),this.indexPath_=e,G(!Te(e)&&Me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),i=this.extractChild(n.node),o=s.compareTo(i);return o===0?No(e.name,n.name):o}makePost(e,n){const s=bt(e),i=me.EMPTY_NODE.updateChild(this.indexPath_,s);return new De(n,i)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,Pl);return new De(Ks,e)}toString(){return al(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee extends Sd{compare(e,n){const s=e.node.compareTo(n.node);return s===0?No(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,n){const s=bt(e);return new De(n,s)}toString(){return".value"}}const tm=new wee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){return{type:"value",snapshotNode:t}}function yr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ll(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Aee(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.index_=e}updateChild(e,n,s,i,o,r){G(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(s.getChild(i))&&a.isEmpty()===s.isEmpty()||(r!=null&&(s.isEmpty()?e.hasChild(n)?r.trackChildChange(ll(n,a)):G(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?r.trackChildChange(yr(n,s)):r.trackChildChange(cl(n,s,a))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(ct,(i,o)=>{n.hasChild(i)||s.trackChildChange(ll(i,o))}),n.isLeafNode()||n.forEachChild(ct,(i,o)=>{if(e.hasChild(i)){const r=e.getImmediateChild(i);r.equals(o)||s.trackChildChange(cl(i,o,r))}else s.trackChildChange(yr(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.indexedFilter_=new nm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ul.getStartPost_(e),this.endPost_=ul.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,i,o,r){return this.matches(new De(n,s))||(s=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,i,o,r)}updateFullNode(e,n,s){n.isLeafNode()&&(n=me.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(me.EMPTY_NODE);const o=this;return n.forEachChild(ct,(r,a)=>{o.matches(new De(r,a))||(i=i.updateImmediateChild(r,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class See{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new ul(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,i,o,r){return this.rangedFilter_.matches(new De(n,s))||(s=me.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,i,o,r):this.fullLimitUpdateChild_(e,n,s,o,r)}updateFullNode(e,n,s){let i;if(n.isLeafNode()||n.isEmpty())i=me.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=me.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let r=0;for(;o.hasNext()&&r<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),r++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(me.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let r=0;for(;o.hasNext();){const a=o.getNext();r<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?r++:i=i.updateImmediateChild(a.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,i,o){let r;if(this.reverse_){const d=this.index_.getCompare();r=(h,p)=>d(p,h)}else r=this.index_.getCompare();const a=e;G(a.numChildren()===this.limit_,"");const l=new De(n,s),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:r(h,l);if(u&&!s.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(cl(n,s,d)),a.updateImmediateChild(n,s);{o!=null&&o.trackChildChange(ll(n,d));const m=a.updateImmediateChild(n,me.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(yr(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return s.isEmpty()?e:u&&r(c,l)>=0?(o!=null&&(o.trackChildChange(ll(c.name,c.node)),o.trackChildChange(yr(n,s))),a.updateImmediateChild(n,s).updateImmediateChild(c.name,me.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ct}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Li}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ct}copy(){const e=new xd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xee(t){return t.loadsAllData()?new nm(t.getIndex()):t.hasLimit()?new See(t):new ul(t)}function Cee(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function kee(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Gf(t,e,n){const s=t.copy();return s.startSet_=!0,e===void 0&&(e=null),s.indexStartValue_=e,n!=null?(s.startNameSet_=!0,s.indexStartName_=n):(s.startNameSet_=!1,s.indexStartName_=""),s}function Eee(t,e,n){let s;return t.index_===us||n?s=Gf(t,e,n):s=Gf(t,e,Ks),s.startAfterSet_=!0,s}function Kf(t,e,n){const s=t.copy();return s.endSet_=!0,e===void 0&&(e=null),s.indexEndValue_=e,n!==void 0?(s.endNameSet_=!0,s.indexEndName_=n):(s.endNameSet_=!1,s.indexEndName_=""),s}function Mee(t,e,n){let s;return t.index_===us||n?s=Kf(t,e,n):s=Kf(t,e,Li),s.endBeforeSet_=!0,s}function Cd(t,e){const n=t.copy();return n.index_=e,n}function Nv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ct?n="$priority":t.index_===tm?n="$value":t.index_===us?n="$key":(G(t.index_ instanceof em,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=It(n),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=It(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+It(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=It(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+It(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Lv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ct&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends k1{constructor(e,n,s,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=i,this.log_=Ol("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,s,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const r=uu.getListenId_(e,s),a={};this.listens_[r]=a;const l=Nv(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,s),Ao(this.listens_,r)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){const s=uu.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Nv(e._queryParams),s=e._path.toString(),i=new an;return this.restRequest_(s+".json",n,(o,r)=>{let a=r;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(s,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const r=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+KX(n);this.log_("Sending REST request for "+r);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(s&&a.readyState===4){this.log_("REST Response for "+r+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=il(a.responseText)}catch{Jt("Failed to parse JSON response for "+r+": "+a.responseText)}s(null,l)}else a.status!==401&&a.status!==404&&Jt("Got unsuccessful REST response for "+r+" Status: "+a.status),s(a.status);s=null}},a.open("GET",r,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(){return{value:null,children:new Map}}function Wr(t,e,n){if(Te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const s=Me(e);t.children.has(s)||t.children.set(s,du());const i=t.children.get(s);e=it(e),Wr(i,e,n)}}function qf(t,e){if(Te(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(ct,(s,i)=>{Wr(t,new qe(s),i)}),qf(t,e)}}else if(t.children.size>0){const n=Me(e);return e=it(e),t.children.has(n)&&qf(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Qf(t,e,n){t.value!==null?n(e,t.value):Dee(t,(s,i)=>{const o=new qe(e.toString()+"/"+s);Qf(i,o,n)})}function Dee(t,e){t.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ut(this.last_,(s,i)=>{n[s]=n[s]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=10*1e3,Ree=30*1e3,Oee=5*60*1e3;class Pee{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Iee(e);const s=Fv+(Ree-Fv)*Math.random();Ia(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Ut(e,(i,o)=>{o>0&&vn(this.statsToReport_,i)&&(n[i]=o,s=!0)}),s&&this.server_.reportStats(n),Ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*Oee))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Hn||(Hn={}));function sm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function im(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function om(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Hn.ACK_USER_WRITE,this.source=sm()}operationForChild(e){if(Te(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new qe(e));return new hu(je(),n,this.revert)}}else return G(Me(this.path)===e,"operationForChild called for unrelated child."),new hu(it(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.source=e,this.path=n,this.type=Hn.LISTEN_COMPLETE}operationForChild(e){return Te(this.path)?new dl(this.source,je()):new dl(this.source,it(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Hn.OVERWRITE}operationForChild(e){return Te(this.path)?new xo(this.source,je(),this.snap.getImmediateChild(e)):new xo(this.source,it(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Hn.MERGE}operationForChild(e){if(Te(this.path)){const n=this.children.subtree(new qe(e));return n.isEmpty()?null:n.value?new xo(this.source,je(),n.value):new br(this.source,je(),n)}else return G(Me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new br(this.source,it(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Te(e))return this.isFullyInitialized()&&!this.filtered_;const n=Me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Lee(t,e,n,s){const i=[],o=[];return e.forEach(r=>{r.type==="child_changed"&&t.index_.indexedValueChanged(r.oldSnap,r.snapshotNode)&&o.push(Aee(r.childName,r.snapshotNode))}),la(t,i,"child_removed",e,s,n),la(t,i,"child_added",e,s,n),la(t,i,"child_moved",o,s,n),la(t,i,"child_changed",e,s,n),la(t,i,"value",e,s,n),i}function la(t,e,n,s,i,o){const r=s.filter(a=>a.type===n);r.sort((a,l)=>$ee(t,a,l)),r.forEach(a=>{const l=Fee(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Fee(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function $ee(t,e,n){if(e.childName==null||n.childName==null)throw Yr("Should only compare child_ events.");const s=new De(e.childName,e.snapshotNode),i=new De(n.childName,n.snapshotNode);return t.index_.compare(s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e){return{eventCache:t,serverCache:e}}function Ra(t,e,n,s){return kd(new $i(e,n,s),t.serverCache)}function L1(t,e,n,s){return kd(t.eventCache,new $i(e,n,s))}function fu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Co(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph;const Bee=()=>(Ph||(Ph=new cn(wZ)),Ph);class at{constructor(e,n=Bee()){this.value=e,this.children=n}static fromObject(e){let n=new at(null);return Ut(e,(s,i)=>{n=n.set(new qe(s),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:je(),value:this.value};if(Te(e))return null;{const s=Me(e),i=this.children.get(s);if(i!==null){const o=i.findRootMostMatchingPathAndValue(it(e),n);return o!=null?{path:yt(new qe(s),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Te(e))return this;{const n=Me(e),s=this.children.get(n);return s!==null?s.subtree(it(e)):new at(null)}}set(e,n){if(Te(e))return new at(n,this.children);{const s=Me(e),o=(this.children.get(s)||new at(null)).set(it(e),n),r=this.children.insert(s,o);return new at(this.value,r)}}remove(e){if(Te(e))return this.children.isEmpty()?new at(null):new at(null,this.children);{const n=Me(e),s=this.children.get(n);if(s){const i=s.remove(it(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new at(null):new at(this.value,o)}else return this}}get(e){if(Te(e))return this.value;{const n=Me(e),s=this.children.get(n);return s?s.get(it(e)):null}}setTree(e,n){if(Te(e))return n;{const s=Me(e),o=(this.children.get(s)||new at(null)).setTree(it(e),n);let r;return o.isEmpty()?r=this.children.remove(s):r=this.children.insert(s,o),new at(this.value,r)}}fold(e){return this.fold_(je(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((i,o)=>{s[i]=o.fold_(yt(e,i),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,je(),n)}findOnPath_(e,n,s){const i=this.value?s(n,this.value):!1;if(i)return i;if(Te(e))return null;{const o=Me(e),r=this.children.get(o);return r?r.findOnPath_(it(e),yt(n,o),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,je(),n)}foreachOnPath_(e,n,s){if(Te(e))return this;{this.value&&s(n,this.value);const i=Me(e),o=this.children.get(i);return o?o.foreachOnPath_(it(e),yt(n,i),s):new at(null)}}foreach(e){this.foreach_(je(),e)}foreach_(e,n){this.children.inorderTraversal((s,i)=>{i.foreach_(yt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.writeTree_=e}static empty(){return new Gn(new at(null))}}function Oa(t,e,n){if(Te(e))return new Gn(new at(n));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const i=s.path;let o=s.value;const r=tn(i,e);return o=o.updateChild(r,n),new Gn(t.writeTree_.set(i,o))}else{const i=new at(n),o=t.writeTree_.setTree(e,i);return new Gn(o)}}}function Xf(t,e,n){let s=t;return Ut(n,(i,o)=>{s=Oa(s,yt(e,i),o)}),s}function $v(t,e){if(Te(e))return Gn.empty();{const n=t.writeTree_.setTree(e,new at(null));return new Gn(n)}}function Jf(t,e){return Lo(t,e)!=null}function Lo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(tn(n.path,e)):null}function Bv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ct,(s,i)=>{e.push(new De(s,i))}):t.writeTree_.children.inorderTraversal((s,i)=>{i.value!=null&&e.push(new De(s,i.value))}),e}function Ci(t,e){if(Te(e))return t;{const n=Lo(t,e);return n!=null?new Gn(new at(n)):new Gn(t.writeTree_.subtree(e))}}function Zf(t){return t.writeTree_.isEmpty()}function vr(t,e){return F1(je(),t.writeTree_,e)}function F1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(G(o.value!==null,"Priority writes must always be leaf nodes"),s=o.value):n=F1(yt(t,i),o,n)}),!n.getChild(t).isEmpty()&&s!==null&&(n=n.updateChild(yt(t,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e){return U1(e,t)}function Yee(t,e,n,s,i){G(s>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:s,visible:i}),i&&(t.visibleWrites=Oa(t.visibleWrites,e,n)),t.lastWriteId=s}function Uee(t,e,n,s){G(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:s,visible:!0}),t.visibleWrites=Xf(t.visibleWrites,e,n),t.lastWriteId=s}function Vee(t,e){for(let n=0;n<t.allWrites.length;n++){const s=t.allWrites[n];if(s.writeId===e)return s}return null}function Wee(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[n];t.allWrites.splice(n,1);let i=s.visible,o=!1,r=t.allWrites.length-1;for(;i&&r>=0;){const a=t.allWrites[r];a.visible&&(r>=n&&Hee(a,s.path)?i=!1:Dn(s.path,a.path)&&(o=!0)),r--}if(i){if(o)return jee(t),!0;if(s.snap)t.visibleWrites=$v(t.visibleWrites,s.path);else{const a=s.children;Ut(a,l=>{t.visibleWrites=$v(t.visibleWrites,yt(s.path,l))})}return!0}else return!1}function Hee(t,e){if(t.snap)return Dn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Dn(yt(t.path,n),e))return!0;return!1}function jee(t){t.visibleWrites=$1(t.allWrites,zee,je()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zee(t){return t.visible}function $1(t,e,n){let s=Gn.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const r=o.path;let a;if(o.snap)Dn(n,r)?(a=tn(n,r),s=Oa(s,a,o.snap)):Dn(r,n)&&(a=tn(r,n),s=Oa(s,je(),o.snap.getChild(a)));else if(o.children){if(Dn(n,r))a=tn(n,r),s=Xf(s,a,o.children);else if(Dn(r,n))if(a=tn(r,n),Te(a))s=Xf(s,je(),o.children);else{const l=Ao(o.children,Me(a));if(l){const c=l.getChild(it(a));s=Oa(s,je(),c)}}}else throw Yr("WriteRecord should have .snap or .children")}}return s}function B1(t,e,n,s,i){if(!s&&!i){const o=Lo(t.visibleWrites,e);if(o!=null)return o;{const r=Ci(t.visibleWrites,e);if(Zf(r))return n;if(n==null&&!Jf(r,je()))return null;{const a=n||me.EMPTY_NODE;return vr(r,a)}}}else{const o=Ci(t.visibleWrites,e);if(!i&&Zf(o))return n;if(!i&&n==null&&!Jf(o,je()))return null;{const r=function(c){return(c.visible||i)&&(!s||!~s.indexOf(c.writeId))&&(Dn(c.path,e)||Dn(e,c.path))},a=$1(t.allWrites,r,e),l=n||me.EMPTY_NODE;return vr(a,l)}}}function Gee(t,e,n){let s=me.EMPTY_NODE;const i=Lo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ct,(o,r)=>{s=s.updateImmediateChild(o,r)}),s;if(n){const o=Ci(t.visibleWrites,e);return n.forEachChild(ct,(r,a)=>{const l=vr(Ci(o,new qe(r)),a);s=s.updateImmediateChild(r,l)}),Bv(o).forEach(r=>{s=s.updateImmediateChild(r.name,r.node)}),s}else{const o=Ci(t.visibleWrites,e);return Bv(o).forEach(r=>{s=s.updateImmediateChild(r.name,r.node)}),s}}function Kee(t,e,n,s,i){G(s||i,"Either existingEventSnap or existingServerSnap must exist");const o=yt(e,n);if(Jf(t.visibleWrites,o))return null;{const r=Ci(t.visibleWrites,o);return Zf(r)?i.getChild(n):vr(r,i.getChild(n))}}function qee(t,e,n,s){const i=yt(e,n),o=Lo(t.visibleWrites,i);if(o!=null)return o;if(s.isCompleteForChild(n)){const r=Ci(t.visibleWrites,i);return vr(r,s.getNode().getImmediateChild(n))}else return null}function Qee(t,e){return Lo(t.visibleWrites,e)}function Xee(t,e,n,s,i,o,r){let a;const l=Ci(t.visibleWrites,e),c=Lo(l,je());if(c!=null)a=c;else if(n!=null)a=vr(l,n);else return[];if(a=a.withIndex(r),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=r.getCompare(),h=o?a.getReverseIteratorFrom(s,r):a.getIteratorFrom(s,r);let p=h.getNext();for(;p&&u.length<i;)d(p,s)!==0&&u.push(p),p=h.getNext();return u}else return[]}function Jee(){return{visibleWrites:Gn.empty(),allWrites:[],lastWriteId:-1}}function pu(t,e,n,s){return B1(t.writeTree,t.treePath,e,n,s)}function rm(t,e){return Gee(t.writeTree,t.treePath,e)}function Yv(t,e,n,s){return Kee(t.writeTree,t.treePath,e,n,s)}function gu(t,e){return Qee(t.writeTree,yt(t.treePath,e))}function Zee(t,e,n,s,i,o){return Xee(t.writeTree,t.treePath,e,n,s,i,o)}function am(t,e,n){return qee(t.writeTree,t.treePath,e,n)}function Y1(t,e){return U1(yt(t.treePath,e),t.writeTree)}function U1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(s);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(s,cl(s,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(s,ll(s,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(s,yr(s,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(s,cl(s,e.snapshotNode,i.oldSnap));else throw Yr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tte{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const V1=new tte;class lm{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new $i(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return am(this.writes_,e,s)}}getChildAfterChild(e,n,s){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Co(this.viewCache_),o=Zee(this.writes_,i,n,1,s,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nte(t){return{filter:t}}function ste(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ite(t,e,n,s,i){const o=new ete;let r,a;if(n.type===Hn.OVERWRITE){const c=n;c.source.fromUser?r=ep(t,e,c.path,c.snap,s,i,o):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Te(c.path),r=mu(t,e,c.path,c.snap,s,i,a,o))}else if(n.type===Hn.MERGE){const c=n;c.source.fromUser?r=rte(t,e,c.path,c.children,s,i,o):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),r=tp(t,e,c.path,c.children,s,i,a,o))}else if(n.type===Hn.ACK_USER_WRITE){const c=n;c.revert?r=cte(t,e,c.path,s,i,o):r=ate(t,e,c.path,c.affectedTree,s,i,o)}else if(n.type===Hn.LISTEN_COMPLETE)r=lte(t,e,n.path,s,o);else throw Yr("Unknown operation type: "+n.type);const l=o.getChanges();return ote(e,r,l),{viewCache:r,changes:l}}function ote(t,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const i=s.getNode().isLeafNode()||s.getNode().isEmpty(),o=fu(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!s.getNode().equals(o)||!s.getNode().getPriority().equals(o.getPriority()))&&n.push(N1(fu(e)))}}function W1(t,e,n,s,i,o){const r=e.eventCache;if(gu(s,n)!=null)return e;{let a,l;if(Te(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Co(e),u=c instanceof me?c:me.EMPTY_NODE,d=rm(s,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=pu(s,Co(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=Me(n);if(c===".priority"){G(Fi(n)===1,"Can't have a priority with additional path components");const u=r.getNode();l=e.serverCache.getNode();const d=Yv(s,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=r.getNode()}else{const u=it(n);let d;if(r.isCompleteForChild(c)){l=e.serverCache.getNode();const h=Yv(s,n,r.getNode(),l);h!=null?d=r.getNode().getImmediateChild(c).updateChild(u,h):d=r.getNode().getImmediateChild(c)}else d=am(s,c,e.serverCache);d!=null?a=t.filter.updateChild(r.getNode(),c,d,u,i,o):a=r.getNode()}}return Ra(e,a,r.isFullyInitialized()||Te(n),t.filter.filtersNodes())}}function mu(t,e,n,s,i,o,r,a){const l=e.serverCache;let c;const u=r?t.filter:t.filter.getIndexedFilter();if(Te(n))c=u.updateFullNode(l.getNode(),s,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,s);c=u.updateFullNode(l.getNode(),p,null)}else{const p=Me(n);if(!l.isCompleteForPath(n)&&Fi(n)>1)return e;const g=it(n),_=l.getNode().getImmediateChild(p).updateChild(g,s);p===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),p,_,g,V1,null)}const d=L1(e,c,l.isFullyInitialized()||Te(n),u.filtersNodes()),h=new lm(i,d,o);return W1(t,d,n,i,h,a)}function ep(t,e,n,s,i,o,r){const a=e.eventCache;let l,c;const u=new lm(i,e,o);if(Te(n))c=t.filter.updateFullNode(e.eventCache.getNode(),s,r),l=Ra(e,c,!0,t.filter.filtersNodes());else{const d=Me(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),s),l=Ra(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=it(n),p=a.getNode().getImmediateChild(d);let g;if(Te(h))g=s;else{const m=u.getCompleteChild(d);m!=null?Qg(h)===".priority"&&m.getChild(M1(h)).isEmpty()?g=m:g=m.updateChild(h,s):g=me.EMPTY_NODE}if(p.equals(g))l=e;else{const m=t.filter.updateChild(a.getNode(),d,g,h,u,r);l=Ra(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Uv(t,e){return t.eventCache.isCompleteForChild(e)}function rte(t,e,n,s,i,o,r){let a=e;return s.foreach((l,c)=>{const u=yt(n,l);Uv(e,Me(u))&&(a=ep(t,a,u,c,i,o,r))}),s.foreach((l,c)=>{const u=yt(n,l);Uv(e,Me(u))||(a=ep(t,a,u,c,i,o,r))}),a}function Vv(t,e,n){return n.foreach((s,i)=>{e=e.updateChild(s,i)}),e}function tp(t,e,n,s,i,o,r,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Te(n)?c=s:c=new at(null).setTree(n,s);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),g=Vv(t,p,h);l=mu(t,l,new qe(d),g,i,o,r,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){const g=e.serverCache.getNode().getImmediateChild(d),m=Vv(t,g,h);l=mu(t,l,new qe(d),m,i,o,r,a)}}),l}function ate(t,e,n,s,i,o,r){if(gu(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(s.value!=null){if(Te(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return mu(t,e,n,l.getNode().getChild(n),i,o,a,r);if(Te(n)){let c=new at(null);return l.getNode().forEachChild(us,(u,d)=>{c=c.set(new qe(u),d)}),tp(t,e,n,c,i,o,a,r)}else return e}else{let c=new at(null);return s.foreach((u,d)=>{const h=yt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),tp(t,e,n,c,i,o,a,r)}}function lte(t,e,n,s,i){const o=e.serverCache,r=L1(e,o.getNode(),o.isFullyInitialized()||Te(n),o.isFiltered());return W1(t,r,n,s,V1,i)}function cte(t,e,n,s,i,o){let r;if(gu(s,n)!=null)return e;{const a=new lm(s,e,i),l=e.eventCache.getNode();let c;if(Te(n)||Me(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=pu(s,Co(e));else{const d=e.serverCache.getNode();G(d instanceof me,"serverChildren would be complete if leaf node"),u=rm(s,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{const u=Me(n);let d=am(s,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,it(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,me.EMPTY_NODE,it(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(r=pu(s,Co(e)),r.isLeafNode()&&(c=t.filter.updateFullNode(c,r,o)))}return r=e.serverCache.isFullyInitialized()||gu(s,je())!=null,Ra(e,c,r,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ute{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,i=new nm(s.getIndex()),o=xee(s);this.processor_=nte(o);const r=n.serverCache,a=n.eventCache,l=i.updateFullNode(me.EMPTY_NODE,r.getNode(),null),c=o.updateFullNode(me.EMPTY_NODE,a.getNode(),null),u=new $i(l,r.isFullyInitialized(),i.filtersNodes()),d=new $i(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=kd(d,u),this.eventGenerator_=new Nee(this.query_)}get query(){return this.query_}}function dte(t){return t.viewCache_.serverCache.getNode()}function hte(t){return fu(t.viewCache_)}function fte(t,e){const n=Co(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Te(e)&&!n.getImmediateChild(Me(e)).isEmpty())?n.getChild(e):null}function Wv(t){return t.eventRegistrations_.length===0}function pte(t,e){t.eventRegistrations_.push(e)}function Hv(t,e,n){const s=[];if(n){G(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const r=o.createCancelEvent(n,i);r&&s.push(r)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const r=t.eventRegistrations_[o];if(!r.matches(e))i.push(r);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return s}function jv(t,e,n,s){e.type===Hn.MERGE&&e.source.queryId!==null&&(G(Co(t.viewCache_),"We should always have a full cache before handling merges"),G(fu(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=ite(t.processor_,i,e,n,s);return ste(t.processor_,o.viewCache),G(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,H1(t,o.changes,o.viewCache.eventCache.getNode(),null)}function gte(t,e){const n=t.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ct,(o,r)=>{s.push(yr(o,r))}),n.isFullyInitialized()&&s.push(N1(n.getNode())),H1(t,s,n.getNode(),e)}function H1(t,e,n,s){const i=s?[s]:t.eventRegistrations_;return Lee(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u;class j1{constructor(){this.views=new Map}}function mte(t){G(!_u,"__referenceConstructor has already been defined"),_u=t}function _te(){return G(_u,"Reference.ts has not been loaded"),_u}function yte(t){return t.views.size===0}function cm(t,e,n,s){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return G(o!=null,"SyncTree gave us an op for an invalid query."),jv(o,e,n,s)}else{let o=[];for(const r of t.views.values())o=o.concat(jv(r,e,n,s));return o}}function z1(t,e,n,s,i){const o=e._queryIdentifier,r=t.views.get(o);if(!r){let a=pu(n,i?s:null),l=!1;a?l=!0:s instanceof me?(a=rm(n,s),l=!1):(a=me.EMPTY_NODE,l=!1);const c=kd(new $i(a,l,!1),new $i(s,i,!1));return new ute(e,c)}return r}function bte(t,e,n,s,i,o){const r=z1(t,e,s,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,r),pte(r,n),gte(r,n)}function vte(t,e,n,s){const i=e._queryIdentifier,o=[];let r=[];const a=Bi(t);if(i==="default")for(const[l,c]of t.views.entries())r=r.concat(Hv(c,n,s)),Wv(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=t.views.get(i);l&&(r=r.concat(Hv(l,n,s)),Wv(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Bi(t)&&o.push(new(_te())(e._repo,e._path)),{removed:o,events:r}}function G1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ki(t,e){let n=null;for(const s of t.views.values())n=n||fte(s,e);return n}function K1(t,e){if(e._queryParams.loadsAllData())return Md(t);{const s=e._queryIdentifier;return t.views.get(s)}}function q1(t,e){return K1(t,e)!=null}function Bi(t){return Md(t)!=null}function Md(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu;function wte(t){G(!yu,"__referenceConstructor has already been defined"),yu=t}function Ate(){return G(yu,"Reference.ts has not been loaded"),yu}let Ste=1;class zv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new at(null),this.pendingWriteTree_=Jee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function um(t,e,n,s,i){return Yee(t.pendingWriteTree_,e,n,s,i),i?Hr(t,new xo(sm(),e,n)):[]}function xte(t,e,n,s){Uee(t.pendingWriteTree_,e,n,s);const i=at.fromObject(n);return Hr(t,new br(sm(),e,i))}function yi(t,e,n=!1){const s=Vee(t.pendingWriteTree_,e);if(Wee(t.pendingWriteTree_,e)){let o=new at(null);return s.snap!=null?o=o.set(je(),!0):Ut(s.children,r=>{o=o.set(new qe(r),!0)}),Hr(t,new hu(s.path,o,n))}else return[]}function Nl(t,e,n){return Hr(t,new xo(im(),e,n))}function Cte(t,e,n){const s=at.fromObject(n);return Hr(t,new br(im(),e,s))}function kte(t,e){return Hr(t,new dl(im(),e))}function Ete(t,e,n){const s=dm(t,n);if(s){const i=hm(s),o=i.path,r=i.queryId,a=tn(o,e),l=new dl(om(r),a);return fm(t,o,l)}else return[]}function bu(t,e,n,s,i=!1){const o=e._path,r=t.syncPointTree_.get(o);let a=[];if(r&&(e._queryIdentifier==="default"||q1(r,e))){const l=vte(r,e,n,s);yte(r)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(h,p)=>Bi(p));if(u&&!d){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=Dte(h);for(let g=0;g<p.length;++g){const m=p[g],_=m.query,w=Z1(t,m);t.listenProvider_.startListening(Pa(_),hl(t,_),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!s&&(u?t.listenProvider_.stopListening(Pa(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(Dd(h));t.listenProvider_.stopListening(Pa(h),p)}))}Ite(t,c)}return a}function Q1(t,e,n,s){const i=dm(t,s);if(i!=null){const o=hm(i),r=o.path,a=o.queryId,l=tn(r,e),c=new xo(om(a),l,n);return fm(t,r,c)}else return[]}function Mte(t,e,n,s){const i=dm(t,s);if(i){const o=hm(i),r=o.path,a=o.queryId,l=tn(r,e),c=at.fromObject(n),u=new br(om(a),l,c);return fm(t,r,u)}else return[]}function np(t,e,n,s=!1){const i=e._path;let o=null,r=!1;t.syncPointTree_.foreachOnPath(i,(h,p)=>{const g=tn(h,i);o=o||ki(p,g),r=r||Bi(p)});let a=t.syncPointTree_.get(i);a?(r=r||Bi(a),o=o||ki(a,je())):(a=new j1,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=me.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,g)=>{const m=ki(g,je());m&&(o=o.updateImmediateChild(p,m))}));const c=q1(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=Dd(e);G(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=Rte();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const u=Ed(t.pendingWriteTree_,i);let d=bte(a,e,n,u,o,l);if(!c&&!r&&!s){const h=K1(a,e);d=d.concat(Ote(t,e,h))}return d}function Td(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(r,a)=>{const l=tn(r,e),c=ki(a,l);if(c)return c});return B1(i,e,o,n,!0)}function Tte(t,e){const n=e._path;let s=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=tn(c,n);s=s||ki(u,d)});let i=t.syncPointTree_.get(n);i?s=s||ki(i,je()):(i=new j1,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=s!=null,r=o?new $i(s,!0,!1):null,a=Ed(t.pendingWriteTree_,e._path),l=z1(i,e,a,o?r.getNode():me.EMPTY_NODE,o);return hte(l)}function Hr(t,e){return X1(e,t.syncPointTree_,null,Ed(t.pendingWriteTree_,je()))}function X1(t,e,n,s){if(Te(t.path))return J1(t,e,n,s);{const i=e.get(je());n==null&&i!=null&&(n=ki(i,je()));let o=[];const r=Me(t.path),a=t.operationForChild(r),l=e.children.get(r);if(l&&a){const c=n?n.getImmediateChild(r):null,u=Y1(s,r);o=o.concat(X1(a,l,c,u))}return i&&(o=o.concat(cm(i,t,s,n))),o}}function J1(t,e,n,s){const i=e.get(je());n==null&&i!=null&&(n=ki(i,je()));let o=[];return e.children.inorderTraversal((r,a)=>{const l=n?n.getImmediateChild(r):null,c=Y1(s,r),u=t.operationForChild(r);u&&(o=o.concat(J1(u,a,l,c)))}),i&&(o=o.concat(cm(i,t,s,n))),o}function Z1(t,e){const n=e.query,s=hl(t,n);return{hashFn:()=>(dte(e)||me.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return s?Ete(t,n._path,s):kte(t,n._path);{const o=xZ(i,n);return bu(t,n,null,o)}}}}function hl(t,e){const n=Dd(e);return t.queryToTagMap.get(n)}function Dd(t){return t._path.toString()+"$"+t._queryIdentifier}function dm(t,e){return t.tagToQueryMap.get(e)}function hm(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new qe(t.substr(0,e))}}function fm(t,e,n){const s=t.syncPointTree_.get(e);G(s,"Missing sync point for query tag that we're tracking");const i=Ed(t.pendingWriteTree_,e);return cm(s,n,i,null)}function Dte(t){return t.fold((e,n,s)=>{if(n&&Bi(n))return[Md(n)];{let i=[];return n&&(i=G1(n)),Ut(s,(o,r)=>{i=i.concat(r)}),i}})}function Pa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ate())(t._repo,t._path):t}function Ite(t,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const i=Dd(s),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Rte(){return Ste++}function Ote(t,e,n){const s=e._path,i=hl(t,e),o=Z1(t,n),r=t.listenProvider_.startListening(Pa(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(s);if(i)G(!Bi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Te(c)&&u&&Bi(u))return[Md(u).query];{let h=[];return u&&(h=h.concat(G1(u).map(p=>p.query))),Ut(d,(p,g)=>{h=h.concat(g)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(Pa(u),hl(t,u))}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new pm(n)}node(){return this.node_}}class gm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=yt(this.path_,e);return new gm(this.syncTree_,n)}node(){return Td(this.syncTree_,this.path_)}}const Pte=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Gv=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Nte(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Lte(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Nte=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},Lte=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return s;const r=i.getValue();return typeof r!="number"?s:r+s},eC=function(t,e,n,s){return _m(e,new gm(n,t),s)},mm=function(t,e,n){return _m(t,new pm(e),n)};function _m(t,e,n){const s=t.getPriority().val(),i=Gv(s,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const r=t,a=Gv(r.getValue(),e,n);return a!==r.getValue()||i!==r.getPriority().val()?new Nt(a,bt(i)):t}else{const r=t;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Nt(i))),r.forEachChild(ct,(a,l)=>{const c=_m(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Id(t,e){let n=e instanceof qe?e:new qe(e),s=t,i=Me(n);for(;i!==null;){const o=Ao(s.node.children,i)||{children:{},childCount:0};s=new ym(i,s,o),n=it(n),i=Me(n)}return s}function Fo(t){return t.node.value}function bm(t,e){t.node.value=e,sp(t)}function tC(t){return t.node.childCount>0}function Fte(t){return Fo(t)===void 0&&!tC(t)}function Rd(t,e){Ut(t.node.children,(n,s)=>{e(new ym(n,t,s))})}function nC(t,e,n,s){n&&!s&&e(t),Rd(t,i=>{nC(i,e,!0,s)}),n&&s&&e(t)}function $te(t,e,n){let s=n?t:t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Ll(t){return new qe(t.parent===null?t.name:Ll(t.parent)+"/"+t.name)}function sp(t){t.parent!==null&&Bte(t.parent,t.name,t)}function Bte(t,e,n){const s=Fte(n),i=vn(t.node.children,e);s&&i?(delete t.node.children[e],t.node.childCount--,sp(t)):!s&&!i&&(t.node.children[e]=n.node,t.node.childCount++,sp(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte=/[\[\].#$\/\u0000-\u001F\u007F]/,Ute=/[\[\].#$\u0000-\u001F\u007F]/,Nh=10*1024*1024,Od=function(t){return typeof t=="string"&&t.length!==0&&!Yte.test(t)},sC=function(t){return typeof t=="string"&&t.length!==0&&!Ute.test(t)},Vte=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),sC(t)},fl=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ad(t)||t&&typeof t=="object"&&vn(t,".sv")},ms=function(t,e,n,s){s&&e===void 0||Fl(un(t,"value"),e,n)},Fl=function(t,e,n){const s=n instanceof qe?new iee(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+oo(s));if(typeof e=="function")throw new Error(t+"contains a function "+oo(s)+" with contents = "+e.toString());if(Ad(e))throw new Error(t+"contains "+e.toString()+" "+oo(s));if(typeof e=="string"&&e.length>Nh/3&&vd(e)>Nh)throw new Error(t+"contains a string greater than "+Nh+" utf8 bytes "+oo(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ut(e,(r,a)=>{if(r===".value")i=!0;else if(r!==".priority"&&r!==".sv"&&(o=!0,!Od(r)))throw new Error(t+" contains an invalid key ("+r+") "+oo(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oee(s,r),Fl(t,a,s),ree(s)}),i&&o)throw new Error(t+' contains ".value" child '+oo(s)+" in addition to actual children.")}},Wte=function(t,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const o=al(s);for(let r=0;r<o.length;r++)if(!(o[r]===".priority"&&r===o.length-1)){if(!Od(o[r]))throw new Error(t+"contains an invalid key ("+o[r]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(see);let i=null;for(n=0;n<e.length;n++){if(s=e[n],i!==null&&Dn(i,s))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+s.toString());i=s}},iC=function(t,e,n,s){if(s&&e===void 0)return;const i=un(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Ut(e,(r,a)=>{const l=new qe(r);if(Fl(i,a,yt(n,l)),Qg(l)===".priority"&&!fl(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),Wte(i,o)},vm=function(t,e,n){if(!(n&&e===void 0)){if(Ad(e))throw new Error(un(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fl(e))throw new Error(un(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$l=function(t,e,n,s){if(!(s&&n===void 0)&&!Od(n))throw new Error(un(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},pl=function(t,e,n,s){if(!(s&&n===void 0)&&!sC(n))throw new Error(un(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Hte=function(t,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pl(t,e,n,s)},In=function(t,e){if(Me(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},oC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Od(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Vte(n))throw new Error(un(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pd(t,e){let n=null;for(let s=0;s<e.length;s++){const i=e[s],o=i.getPath();n!==null&&!Xg(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function rC(t,e,n){Pd(t,n),aC(t,s=>Xg(s,e))}function wn(t,e,n){Pd(t,n),aC(t,s=>Dn(s,e)||Dn(e,s))}function aC(t,e){t.recursionDepth_++;let n=!0;for(let s=0;s<t.eventLists_.length;s++){const i=t.eventLists_[s];if(i){const o=i.path;e(o)?(zte(t.eventLists_[s]),t.eventLists_[s]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zte(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const s=n.getEventRunner();_o&&$t("event: "+n.toString()),Vr(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="repo_interrupt",Gte=25;class Kte{constructor(e,n,s,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=du(),this.transactionQueueTree_=new ym,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qte(t,e,n){if(t.stats_=Kg(t.repoInfo_),t.forceRestClient_||MZ())t.server_=new uu(t.repoInfo_,(s,i,o,r)=>{Kv(t,s,i,o,r)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>qv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{It(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Vs(t.repoInfo_,e,(s,i,o,r)=>{Kv(t,s,i,o,r)},s=>{qv(t,s)},s=>{Qte(t,s)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=OZ(t.repoInfo_,()=>new Pee(t.stats_,t.server_)),t.infoData_=new Tee,t.infoSyncTree_=new zv({startListening:(s,i,o,r)=>{let a=[];const l=t.infoData_.getNode(s._path);return l.isEmpty()||(a=Nl(t.infoSyncTree_,s._path,l),setTimeout(()=>{r("ok")},0)),a},stopListening:()=>{}}),wm(t,"connected",!1),t.serverSyncTree_=new zv({startListening:(s,i,o,r)=>(t.server_.listen(s,o,i,(a,l)=>{const c=r(a,l);wn(t.eventQueue_,s._path,c)}),[]),stopListening:(s,i)=>{t.server_.unlisten(s,i)}})}function cC(t){const n=t.infoData_.getNode(new qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Bl(t){return Pte({timestamp:cC(t)})}function Kv(t,e,n,s,i){t.dataUpdateCount++;const o=new qe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let r=[];if(i)if(s){const l=ou(n,c=>bt(c));r=Mte(t.serverSyncTree_,o,l,i)}else{const l=bt(n);r=Q1(t.serverSyncTree_,o,l,i)}else if(s){const l=ou(n,c=>bt(c));r=Cte(t.serverSyncTree_,o,l)}else{const l=bt(n);r=Nl(t.serverSyncTree_,o,l)}let a=o;r.length>0&&(a=wr(t,o)),wn(t.eventQueue_,a,r)}function qv(t,e){wm(t,"connected",e),e===!1&&Zte(t)}function Qte(t,e){Ut(e,(n,s)=>{wm(t,n,s)})}function wm(t,e,n){const s=new qe("/.info/"+e),i=bt(n);t.infoData_.updateSnapshot(s,i);const o=Nl(t.infoSyncTree_,s,i);wn(t.eventQueue_,s,o)}function Nd(t){return t.nextWriteId_++}function Xte(t,e,n){const s=Tte(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(i=>{const o=bt(i).withIndex(e._queryParams.getIndex());np(t.serverSyncTree_,e,n,!0);let r;if(e._queryParams.loadsAllData())r=Nl(t.serverSyncTree_,e._path,o);else{const a=hl(t.serverSyncTree_,e);r=Q1(t.serverSyncTree_,e._path,o,a)}return wn(t.eventQueue_,e._path,r),bu(t.serverSyncTree_,e,n,null,!0),o},i=>(jr(t,"get for query "+It(e)+" failed: "+i),Promise.reject(new Error(i))))}function Am(t,e,n,s,i){jr(t,"set",{path:e.toString(),value:n,priority:s});const o=Bl(t),r=bt(n,s),a=Td(t.serverSyncTree_,e),l=mm(r,a,o),c=Nd(t),u=um(t.serverSyncTree_,e,l,c,!0);Pd(t.eventQueue_,u),t.server_.put(e.toString(),r.val(!0),(h,p)=>{const g=h==="ok";g||Jt("set at "+e+" failed: "+h);const m=yi(t.serverSyncTree_,c,!g);wn(t.eventQueue_,e,m),Yi(t,i,h,p)});const d=xm(t,e);wr(t,d),wn(t.eventQueue_,d,[])}function Jte(t,e,n,s){jr(t,"update",{path:e.toString(),value:n});let i=!0;const o=Bl(t),r={};if(Ut(n,(a,l)=>{i=!1,r[a]=eC(yt(e,a),bt(l),t.serverSyncTree_,o)}),i)$t("update() called with empty data.  Don't do anything."),Yi(t,s,"ok",void 0);else{const a=Nd(t),l=xte(t.serverSyncTree_,e,r,a);Pd(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||Jt("update at "+e+" failed: "+c);const h=yi(t.serverSyncTree_,a,!d),p=h.length>0?wr(t,e):e;wn(t.eventQueue_,p,h),Yi(t,s,c,u)}),Ut(n,c=>{const u=xm(t,yt(e,c));wr(t,u)}),wn(t.eventQueue_,e,[])}}function Zte(t){jr(t,"onDisconnectEvents");const e=Bl(t),n=du();Qf(t.onDisconnect_,je(),(i,o)=>{const r=eC(i,o,t.serverSyncTree_,e);Wr(n,i,r)});let s=[];Qf(n,je(),(i,o)=>{s=s.concat(Nl(t.serverSyncTree_,i,o));const r=xm(t,i);wr(t,r)}),t.onDisconnect_=du(),wn(t.eventQueue_,je(),s)}function ene(t,e,n){t.server_.onDisconnectCancel(e.toString(),(s,i)=>{s==="ok"&&qf(t.onDisconnect_,e),Yi(t,n,s,i)})}function Qv(t,e,n,s){const i=bt(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,r)=>{o==="ok"&&Wr(t.onDisconnect_,e,i),Yi(t,s,o,r)})}function tne(t,e,n,s,i){const o=bt(n,s);t.server_.onDisconnectPut(e.toString(),o.val(!0),(r,a)=>{r==="ok"&&Wr(t.onDisconnect_,e,o),Yi(t,i,r,a)})}function nne(t,e,n,s){if(Ff(n)){$t("onDisconnect().update() called with empty data.  Don't do anything."),Yi(t,s,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&Ut(n,(r,a)=>{const l=bt(a);Wr(t.onDisconnect_,yt(e,r),l)}),Yi(t,s,i,o)})}function sne(t,e,n){let s;Me(e._path)===".info"?s=np(t.infoSyncTree_,e,n):s=np(t.serverSyncTree_,e,n),rC(t.eventQueue_,e._path,s)}function ip(t,e,n){let s;Me(e._path)===".info"?s=bu(t.infoSyncTree_,e,n):s=bu(t.serverSyncTree_,e,n),rC(t.eventQueue_,e._path,s)}function uC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lC)}function ine(t){t.persistentConnection_&&t.persistentConnection_.resume(lC)}function jr(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$t(n,...e)}function Yi(t,e,n,s){e&&Vr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;s&&(o+=": "+s);const r=new Error(o);r.code=i,e(r)}})}function one(t,e,n,s,i,o){jr(t,"transaction on "+e);const r={path:e,update:n,onComplete:s,status:null,order:o1(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Sm(t,e,void 0);r.currentInputSnapshot=a;const l=r.update(a.val());if(l===void 0)r.unwatcher(),r.currentOutputSnapshotRaw=null,r.currentOutputSnapshotResolved=null,r.onComplete&&r.onComplete(null,!1,r.currentInputSnapshot);else{Fl("transaction failed: Data returned ",l,r.path),r.status=0;const c=Id(t.transactionQueueTree_,e),u=Fo(c)||[];u.push(r),bm(c,u);let d;typeof l=="object"&&l!==null&&vn(l,".priority")?(d=Ao(l,".priority"),G(fl(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Td(t.serverSyncTree_,e)||me.EMPTY_NODE).getPriority().val();const h=Bl(t),p=bt(l,d),g=mm(p,a,h);r.currentOutputSnapshotRaw=p,r.currentOutputSnapshotResolved=g,r.currentWriteId=Nd(t);const m=um(t.serverSyncTree_,e,g,r.currentWriteId,r.applyLocally);wn(t.eventQueue_,e,m),Ld(t,t.transactionQueueTree_)}}function Sm(t,e,n){return Td(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function Ld(t,e=t.transactionQueueTree_){if(e||Fd(t,e),Fo(e)){const n=hC(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&rne(t,Ll(e),n)}else tC(e)&&Rd(e,n=>{Ld(t,n)})}function rne(t,e,n){const s=n.map(c=>c.currentWriteId),i=Sm(t,e,s);let o=i;const r=i.hash();for(let c=0;c<n.length;c++){const u=n[c];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=tn(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{jr(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(yi(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Fd(t,Id(t.transactionQueueTree_,e)),Ld(t,t.transactionQueueTree_),wn(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Vr(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Jt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}wr(t,e)}},r)}function wr(t,e){const n=dC(t,e),s=Ll(n),i=hC(t,n);return ane(t,i,s),s}function ane(t,e,n){if(e.length===0)return;const s=[];let i=[];const r=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=tn(n,l.path);let u=!1,d;if(G(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(yi(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Gte)u=!0,d="maxretry",i=i.concat(yi(t.serverSyncTree_,l.currentWriteId,!0));else{const h=Sm(t,l.path,r);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){Fl("transaction failed: Data returned ",p,l.path);let g=bt(p);typeof p=="object"&&p!=null&&vn(p,".priority")||(g=g.updatePriority(h.getPriority()));const _=l.currentWriteId,w=Bl(t),A=mm(g,h,w);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=A,l.currentWriteId=Nd(t),r.splice(r.indexOf(_),1),i=i.concat(um(t.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),i=i.concat(yi(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(yi(t.serverSyncTree_,l.currentWriteId,!0))}wn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?s.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):s.push(()=>e[a].onComplete(new Error(d),!1,null))))}Fd(t,t.transactionQueueTree_);for(let a=0;a<s.length;a++)Vr(s[a]);Ld(t,t.transactionQueueTree_)}function dC(t,e){let n,s=t.transactionQueueTree_;for(n=Me(e);n!==null&&Fo(s)===void 0;)s=Id(s,n),e=it(e),n=Me(e);return s}function hC(t,e){const n=[];return fC(t,e,n),n.sort((s,i)=>s.order-i.order),n}function fC(t,e,n){const s=Fo(e);if(s)for(let i=0;i<s.length;i++)n.push(s[i]);Rd(e,i=>{fC(t,i,n)})}function Fd(t,e){const n=Fo(e);if(n){let s=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[s]=n[i],s++);n.length=s,bm(e,n.length>0?n:void 0)}Rd(e,s=>{Fd(t,s)})}function xm(t,e){const n=Ll(dC(t,e)),s=Id(t.transactionQueueTree_,e);return $te(s,i=>{Lh(t,i)}),Lh(t,s),nC(s,i=>{Lh(t,i)}),n}function Lh(t,e){const n=Fo(e);if(n){const s=[];let i=[],o=-1;for(let r=0;r<n.length;r++)n[r].status===3||(n[r].status===1?(G(o===r-1,"All SENT items should be at beginning of queue."),o=r,n[r].status=3,n[r].abortReason="set"):(G(n[r].status===0,"Unexpected transaction status in abort"),n[r].unwatcher(),i=i.concat(yi(t.serverSyncTree_,n[r].currentWriteId,!0)),n[r].onComplete&&s.push(n[r].onComplete.bind(null,new Error("set"),!1,null))));o===-1?bm(e,void 0):n.length=o+1,wn(t.eventQueue_,Ll(e),i);for(let r=0;r<s.length;r++)Vr(s[r])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lne(t){let e="";const n=t.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let i=n[s];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function cne(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Jt(`Invalid query segment '${n}' in query '${t}'`)}return e}const op=function(t,e){const n=une(t),s=n.namespace;n.domain==="firebase.com"&&gs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&gs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bZ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new b1(n.host,n.secure,s,i,e,"",s!==n.subdomain),path:new qe(n.pathString)}},une=function(t){let e="",n="",s="",i="",o="",r=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=lne(t.substring(u,d)));const h=cne(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(r=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");s=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=s}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:s,secure:r,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dne=function(){let t=0;const e=[];return function(n){const s=n===t;t=n;let i;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Xv.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");let r=o.join("");if(s){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)r+=Xv.charAt(e[i]);return G(r.length===20,"nextPushId: Length should be 20."),r}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,s,i){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+It(this.snapshot.exportVal())}}class gC{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hne=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new an;return ene(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){In("OnDisconnect.remove",this._path);const e=new an;return Qv(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){In("OnDisconnect.set",this._path),ms("OnDisconnect.set",e,this._path,!1);const n=new an;return Qv(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){In("OnDisconnect.setWithPriority",this._path),ms("OnDisconnect.setWithPriority",e,this._path,!1),vm("OnDisconnect.setWithPriority",n,!1);const s=new an;return tne(this._repo,this._path,e,n,s.wrapCallback(()=>{})),s.promise}update(e){In("OnDisconnect.update",this._path),iC("OnDisconnect.update",e,this._path,!1);const n=new an;return nne(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,s,i){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=i}get key(){return Te(this._path)?null:Qg(this._path)}get ref(){return new $n(this._repo,this._path)}get _queryIdentifier(){const e=Lv(this._queryParams),n=zg(e);return n==="{}"?"default":n}get _queryObject(){return Lv(this._queryParams)}isEqual(e){if(e=xn(e),!(e instanceof gn))return!1;const n=this._repo===e._repo,s=Xg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&s&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+nee(this._path)}}function $d(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function ji(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===us){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Li)throw new Error(s);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ks)throw new Error(s);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ct){if(e!=null&&!fl(e)||n!=null&&!fl(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(G(t.getIndex()instanceof em||t.getIndex()===tm,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bd(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class $n extends gn{constructor(e,n){super(e,n,new xd,!1)}get parent(){const e=M1(this._path);return e===null?null:new $n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let Yd=class rp{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new qe(e),s=ko(this.ref,e);return new rp(this._node.getChild(n),s,ct)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,i)=>e(new rp(i,ko(this.ref,s),ct)))}hasChild(e){const n=new qe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function mC(t,e){return t=xn(t),t._checkNotDeleted("ref"),e!==void 0?ko(t._root,e):t._root}function Jv(t,e){t=xn(t),t._checkNotDeleted("refFromURL");const n=op(e,t._repo.repoInfo_.nodeAdmin);oC("refFromURL",n);const s=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&s.host!==t._repo.repoInfo_.host&&gs("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+t._repo.repoInfo_.host+")"),mC(t,n.path.toString())}function ko(t,e){return t=xn(t),Me(t._path)===null?Hte("child","path",e,!1):pl("child","path",e,!1),new $n(t._repo,yt(t._path,e))}function fne(t,e){t=xn(t),In("push",t._path),ms("push",e,t._path,!0);const n=cC(t._repo),s=dne(n),i=ko(t,s),o=ko(t,s);let r;return e!=null?r=km(o,e).then(()=>o):r=Promise.resolve(o),i.then=r.then.bind(r),i.catch=r.then.bind(r,void 0),i}function pne(t){return In("remove",t._path),km(t,null)}function km(t,e){t=xn(t),In("set",t._path),ms("set",e,t._path,!1);const n=new an;return Am(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function gne(t,e){t=xn(t),In("setPriority",t._path),vm("setPriority",e,!1);const n=new an;return Am(t._repo,yt(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function mne(t,e,n){if(In("setWithPriority",t._path),ms("setWithPriority",e,t._path,!1),vm("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const s=new an;return Am(t._repo,t._path,e,n,s.wrapCallback(()=>{})),s.promise}function _ne(t,e){iC("update",e,t._path,!1);const n=new an;return Jte(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function yne(t){t=xn(t);const e=new Cm(()=>{}),n=new Yl(e);return Xte(t._repo,t,n).then(s=>new Yd(s,new $n(t._repo,t._path),t._queryParams.getIndex()))}class Yl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new pC("value",this,new Yd(e.snapshotNode,new $n(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new gC(this,e,n):null}matches(e){return e instanceof Yl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ud{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new gC(this,e,n):null}createEvent(e,n){G(e.childName!=null,"Child events should have a childName.");const s=ko(new $n(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new pC(e.type,this,new Yd(e.snapshotNode,s,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ud?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ul(t,e,n,s,i){let o;if(typeof s=="object"&&(o=void 0,i=s),typeof s=="function"&&(o=s),i&&i.onlyOnce){const l=n,c=(u,d)=>{ip(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const r=new Cm(n,o||void 0),a=e==="value"?new Yl(r):new Ud(e,r);return sne(t._repo,t,a),()=>ip(t._repo,t,a)}function ap(t,e,n,s){return Ul(t,"value",e,n,s)}function Zv(t,e,n,s){return Ul(t,"child_added",e,n,s)}function e0(t,e,n,s){return Ul(t,"child_changed",e,n,s)}function t0(t,e,n,s){return Ul(t,"child_moved",e,n,s)}function n0(t,e,n,s){return Ul(t,"child_removed",e,n,s)}function s0(t,e,n){let s=null;const i=n?new Cm(n):null;e==="value"?s=new Yl(i):e&&(s=new Ud(e,i)),ip(t._repo,t,s)}class Zn{}class _C extends Zn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){ms("endAt",this._value,e._path,!0);const n=Kf(e._queryParams,this._value,this._key);if(Bd(n),ji(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new gn(e._repo,e._path,n,e._orderByCalled)}}function bne(t,e){return $l("endAt","key",e,!0),new _C(t,e)}class vne extends Zn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){ms("endBefore",this._value,e._path,!1);const n=Mee(e._queryParams,this._value,this._key);if(Bd(n),ji(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new gn(e._repo,e._path,n,e._orderByCalled)}}function wne(t,e){return $l("endBefore","key",e,!0),new vne(t,e)}class yC extends Zn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){ms("startAt",this._value,e._path,!0);const n=Gf(e._queryParams,this._value,this._key);if(Bd(n),ji(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new gn(e._repo,e._path,n,e._orderByCalled)}}function Ane(t=null,e){return $l("startAt","key",e,!0),new yC(t,e)}class Sne extends Zn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){ms("startAfter",this._value,e._path,!1);const n=Eee(e._queryParams,this._value,this._key);if(Bd(n),ji(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new gn(e._repo,e._path,n,e._orderByCalled)}}function xne(t,e){return $l("startAfter","key",e,!0),new Sne(t,e)}class Cne extends Zn{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new gn(e._repo,e._path,Cee(e._queryParams,this._limit),e._orderByCalled)}}function kne(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Cne(t)}class Ene extends Zn{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new gn(e._repo,e._path,kee(e._queryParams,this._limit),e._orderByCalled)}}function Mne(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ene(t)}class Tne extends Zn{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){$d(e,"orderByChild");const n=new qe(this._path);if(Te(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new em(n),i=Cd(e._queryParams,s);return ji(i),new gn(e._repo,e._path,i,!0)}}function Dne(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return pl("orderByChild","path",t,!1),new Tne(t)}class Ine extends Zn{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){$d(e,"orderByKey");const n=Cd(e._queryParams,us);return ji(n),new gn(e._repo,e._path,n,!0)}}function Rne(){return new Ine}class One extends Zn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){$d(e,"orderByPriority");const n=Cd(e._queryParams,ct);return ji(n),new gn(e._repo,e._path,n,!0)}}function Pne(){return new One}class Nne extends Zn{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){$d(e,"orderByValue");const n=Cd(e._queryParams,tm);return ji(n),new gn(e._repo,e._path,n,!0)}}function Lne(){return new Nne}class Fne extends Zn{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(ms("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _C(this._value,this._key)._apply(new yC(this._value,this._key)._apply(e))}}function $ne(t,e){return $l("equalTo","key",e,!0),new Fne(t,e)}function Bn(t,...e){let n=xn(t);for(const s of e)n=s._apply(n);return n}mte($n);wte($n);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bne="FIREBASE_DATABASE_EMULATOR_HOST",lp={};let Yne=!1;function Une(t,e,n,s){t.repoInfo_=new b1(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),s&&(t.authTokenProvider_=s)}function bC(t,e,n,s,i){let o=s||t.options.databaseURL;o===void 0&&(t.options.projectId||gs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$t("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let r=op(o,i),a=r.repoInfo,l,c;typeof process<"u"&&yv&&(c=yv[Bne]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,r=op(o,i),a=r.repoInfo):l=!r.repoInfo.secure;const u=i&&l?new or(or.OWNER):new DZ(t.name,t.options,e);oC("Invalid Firebase Database URL",r),Te(r.path)||gs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Wne(a,t,u,new TZ(t.name,n));return new Hne(d,t)}function Vne(t,e){const n=lp[e];(!n||n[t.key]!==t)&&gs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),uC(t),delete n[t.key]}function Wne(t,e,n,s){let i=lp[e.name];i||(i={},lp[e.name]=i);let o=i[t.toURLString()];return o&&gs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Kte(t,Yne,n,s),i[t.toURLString()]=o,o}let Hne=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qte(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $n(this._repo,je())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Vne(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gs("Cannot call "+e+" on a deleted database.")}};function vC(){_r.IS_TRANSPORT_INITIALIZED&&Jt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function jne(){vC(),_i.forceDisallow()}function zne(){vC(),Mn.forceDisallow(),_i.forceAllow()}function Gne(t,e,n,s={}){t=xn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&gs("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)s.mockUserToken&&gs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new or(or.OWNER);else if(s.mockUserToken){const r=typeof s.mockUserToken=="string"?s.mockUserToken:FX(s.mockUserToken,t.app.options.projectId);o=new or(r)}Une(i,e,n,o)}function Kne(t){t=xn(t),t._checkNotDeleted("goOffline"),uC(t._repo)}function qne(t){t=xn(t),t._checkNotDeleted("goOnline"),ine(t._repo)}function Qne(t,e){a1(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xne(t){s1(Wg),mr(new Gs("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return bC(s,i,o,n)},"PUBLIC").setMultipleInstances(!0)),xi(bv,vv,t),xi(bv,vv,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne={".sv":"timestamp"};function Zne(){return Jne}function ese(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tse=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function nse(t,e,n){var s;if(t=xn(t),In("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(s=n==null?void 0:n.applyLocally)!==null&&s!==void 0?s:!0,o=new an,r=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Yd(u,new $n(t._repo,t._path),ct),o.resolve(new tse(c,d)))},a=ap(t,()=>{});return one(t._repo,t._path,e,r,a,i),o.promise}Vs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Vs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Xne();const sse="@firebase/database-compat",ise="1.0.3";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ose=new wd("@firebase/database-compat"),wC=function(t){const e="FIREBASE WARNING: "+t;ose.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rse=function(t,e,n,s){if(!(s&&n===void 0)&&typeof n!="boolean")throw new Error(un(t,e)+"must be a boolean.")},ase=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(un(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e){this._delegate=e}cancel(e){_e("OnDisconnect.cancel",0,1,arguments.length),Lt("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),s=>e(s)),n}remove(e){_e("OnDisconnect.remove",0,1,arguments.length),Lt("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),s=>e(s)),n}set(e,n){_e("OnDisconnect.set",1,2,arguments.length),Lt("OnDisconnect.set","onComplete",n,!0);const s=this._delegate.set(e);return n&&s.then(()=>n(null),i=>n(i)),s}setWithPriority(e,n,s){_e("OnDisconnect.setWithPriority",2,3,arguments.length),Lt("OnDisconnect.setWithPriority","onComplete",s,!0);const i=this._delegate.setWithPriority(e,n);return s&&i.then(()=>s(null),o=>s(o)),i}update(e,n){if(_e("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,wC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lt("OnDisconnect.update","onComplete",n,!0);const s=this._delegate.update(e);return n&&s.then(()=>n(null),i=>n(i)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return _e("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this._database=e,this._delegate=n}val(){return _e("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return _e("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return _e("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return _e("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return _e("DataSnapshot.child",0,1,arguments.length),e=String(e),pl("DataSnapshot.child","path",e,!1),new Ei(this._database,this._delegate.child(e))}hasChild(e){return _e("DataSnapshot.hasChild",1,1,arguments.length),pl("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return _e("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return _e("DataSnapshot.forEach",1,1,arguments.length),Lt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Ei(this._database,n)))}hasChildren(){return _e("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return _e("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return _e("DataSnapshot.ref",0,0,arguments.length),new bn(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ht{constructor(e,n){this.database=e,this._delegate=n}on(e,n,s,i){var o;_e("Query.on",2,4,arguments.length),Lt("Query.on","callback",n,!1);const r=Ht.getCancelAndContextArgs_("Query.on",s,i),a=(c,u)=>{n.call(r.context,new Ei(this.database,c),u)};a.userCallback=n,a.context=r.context;const l=(o=r.cancel)===null||o===void 0?void 0:o.bind(r.context);switch(e){case"value":return ap(this._delegate,a,l),n;case"child_added":return Zv(this._delegate,a,l),n;case"child_removed":return n0(this._delegate,a,l),n;case"child_changed":return e0(this._delegate,a,l),n;case"child_moved":return t0(this._delegate,a,l),n;default:throw new Error(un("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,s){if(_e("Query.off",0,3,arguments.length),ase("Query.off",e,!0),Lt("Query.off","callback",n,!0),lv("Query.off","context",s,!0),n){const i=()=>{};i.userCallback=n,i.context=s,s0(this._delegate,e,i)}else s0(this._delegate,e)}get(){return yne(this._delegate).then(e=>new Ei(this.database,e))}once(e,n,s,i){_e("Query.once",1,4,arguments.length),Lt("Query.once","callback",n,!0);const o=Ht.getCancelAndContextArgs_("Query.once",s,i),r=new an,a=(c,u)=>{const d=new Ei(this.database,c);n&&n.call(o.context,d,u),r.resolve(d)};a.userCallback=n,a.context=o.context;const l=c=>{o.cancel&&o.cancel.call(o.context,c),r.reject(c)};switch(e){case"value":ap(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Zv(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":n0(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":e0(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":t0(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(un("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return r.promise}limitToFirst(e){return _e("Query.limitToFirst",1,1,arguments.length),new Ht(this.database,Bn(this._delegate,kne(e)))}limitToLast(e){return _e("Query.limitToLast",1,1,arguments.length),new Ht(this.database,Bn(this._delegate,Mne(e)))}orderByChild(e){return _e("Query.orderByChild",1,1,arguments.length),new Ht(this.database,Bn(this._delegate,Dne(e)))}orderByKey(){return _e("Query.orderByKey",0,0,arguments.length),new Ht(this.database,Bn(this._delegate,Rne()))}orderByPriority(){return _e("Query.orderByPriority",0,0,arguments.length),new Ht(this.database,Bn(this._delegate,Pne()))}orderByValue(){return _e("Query.orderByValue",0,0,arguments.length),new Ht(this.database,Bn(this._delegate,Lne()))}startAt(e=null,n){return _e("Query.startAt",0,2,arguments.length),new Ht(this.database,Bn(this._delegate,Ane(e,n)))}startAfter(e=null,n){return _e("Query.startAfter",0,2,arguments.length),new Ht(this.database,Bn(this._delegate,xne(e,n)))}endAt(e=null,n){return _e("Query.endAt",0,2,arguments.length),new Ht(this.database,Bn(this._delegate,bne(e,n)))}endBefore(e=null,n){return _e("Query.endBefore",0,2,arguments.length),new Ht(this.database,Bn(this._delegate,wne(e,n)))}equalTo(e,n){return _e("Query.equalTo",1,2,arguments.length),new Ht(this.database,Bn(this._delegate,$ne(e,n)))}toString(){return _e("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return _e("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(_e("Query.isEqual",1,1,arguments.length),!(e instanceof Ht)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,s){const i={cancel:void 0,context:void 0};if(n&&s)i.cancel=n,Lt(e,"cancel",i.cancel,!0),i.context=s,lv(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(un(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new bn(this.database,new $n(this._delegate._repo,this._delegate._path))}}class bn extends Ht{constructor(e,n){super(e,new gn(n._repo,n._path,new xd,!1)),this.database=e,this._delegate=n}getKey(){return _e("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return _e("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new bn(this.database,ko(this._delegate,e))}getParent(){_e("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new bn(this.database,e):null}getRoot(){return _e("Reference.root",0,0,arguments.length),new bn(this.database,this._delegate.root)}set(e,n){_e("Reference.set",1,2,arguments.length),Lt("Reference.set","onComplete",n,!0);const s=km(this._delegate,e);return n&&s.then(()=>n(null),i=>n(i)),s}update(e,n){if(_e("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,wC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}In("Reference.update",this._delegate._path),Lt("Reference.update","onComplete",n,!0);const s=_ne(this._delegate,e);return n&&s.then(()=>n(null),i=>n(i)),s}setWithPriority(e,n,s){_e("Reference.setWithPriority",2,3,arguments.length),Lt("Reference.setWithPriority","onComplete",s,!0);const i=mne(this._delegate,e,n);return s&&i.then(()=>s(null),o=>s(o)),i}remove(e){_e("Reference.remove",0,1,arguments.length),Lt("Reference.remove","onComplete",e,!0);const n=pne(this._delegate);return e&&n.then(()=>e(null),s=>e(s)),n}transaction(e,n,s){_e("Reference.transaction",1,3,arguments.length),Lt("Reference.transaction","transactionUpdate",e,!1),Lt("Reference.transaction","onComplete",n,!0),rse("Reference.transaction","applyLocally",s,!0);const i=nse(this._delegate,e,{applyLocally:s}).then(o=>new cse(o.committed,new Ei(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){_e("Reference.setPriority",1,2,arguments.length),Lt("Reference.setPriority","onComplete",n,!0);const s=gne(this._delegate,e);return n&&s.then(()=>n(null),i=>n(i)),s}push(e,n){_e("Reference.push",0,2,arguments.length),Lt("Reference.push","onComplete",n,!0);const s=fne(this._delegate,e),i=s.then(r=>new bn(this.database,r));n&&i.then(()=>n(null),r=>n(r));const o=new bn(this.database,s);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return In("Reference.onDisconnect",this._delegate._path),new lse(new hne(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:jne,forceLongPolling:zne}}useEmulator(e,n,s={}){Gne(this._delegate,e,n,s)}ref(e){if(_e("database.ref",0,1,arguments.length),e instanceof bn){const n=Jv(this._delegate,e.toString());return new bn(this,n)}else{const n=mC(this._delegate,e);return new bn(this,n)}}refFromURL(e){_e("database.refFromURL",1,1,arguments.length);const s=Jv(this._delegate,e);return new bn(this,s)}goOffline(){return _e("database.goOffline",0,0,arguments.length),Kne(this._delegate)}goOnline(){return _e("database.goOnline",0,0,arguments.length),qne(this._delegate)}}gl.ServerValue={TIMESTAMP:Zne(),increment:t=>ese(t)};function use({app:t,url:e,version:n,customAuthImpl:s,customAppCheckImpl:i,namespace:o,nodeAdmin:r=!1}){s1(n);const a=new Hx("database-standalone"),l=new Bf("auth-internal",a);l.setComponent(new Gs("auth-internal",()=>s,"PRIVATE"));let c;return i&&(c=new Bf("app-check-internal",a),c.setComponent(new Gs("app-check-internal",()=>i,"PRIVATE"))),{instance:new gl(bC(t,l,c,e,r),t),namespace:o}}var dse=Object.freeze({__proto__:null,initStandalone:use});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hse=gl.ServerValue;function fse(t){t.INTERNAL.registerComponent(new Gs("database-compat",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new gl(i,s)},"PUBLIC").setServiceProps({Reference:bn,Query:Ht,Database:gl,DataSnapshot:Ei,enableLogging:Qne,INTERNAL:dse,ServerValue:hse}).setMultipleInstances(!0)),t.registerVersion(sse,ise)}fse(jg);const pse=jg.initializeApp({databaseURL:"https://c210-67728-default-rtdb.firebaseio.com"}),gse=pse.database(),mse=gse.ref("subscriptions"),_se="/assets/push-image-DIdQuE8N.jpg",yse={data(){return{bMsg:!1}},methods:{fnPushSubscribe(){let t=this;Notification.requestPermission(function(e){e!=="granted"?console.log("푸시알림 기능이 허용되지 않았습니다!"):t.fnConfigurePushSub()})},fnConfigurePushSub(){let t=this;if(!("serviceWorker"in navigator)){console.log("서비스 워커가 없습니다!");return}navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){e===null?(t.fnNewSubscription(),t.fnDisplayNotification()):console.log("이미 구독되어 있습니다!")})},fnNewSubscription(){let t=this;navigator.serviceWorker.ready.then(function(e){const s=t.urlBase64ToUint8Array("BEUb-27a0ug58aSI7yEXKqicaaA7qLI_Pzro-wOWOFY2lD30Z6J1NaZTaSbnPjY2r_P-9Z9YaXyDo9or4IFQjrQ");return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s}).then(function(i){const o=JSON.parse(JSON.stringify(i));var r={endpoint:o.endpoint,keys:{p256dh:o.keys.p256dh,auth:o.keys.auth}};return mse.push(r)})})},fnUnSubscription(){let t=this;navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(e){t.bMsg=!0,e.unsubscribe()}).catch(e=>console.log(e))},fnDisplayNotification(){const t="C210",e={body:"프론트 푸시 알람 구현",icon:"/img/push-noti.png",badge:"/img/push-badge-icon.png",image:"/img/push-image.jpg",actions:[{action:"like",title:"싸피 ㄱ?",icon:"/img/push-coffee.png"}],vibrate:[500,100,500]};navigator.serviceWorker.ready.then(function(n){n.showNotification(t,e)})},urlBase64ToUint8Array(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),s=window.atob(n);return Uint8Array.from([...s].map(i=>i.charCodeAt(0)))},goBack(){window.history.back()}}},bse=f("img",{src:Br,alt:""},null,-1),vse=[bse],wse={class:"card"},Ase=f("img",{src:_se,alt:"Push Image",class:"card-img-top"},null,-1),Sse={class:"card-body"},xse=f("h1",{class:"card-title"},"C210",-1),Cse=f("p",{class:"card-text"},"프론트 푸시 알람 구현. [알림허용] 단추를 클릭하시면 알림 정보를 받으실 수 있습니다.",-1),kse={key:0,class:"alert alert-info"};function Ese(t,e,n,s,i,o){return T(),I("div",null,[f("button",{class:"settings-back-button btn",onClick:e[0]||(e[0]=(...r)=>o.goBack&&o.goBack(...r))},vse),f("div",wse,[Ase,f("div",Sse,[xse,Cse,f("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=(...r)=>o.fnPushSubscribe&&o.fnPushSubscribe(...r))},"알림 허용"),f("button",{class:"btn btn-secondary",onClick:e[2]||(e[2]=(...r)=>o.fnUnSubscription&&o.fnUnSubscription(...r))},"알림 해제")]),i.bMsg?(T(),I("div",kse,[lt(" 푸시알림이 해제되었습니다. "),f("button",{onClick:e[3]||(e[3]=r=>i.bMsg=!1)},"닫기")])):Je("",!0)])])}const Mse=Ee(yse,[["render",Ese]]),Tse={methods:{fnSendPush(){const t=this.$refs.title.value,e=this.$refs.message.value,n=JSON.stringify({pTitle:t,pMsg:e});console.log(n),fetch("https://us-central1-c210-67728.cloudfunctions.net/storePushData",{method:"POST",headers:{"Content-type":"application/json"},body:n}).then(s=>{if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}).then(s=>{console.log(s.message)}).catch(s=>console.log("오류!"+s.message))}}},Dse=t=>(Ne("data-v-d2b5a0c4"),t=t(),Le(),t),Ise={class:"container"},Rse={class:"row justify-content-center"},Ose=Dse(()=>f("div",{class:"col-12 text-center"},[f("h1",{class:"display-1"},"메시지 보내기")],-1)),Pse={class:"col-10 my-3"},Nse={class:"card bg-dark text-white"},Lse={class:"card-body"},Fse={id:"messageForm"},$se={class:"mb-3"},Bse={type:"text",class:"form-control",ref:"title",placeholder:"제목을 입력하세요"},Yse={textarea:"",class:"form-control",ref:"message",rows:"3",placeholder:"내용을 입력하세요"};function Use(t,e,n,s,i,o){return T(),I("div",Ise,[f("div",Rse,[Ose,f("div",Pse,[f("div",Nse,[f("div",Lse,[f("form",Fse,[f("div",$se,[f("input",Bse,null,512),f("textarea",Yse,null,512)]),f("button",{type:"button",class:"btn btn-block btn-large btn-orange",onClick:e[0]||(e[0]=(...r)=>o.fnSendPush&&o.fnSendPush(...r))},"발 송")])])])])])])}const Vse=Ee(Tse,[["render",Use],["__scopeId","data-v-d2b5a0c4"]]),Em=t=>(Ne("data-v-2673e219"),t=t(),Le(),t),Wse={class:"login-container"},Hse={class:"loginbox"},jse={class:"form-group"},zse=Em(()=>f("label",{for:"email"},"이메일: ",-1)),Gse={class:"form-group"},Kse=Em(()=>f("label",{for:"password"},"비밀번호: ",-1)),qse=Em(()=>f("input",{type:"submit",value:"로그인",class:"login-button"},null,-1)),Qse={__name:"LoginView",setup(t){const e=Wi(),{userLogin:n,isLogin:s}=e;oM(e),dr();const i=Rr(),o=ie(null),r=ie(null);Nn(()=>{});const a=async()=>{const l=ie({email:o.value,password:r.value});await n(l.value),localStorage.getItem("accessToken"),s&&console.log("로그인 성공"),i.push("/")};return(l,c)=>(T(),I("div",null,[f("div",Wse,[f("div",Hse,[f("form",{onSubmit:hn(a,["prevent"]),class:"login-form"},[f("div",jse,[zse,le(f("input",{type:"text",name:"email",id:"email","onUpdate:modelValue":c[0]||(c[0]=u=>o.value=u)},null,512),[[Ce,o.value,void 0,{trim:!0}]])]),f("div",Gse,[Kse,le(f("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":c[1]||(c[1]=u=>r.value=u)},null,512),[[Ce,r.value,void 0,{trim:!0}]])]),qse],32)])])]))}},i0=Ee(Qse,[["__scopeId","data-v-2673e219"]]),$o=t=>(Ne("data-v-859e1c74"),t=t(),Le(),t),Xse={class:"signup-container"},Jse={class:"signup-box"},Zse={class:"form-group"},eie=$o(()=>f("div",null,[f("label",{for:"name"},"이름 :")],-1)),tie={class:"form-group"},nie=$o(()=>f("div",null,[f("label",{for:"email"},"이메일 :")],-1)),sie={class:"form-group"},iie=$o(()=>f("div",null,[f("label",{for:"password1"},"비밀번호 :")],-1)),oie={class:"form-group"},rie=$o(()=>f("div",null,[f("label",{for:"nickname"},"닉네임 :")],-1)),aie={class:"form-group"},lie=$o(()=>f("div",null,[f("label",{for:"gender"},"성별 :")],-1)),cie={class:"form-group"},uie=$o(()=>f("div",null,[f("label",{for:"phone"},"전화번호 :")],-1)),die={class:"form-group"},hie=$o(()=>f("div",null,[f("label",{for:"birthday"},"생일 :")],-1)),fie={__name:"SignupView",setup(t){const e=Rr();Wi();const n=ie(""),s=ie(""),i=ie(""),o=ie(""),r=ie(""),a=ie(""),l=ie(""),c=ie({name:"",email:"",password:"",nickname:"",sex:"",phoneNumber:"",birthDate:""}),u=()=>{c.value={name:n.value,email:s.value,password:i.value,nickname:o.value,sex:r.value,phoneNumber:a.value,birthDate:l.value}};function d(){const h=r.value==="남"?0:1;console.log(h),c.value={name:n.value,email:s.value,password:i.value,nickname:o.value,sex:h,phoneNumber:a.value,birthDate:l.value},console.log("회원 등록하자 ㅎㅎ",c.value),KY(c.value,p=>{let g="회원등록 중 문제 발생했습니다.";p.status==200&&(g="회원가입이 완료되었습니다."),alert(g),e.push({name:"main"})},p=>console.error(p))}return(h,p)=>(T(),I("div",null,[f("div",Xse,[f("div",Jse,[f("form",{onSubmit:p[7]||(p[7]=hn((...g)=>h.signUp&&h.signUp(...g),["prevent"])),class:"signup-form"},[f("div",Zse,[eie,le(f("input",{type:"text",id:"name","onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),onInput:u},null,544),[[Ce,n.value,void 0,{trim:!0}]])]),f("div",tie,[nie,le(f("input",{type:"email",id:"email","onUpdate:modelValue":p[1]||(p[1]=g=>s.value=g),onInput:u},null,544),[[Ce,s.value,void 0,{trim:!0}]])]),f("div",sie,[iie,le(f("input",{type:"password",id:"password1","onUpdate:modelValue":p[2]||(p[2]=g=>i.value=g),onInput:u},null,544),[[Ce,i.value,void 0,{trim:!0}]])]),f("div",oie,[rie,le(f("input",{type:"text",id:"nickname","onUpdate:modelValue":p[3]||(p[3]=g=>o.value=g),onInput:u},null,544),[[Ce,o.value,void 0,{trim:!0}]])]),f("div",aie,[lie,le(f("input",{type:"text",id:"gender","onUpdate:modelValue":p[4]||(p[4]=g=>r.value=g),onInput:u},null,544),[[Ce,r.value,void 0,{trim:!0}]])]),f("div",cie,[uie,le(f("input",{type:"tel",id:"phone","onUpdate:modelValue":p[5]||(p[5]=g=>a.value=g),onInput:u},null,544),[[Ce,a.value,void 0,{trim:!0}]])]),f("div",die,[hie,le(f("input",{type:"date",id:"birthday","onUpdate:modelValue":p[6]||(p[6]=g=>l.value=g),onInput:u},null,544),[[Ce,l.value,void 0,{trim:!0}]])]),f("input",{type:"submit",value:"가입하기",class:"signup-button",onClick:d})],32)])])]))}},o0=Ee(fie,[["__scopeId","data-v-859e1c74"]]),Vt=Vi(),ti="/records";async function pie(t,e,n){console.log("getUser 실행"),Vt.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken");try{const s=await Vt.get(`${ti}/${t}/prompt`);return console.log("success: ",e),console.log("getUser response: ",s.data),s.data}catch(s){console.error(s)}}async function gie(){Vt.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),console.log("fetchVoiceList 실행");try{const t=await Vt.get(ti);return console.log("음성 목록 불러오기 성공"),t.data}catch(t){return console.error("Error fetching voice list:",t),[]}}async function mie(t,e,n){Vt.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await Vt.get(`${ti}/${t}`).then(e,console.log(`음성 ${t}번 세부 내용 불러오기 성공 `)).catch(n)}async function _ie(t,e,n){Vt.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await Vt.post(ti,t).then(s=>{console.log("새로운 음성 생성 성공",s),e(s)}).catch(s=>{console.error("새로운 음성 생성 실패",s),n(s)})}async function yie(t,e,n,s,i){Vt.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await Vt.put(`${ti}/${t}`,{name:e,memo:n}).then(s).catch(i).then(o=>{console.log("response.status for modifyVoice: ",o.status),console.log("modified name",e),console.log("modified memo",n),console.log("음성 내용 수정 성공"),s(o)}).catch(o=>{console.error("오류 발생: ",o),i(o)})}async function bie(t,e,n){Vt.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await Vt.delete(`${ti}/${t}`).then(s=>{console.log("음성 삭제 성공"),e(s)}).catch(s=>{console.error("오류 발생: ",s),n(s)})}async function vie(t,e,n){Vt.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),await Vt.patch(`${ti}/use?recordId=${t}`).then(s=>{s.status===200&&(console.log(s.status),console.log(`${t}번 선택 완료`),e(s))}).catch(s=>{console.error(`오류 발생: ${s}`),n(s)})}async function wie(t,e){if(!e){console.error("No recording available to save");return}const n=new FormData;n.append("audio",e,`${t}.wav`);try{Vt.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken");const s=await Vt.post(`${ti}/${t}/save/audio`,n);return console.log("Recording saved successfully:",s.data),console.log("response.status: ",s.status),s.data}catch(s){throw console.error("Error saving record:",s),s}}async function Aie(t,e,n,s,i){console.log("saveAudiorecordId",t),console.log("saveAudioprompt",e),console.log("saveAudiotime",n),console.log("saveAudiosuccess",s),console.log("saveAudiofail",i),console.log({prompt:e,time:n});try{Vt.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken");const r=new URLSearchParams({promptNum:e,time:n}).toString(),a=await Vt.post(`${ti}/${t}/save/member?${r}`);console.log("Audio save record response:",a.data),s&&s(a),console.log("recordId",t),console.log("prompt",e),console.log("time",n),console.log("success",s),console.log("fail",i)}catch(r){console.error("Error saving audio record:",r),i&&i(r)}}const Sie={props:{item:{type:Object,required:!0}},methods:{onSuccess(t){console.log(t.data)},onFail(t){console.error(t)},closeModal(){this.$emit("close-modal")},async fnSave(){try{await yie(this.item.id,this.item.name,this.item.memo,this.onSuccess,this.onFail),this.$emit("close-modal")}catch(t){console.error("Error updating voice:",t)}},recordCont(){this.$router.push({name:"Trainer",params:{recordId:this.item.id}})}}},AC=t=>(Ne("data-v-d74f6efa"),t=t(),Le(),t),xie={class:"modal-content"},Cie={class:"form-group"},kie=AC(()=>f("label",{for:"recordName"},"이름: ",-1)),Eie={class:"form-group"},Mie=AC(()=>f("label",{for:"recordMemo"},"메모: ",-1));function Tie(t,e,n,s,i,o){return T(),I("div",xie,[f("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...r)=>o.closeModal&&o.closeModal(...r))}),f("div",Cie,[kie,le(f("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>n.item.name=r),type:"text",id:"todoTitle",class:"form-control",required:""},null,512),[[Ce,n.item.name]])]),f("div",Eie,[Mie,le(f("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>n.item.memo=r),type:"text",id:"todoTitle",class:"form-control",required:""},null,512),[[Ce,n.item.memo]])]),f("button",{class:"",onClick:e[3]||(e[3]=(...r)=>o.fnSave&&o.fnSave(...r))},"저장"),f("button",{class:"",onClick:e[4]||(e[4]=(...r)=>o.recordCont&&o.recordCont(...r))},"이어 녹음하기")])}const Die=Ee(Sie,[["render",Tie],["__scopeId","data-v-d74f6efa"]]),Iie={data(){return{name:"",memo:""}},computed:{},methods:{onSuccess(t){console.log(t.data)},onFail(t){console.error(t)},closeModal(){this.$emit("close-modal")},fnAdd(){if(this.name===""||this.memo===""){alert("이름과 메모를 입력하세요");return}const t={name:this.name,memo:this.memo};_ie(t,e=>{console.log("Voice created successfully:",e.data),console.log("response.data :",e.data);const n=e.data;this.$router.push({name:"Trainer",params:{recordId:n}}),this.$emit("add-voice",t)},e=>{console.error("Error creating new voice:",e)})}}},SC=t=>(Ne("data-v-972fee46"),t=t(),Le(),t),Rie={class:"modal-content",style:{"border-radius":"10px"}},Oie={class:"modal-title"},Pie={class:"form-group"},Nie=SC(()=>f("label",{for:"name"},"이름:",-1)),Lie={class:"form-group"},Fie=SC(()=>f("label",{for:"memo"},"메모:",-1));function $ie(t,e,n,s,i,o){return T(),I("div",Rie,[f("div",Oie,[f("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:e[0]||(e[0]=(...r)=>o.closeModal&&o.closeModal(...r))})]),f("form",null,[f("div",Pie,[Nie,le(f("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>i.name=r),type:"text",id:"name",class:"form-control",required:""},null,512),[[Ce,i.name]])]),f("div",Lie,[Fie,le(f("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>i.memo=r),type:"text",id:"memo",class:"form-control",required:""},null,512),[[Ce,i.memo]])]),f("button",{type:"submit",class:"btn to-add-record",onClick:e[3]||(e[3]=hn((...r)=>o.fnAdd&&o.fnAdd(...r),["prevent"]))},"녹음 화면으로 가기")])])}const Bie=Ee(Iie,[["render",$ie],["__scopeId","data-v-972fee46"]]),r0=Vi();async function a0(t){r0.defaults.headers.Authorization="Bearer "+localStorage.getItem("accessToken"),console.log("startLearning 실행 중"),console.log("recordId",t),await r0.post(`/learning/${t}`).then(e=>{console.log(e)}).catch(e=>{console.error(e)})}const Yie={name:"Record",data(){return{basicVoices:[{id:0,name:"김영희의 음성"},{id:1,name:"김철수의 음성"},{id:2,name:"이잼민의 음성"}],recordedVoices:[],is_modal_valid:!1,activeModal:null,currentItem:null}},components:{RecordDetail:Die,AddRecord:Bie},methods:{onSuccess(t){console.log(t.data)},onFail(t){console.error(t)},async toggleVoice(t){try{await vie(t.id,this.onSuccess,this.onFail)}catch(e){console.error("Error selecting voice:",e)}},async openModal(t="RecordDetail",e=null){if(t==="RecordDetail"&&e)try{const n=await mie(e.id);this.currentItem=n}catch(n){console.error("Error fetching record detail:",n);return}else t==="AddRecord"&&console.log("AddRecord is going to be opened...");this.is_modal_valid=!0,this.activeModal=t,this.currentItem=e},async closeModal(){this.is_modal_valid=!1,this.activeModal=null,this.currentItem=null},async fetchRecords(){console.log("fetchRecords 실행");try{const t=await gie();console.log("Fetched Voices:",t),this.recordedVoices=t.map(e=>({...e,isActive:e.used}))}catch(t){console.error("Error fetching records:",t),this.recordedVoices=[]}},async fnDelete(t){if(window.confirm("정말 삭제하시겠습니까?"))try{await bie(t,this.onSuccess,this.onFail),this.recordedVoices=this.recordedVoices.filter(n=>n.id!==t)}catch(n){console.error("Error deleting voice",n)}}},mounted(){this.fetchRecords()}},Mm=t=>(Ne("data-v-03e024b3"),t=t(),Le(),t),Uie={class:"app mt-5"},Vie={key:0,class:"black-bg"},Wie={class:"word-voice-edit"},Hie=Mm(()=>f("p",{class:"voice-title"},"기본 성우",-1)),jie={class:"voice-box"},zie=["onClick"],Gie=["onClick"],Kie=Mm(()=>f("br",null,null,-1)),qie=Mm(()=>f("p",{class:"voice-title"},"학습 중인 음성",-1)),Qie={class:"voice-box"},Xie=["onClick"],Jie=["onClick"],Zie=["onClick"];function eoe(t,e,n,s,i,o){return T(),I("div",Uie,[i.is_modal_valid?(T(),I("div",Vie,[(T(),Ws(xr(i.activeModal),{item:i.currentItem,onCloseModal:o.closeModal},null,40,["item","onCloseModal"]))])):Je("",!0),f("p",Wie,[lt("음성 "),f("button",{class:"add-button",onClick:e[0]||(e[0]=r=>o.openModal("AddRecord")),style:{"font-size":"40px"}},"+")]),Hie,f("div",jie,[f("dl",null,[(T(!0),I(ke,null,Ze(i.basicVoices,r=>(T(),I("div",{key:r.id,class:"voice"},[f("dt",{onClick:e[1]||(e[1]=a=>o.openModal("RecordDetail",t.recordedVoice))},oe(r.name),1),f("dd",null,[f("button",{class:Ii(["toggle-button",{active:r.isActive}]),onClick:a=>o.toggleVoice(r)},oe(r.isActive?"사용 중":"적용하기"),11,zie),f("button",{class:"delete-button",onClick:a=>o.fnDelete(r.id)},"삭제",8,Gie)])]))),128))])]),Kie,qie,f("div",Qie,[f("dl",null,[(T(!0),I(ke,null,Ze(i.recordedVoices,r=>(T(),I("div",{key:r.id,class:"voice"},[f("dt",{onClick:a=>o.openModal("RecordDetail",r)},oe(r.name),9,Xie),f("dd",null,[f("button",{class:Ii(["toggle-button",{active:r.isActive}]),onClick:a=>o.toggleVoice(r)},oe(r.isActive?"사용 중":"적용하기"),11,Jie),f("button",{class:"delete-button",onClick:a=>o.fnDelete(r.id)},"삭제",8,Zie)])]))),128))])])])}const toe=Ee(Yie,[["render",eoe],["__scopeId","data-v-03e024b3"]]);var noe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function soe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xC={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,s){t.exports=s()})(noe,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,r={},a=0,l={parse:function(b,v){var M=(v=v||{}).dynamicTyping||!1;if(R(M)&&(v.dynamicTypingFunction=M,M={}),v.dynamicTyping=M,v.transform=!!R(v.transform)&&v.transform,v.worker&&l.WORKERS_SUPPORTED){var F=function(){if(!l.WORKERS_SUPPORTED)return!1;var ne=(ce=s.URL||s.webkitURL||null,te=n.toString(),l.BLOB_URL||(l.BLOB_URL=ce.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",te,")();"],{type:"text/javascript"})))),de=new s.Worker(ne),ce,te;return de.onmessage=A,de.id=a++,r[de.id]=de}();return F.userStep=v.step,F.userChunk=v.chunk,F.userComplete=v.complete,F.userError=v.error,v.step=R(v.step),v.chunk=R(v.chunk),v.complete=R(v.complete),v.error=R(v.error),delete v.worker,void F.postMessage({input:b,config:v,workerId:F.id})}var U=null;return l.NODE_STREAM_INPUT,typeof b=="string"?(b=function(ne){return ne.charCodeAt(0)===65279?ne.slice(1):ne}(b),U=v.download?new d(v):new p(v)):b.readable===!0&&R(b.read)&&R(b.on)?U=new g(v):(s.File&&b instanceof File||b instanceof Object)&&(U=new h(v)),U.stream(b)},unparse:function(b,v){var M=!1,F=!0,U=",",ne=`\r
`,de='"',ce=de+de,te=!1,Y=null,ae=!1;(function(){if(typeof v=="object"){if(typeof v.delimiter!="string"||l.BAD_DELIMITERS.filter(function(Z){return v.delimiter.indexOf(Z)!==-1}).length||(U=v.delimiter),(typeof v.quotes=="boolean"||typeof v.quotes=="function"||Array.isArray(v.quotes))&&(M=v.quotes),typeof v.skipEmptyLines!="boolean"&&typeof v.skipEmptyLines!="string"||(te=v.skipEmptyLines),typeof v.newline=="string"&&(ne=v.newline),typeof v.quoteChar=="string"&&(de=v.quoteChar),typeof v.header=="boolean"&&(F=v.header),Array.isArray(v.columns)){if(v.columns.length===0)throw new Error("Option columns is empty");Y=v.columns}v.escapeChar!==void 0&&(ce=v.escapeChar+de),(typeof v.escapeFormulae=="boolean"||v.escapeFormulae instanceof RegExp)&&(ae=v.escapeFormulae instanceof RegExp?v.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var se=new RegExp(_(de),"g");if(typeof b=="string"&&(b=JSON.parse(b)),Array.isArray(b)){if(!b.length||Array.isArray(b[0]))return tt(null,b,te);if(typeof b[0]=="object")return tt(Y||Object.keys(b[0]),b,te)}else if(typeof b=="object")return typeof b.data=="string"&&(b.data=JSON.parse(b.data)),Array.isArray(b.data)&&(b.fields||(b.fields=b.meta&&b.meta.fields||Y),b.fields||(b.fields=Array.isArray(b.data[0])?b.fields:typeof b.data[0]=="object"?Object.keys(b.data[0]):[]),Array.isArray(b.data[0])||typeof b.data[0]=="object"||(b.data=[b.data])),tt(b.fields||[],b.data||[],te);throw new Error("Unable to serialize unrecognized input");function tt(Z,Ie,Ke){var Ye="";typeof Z=="string"&&(Z=JSON.parse(Z)),typeof Ie=="string"&&(Ie=JSON.parse(Ie));var Ae=Array.isArray(Z)&&0<Z.length,P=!Array.isArray(Ie[0]);if(Ae&&F){for(var Q=0;Q<Z.length;Q++)0<Q&&(Ye+=U),Ye+=He(Z[Q],Q);0<Ie.length&&(Ye+=ne)}for(var L=0;L<Ie.length;L++){var K=Ae?Z.length:Ie[L].length,fe=!1,ve=Ae?Object.keys(Ie[L]).length===0:Ie[L].length===0;if(Ke&&!Ae&&(fe=Ke==="greedy"?Ie[L].join("").trim()==="":Ie[L].length===1&&Ie[L][0].length===0),Ke==="greedy"&&Ae){for(var y=[],S=0;S<K;S++){var k=P?Z[S]:S;y.push(Ie[L][k])}fe=y.join("").trim()===""}if(!fe){for(var O=0;O<K;O++){0<O&&!ve&&(Ye+=U);var N=Ae&&P?Z[O]:O;Ye+=He(Ie[L][N],O)}L<Ie.length-1&&(!Ke||0<K&&!ve)&&(Ye+=ne)}}return Ye}function He(Z,Ie){if(Z==null)return"";if(Z.constructor===Date)return JSON.stringify(Z).slice(1,25);var Ke=!1;ae&&typeof Z=="string"&&ae.test(Z)&&(Z="'"+Z,Ke=!0);var Ye=Z.toString().replace(se,ce);return(Ke=Ke||M===!0||typeof M=="function"&&M(Z,Ie)||Array.isArray(M)&&M[Ie]||function(Ae,P){for(var Q=0;Q<P.length;Q++)if(-1<Ae.indexOf(P[Q]))return!0;return!1}(Ye,l.BAD_DELIMITERS)||-1<Ye.indexOf(U)||Ye.charAt(0)===" "||Ye.charAt(Ye.length-1)===" ")?de+Ye+de:Ye}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!s.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=w,l.ParserHandle=m,l.NetworkStreamer=d,l.FileStreamer=h,l.StringStreamer=p,l.ReadableStreamStreamer=g,s.jQuery){var c=s.jQuery;c.fn.parse=function(b){var v=b.config||{},M=[];return this.each(function(ne){if(!(c(this).prop("tagName").toUpperCase()==="INPUT"&&c(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var de=0;de<this.files.length;de++)M.push({file:this.files[de],inputElem:this,instanceConfig:c.extend({},v)})}),F(),this;function F(){if(M.length!==0){var ne,de,ce,te,Y=M[0];if(R(b.before)){var ae=b.before(Y.file,Y.inputElem);if(typeof ae=="object"){if(ae.action==="abort")return ne="AbortError",de=Y.file,ce=Y.inputElem,te=ae.reason,void(R(b.error)&&b.error({name:ne},de,ce,te));if(ae.action==="skip")return void U();typeof ae.config=="object"&&(Y.instanceConfig=c.extend(Y.instanceConfig,ae.config))}else if(ae==="skip")return void U()}var se=Y.instanceConfig.complete;Y.instanceConfig.complete=function(tt){R(se)&&se(tt,Y.file,Y.inputElem),U()},l.parse(Y.file,Y.instanceConfig)}else R(b.complete)&&b.complete()}function U(){M.splice(0,1),F()}}}function u(b){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(v){var M=E(v);M.chunkSize=parseInt(M.chunkSize),v.step||v.chunk||(M.chunkSize=null),this._handle=new m(M),(this._handle.streamer=this)._config=M}).call(this,b),this.parseChunk=function(v,M){if(this.isFirstChunk&&R(this._config.beforeFirstChunk)){var F=this._config.beforeFirstChunk(v);F!==void 0&&(v=F)}this.isFirstChunk=!1,this._halted=!1;var U=this._partialLine+v;this._partialLine="";var ne=this._handle.parse(U,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var de=ne.meta.cursor;this._finished||(this._partialLine=U.substring(de-this._baseIndex),this._baseIndex=de),ne&&ne.data&&(this._rowCount+=ne.data.length);var ce=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)s.postMessage({results:ne,workerId:l.WORKER_ID,finished:ce});else if(R(this._config.chunk)&&!M){if(this._config.chunk(ne,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);ne=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ne.data),this._completeResults.errors=this._completeResults.errors.concat(ne.errors),this._completeResults.meta=ne.meta),this._completed||!ce||!R(this._config.complete)||ne&&ne.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ce||ne&&ne.meta.paused||this._nextChunk(),ne}this._halted=!0},this._sendError=function(v){R(this._config.error)?this._config.error(v):o&&this._config.error&&s.postMessage({workerId:l.WORKER_ID,error:v,finished:!1})}}function d(b){var v;(b=b||{}).chunkSize||(b.chunkSize=l.RemoteChunkSize),u.call(this,b),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(v=new XMLHttpRequest,this._config.withCredentials&&(v.withCredentials=this._config.withCredentials),i||(v.onload=D(this._chunkLoaded,this),v.onerror=D(this._chunkError,this)),v.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var M=this._config.downloadRequestHeaders;for(var F in M)v.setRequestHeader(F,M[F])}if(this._config.chunkSize){var U=this._start+this._config.chunkSize-1;v.setRequestHeader("Range","bytes="+this._start+"-"+U)}try{v.send(this._config.downloadRequestBody)}catch(ne){this._chunkError(ne.message)}i&&v.status===0&&this._chunkError()}},this._chunkLoaded=function(){v.readyState===4&&(v.status<200||400<=v.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:v.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(M){var F=M.getResponseHeader("Content-Range");return F===null?-1:parseInt(F.substring(F.lastIndexOf("/")+1))}(v),this.parseChunk(v.responseText)))},this._chunkError=function(M){var F=v.statusText||M;this._sendError(new Error(F))}}function h(b){var v,M;(b=b||{}).chunkSize||(b.chunkSize=l.LocalChunkSize),u.call(this,b);var F=typeof FileReader<"u";this.stream=function(U){this._input=U,M=U.slice||U.webkitSlice||U.mozSlice,F?((v=new FileReader).onload=D(this._chunkLoaded,this),v.onerror=D(this._chunkError,this)):v=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var U=this._input;if(this._config.chunkSize){var ne=Math.min(this._start+this._config.chunkSize,this._input.size);U=M.call(U,this._start,ne)}var de=v.readAsText(U,this._config.encoding);F||this._chunkLoaded({target:{result:de}})},this._chunkLoaded=function(U){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(U.target.result)},this._chunkError=function(){this._sendError(v.error)}}function p(b){var v;u.call(this,b=b||{}),this.stream=function(M){return v=M,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var M,F=this._config.chunkSize;return F?(M=v.substring(0,F),v=v.substring(F)):(M=v,v=""),this._finished=!v,this.parseChunk(M)}}}function g(b){u.call(this,b=b||{});var v=[],M=!0,F=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(U){this._input=U,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){F&&v.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),v.length?this.parseChunk(v.shift()):M=!0},this._streamData=D(function(U){try{v.push(typeof U=="string"?U:U.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(v.shift()))}catch(ne){this._streamError(ne)}},this),this._streamError=D(function(U){this._streamCleanUp(),this._sendError(U)},this),this._streamEnd=D(function(){this._streamCleanUp(),F=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(b){var v,M,F,U=Math.pow(2,53),ne=-U,de=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ce=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,te=this,Y=0,ae=0,se=!1,tt=!1,He=[],Z={data:[],errors:[],meta:{}};if(R(b.step)){var Ie=b.step;b.step=function(L){if(Z=L,Ae())Ye();else{if(Ye(),Z.data.length===0)return;Y+=L.data.length,b.preview&&Y>b.preview?M.abort():(Z.data=Z.data[0],Ie(Z,te))}}}function Ke(L){return b.skipEmptyLines==="greedy"?L.join("").trim()==="":L.length===1&&L[0].length===0}function Ye(){return Z&&F&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),F=!1),b.skipEmptyLines&&(Z.data=Z.data.filter(function(L){return!Ke(L)})),Ae()&&function(){if(!Z)return;function L(fe,ve){R(b.transformHeader)&&(fe=b.transformHeader(fe,ve)),He.push(fe)}if(Array.isArray(Z.data[0])){for(var K=0;Ae()&&K<Z.data.length;K++)Z.data[K].forEach(L);Z.data.splice(0,1)}else Z.data.forEach(L)}(),function(){if(!Z||!b.header&&!b.dynamicTyping&&!b.transform)return Z;function L(fe,ve){var y,S=b.header?{}:[];for(y=0;y<fe.length;y++){var k=y,O=fe[y];b.header&&(k=y>=He.length?"__parsed_extra":He[y]),b.transform&&(O=b.transform(O,k)),O=P(k,O),k==="__parsed_extra"?(S[k]=S[k]||[],S[k].push(O)):S[k]=O}return b.header&&(y>He.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+He.length+" fields but parsed "+y,ae+ve):y<He.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+He.length+" fields but parsed "+y,ae+ve)),S}var K=1;return!Z.data.length||Array.isArray(Z.data[0])?(Z.data=Z.data.map(L),K=Z.data.length):Z.data=L(Z.data,0),b.header&&Z.meta&&(Z.meta.fields=He),ae+=K,Z}()}function Ae(){return b.header&&He.length===0}function P(L,K){return fe=L,b.dynamicTypingFunction&&b.dynamicTyping[fe]===void 0&&(b.dynamicTyping[fe]=b.dynamicTypingFunction(fe)),(b.dynamicTyping[fe]||b.dynamicTyping)===!0?K==="true"||K==="TRUE"||K!=="false"&&K!=="FALSE"&&(function(ve){if(de.test(ve)){var y=parseFloat(ve);if(ne<y&&y<U)return!0}return!1}(K)?parseFloat(K):ce.test(K)?new Date(K):K===""?null:K):K;var fe}function Q(L,K,fe,ve){var y={type:L,code:K,message:fe};ve!==void 0&&(y.row=ve),Z.errors.push(y)}this.parse=function(L,K,fe){var ve=b.quoteChar||'"';if(b.newline||(b.newline=function(k,O){k=k.substring(0,1048576);var N=new RegExp(_(O)+"([^]*?)"+_(O),"gm"),W=(k=k.replace(N,"")).split("\r"),X=k.split(`
`),H=1<X.length&&X[0].length<W[0].length;if(W.length===1||H)return`
`;for(var z=0,$=0;$<W.length;$++)W[$][0]===`
`&&z++;return z>=W.length/2?`\r
`:"\r"}(L,ve)),F=!1,b.delimiter)R(b.delimiter)&&(b.delimiter=b.delimiter(L),Z.meta.delimiter=b.delimiter);else{var y=function(k,O,N,W,X){var H,z,$,q;X=X||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var ue=0;ue<X.length;ue++){var J=X[ue],ge=0,ye=0,Re=0;$=void 0;for(var Ue=new w({comments:W,delimiter:J,newline:O,preview:10}).parse(k),nt=0;nt<Ue.data.length;nt++)if(N&&Ke(Ue.data[nt]))Re++;else{var Et=Ue.data[nt].length;ye+=Et,$!==void 0?0<Et&&(ge+=Math.abs(Et-$),$=Et):$=Et}0<Ue.data.length&&(ye/=Ue.data.length-Re),(z===void 0||ge<=z)&&(q===void 0||q<ye)&&1.99<ye&&(z=ge,H=J,q=ye)}return{successful:!!(b.delimiter=H),bestDelimiter:H}}(L,b.newline,b.skipEmptyLines,b.comments,b.delimitersToGuess);y.successful?b.delimiter=y.bestDelimiter:(F=!0,b.delimiter=l.DefaultDelimiter),Z.meta.delimiter=b.delimiter}var S=E(b);return b.preview&&b.header&&S.preview++,v=L,M=new w(S),Z=M.parse(v,K,fe),Ye(),se?{meta:{paused:!0}}:Z||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,M.abort(),v=R(b.chunk)?"":v.substring(M.getCharIndex())},this.resume=function(){te.streamer._halted?(se=!1,te.streamer.parseChunk(v,!0)):setTimeout(te.resume,3)},this.aborted=function(){return tt},this.abort=function(){tt=!0,M.abort(),Z.meta.aborted=!0,R(b.complete)&&b.complete(Z),v=""}}function _(b){return b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(b){var v,M=(b=b||{}).delimiter,F=b.newline,U=b.comments,ne=b.step,de=b.preview,ce=b.fastMode,te=v=b.quoteChar===void 0||b.quoteChar===null?'"':b.quoteChar;if(b.escapeChar!==void 0&&(te=b.escapeChar),(typeof M!="string"||-1<l.BAD_DELIMITERS.indexOf(M))&&(M=","),U===M)throw new Error("Comment character same as delimiter");U===!0?U="#":(typeof U!="string"||-1<l.BAD_DELIMITERS.indexOf(U))&&(U=!1),F!==`
`&&F!=="\r"&&F!==`\r
`&&(F=`
`);var Y=0,ae=!1;this.parse=function(se,tt,He){if(typeof se!="string")throw new Error("Input must be a string");var Z=se.length,Ie=M.length,Ke=F.length,Ye=U.length,Ae=R(ne),P=[],Q=[],L=[],K=Y=0;if(!se)return Dt();if(b.header&&!tt){var fe=se.split(F)[0].split(M),ve=[],y={},S=!1;for(var k in fe){var O=fe[k];R(b.transformHeader)&&(O=b.transformHeader(O,k));var N=O,W=y[O]||0;for(0<W&&(S=!0,N=O+"_"+W),y[O]=W+1;ve.includes(N);)N=N+"_"+W;ve.push(N)}if(S){var X=se.split(F);X[0]=ve.join(M),se=X.join(F)}}if(ce||ce!==!1&&se.indexOf(v)===-1){for(var H=se.split(F),z=0;z<H.length;z++){if(L=H[z],Y+=L.length,z!==H.length-1)Y+=F.length;else if(He)return Dt();if(!U||L.substring(0,Ye)!==U){if(Ae){if(P=[],Re(L.split(M)),zi(),ae)return Dt()}else Re(L.split(M));if(de&&de<=z)return P=P.slice(0,de),Dt(!0)}}return Dt()}for(var $=se.indexOf(M,Y),q=se.indexOf(F,Y),ue=new RegExp(_(te)+_(v),"g"),J=se.indexOf(v,Y);;)if(se[Y]!==v)if(U&&L.length===0&&se.substring(Y,Y+Ye)===U){if(q===-1)return Dt();Y=q+Ke,q=se.indexOf(F,Y),$=se.indexOf(M,Y)}else if($!==-1&&($<q||q===-1))L.push(se.substring(Y,$)),Y=$+Ie,$=se.indexOf(M,Y);else{if(q===-1)break;if(L.push(se.substring(Y,q)),Et(q+Ke),Ae&&(zi(),ae))return Dt();if(de&&P.length>=de)return Dt(!0)}else for(J=Y,Y++;;){if((J=se.indexOf(v,J+1))===-1)return He||Q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:P.length,index:Y}),nt();if(J===Z-1)return nt(se.substring(Y,J).replace(ue,v));if(v!==te||se[J+1]!==te){if(v===te||J===0||se[J-1]!==te){$!==-1&&$<J+1&&($=se.indexOf(M,J+1)),q!==-1&&q<J+1&&(q=se.indexOf(F,J+1));var ge=Ue(q===-1?$:Math.min($,q));if(se.substr(J+1+ge,Ie)===M){L.push(se.substring(Y,J).replace(ue,v)),se[Y=J+1+ge+Ie]!==v&&(J=se.indexOf(v,Y)),$=se.indexOf(M,Y),q=se.indexOf(F,Y);break}var ye=Ue(q);if(se.substring(J+1+ye,J+1+ye+Ke)===F){if(L.push(se.substring(Y,J).replace(ue,v)),Et(J+1+ye+Ke),$=se.indexOf(M,Y),J=se.indexOf(v,Y),Ae&&(zi(),ae))return Dt();if(de&&P.length>=de)return Dt(!0);break}Q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:P.length,index:Y}),J++}}else J++}return nt();function Re(Pt){P.push(Pt),K=Y}function Ue(Pt){var zr=0;if(Pt!==-1){var Wt=se.substring(J+1,Pt);Wt&&Wt.trim()===""&&(zr=Wt.length)}return zr}function nt(Pt){return He||(Pt===void 0&&(Pt=se.substring(Y)),L.push(Pt),Y=Z,Re(L),Ae&&zi()),Dt()}function Et(Pt){Y=Pt,Re(L),L=[],q=se.indexOf(F,Y)}function Dt(Pt){return{data:P,errors:Q,meta:{delimiter:M,linebreak:F,aborted:ae,truncated:!!Pt,cursor:K+(tt||0)}}}function zi(){ne(Dt()),P=[],Q=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return Y}}function A(b){var v=b.data,M=r[v.workerId],F=!1;if(v.error)M.userError(v.error,v.file);else if(v.results&&v.results.data){var U={abort:function(){F=!0,x(v.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(R(M.userStep)){for(var ne=0;ne<v.results.data.length&&(M.userStep({data:v.results.data[ne],errors:v.results.errors,meta:v.results.meta},U),!F);ne++);delete v.results}else R(M.userChunk)&&(M.userChunk(v.results,U,v.file),delete v.results)}v.finished&&!F&&x(v.workerId,v.results)}function x(b,v){var M=r[b];R(M.userComplete)&&M.userComplete(v),M.terminate(),delete r[b]}function C(){throw new Error("Not implemented.")}function E(b){if(typeof b!="object"||b===null)return b;var v=Array.isArray(b)?[]:{};for(var M in b)v[M]=E(b[M]);return v}function D(b,v){return function(){b.apply(v,arguments)}}function R(b){return typeof b=="function"}return o&&(s.onmessage=function(b){var v=b.data;if(l.WORKER_ID===void 0&&v&&(l.WORKER_ID=v.workerId),typeof v.input=="string")s.postMessage({workerId:l.WORKER_ID,results:l.parse(v.input,v.config),finished:!0});else if(s.File&&v.input instanceof File||v.input instanceof Object){var M=l.parse(v.input,v.config);M&&s.postMessage({workerId:l.WORKER_ID,results:M,finished:!0})}}),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,l})})(xC);var ioe=xC.exports;const ooe=soe(ioe);function roe(){return new Promise((t,e)=>{ooe.parse("/korean_corpus.csv",{download:!0,header:!1,complete:function(s){const i=s.data.map((o,r)=>({id:r,sentence:o[0],number:o[1]}));t(i)},error:function(s){e(s)}})})}const aoe=Nu({id:"recordHistory",state:()=>({histories:{}}),created(){const t=this.$route.params.recordId;t?(console.log("The recordId from URL is:",t),this.recordId=t):console.error("RecordId is not defined in the URL")},actions:{addRecord(t,e){console.log("Current state of histories[recordId]:",this.histories[t]),console.log("Type of recordId:",typeof t),console.log("recordId",t),this.histories[t]||(this.histories[t]={durations:[],records:[]});const n={id:t,promptNum:e.promptNum,elapsedTime:e.elapsedTime};this.histories[t].records.push(n)},addRecordingDuration(t,e){this.histories[t]||(this.histories[t]={durations:[],records:[]}),this.histories[t].durations.push(e)}},persist:{enabled:!0,strategies:[{key:"my_training_voices",storage:localStorage}]}}),loe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJQSURBVHgB7ZuLVeJAFIb/WAF2MFYAHexsBWsJdLBsBbtbgXTAtrAVECsAKkg6UCu43utMjnE0EvKch985PxoEyQc3Q+aRDCNBwIJ/aI7iLDkrmPuU89DS5pFz4uScY2a2/UYkOb85ew71jPyPDb1/g+aHd0oPJPmZvMbcTCDqpuDcYmqkzCYWdbObrNT5hX5yHmaUrX/aa4wFmQbpzgNRN3cYGit78FC2ymGwEidzvBYey9ZLXKEPAcnWpRfoCvldxk05dJImPxuotrmsIeMnrAOSa8qmrWxox21T5FxBtRHeBSR1LvtzsrcBybSNrjtmjnABH7tj/chZ8nu1cVX9Qq+d9djQ9FHXkubt/Ux2LGdWVsGUc8xcy7BRVdLTd6qn5+V7uRL+gfj5JjcZmfPOB6TBtXzCK6SDFmGNdFAivEQ6LEW4e4c5PFYirJAOC2mlCQlxhcT4Eo4dES6RDqUI+z/xPBwvwiekw5MIH5EOx9SO4Ty97qFdLZMjfvL6EM894ue/3FSDeCmU9U1mv5aQQFlLOZdv7iEzYB3SWHOn6RZ3qmWP+IZ8Spa8qTbczsNfxMevT/8a2ZTLDucgMyHuw8Kzvimo7fAVmVWsoYg1ZY1L4CdsA5Jzs8WlkP+r75pyQFesdBGQrOyrQh8opaWHjrTvi0uHn0EhPxuyLY05XURmlV7hgaicK7RbbTeAtJT4vxll9zTHnBiZhWzFxKIac0OpXMbjYkt9Q8NdqPWHBm6QMoyE3VFZP6JhVhlUl+Ep56ElzIiLjI+f7HY+1qV4z95kJxO2aT91AAAAAElFTkSuQmCC",coe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABECAYAAAA85kOPAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAV5SURBVHgB7VxLTiw7DE2qq+G9BoSQQAiJIYIFIGYM2ABD9tOshyEbYAMsAIkhEkIgoSd+r7+5Pm477QrFvXfushRSlaTyMf7FTjoGgpRSRBZjDHd3dyk4hMPDw4rWn9de4Q8Qcnl5iecYnEIEEigjIuH3SqhFoQ5+oUcJVAPkRFBJGg6H8fr6ure/v+8ZMf2w4CAWK7WS0MHBQfXw8LASnMLW1lZ/c3NzfnJyMgdKlI1AKUDKgITvc3AIR0dH25R9URpTmlVasbOzg+de8Av17u4uEwoEcKmJ3Golgjifz3n9kL+ZYp6fmYM8IyYDayWQzfHxMSNkbW3NpXGnoMQB4cvW3sbGRiIZEz4+PkIHC7Cs5J2NYjCihIXvzc0NvxArBccAMZJIrCy0Ev6cnZ1xDbGSW6oZDAa89tvb26AyJnQQwufnJygmCsWwuraayLVWCsv1xxo6G1Szvb0dvr6+gmNg4QsNjZeslV5eXpJndS02XHp7e2PPA8sYMfAa6soblIqH/S8kiWHgJRFAXoHXDq2kjioGGHiFN88jZN93JT5O9zpb7RgAG3hix7Dgcc5KALZlWPiqV9w7EFHAZFFHVWxoJed7JZgsnLOMwQMkMcC524E1sz7rJlILXQthOKpkrxRrG5b07sED5N212i4QPJ5ZCeoaXswghh4LX/XHeKYYcI4JCCyiBNg4QSJ7dlSBW4RiclxJtZJ7+aJiBRaedVS53yeJImr4YzrzNzSDjhqijfDgeQYoHt0SBBW+MPDgwQuOAfIFOFADjxFDcaVuryQgBl6OEnDybODZ3TUgHwOxhV5Bd9eAqqjzjJxkUmyET4JjtW1cm8stARxV3lmpdOvm8ElwDtDIRDVs5OUTVQDvBh40sjqqGqcdRCK7PpxoX1T46pagi0SKp6FT1wJFwC2ra+yVWPh4BWgldVR9C7jBLHYMTYoR4eve7aDcAk9DPhkOFQXLtzsA/QxPQ5YxSQw81+ETtXwlYtKUMZ0/JgPLmKhxpQ4WoaQc1Ffo7hKEqAccWMbAtSlayfuWYHlkXgp0r9RtCZRijPB1raqheNTyBdgzeK4dVaV8zcK3s3wHUSKRQa8XI8GT9w+ltdXV1c3RaLROz6s1wXQ6jZQFym0/TGFUHqm86RJctNX6/J0+mzLUp6Lfsv/8DUDaJhlX21mwY7ZxgY3Tp8Xypv/TM8jlP0rvlEaUJnVoesfnlGaSpjKpaCafBzOTThZ5dsJa3gZ/QFoDweEPYL9rQXSJZJ4vyqeLxljzHNshYqfl7RPF3t7e3vzx8RG31CcrKyuj8Xgc+v3+bDKZII+UJ8r5K5TpBOSmP//nUS/tczt7H0rLywWYiX6rL/tsW3zZ1ozF/Rbz1XqUgwBwAX1SVdWUcJBOT0/nV1dXfB4kXlxcVPSi7PSv5DWxVY/YKk+A3nmDRUj7psFQp6DfaBney3q8274NRKpLWkf/JB7P9qV9t33fVv6bsZgzKIGdcCeJ2YjWOMd9Jd5m07Zgdn9/P4Z0fn19BdqBlJ6QWNRJYXsOagpLtkpmwhH1SOhTJD2XGV8Pt+/1et9YRLf+aGueuT1YQeaRICjbfEc6jhk/yljBrkOf19fXZ+/v72AlrHdMxt3s/Pyc8WGDTEj8UyHIcZ3/6emJy3HUtbxlW5Sx90tPDKBA41Qm7JnlBTSgDYeaep1LLiv7wbg6DsaEJpE8/k1/WiZzsHKV86SGnblxEofDYUVsBeSArWrCYJ8oqUYKi58RqcuENqiTNtxWyrSNPvdR3lLXL/ru/zSWjlG2NeVt4/6U+qZPJgjBxc/CXm+kILeNzXNGpraxdeY9mPaxuLeQvyluwDQm1zJ+Ltd38/3v2kUzZrBzkjZ2buEXzSeCQtxqJLoAAAAASUVORK5CYII=",uoe={name:"VoiceTrainer",setup(){const t=dr(),e=ie(t.params.recordId),n=aoe(),s=ie([]),i=ie(0),o=Mt(()=>s.value[i.value]||""),r=250;return roe().then(a=>{s.value=a.slice(0,r),console.log("sentences: ",s.value)}).catch(a=>{console.error("Error loading Korean corpus:",a)}),{recordHistoryStore:n,recordId:e,sentences:s,currentSentenceId:i,currentSentence:o,sentenceLength:r}},created(){const t=dr(),e=ie(t.params.recordId);e?(console.log("The recordId from URL is:",e),this.recordId=e):console.error("RecordId is not defined in the URL"),window.addEventListener("beforeunload",this.goOut),this.loadUserData()},unmounted(){window.removeEventListener("beforeunload",this.goOut)},data(){return{recordingStatus:"Record Sound",recording:!1,recorder:null,blob:null,stream:null,audioPlayer:null,isPlaying:!1,audioContext:new(window.AudioContext||window.webkitAudioContext),recordingStartTime:null,elapsedTime:0,recordingDurations:[],recordId:null,recordSoundImage:loe,stopRecordingImage:coe,isLearning:!1}},computed:{currentRecordHistory(){const t=this.recordHistoryStore.histories[this.recordId.toString()]||[];return console.log("Current Record History:",t),t.records||[]},cantSave(){return this.name===""||!this.blob},recordHistory(){return this.recordHistoryStore.recordHistory},totalRecordingTime(){const t=this.recordHistoryStore.histories[this.recordId];if(console.log("Record History:",t),t&&t.durations){const e=t.durations.reduce((n,s)=>n+s,0);return console.log("Total Duration:",e),e}return console.log("No record history or durations found."),0},hasRecordedCurrent(){const t=this.recordHistoryStore.histories[this.recordId.toString()];return console.log("currentHistory",t),t&&t.records?t.records.some(e=>e.promptNum===this.currentSentenceId+1):!1},nameExists(){return this.records.some(t=>t.name===this.name)}},methods:{async loadUserData(){try{const t=await pie(this.recordId);t&&(console.log("userData.prompt: ",t.prompt),console.log("userData.time: ",t.time),parseInt(t.prompt)-1>=this.sentences.length?this.currentSentenceId=this.sentences.length:this.currentSentenceId=parseInt(t.prompt)-1,this.totalRecordingTime=parseInt(t.time),console.log("loadUserData this.currentSentenceId: ",this.currentSentenceId),console.log("loadUserData this.totalRecordingTime: ",this.totalRecordingTime))}catch(t){console.error("Error fetching user data:",t)}},async checkAllRecordingsDone(){console.log("All this.currentRecordHistory: ",this.currentRecordHistory),console.log("All this.currentRecordHistory.length",this.currentRecordHistory.length),console.log("All this.sentenceLength",this.sentenceLength),this.currentRecordHistory.length===this.sentenceLength&&window.confirm("모든 문장 녹음이 끝났으니 음성 모델 학습을해주세요!")&&a0(this.recordId).catch(e=>{})},async learningVoice(){this.isLearning=!0;try{await a0(this.recordId),console.log(`${this.recordId}번 음성 학습 중`)}catch(t){console.error("Error learning voice:",t)}},handleBackButton(){this.goOut(),this.$router.go(-1)},onSuccess(t){console.log("Recording saved successfully:",t)},onFail(t){console.error("Failed to save recording:",t)},prevSentence(){this.currentSentenceId>0&&this.currentSentenceId--},nextSentence(){this.currentSentenceId<this.sentences.length-1&&this.currentSentenceId++},async record(){if(!this.audioContext){console.error("AudioContext not initialized");return}if(this.hasRecordedCurrent){alert("이 문장은 이미 녹음되었습니다. 다른 문장을 선택해 주세요.");return}if(this.recording){this.stopRecording();return}try{this.audioContext.state==="suspended"&&await this.audioContext.resume(),console.log(this.audioContext.state),this.stream=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1});const t=this.audioContext.createMediaStreamSource(this.stream);let e={workerDir:"/web-audio-recorder/"},n=new WebAudioRecorder(t,e);this.setupRecorder(n),n.startRecording(),this.recordingStatus="Stop Recording",this.recording=!0,this.blob=null,this.recordingStartTime=Date.now(),this.updateElapsedTime()}catch(t){console.error("Error during recording setup:",t)}},updateElapsedTime(){this.timer=setInterval(()=>{this.elapsedTime=Math.round((Date.now()-this.recordingStartTime)/1e3)},1e3)},setupRecorder(t){t.setOptions({timeLimit:30,encodeAfterRecord:!0,ogg:{quality:.5},mp3:{bitRate:160}}),t.onComplete=(e,n)=>{console.log("onCompleteblob: ",n),this.blob=n,this.recordHistoryStore.addRecord(this.recordId,{id:this.currentSentenceId,promptNum:this.currentSentenceId+1,elapsedTime:this.elapsedTime}),this.blob?(wie(this.recordId,this.blob),this.checkAllRecordingsDone()):console.error("Blob is not defined at the time of stopping the recording.")},this.recorder=t},stopRecording(){this.stream.getAudioTracks().forEach(e=>e.stop()),this.recorder&&this.recorder.finishRecording(),this.recordingStatus="Record Sound",this.recording=!1,clearInterval(this.timer);const t=Math.round((Date.now()-this.recordingStartTime)/1e3);this.recordingDurations.push(t),this.recordHistoryStore.addRecordingDuration(this.recordId,t),this.elapsedTime=t,this.recordingStartTime=null},async goOut(){console.log("goOutrecordId: ",this.recordId),console.log("goOutprompt: ",this.currentSentenceId+1),console.log("goOuttime: ",this.totalRecordingTime),console.log("goOutsuccess: ",this.onSuccess),console.log("goOutfail: ",this.onFail),Aie(this.recordId,this.currentSentenceId,this.totalRecordingTime,this.onSuccess,this.onFail)}},beforeRouteLeave(t,e,n){this.goOut(),n()},mounted(){this.checkAllRecordingsDone()}},Vd=t=>(Ne("data-v-605f5fac"),t=t(),Le(),t),doe={class:"app mt-5"},hoe={class:"voice-title"},foe={class:"sentence-box"},poe={class:"inner-box"},goe=Vd(()=>f("p",{class:"inner-instruction-box"},"다음 문장을 소리내어 읽으세요.",-1)),moe={style:{"font-size":"16px"}},_oe={class:"buttons inner-buttons-box"},yoe=["disabled"],boe=Vd(()=>f("img",{src:Jp,alt:""},null,-1)),voe=[boe],woe=["disabled"],Aoe=Vd(()=>f("img",{src:Zp,alt:""},null,-1)),Soe=[Aoe],xoe=Vd(()=>f("p",{class:"voice-title"},"음성 녹음",-1)),Coe={class:"voice-box"},koe={class:"inner-box-3"},Eoe={key:0},Moe={key:0},Toe={key:1},Doe={key:1},Ioe={key:0},Roe={key:1},Ooe={class:"inner-box-4"},Poe={key:0},Noe={key:1},Loe=["src"];function Foe(t,e,n,s,i,o){return T(),I("div",doe,[f("p",hoe,[lt("음성 학습 "),f("button",{class:"btn",onClick:e[0]||(e[0]=hn((...r)=>o.handleBackButton&&o.handleBackButton(...r),["prevent"]))},"back")]),f("div",foe,[f("div",poe,[goe,f("p",moe,oe(s.currentSentence.sentence||"문장을 불러오는 중..."),1)]),f("div",_oe,[f("button",{class:"btn left-btn",onClick:e[1]||(e[1]=(...r)=>o.prevSentence&&o.prevSentence(...r)),disabled:s.currentSentenceId===0},voe,8,yoe),f("p",null,oe(this.currentSentenceId+1)+" / "+oe(s.sentences.length),1),f("button",{class:"btn right-btn",onClick:e[2]||(e[2]=(...r)=>o.nextSentence&&o.nextSentence(...r)),disabled:s.currentSentenceId===s.sentences.length-1},Soe,8,woe),f("button",{class:"learning-button",onClick:e[3]||(e[3]=(...r)=>o.learningVoice&&o.learningVoice(...r))},oe(i.isLearning?"학습 중":"학습하기"),1)])]),xoe,f("div",Coe,[f("div",koe,[o.currentRecordHistory.length>0?(T(),I("div",Eoe,[(T(!0),I(ke,null,Ze(o.currentRecordHistory,r=>(T(),I("div",{key:r.id},[r.elapsedTime>60?(T(),I("div",Moe,[f("div",null,oe(r.promptNum)+"번 녹음 시간: "+oe(Math.floor(r.elapsedTime/60))+" 분 "+oe(r.elapsedTime%60)+" 초",1)])):(T(),I("div",Toe,[f("div",null,oe(r.promptNum)+"번 녹음 시간: "+oe(r.elapsedTime)+" 초",1)]))]))),128))])):Je("",!0),i.recording?(T(),I("div",Doe,[i.elapsedTime>60?(T(),I("div",Ioe,[f("div",null,oe(s.currentSentenceId+1)+"번 녹음 시간: "+oe(Math.floor(i.elapsedTime/60))+" 분 "+oe(i.elapsedTime%60)+" 초",1)])):(T(),I("div",Roe,[f("div",null,oe(s.currentSentenceId+1)+"번 녹음 시간: "+oe(i.elapsedTime)+" 초",1)]))])):Je("",!0)]),f("div",Ooe,[o.totalRecordingTime>60?(T(),I("div",Poe,[f("div",null,"총 녹음 시간: "+oe(Math.floor(o.totalRecordingTime/60))+" 분 "+oe(o.totalRecordingTime)+" 초",1)])):(T(),I("div",Noe,[f("div",null,"총 녹음 시간: "+oe(o.totalRecordingTime)+" 초",1)]))]),f("div",null,[f("button",{class:"mr-4",onClick:e[4]||(e[4]=(...r)=>o.record&&o.record(...r))},[f("img",{src:i.recordingStatus==="Record Sound"?i.recordSoundImage:i.stopRecordingImage,alt:"Recording Status"},null,8,Loe)])])])])}const $oe=Ee(uoe,[["render",Foe],["__scopeId","data-v-605f5fac"]]),CC=t=>(Ne("data-v-81e7424b"),t=t(),Le(),t),Boe=CC(()=>f("img",{src:Br,alt:""},null,-1)),Yoe=[Boe],Uoe=CC(()=>f("div",{class:"app-info"},[f("h2",null,"Todak Todak"),f("br"),f("p",null,"삼성 청년 SW 아카데미 10기"),f("p",null,"공통 프로젝트"),f("p",null,"광주 2반 10팀"),f("p",null,"김광연, 김도휘, 김요한, 김준형, 천승현"),f("p",null,"버전: 1.0.0"),f("p",null,"배포일: 2024년 2월 16일")],-1)),Voe={__name:"app-info",setup(t){function e(){window.history.back()}return(n,s)=>(T(),I("div",null,[f("button",{class:"settings-back-button btn",onClick:e},Yoe),Uoe]))}},Woe=Ee(Voe,[["__scopeId","data-v-81e7424b"]]),Hoe="/assets/four-leaf-clover-4iD6jkwg.jpg",kC=t=>(Ne("data-v-b8c40232"),t=t(),Le(),t),joe=kC(()=>f("img",{src:Br,alt:""},null,-1)),zoe=[joe],Goe=kC(()=>f("div",{class:"four-leaf-clover-page"},[f("h1",null,"행운의 네잎클로버"),f("img",{src:Hoe,class:"mt-3"}),f("p",null,"이 페이지에서 행운의 네잎클로버를 감상하세요!")],-1)),Koe={__name:"common-setting",setup(t){function e(){window.history.back()}return(n,s)=>(T(),I("div",null,[f("button",{class:"settings-back-button btn",onClick:e},zoe),Goe]))}},qoe=Ee(Koe,[["__scopeId","data-v-b8c40232"]]),Tm=DB({history:K2("/"),routes:[{name:"",path:"/",component:Dy},{name:"main",path:"/main",component:Dy},{name:"todoList",path:"/todoList",component:YA},{name:"habitList",path:"/habitList",component:UA},{name:"goal",path:"/goal",component:OA},{name:"friend",path:"/friend",component:JK},{name:"friendRequestList",path:"/friendRequestList",component:Nq},{name:"board",path:"/board",component:l8},{name:"calendar",path:"/calendar",component:wK},{name:"friend",path:"/friends",component:()=>jo(()=>import("./FriendList-dN4REWMQ.js"),__vite__mapDeps([0,1,2]))},{name:"chat",path:"/chats",component:()=>jo(()=>import("./TheChatView-xEwSl_9O.js"),__vite__mapDeps([])),redirect:{name:"chat-list"},children:[{path:"list",name:"chat-list",component:()=>jo(()=>import("./ChatList-DpWJXO6t.js"),__vite__mapDeps([3,1,4]))},{path:":roomid",name:"chat-view",component:()=>jo(()=>import("./ChatDetail-BG9U0KKh.js"),__vite__mapDeps([5,1,6]))}]},{name:"meeting",path:"/meeting",component:_Q},{name:"habit",path:"/habit",component:BA},{name:"mypage",path:"/mypage",component:W6},{name:"mypageSettings",path:"/mypageSettings",component:xQ},{name:"userInfoEdit",path:"/userInfoEdit",component:YQ},{path:"/records",name:"Records",component:toe},{path:"/records/:recordId/trainer",name:"Trainer",component:$oe,props:!0},{path:"/calendar-detail/:selectedDate",name:"CalendarDetail",component:EX},{path:"/calendar-detail/add/:selectedDate",name:"CalendarAddTodo",component:()=>jo(()=>Promise.resolve().then(()=>pX),void 0)},{path:"/login",name:"LoginView",component:i0},{path:"/signup",name:"SignUpView",component:o0},{path:"/subscribe",name:"subscribe",component:Mse},{path:"/pushnotify",name:"pushnotify",component:Vse},{path:"/friend-profile",component:Rx},{path:"/login",name:"LoginView",component:i0},{path:"/signup",name:"SignUpView",component:o0},{path:"/appinfo",name:"AppInfo",component:Woe},{path:"/common",name:"Common",component:qoe}]}),EC=ZE();EC.use(rM);const Wd=qE(e8);Wd.use(EC);Wd.use(Tm);Wd.use(E2,{});const Qoe=Wi();Qoe.initializeAuth();Wd.mount("#app");D2({immediate:!0});export{be as A,vt as B,lt as C,Vi as D,dr as E,ke as F,Ui as G,X0 as H,zE as I,Ii as J,Joe as K,Br as L,Ee as _,Wi as a,rs as b,Mt as c,T as d,I as e,ere as f,f as g,Ws as h,Je as i,Ce as j,Ze as k,hn as l,Le as m,Bg as n,Nn as o,Ne as p,AK as q,ie as r,oM as s,oe as t,Rr as u,Ep as v,le as w,QH as x,SK as y,Rx as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FriendList-dN4REWMQ.js","assets/chat-B4hgJS7B.js","assets/FriendList-DFjVEYkn.css","assets/ChatList-DpWJXO6t.js","assets/ChatList-BURFWcJI.css","assets/ChatDetail-BG9U0KKh.js","assets/ChatDetail-BOHORawE.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
